(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ls(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const ce={},ln=[],Me=()=>{},Da=()=>!1,Yn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fr=e=>e.startsWith("onUpdate:"),me=Object.assign,$r=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ha=Object.prototype.hasOwnProperty,ie=(e,t)=>Ha.call(e,t),K=Array.isArray,an=e=>Cn(e)==="[object Map]",Wt=e=>Cn(e)==="[object Set]",vo=e=>Cn(e)==="[object Date]",Ka=e=>Cn(e)==="[object RegExp]",Z=e=>typeof e=="function",ge=e=>typeof e=="string",kt=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",Br=e=>(de(e)||Z(e))&&Z(e.then)&&Z(e.catch),Pi=Object.prototype.toString,Cn=e=>Pi.call(e),qa=e=>Cn(e).slice(8,-1),Li=e=>Cn(e)==="[object Object]",jr=e=>ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cn=Ls(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),As=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ga=/-(\w)/g,Pe=As(e=>e.replace(Ga,(t,n)=>n?n.toUpperCase():"")),za=/\B([A-Z])/g,Ve=As(e=>e.replace(za,"-$1").toLowerCase()),Zn=As(e=>e.charAt(0).toUpperCase()+e.slice(1)),An=As(e=>e?`on${Zn(e)}`:""),Ze=(e,t)=>!Object.is(e,t),un=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Vn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ws=e=>{const t=ge(e)?Number(e):NaN;return isNaN(t)?e:t};let wo;const Ai=()=>wo||(wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Wa="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Ja=Ls(Wa);function Qn(e){if(K(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=ge(s)?Xa(s):Qn(s);if(r)for(const o in r)t[o]=r[o]}return t}else if(ge(e)||de(e))return e}const Ya=/;(?![^(]*\))/g,Za=/:([^]+)/,Qa=/\/\*[^]*?\*\//g;function Xa(e){const t={};return e.replace(Qa,"").split(Ya).forEach(n=>{if(n){const s=n.split(Za);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ie(e){let t="";if(ge(e))t=e;else if(K(e))for(let n=0;n<e.length;n++){const s=Ie(e[n]);s&&(t+=s+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Mi(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ge(t)&&(e.class=Ie(t)),n&&(e.style=Qn(n)),e}const ec="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tc=Ls(ec);function Ni(e){return!!e||e===""}function nc(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Rt(e[s],t[s]);return n}function Rt(e,t){if(e===t)return!0;let n=vo(e),s=vo(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=kt(e),s=kt(t),n||s)return e===t;if(n=K(e),s=K(t),n||s)return n&&s?nc(e,t):!1;if(n=de(e),s=de(t),n||s){if(!n||!s)return!1;const r=Object.keys(e).length,o=Object.keys(t).length;if(r!==o)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!Rt(e[i],t[i]))return!1}}return String(e)===String(t)}function Ms(e,t){return e.findIndex(n=>Rt(n,t))}const St=e=>ge(e)?e:e==null?"":K(e)||de(e)&&(e.toString===Pi||!Z(e.toString))?JSON.stringify(e,Ii,2):String(e),Ii=(e,t)=>t&&t.__v_isRef?Ii(e,t.value):an(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r],o)=>(n[Xs(s,o)+" =>"]=r,n),{})}:Wt(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Xs(n))}:kt(t)?Xs(t):de(t)&&!K(t)&&!Li(t)?String(t):t,Xs=(e,t="")=>{var n;return kt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Be;class Vr{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Be,!t&&Be&&(this.index=(Be.scopes||(Be.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Be;try{return Be=this,t()}finally{Be=n}}}on(){Be=this}off(){Be=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Fi(e){return new Vr(e)}function $i(e,t=Be){t&&t.active&&t.effects.push(e)}function Bi(){return Be}function sc(e){Be&&Be.cleanups.push(e)}let Bt;class mn{constructor(t,n,s,r){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,$i(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Jt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(rc(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Yt()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Tt,n=Bt;try{return Tt=!0,Bt=this,this._runnings++,Co(this),this.fn()}finally{xo(this),this._runnings--,Bt=n,Tt=t}}stop(){var t;this.active&&(Co(this),xo(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function rc(e){return e.value}function Co(e){e._trackId++,e._depsLength=0}function xo(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)ji(e.deps[t],e);e.deps.length=e._depsLength}}function ji(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}function oc(e,t){e.effect instanceof mn&&(e=e.effect.fn);const n=new mn(e,Me,()=>{n.dirty&&n.run()});t&&(me(n,t),t.scope&&$i(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function ic(e){e.effect.stop()}let Tt=!0,dr=0;const Vi=[];function Jt(){Vi.push(Tt),Tt=!1}function Yt(){const e=Vi.pop();Tt=e===void 0?!0:e}function Ur(){dr++}function Dr(){for(dr--;!dr&&pr.length;)pr.shift()()}function Ui(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&ji(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const pr=[];function Di(e,t,n){Ur();for(const s of e.keys()){let r;s._dirtyLevel<t&&(r??(r=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(r??(r=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&pr.push(s.scheduler)))}Dr()}const Hi=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Cs=new WeakMap,jt=Symbol(""),hr=Symbol("");function Fe(e,t,n){if(Tt&&Bt){let s=Cs.get(e);s||Cs.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Hi(()=>s.delete(n))),Ui(Bt,r)}}function at(e,t,n,s,r,o){const i=Cs.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&K(e)){const a=Number(s);i.forEach((c,u)=>{(u==="length"||!kt(u)&&u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":K(e)?jr(n)&&l.push(i.get("length")):(l.push(i.get(jt)),an(e)&&l.push(i.get(hr)));break;case"delete":K(e)||(l.push(i.get(jt)),an(e)&&l.push(i.get(hr)));break;case"set":an(e)&&l.push(i.get(jt));break}Ur();for(const a of l)a&&Di(a,4);Dr()}function lc(e,t){var n;return(n=Cs.get(e))==null?void 0:n.get(t)}const ac=Ls("__proto__,__v_isRef,__isVue"),Ki=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kt)),Eo=cc();function cc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=re(this);for(let o=0,i=this.length;o<i;o++)Fe(s,"get",o+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(re)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Jt(),Ur();const s=re(this)[t].apply(this,n);return Dr(),Yt(),s}}),e}function uc(e){const t=re(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class qi{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const r=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return o;if(n==="__v_raw")return s===(r?o?Zi:Yi:o?Ji:Wi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=K(t);if(!r){if(i&&ie(Eo,n))return Reflect.get(Eo,n,s);if(n==="hasOwnProperty")return uc}const l=Reflect.get(t,n,s);return(kt(n)?Ki.has(n):ac(n))||(r||Fe(t,"get",n),o)?l:Ee(l)?i&&jr(n)?l:l.value:de(l)?r?qr(l):xn(l):l}}class Gi extends qi{constructor(t=!1){super(!1,t)}set(t,n,s,r){let o=t[n];if(!this._isShallow){const a=Ht(o);if(!Un(s)&&!Ht(s)&&(o=re(o),s=re(s)),!K(t)&&Ee(o)&&!Ee(s))return a?!1:(o.value=s,!0)}const i=K(t)&&jr(n)?Number(n)<t.length:ie(t,n),l=Reflect.set(t,n,s,r);return t===re(r)&&(i?Ze(s,o)&&at(t,"set",n,s):at(t,"add",n,s)),l}deleteProperty(t,n){const s=ie(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&s&&at(t,"delete",n,void 0),r}has(t,n){const s=Reflect.has(t,n);return(!kt(n)||!Ki.has(n))&&Fe(t,"has",n),s}ownKeys(t){return Fe(t,"iterate",K(t)?"length":jt),Reflect.ownKeys(t)}}class zi extends qi{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const fc=new Gi,dc=new zi,pc=new Gi(!0),hc=new zi(!0),Hr=e=>e,Ns=e=>Reflect.getPrototypeOf(e);function rs(e,t,n=!1,s=!1){e=e.__v_raw;const r=re(e),o=re(t);n||(Ze(t,o)&&Fe(r,"get",t),Fe(r,"get",o));const{has:i}=Ns(r),l=s?Hr:n?zr:Dn;if(i.call(r,t))return l(e.get(t));if(i.call(r,o))return l(e.get(o));e!==r&&e.get(t)}function os(e,t=!1){const n=this.__v_raw,s=re(n),r=re(e);return t||(Ze(e,r)&&Fe(s,"has",e),Fe(s,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function is(e,t=!1){return e=e.__v_raw,!t&&Fe(re(e),"iterate",jt),Reflect.get(e,"size",e)}function So(e){e=re(e);const t=re(this);return Ns(t).has.call(t,e)||(t.add(e),at(t,"add",e,e)),this}function To(e,t){t=re(t);const n=re(this),{has:s,get:r}=Ns(n);let o=s.call(n,e);o||(e=re(e),o=s.call(n,e));const i=r.call(n,e);return n.set(e,t),o?Ze(t,i)&&at(n,"set",e,t):at(n,"add",e,t),this}function Oo(e){const t=re(this),{has:n,get:s}=Ns(t);let r=n.call(t,e);r||(e=re(e),r=n.call(t,e)),s&&s.call(t,e);const o=t.delete(e);return r&&at(t,"delete",e,void 0),o}function ko(){const e=re(this),t=e.size!==0,n=e.clear();return t&&at(e,"clear",void 0,void 0),n}function ls(e,t){return function(s,r){const o=this,i=o.__v_raw,l=re(i),a=t?Hr:e?zr:Dn;return!e&&Fe(l,"iterate",jt),i.forEach((c,u)=>s.call(r,a(c),a(u),o))}}function as(e,t,n){return function(...s){const r=this.__v_raw,o=re(r),i=an(o),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,c=r[e](...s),u=n?Hr:t?zr:Dn;return!t&&Fe(o,"iterate",a?hr:jt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:l?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function mt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function mc(){const e={get(o){return rs(this,o)},get size(){return is(this)},has:os,add:So,set:To,delete:Oo,clear:ko,forEach:ls(!1,!1)},t={get(o){return rs(this,o,!1,!0)},get size(){return is(this)},has:os,add:So,set:To,delete:Oo,clear:ko,forEach:ls(!1,!0)},n={get(o){return rs(this,o,!0)},get size(){return is(this,!0)},has(o){return os.call(this,o,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:ls(!0,!1)},s={get(o){return rs(this,o,!0,!0)},get size(){return is(this,!0)},has(o){return os.call(this,o,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:ls(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=as(o,!1,!1),n[o]=as(o,!0,!1),t[o]=as(o,!1,!0),s[o]=as(o,!0,!0)}),[e,n,t,s]}const[gc,yc,bc,_c]=mc();function Is(e,t){const n=t?e?_c:bc:e?yc:gc;return(s,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ie(n,r)&&r in s?n:s,r,o)}const vc={get:Is(!1,!1)},wc={get:Is(!1,!0)},Cc={get:Is(!0,!1)},xc={get:Is(!0,!0)},Wi=new WeakMap,Ji=new WeakMap,Yi=new WeakMap,Zi=new WeakMap;function Ec(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sc(e){return e.__v_skip||!Object.isExtensible(e)?0:Ec(qa(e))}function xn(e){return Ht(e)?e:Fs(e,!1,fc,vc,Wi)}function Kr(e){return Fs(e,!1,pc,wc,Ji)}function qr(e){return Fs(e,!0,dc,Cc,Yi)}function Tc(e){return Fs(e,!0,hc,xc,Zi)}function Fs(e,t,n,s,r){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=r.get(e);if(o)return o;const i=Sc(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return r.set(e,l),l}function Vt(e){return Ht(e)?Vt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ht(e){return!!(e&&e.__v_isReadonly)}function Un(e){return!!(e&&e.__v_isShallow)}function Gr(e){return Vt(e)||Ht(e)}function re(e){const t=e&&e.__v_raw;return t?re(t):e}function ct(e){return Object.isExtensible(e)&&vs(e,"__v_skip",!0),e}const Dn=e=>de(e)?xn(e):e,zr=e=>de(e)?qr(e):e;class Qi{constructor(t,n,s,r){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mn(()=>t(this._value),()=>fn(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const t=re(this);return(!t._cacheable||t.effect.dirty)&&Ze(t._value,t._value=t.effect.run())&&fn(t,4),Wr(t),t.effect._dirtyLevel>=2&&fn(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Oc(e,t,n=!1){let s,r;const o=Z(e);return o?(s=e,r=Me):(s=e.get,r=e.set),new Qi(s,r,o||!r,n)}function Wr(e){var t;Tt&&Bt&&(e=re(e),Ui(Bt,(t=e.dep)!=null?t:e.dep=Hi(()=>e.dep=void 0,e instanceof Qi?e:void 0)))}function fn(e,t=4,n){e=re(e);const s=e.dep;s&&Di(s,t)}function Ee(e){return!!(e&&e.__v_isRef===!0)}function Ce(e){return el(e,!1)}function Xi(e){return el(e,!0)}function el(e,t){return Ee(e)?e:new kc(e,t)}class kc{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:re(t),this._value=n?t:Dn(t)}get value(){return Wr(this),this._value}set value(t){const n=this.__v_isShallow||Un(t)||Ht(t);t=n?t:re(t),Ze(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Dn(t),fn(this,4))}}function Rc(e){fn(e,4)}function qe(e){return Ee(e)?e.value:e}function Pc(e){return Z(e)?e():qe(e)}const Lc={get:(e,t,n)=>qe(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ee(r)&&!Ee(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Jr(e){return Vt(e)?e:new Proxy(e,Lc)}class Ac{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>Wr(this),()=>fn(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function tl(e){return new Ac(e)}function Mc(e){const t=K(e)?new Array(e.length):{};for(const n in e)t[n]=sl(e,n);return t}class Nc{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return lc(re(this._object),this._key)}}class Ic{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function nl(e,t,n){return Ee(e)?e:Z(e)?new Ic(e):de(e)&&arguments.length>1?sl(e,t,n):Ce(e)}function sl(e,t,n){const s=e[t];return Ee(s)?s:new Nc(e,t,n)}const Fc={GET:"get",HAS:"has",ITERATE:"iterate"},$c={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Bc(e,t){}const jc={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Vc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function ut(e,t,n,s){try{return s?e(...s):e()}catch(r){Zt(r,t,n)}}function Ue(e,t,n,s){if(Z(e)){const o=ut(e,t,n,s);return o&&Br(o)&&o.catch(i=>{Zt(i,t,n)}),o}const r=[];for(let o=0;o<e.length;o++)r.push(Ue(e[o],t,n,s));return r}function Zt(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let o=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,i,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){ut(a,null,10,[e,i,l]);return}}Uc(e,n,r,s)}function Uc(e,t,n,s=!0){console.error(e)}let Hn=!1,mr=!1;const Te=[];let nt=0;const dn=[];let vt=null,It=0;const rl=Promise.resolve();let Yr=null;function Xn(e){const t=Yr||rl;return e?t.then(this?e.bind(this):e):t}function Dc(e){let t=nt+1,n=Te.length;for(;t<n;){const s=t+n>>>1,r=Te[s],o=Kn(r);o<e||o===e&&r.pre?t=s+1:n=s}return t}function $s(e){(!Te.length||!Te.includes(e,Hn&&e.allowRecurse?nt+1:nt))&&(e.id==null?Te.push(e):Te.splice(Dc(e.id),0,e),ol())}function ol(){!Hn&&!mr&&(mr=!0,Yr=rl.then(il))}function Hc(e){const t=Te.indexOf(e);t>nt&&Te.splice(t,1)}function xs(e){K(e)?dn.push(...e):(!vt||!vt.includes(e,e.allowRecurse?It+1:It))&&dn.push(e),ol()}function Ro(e,t,n=Hn?nt+1:0){for(;n<Te.length;n++){const s=Te[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Te.splice(n,1),n--,s()}}}function Es(e){if(dn.length){const t=[...new Set(dn)].sort((n,s)=>Kn(n)-Kn(s));if(dn.length=0,vt){vt.push(...t);return}for(vt=t,It=0;It<vt.length;It++)vt[It]();vt=null,It=0}}const Kn=e=>e.id==null?1/0:e.id,Kc=(e,t)=>{const n=Kn(e)-Kn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function il(e){mr=!1,Hn=!0,Te.sort(Kc);try{for(nt=0;nt<Te.length;nt++){const t=Te[nt];t&&t.active!==!1&&ut(t,null,14)}}finally{nt=0,Te.length=0,Es(),Hn=!1,Yr=null,(Te.length||dn.length)&&il()}}let sn,cs=[];function ll(e,t){var n,s;sn=e,sn?(sn.enabled=!0,cs.forEach(({event:r,args:o})=>sn.emit(r,...o)),cs=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{ll(o,t)}),setTimeout(()=>{sn||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,cs=[])},3e3)):cs=[]}function qc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ce;let r=n;const o=t.startsWith("update:"),i=o&&t.slice(7);if(i&&i in s){const u=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[u]||ce;d&&(r=n.map(g=>ge(g)?g.trim():g)),f&&(r=n.map(Vn))}let l,a=s[l=An(t)]||s[l=An(Pe(t))];!a&&o&&(a=s[l=An(Ve(t))]),a&&Ue(a,e,6,r);const c=s[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ue(c,e,6,r)}}function al(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const o=e.emits;let i={},l=!1;if(!Z(e)){const a=c=>{const u=al(c,t,!0);u&&(l=!0,me(i,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(de(e)&&s.set(e,null),null):(K(o)?o.forEach(a=>i[a]=null):me(i,o),de(e)&&s.set(e,i),i)}function Bs(e,t){return!e||!Yn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ie(e,t[0].toLowerCase()+t.slice(1))||ie(e,Ve(t))||ie(e,t))}let be=null,js=null;function qn(e){const t=be;return be=e,js=e&&e.type.__scopeId||null,t}function Gc(e){js=e}function zc(){js=null}const Wc=e=>st;function st(e,t=be,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&xr(-1);const o=qn(t);let i;try{i=e(...r)}finally{qn(o),s._d&&xr(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function gs(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:o,propsOptions:[i],slots:l,attrs:a,emit:c,render:u,renderCache:f,data:d,setupState:g,ctx:y,inheritAttrs:R}=e;let N,A;const v=qn(e);try{if(n.shapeFlag&4){const b=r||s,w=b;N=je(u.call(w,b,f,o,g,d,y)),A=a}else{const b=t;N=je(b.length>1?b(o,{attrs:a,slots:l,emit:c}):b(o,null)),A=t.props?a:Yc(a)}}catch(b){In.length=0,Zt(b,e,1),N=te(xe)}let m=N;if(A&&R!==!1){const b=Object.keys(A),{shapeFlag:w}=m;b.length&&w&7&&(i&&b.some(Fr)&&(A=Zc(A,i)),m=rt(m,A))}return n.dirs&&(m=rt(m),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),N=m,qn(v),N}function Jc(e,t=!0){let n;for(let s=0;s<e.length;s++){const r=e[s];if(Lt(r)){if(r.type!==xe||r.children==="v-if"){if(n)return;n=r}}else return}return n}const Yc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Yn(n))&&((t||(t={}))[n]=e[n]);return t},Zc=(e,t)=>{const n={};for(const s in e)(!Fr(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Qc(e,t,n){const{props:s,children:r,component:o}=e,{props:i,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Po(s,i,c):!!i;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(i[d]!==s[d]&&!Bs(c,d))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?Po(s,i,c):!0:!!i;return!1}function Po(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const o=s[r];if(t[o]!==e[o]&&!Bs(n,o))return!0}return!1}function Zr({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Qr="components",Xc="directives";function Pt(e,t){return Xr(Qr,e,!0,t)||e}const cl=Symbol.for("v-ndc");function eu(e){return ge(e)?Xr(Qr,e,!1)||e:e||cl}function tu(e){return Xr(Xc,e)}function Xr(e,t,n=!0,s=!1){const r=be||_e;if(r){const o=r.type;if(e===Qr){const l=kr(o,!1);if(l&&(l===t||l===Pe(t)||l===Zn(Pe(t))))return o}const i=Lo(r[e]||o[e],t)||Lo(r.appContext[e],t);return!i&&s?o:i}}function Lo(e,t){return e&&(e[t]||e[Pe(t)]||e[Zn(Pe(t))])}const ul=e=>e.__isSuspense;let gr=0;const nu={name:"Suspense",__isSuspense:!0,process(e,t,n,s,r,o,i,l,a,c){if(e==null)ru(t,n,s,r,o,i,l,a,c);else{if(o&&o.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}ou(e,t,n,s,r,i,l,a,c)}},hydrate:iu,create:eo,normalize:lu},su=nu;function Gn(e,t){const n=e.props&&e.props[t];Z(n)&&n()}function ru(e,t,n,s,r,o,i,l,a){const{p:c,o:{createElement:u}}=a,f=u("div"),d=e.suspense=eo(e,r,s,t,f,n,o,i,l,a);c(null,d.pendingBranch=e.ssContent,f,null,s,d,o,i),d.deps>0?(Gn(e,"onPending"),Gn(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,o,i),pn(d,e.ssFallback)):d.resolve(!1,!0)}function ou(e,t,n,s,r,o,i,l,{p:a,um:c,o:{createElement:u}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const d=t.ssContent,g=t.ssFallback,{activeBranch:y,pendingBranch:R,isInFallback:N,isHydrating:A}=f;if(R)f.pendingBranch=d,Je(d,R)?(a(R,d,f.hiddenContainer,null,r,f,o,i,l),f.deps<=0?f.resolve():N&&(A||(a(y,g,n,s,r,null,o,i,l),pn(f,g)))):(f.pendingId=gr++,A?(f.isHydrating=!1,f.activeBranch=R):c(R,r,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),N?(a(null,d,f.hiddenContainer,null,r,f,o,i,l),f.deps<=0?f.resolve():(a(y,g,n,s,r,null,o,i,l),pn(f,g))):y&&Je(d,y)?(a(y,d,n,s,r,f,o,i,l),f.resolve(!0)):(a(null,d,f.hiddenContainer,null,r,f,o,i,l),f.deps<=0&&f.resolve()));else if(y&&Je(d,y))a(y,d,n,s,r,f,o,i,l),pn(f,d);else if(Gn(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=gr++,a(null,d,f.hiddenContainer,null,r,f,o,i,l),f.deps<=0)f.resolve();else{const{timeout:v,pendingId:m}=f;v>0?setTimeout(()=>{f.pendingId===m&&f.fallback(g)},v):v===0&&f.fallback(g)}}function eo(e,t,n,s,r,o,i,l,a,c,u=!1){const{p:f,m:d,um:g,n:y,o:{parentNode:R,remove:N}}=c;let A;const v=au(e);v&&t!=null&&t.pendingBranch&&(A=t.pendingId,t.deps++);const m=e.props?ws(e.props.timeout):void 0,b=o,w={vnode:e,parent:t,parentComponent:n,namespace:i,container:s,hiddenContainer:r,deps:0,pendingId:gr++,timeout:typeof m=="number"?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(C=!1,F=!1){const{vnode:M,activeBranch:E,pendingBranch:x,pendingId:$,effects:P,parentComponent:G,container:oe}=w;let ue=!1;w.isHydrating?w.isHydrating=!1:C||(ue=E&&x.transition&&x.transition.mode==="out-in",ue&&(E.transition.afterLeave=()=>{$===w.pendingId&&(d(x,oe,o===b?y(E):o,0),xs(P))}),E&&(R(E.el)!==w.hiddenContainer&&(o=y(E)),g(E,G,w,!0)),ue||d(x,oe,o,0)),pn(w,x),w.pendingBranch=null,w.isInFallback=!1;let q=w.parent,X=!1;for(;q;){if(q.pendingBranch){q.effects.push(...P),X=!0;break}q=q.parent}!X&&!ue&&xs(P),w.effects=[],v&&t&&t.pendingBranch&&A===t.pendingId&&(t.deps--,t.deps===0&&!F&&t.resolve()),Gn(M,"onResolve")},fallback(C){if(!w.pendingBranch)return;const{vnode:F,activeBranch:M,parentComponent:E,container:x,namespace:$}=w;Gn(F,"onFallback");const P=y(M),G=()=>{w.isInFallback&&(f(null,C,x,P,E,null,$,l,a),pn(w,C))},oe=C.transition&&C.transition.mode==="out-in";oe&&(M.transition.afterLeave=G),w.isInFallback=!0,g(M,E,null,!0),oe||G()},move(C,F,M){w.activeBranch&&d(w.activeBranch,C,F,M),w.container=C},next(){return w.activeBranch&&y(w.activeBranch)},registerDep(C,F){const M=!!w.pendingBranch;M&&w.deps++;const E=C.vnode.el;C.asyncDep.catch(x=>{Zt(x,C,0)}).then(x=>{if(C.isUnmounted||w.isUnmounted||w.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:$}=C;Tr(C,x,!1),E&&($.el=E);const P=!E&&C.subTree.el;F(C,$,R(E||C.subTree.el),E?null:y(C.subTree),w,i,a),P&&N(P),Zr(C,$.el),M&&--w.deps===0&&w.resolve()})},unmount(C,F){w.isUnmounted=!0,w.activeBranch&&g(w.activeBranch,n,C,F),w.pendingBranch&&g(w.pendingBranch,n,C,F)}};return w}function iu(e,t,n,s,r,o,i,l,a){const c=t.suspense=eo(t,s,n,e.parentNode,document.createElement("div"),null,r,o,i,l,!0),u=a(e,c.pendingBranch=t.ssContent,n,c,o,i);return c.deps===0&&c.resolve(!1,!0),u}function lu(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=Ao(s?n.default:n),e.ssFallback=s?Ao(n.fallback):te(xe)}function Ao(e){let t;if(Z(e)){const n=Gt&&e._c;n&&(e._d=!1,ee()),e=e(),n&&(e._d=!0,t=Ne,Hl())}return K(e)&&(e=Jc(e)),e=je(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function fl(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):xs(e)}function pn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e;let r=t.el;for(;!r&&t.component;)t=t.component.subTree,r=t.el;n.el=r,s&&s.subTree===n&&(s.vnode.el=r,Zr(s,r))}function au(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const dl=Symbol.for("v-scx"),pl=()=>De(dl);function cu(e,t){return es(e,null,t)}function hl(e,t){return es(e,null,{flush:"post"})}function ml(e,t){return es(e,null,{flush:"sync"})}const us={};function ft(e,t,n){return es(e,t,n)}function es(e,t,{immediate:n,deep:s,flush:r,once:o,onTrack:i,onTrigger:l}=ce){if(t&&o){const C=t;t=(...F)=>{C(...F),w()}}const a=_e,c=C=>s===!0?C:$t(C,s===!1?1:void 0);let u,f=!1,d=!1;if(Ee(e)?(u=()=>e.value,f=Un(e)):Vt(e)?(u=()=>c(e),f=!0):K(e)?(d=!0,f=e.some(C=>Vt(C)||Un(C)),u=()=>e.map(C=>{if(Ee(C))return C.value;if(Vt(C))return c(C);if(Z(C))return ut(C,a,2)})):Z(e)?t?u=()=>ut(e,a,2):u=()=>(g&&g(),Ue(e,a,3,[y])):u=Me,t&&s){const C=u;u=()=>$t(C())}let g,y=C=>{g=m.onStop=()=>{ut(C,a,4),g=m.onStop=void 0}},R;if(ns)if(y=Me,t?n&&Ue(t,a,3,[u(),d?[]:void 0,y]):u(),r==="sync"){const C=pl();R=C.__watcherHandles||(C.__watcherHandles=[])}else return Me;let N=d?new Array(e.length).fill(us):us;const A=()=>{if(!(!m.active||!m.dirty))if(t){const C=m.run();(s||f||(d?C.some((F,M)=>Ze(F,N[M])):Ze(C,N)))&&(g&&g(),Ue(t,a,3,[C,N===us?void 0:d&&N[0]===us?[]:N,y]),N=C)}else m.run()};A.allowRecurse=!!t;let v;r==="sync"?v=A:r==="post"?v=()=>we(A,a&&a.suspense):(A.pre=!0,a&&(A.id=a.uid),v=()=>$s(A));const m=new mn(u,Me,v),b=Bi(),w=()=>{m.stop(),b&&$r(b.effects,m)};return t?n?A():N=m.run():r==="post"?we(m.run.bind(m),a&&a.suspense):m.run(),R&&R.push(w),w}function uu(e,t,n){const s=this.proxy,r=ge(e)?e.includes(".")?gl(s,e):()=>s[e]:e.bind(s,s);let o;Z(t)?o=t:(o=t.handler,n=t);const i=zt(this),l=es(r,o.bind(s),n);return i(),l}function gl(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function $t(e,t,n=0,s){if(!de(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Ee(e))$t(e.value,t,n,s);else if(K(e))for(let r=0;r<e.length;r++)$t(e[r],t,n,s);else if(Wt(e)||an(e))e.forEach(r=>{$t(r,t,n,s)});else if(Li(e))for(const r in e)$t(e[r],t,n,s);return e}function Ye(e,t){if(be===null)return e;const n=Gs(be)||be.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,i,l,a=ce]=t[r];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&$t(i),s.push({dir:o,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function tt(e,t,n,s){const r=e.dirs,o=t&&t.dirs;for(let i=0;i<r.length;i++){const l=r[i];o&&(l.oldValue=o[i].value);let a=l.dir[s];a&&(Jt(),Ue(a,n,8,[e.el,l,e,t]),Yt())}}const wt=Symbol("_leaveCb"),fs=Symbol("_enterCb");function to(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return En(()=>{e.isMounted=!0}),Sn(()=>{e.isUnmounting=!0}),e}const He=[Function,Array],no={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:He,onEnter:He,onAfterEnter:He,onEnterCancelled:He,onBeforeLeave:He,onLeave:He,onAfterLeave:He,onLeaveCancelled:He,onBeforeAppear:He,onAppear:He,onAfterAppear:He,onAppearCancelled:He},fu={name:"BaseTransition",props:no,setup(e,{slots:t}){const n=pt(),s=to();return()=>{const r=t.default&&Vs(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const d of r)if(d.type!==xe){o=d;break}}const i=re(e),{mode:l}=i;if(s.isLeaving)return er(o);const a=Mo(o);if(!a)return er(o);const c=gn(a,i,s,n);Kt(a,c);const u=n.subTree,f=u&&Mo(u);if(f&&f.type!==xe&&!Je(a,f)){const d=gn(f,i,s,n);if(Kt(f,d),l==="out-in")return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},er(o);l==="in-out"&&a.type!==xe&&(d.delayLeave=(g,y,R)=>{const N=bl(s,f);N[String(f.key)]=f,g[wt]=()=>{y(),g[wt]=void 0,delete c.delayedLeave},c.delayedLeave=R})}return o}}},yl=fu;function bl(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function gn(e,t,n,s){const{appear:r,mode:o,persisted:i=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:R,onAppear:N,onAfterAppear:A,onAppearCancelled:v}=t,m=String(e.key),b=bl(n,e),w=(M,E)=>{M&&Ue(M,s,9,E)},C=(M,E)=>{const x=E[1];w(M,E),K(M)?M.every($=>$.length<=1)&&x():M.length<=1&&x()},F={mode:o,persisted:i,beforeEnter(M){let E=l;if(!n.isMounted)if(r)E=R||l;else return;M[wt]&&M[wt](!0);const x=b[m];x&&Je(e,x)&&x.el[wt]&&x.el[wt](),w(E,[M])},enter(M){let E=a,x=c,$=u;if(!n.isMounted)if(r)E=N||a,x=A||c,$=v||u;else return;let P=!1;const G=M[fs]=oe=>{P||(P=!0,oe?w($,[M]):w(x,[M]),F.delayedLeave&&F.delayedLeave(),M[fs]=void 0)};E?C(E,[M,G]):G()},leave(M,E){const x=String(e.key);if(M[fs]&&M[fs](!0),n.isUnmounting)return E();w(f,[M]);let $=!1;const P=M[wt]=G=>{$||($=!0,E(),G?w(y,[M]):w(g,[M]),M[wt]=void 0,b[x]===e&&delete b[x])};b[x]=e,d?C(d,[M,P]):P()},clone(M){return gn(M,t,n,s)}};return F}function er(e){if(ts(e))return e=rt(e),e.children=null,e}function Mo(e){return ts(e)?e.children?e.children[0]:void 0:e}function Kt(e,t){e.shapeFlag&6&&e.component?Kt(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vs(e,t=!1,n){let s=[],r=0;for(let o=0;o<e.length;o++){let i=e[o];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===ye?(i.patchFlag&128&&r++,s=s.concat(Vs(i.children,t,l))):(t||i.type!==xe)&&s.push(l!=null?rt(i,{key:l}):i)}if(r>1)for(let o=0;o<s.length;o++)s[o].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Qt(e,t){return Z(e)?me({name:e.name},t,{setup:e}):e}const Ut=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function du(e){Z(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:r=200,timeout:o,suspensible:i=!0,onError:l}=e;let a=null,c,u=0;const f=()=>(u++,a=null,d()),d=()=>{let g;return a||(g=a=t().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((R,N)=>{l(y,()=>R(f()),()=>N(y),u+1)});throw y}).then(y=>g!==a&&a?a:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),c=y,y)))};return Qt({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const g=_e;if(c)return()=>tr(c,g);const y=v=>{a=null,Zt(v,g,13,!s)};if(i&&g.suspense||ns)return d().then(v=>()=>tr(v,g)).catch(v=>(y(v),()=>s?te(s,{error:v}):null));const R=Ce(!1),N=Ce(),A=Ce(!!r);return r&&setTimeout(()=>{A.value=!1},r),o!=null&&setTimeout(()=>{if(!R.value&&!N.value){const v=new Error(`Async component timed out after ${o}ms.`);y(v),N.value=v}},o),d().then(()=>{R.value=!0,g.parent&&ts(g.parent.vnode)&&(g.parent.effect.dirty=!0,$s(g.parent.update))}).catch(v=>{y(v),N.value=v}),()=>{if(R.value&&c)return tr(c,g);if(N.value&&s)return te(s,{error:N.value});if(n&&!A.value)return te(n)}}})}function tr(e,t){const{ref:n,props:s,children:r,ce:o}=t.vnode,i=te(e,s,r);return i.ref=n,i.ce=o,delete t.vnode.ce,i}const ts=e=>e.type.__isKeepAlive,pu={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=pt(),s=n.ctx;if(!s.renderer)return()=>{const v=t.default&&t.default();return v&&v.length===1?v[0]:v};const r=new Map,o=new Set;let i=null;const l=n.suspense,{renderer:{p:a,m:c,um:u,o:{createElement:f}}}=s,d=f("div");s.activate=(v,m,b,w,C)=>{const F=v.component;c(v,m,b,0,l),a(F.vnode,v,m,b,F,l,w,v.slotScopeIds,C),we(()=>{F.isDeactivated=!1,F.a&&un(F.a);const M=v.props&&v.props.onVnodeMounted;M&&Ae(M,F.parent,v)},l)},s.deactivate=v=>{const m=v.component;c(v,d,null,1,l),we(()=>{m.da&&un(m.da);const b=v.props&&v.props.onVnodeUnmounted;b&&Ae(b,m.parent,v),m.isDeactivated=!0},l)};function g(v){nr(v),u(v,n,l,!0)}function y(v){r.forEach((m,b)=>{const w=kr(m.type);w&&(!v||!v(w))&&R(b)})}function R(v){const m=r.get(v);!i||!Je(m,i)?g(m):i&&nr(i),r.delete(v),o.delete(v)}ft(()=>[e.include,e.exclude],([v,m])=>{v&&y(b=>Pn(v,b)),m&&y(b=>!Pn(m,b))},{flush:"post",deep:!0});let N=null;const A=()=>{N!=null&&r.set(N,sr(n.subTree))};return En(A),Ds(A),Sn(()=>{r.forEach(v=>{const{subTree:m,suspense:b}=n,w=sr(m);if(v.type===w.type&&v.key===w.key){nr(w);const C=w.component.da;C&&we(C,b);return}g(v)})}),()=>{if(N=null,!t.default)return null;const v=t.default(),m=v[0];if(v.length>1)return i=null,v;if(!Lt(m)||!(m.shapeFlag&4)&&!(m.shapeFlag&128))return i=null,m;let b=sr(m);const w=b.type,C=kr(Ut(b)?b.type.__asyncResolved||{}:w),{include:F,exclude:M,max:E}=e;if(F&&(!C||!Pn(F,C))||M&&C&&Pn(M,C))return i=b,m;const x=b.key==null?w:b.key,$=r.get(x);return b.el&&(b=rt(b),m.shapeFlag&128&&(m.ssContent=b)),N=x,$?(b.el=$.el,b.component=$.component,b.transition&&Kt(b,b.transition),b.shapeFlag|=512,o.delete(x),o.add(x)):(o.add(x),E&&o.size>parseInt(E,10)&&R(o.values().next().value)),b.shapeFlag|=256,i=b,ul(m.type)?m:b}}},hu=pu;function Pn(e,t){return K(e)?e.some(n=>Pn(n,t)):ge(e)?e.split(",").includes(t):Ka(e)?e.test(t):!1}function _l(e,t){wl(e,"a",t)}function vl(e,t){wl(e,"da",t)}function wl(e,t,n=_e){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Us(t,s,n),n){let r=n.parent;for(;r&&r.parent;)ts(r.parent.vnode)&&mu(s,t,n,r),r=r.parent}}function mu(e,t,n,s){const r=Us(t,e,s,!0);Hs(()=>{$r(s[t],r)},n)}function nr(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function sr(e){return e.shapeFlag&128?e.ssContent:e}function Us(e,t,n=_e,s=!1){if(n){const r=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Jt();const l=zt(n),a=Ue(t,n,e,i);return l(),Yt(),a});return s?r.unshift(o):r.push(o),o}}const dt=e=>(t,n=_e)=>(!ns||e==="sp")&&Us(e,(...s)=>t(...s),n),Cl=dt("bm"),En=dt("m"),xl=dt("bu"),Ds=dt("u"),Sn=dt("bum"),Hs=dt("um"),El=dt("sp"),Sl=dt("rtg"),Tl=dt("rtc");function Ol(e,t=_e){Us("ec",e,t)}function ys(e,t,n,s){let r;const o=n&&n[s];if(K(e)||ge(e)){r=new Array(e.length);for(let i=0,l=e.length;i<l;i++)r[i]=t(e[i],i,void 0,o&&o[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,o&&o[i])}else if(de(e))if(e[Symbol.iterator])r=Array.from(e,(i,l)=>t(i,l,void 0,o&&o[l]));else{const i=Object.keys(e);r=new Array(i.length);for(let l=0,a=i.length;l<a;l++){const c=i[l];r[l]=t(e[c],c,l,o&&o[l])}}else r=[];return n&&(n[s]=r),r}function gu(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(K(s))for(let r=0;r<s.length;r++)e[s[r].name]=s[r].fn;else s&&(e[s.name]=s.key?(...r)=>{const o=s.fn(...r);return o&&(o.key=s.key),o}:s.fn)}return e}function so(e,t,n={},s,r){if(be.isCE||be.parent&&Ut(be.parent)&&be.parent.isCE)return t!=="default"&&(n.name=t),te("slot",n,s&&s());let o=e[t];o&&o._c&&(o._d=!1),ee();const i=o&&kl(o(n)),l=yn(ye,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function kl(e){return e.some(t=>Lt(t)?!(t.type===xe||t.type===ye&&!kl(t.children)):!0)?e:null}function yu(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:An(s)]=e[s];return n}const yr=e=>e?zl(e)?Gs(e)||e.proxy:yr(e.parent):null,Mn=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yr(e.parent),$root:e=>yr(e.root),$emit:e=>e.emit,$options:e=>ro(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,$s(e.update)}),$nextTick:e=>e.n||(e.n=Xn.bind(e.proxy)),$watch:e=>uu.bind(e)}),rr=(e,t)=>e!==ce&&!e.__isScriptSetup&&ie(e,t),br={get({_:e},t){const{ctx:n,setupState:s,data:r,props:o,accessCache:i,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return r[t];case 4:return n[t];case 3:return o[t]}else{if(rr(s,t))return i[t]=1,s[t];if(r!==ce&&ie(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&ie(c,t))return i[t]=3,o[t];if(n!==ce&&ie(n,t))return i[t]=4,n[t];_r&&(i[t]=0)}}const u=Mn[t];let f,d;if(u)return t==="$attrs"&&Fe(e,"get",t),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ce&&ie(n,t))return i[t]=4,n[t];if(d=a.config.globalProperties,ie(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:o}=e;return rr(r,t)?(r[t]=n,!0):s!==ce&&ie(s,t)?(s[t]=n,!0):ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:o}},i){let l;return!!n[i]||e!==ce&&ie(e,i)||rr(t,i)||(l=o[0])&&ie(l,i)||ie(s,i)||ie(Mn,i)||ie(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},bu=me({},br,{get(e,t){if(t!==Symbol.unscopables)return br.get(e,t,e)},has(e,t){return t[0]!=="_"&&!Ja(t)}});function _u(){return null}function vu(){return null}function wu(e){}function Cu(e){}function xu(){return null}function Eu(){}function Su(e,t){return null}function Tu(){return Rl().slots}function Ou(){return Rl().attrs}function Rl(){const e=pt();return e.setupContext||(e.setupContext=Yl(e))}function zn(e){return K(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function ku(e,t){const n=zn(e);for(const s in t){if(s.startsWith("__skip"))continue;let r=n[s];r?K(r)||Z(r)?r=n[s]={type:r,default:t[s]}:r.default=t[s]:r===null&&(r=n[s]={default:t[s]}),r&&t[`__skip_${s}`]&&(r.skipFactory=!0)}return n}function Ru(e,t){return!e||!t?e||t:K(e)&&K(t)?e.concat(t):me({},zn(e),zn(t))}function Pu(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function Lu(e){const t=pt();let n=e();return Sr(),Br(n)&&(n=n.catch(s=>{throw zt(t),s})),[n,()=>zt(t)]}let _r=!0;function Au(e){const t=ro(e),n=e.proxy,s=e.ctx;_r=!1,t.beforeCreate&&No(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:i,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:g,updated:y,activated:R,deactivated:N,beforeDestroy:A,beforeUnmount:v,destroyed:m,unmounted:b,render:w,renderTracked:C,renderTriggered:F,errorCaptured:M,serverPrefetch:E,expose:x,inheritAttrs:$,components:P,directives:G,filters:oe}=t;if(c&&Mu(c,s,null),i)for(const X in i){const W=i[X];Z(W)&&(s[X]=W.bind(n))}if(r){const X=r.call(n,n);de(X)&&(e.data=xn(X))}if(_r=!0,o)for(const X in o){const W=o[X],ze=Z(W)?W.bind(n,n):Z(W.get)?W.get.bind(n,n):Me,ht=!Z(W)&&Z(W.set)?W.set.bind(n):Me,Xe=ke({get:ze,set:ht});Object.defineProperty(s,X,{enumerable:!0,configurable:!0,get:()=>Xe.value,set:Le=>Xe.value=Le})}if(l)for(const X in l)Pl(l[X],s,n,X);if(a){const X=Z(a)?a.call(n):a;Reflect.ownKeys(X).forEach(W=>{Ot(W,X[W])})}u&&No(u,e,"c");function q(X,W){K(W)?W.forEach(ze=>X(ze.bind(n))):W&&X(W.bind(n))}if(q(Cl,f),q(En,d),q(xl,g),q(Ds,y),q(_l,R),q(vl,N),q(Ol,M),q(Tl,C),q(Sl,F),q(Sn,v),q(Hs,b),q(El,E),K(x))if(x.length){const X=e.exposed||(e.exposed={});x.forEach(W=>{Object.defineProperty(X,W,{get:()=>n[W],set:ze=>n[W]=ze})})}else e.exposed||(e.exposed={});w&&e.render===Me&&(e.render=w),$!=null&&(e.inheritAttrs=$),P&&(e.components=P),G&&(e.directives=G)}function Mu(e,t,n=Me){K(e)&&(e=vr(e));for(const s in e){const r=e[s];let o;de(r)?"default"in r?o=De(r.from||s,r.default,!0):o=De(r.from||s):o=De(r),Ee(o)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[s]=o}}function No(e,t,n){Ue(K(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Pl(e,t,n,s){const r=s.includes(".")?gl(n,s):()=>n[s];if(ge(e)){const o=t[e];Z(o)&&ft(r,o)}else if(Z(e))ft(r,e.bind(n));else if(de(e))if(K(e))e.forEach(o=>Pl(o,t,n,s));else{const o=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(o)&&ft(r,o,e)}}function ro(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,l=o.get(t);let a;return l?a=l:!r.length&&!n&&!s?a=t:(a={},r.length&&r.forEach(c=>Ss(a,c,i,!0)),Ss(a,t,i)),de(t)&&o.set(t,a),a}function Ss(e,t,n,s=!1){const{mixins:r,extends:o}=t;o&&Ss(e,o,n,!0),r&&r.forEach(i=>Ss(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=Nu[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Nu={data:Io,props:Fo,emits:Fo,methods:Ln,computed:Ln,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Ln,directives:Ln,watch:Fu,provide:Io,inject:Iu};function Io(e,t){return t?e?function(){return me(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function Iu(e,t){return Ln(vr(e),vr(t))}function vr(e){if(K(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ln(e,t){return e?me(Object.create(null),e,t):t}function Fo(e,t){return e?K(e)&&K(t)?[...new Set([...e,...t])]:me(Object.create(null),zn(e),zn(t??{})):t}function Fu(e,t){if(!e)return t;if(!t)return e;const n=me(Object.create(null),e);for(const s in t)n[s]=Oe(e[s],t[s]);return n}function Ll(){return{app:null,config:{isNativeTag:Da,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $u=0;function Bu(e,t){return function(s,r=null){Z(s)||(s=me({},s)),r!=null&&!de(r)&&(r=null);const o=Ll(),i=new WeakSet;let l=!1;const a=o.app={_uid:$u++,_component:s,_props:r,_container:null,_context:o,_instance:null,version:Ql,get config(){return o.config},set config(c){},use(c,...u){return i.has(c)||(c&&Z(c.install)?(i.add(c),c.install(a,...u)):Z(c)&&(i.add(c),c(a,...u))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,u){return u?(o.components[c]=u,a):o.components[c]},directive(c,u){return u?(o.directives[c]=u,a):o.directives[c]},mount(c,u,f){if(!l){const d=te(s,r);return d.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),u&&t?t(d,c):e(d,c,f),l=!0,a._container=c,c.__vue_app__=a,Gs(d.component)||d.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,u){return o.provides[c]=u,a},runWithContext(c){const u=hn;hn=a;try{return c()}finally{hn=u}}};return a}}let hn=null;function Ot(e,t){if(_e){let n=_e.provides;const s=_e.parent&&_e.parent.provides;s===n&&(n=_e.provides=Object.create(s)),n[e]=t}}function De(e,t,n=!1){const s=_e||be;if(s||hn){const r=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:hn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Z(t)?t.call(s&&s.proxy):t}}function ju(){return!!(_e||be||hn)}function Vu(e,t,n,s=!1){const r={},o={};vs(o,Ks,1),e.propsDefaults=Object.create(null),Al(e,t,r,o);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=s?r:Kr(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Uu(e,t,n,s){const{props:r,attrs:o,vnode:{patchFlag:i}}=e,l=re(r),[a]=e.propsOptions;let c=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Bs(e.emitsOptions,d))continue;const g=t[d];if(a)if(ie(o,d))g!==o[d]&&(o[d]=g,c=!0);else{const y=Pe(d);r[y]=wr(a,l,y,g,e,!1)}else g!==o[d]&&(o[d]=g,c=!0)}}}else{Al(e,t,r,o)&&(c=!0);let u;for(const f in l)(!t||!ie(t,f)&&((u=Ve(f))===f||!ie(t,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=wr(a,l,f,void 0,e,!0)):delete r[f]);if(o!==l)for(const f in o)(!t||!ie(t,f))&&(delete o[f],c=!0)}c&&at(e,"set","$attrs")}function Al(e,t,n,s){const[r,o]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(cn(a))continue;const c=t[a];let u;r&&ie(r,u=Pe(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:Bs(e.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,i=!0)}if(o){const a=re(n),c=l||ce;for(let u=0;u<o.length;u++){const f=o[u];n[f]=wr(r,a,f,c[f],e,!ie(c,f))}}return i}function wr(e,t,n,s,r,o){const i=e[n];if(i!=null){const l=ie(i,"default");if(l&&s===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&Z(a)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=zt(r);s=c[n]=a.call(null,t),u()}}else s=a}i[0]&&(o&&!l?s=!1:i[1]&&(s===""||s===Ve(n))&&(s=!0))}return s}function Ml(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const o=e.props,i={},l=[];let a=!1;if(!Z(e)){const u=f=>{a=!0;const[d,g]=Ml(f,t,!0);me(i,d),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return de(e)&&s.set(e,ln),ln;if(K(o))for(let u=0;u<o.length;u++){const f=Pe(o[u]);$o(f)&&(i[f]=ce)}else if(o)for(const u in o){const f=Pe(u);if($o(f)){const d=o[u],g=i[f]=K(d)||Z(d)?{type:d}:me({},d);if(g){const y=Vo(Boolean,g.type),R=Vo(String,g.type);g[0]=y>-1,g[1]=R<0||y<R,(y>-1||ie(g,"default"))&&l.push(f)}}}const c=[i,l];return de(e)&&s.set(e,c),c}function $o(e){return e[0]!=="$"&&!cn(e)}function Bo(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function jo(e,t){return Bo(e)===Bo(t)}function Vo(e,t){return K(t)?t.findIndex(n=>jo(n,e)):Z(t)&&jo(t,e)?0:-1}const Nl=e=>e[0]==="_"||e==="$stable",oo=e=>K(e)?e.map(je):[je(e)],Du=(e,t,n)=>{if(t._n)return t;const s=st((...r)=>oo(t(...r)),n);return s._c=!1,s},Il=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Nl(r))continue;const o=e[r];if(Z(o))t[r]=Du(r,o,s);else if(o!=null){const i=oo(o);t[r]=()=>i}}},Fl=(e,t)=>{const n=oo(t);e.slots.default=()=>n},Hu=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=re(t),vs(t,"_",n)):Il(t,e.slots={})}else e.slots={},t&&Fl(e,t);vs(e.slots,Ks,1)},Ku=(e,t,n)=>{const{vnode:s,slots:r}=e;let o=!0,i=ce;if(s.shapeFlag&32){const l=t._;l?n&&l===1?o=!1:(me(r,t),!n&&l===1&&delete r._):(o=!t.$stable,Il(t,r)),i=t}else t&&(Fl(e,t),i={default:1});if(o)for(const l in r)!Nl(l)&&i[l]==null&&delete r[l]};function Ts(e,t,n,s,r=!1){if(K(e)){e.forEach((d,g)=>Ts(d,t&&(K(t)?t[g]:t),n,s,r));return}if(Ut(s)&&!r)return;const o=s.shapeFlag&4?Gs(s.component)||s.component.proxy:s.el,i=r?null:o,{i:l,r:a}=e,c=t&&t.r,u=l.refs===ce?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==a&&(ge(c)?(u[c]=null,ie(f,c)&&(f[c]=null)):Ee(c)&&(c.value=null)),Z(a))ut(a,l,12,[i,u]);else{const d=ge(a),g=Ee(a);if(d||g){const y=()=>{if(e.f){const R=d?ie(f,a)?f[a]:u[a]:a.value;r?K(R)&&$r(R,o):K(R)?R.includes(o)||R.push(o):d?(u[a]=[o],ie(f,a)&&(f[a]=u[a])):(a.value=[o],e.k&&(u[e.k]=a.value))}else d?(u[a]=i,ie(f,a)&&(f[a]=i)):g&&(a.value=i,e.k&&(u[e.k]=i))};i?(y.id=-1,we(y,n)):y()}}}let gt=!1;const qu=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Gu=e=>e.namespaceURI.includes("MathML"),ds=e=>{if(qu(e))return"svg";if(Gu(e))return"mathml"},ps=e=>e.nodeType===8;function zu(e){const{mt:t,p:n,o:{patchProp:s,createText:r,nextSibling:o,parentNode:i,remove:l,insert:a,createComment:c}}=e,u=(m,b)=>{if(!b.hasChildNodes()){n(null,m,b),Es(),b._vnode=m;return}gt=!1,f(b.firstChild,m,null,null,null),Es(),b._vnode=m,gt&&console.error("Hydration completed but contains mismatches.")},f=(m,b,w,C,F,M=!1)=>{const E=ps(m)&&m.data==="[",x=()=>R(m,b,w,C,F,E),{type:$,ref:P,shapeFlag:G,patchFlag:oe}=b;let ue=m.nodeType;b.el=m,oe===-2&&(M=!1,b.dynamicChildren=null);let q=null;switch($){case qt:ue!==3?b.children===""?(a(b.el=r(""),i(m),m),q=m):q=x():(m.data!==b.children&&(gt=!0,m.data=b.children),q=o(m));break;case xe:v(m)?(q=o(m),A(b.el=m.content.firstChild,m,w)):ue!==8||E?q=x():q=o(m);break;case Dt:if(E&&(m=o(m),ue=m.nodeType),ue===1||ue===3){q=m;const X=!b.children.length;for(let W=0;W<b.staticCount;W++)X&&(b.children+=q.nodeType===1?q.outerHTML:q.data),W===b.staticCount-1&&(b.anchor=q),q=o(q);return E?o(q):q}else x();break;case ye:E?q=y(m,b,w,C,F,M):q=x();break;default:if(G&1)(ue!==1||b.type.toLowerCase()!==m.tagName.toLowerCase())&&!v(m)?q=x():q=d(m,b,w,C,F,M);else if(G&6){b.slotScopeIds=F;const X=i(m);if(E?q=N(m):ps(m)&&m.data==="teleport start"?q=N(m,m.data,"teleport end"):q=o(m),t(b,X,null,w,C,ds(X),M),Ut(b)){let W;E?(W=te(ye),W.anchor=q?q.previousSibling:X.lastChild):W=m.nodeType===3?qs(""):te("div"),W.el=m,b.component.subTree=W}}else G&64?ue!==8?q=x():q=b.type.hydrate(m,b,w,C,F,M,e,g):G&128&&(q=b.type.hydrate(m,b,w,C,ds(i(m)),F,M,e,f))}return P!=null&&Ts(P,null,C,b),q},d=(m,b,w,C,F,M)=>{M=M||!!b.dynamicChildren;const{type:E,props:x,patchFlag:$,shapeFlag:P,dirs:G,transition:oe}=b,ue=E==="input"||E==="option";if(ue||$!==-1){G&&tt(b,null,w,"created");let q=!1;if(v(m)){q=Vl(C,oe)&&w&&w.vnode.props&&w.vnode.props.appear;const W=m.content.firstChild;q&&oe.beforeEnter(W),A(W,m,w),b.el=m=W}if(P&16&&!(x&&(x.innerHTML||x.textContent))){let W=g(m.firstChild,b,m,w,C,F,M);for(;W;){gt=!0;const ze=W;W=W.nextSibling,l(ze)}}else P&8&&m.textContent!==b.children&&(gt=!0,m.textContent=b.children);if(x)if(ue||!M||$&48)for(const W in x)(ue&&(W.endsWith("value")||W==="indeterminate")||Yn(W)&&!cn(W)||W[0]===".")&&s(m,W,null,x[W],void 0,void 0,w);else x.onClick&&s(m,"onClick",null,x.onClick,void 0,void 0,w);let X;(X=x&&x.onVnodeBeforeMount)&&Ae(X,w,b),G&&tt(b,null,w,"beforeMount"),((X=x&&x.onVnodeMounted)||G||q)&&fl(()=>{X&&Ae(X,w,b),q&&oe.enter(m),G&&tt(b,null,w,"mounted")},C)}return m.nextSibling},g=(m,b,w,C,F,M,E)=>{E=E||!!b.dynamicChildren;const x=b.children,$=x.length;for(let P=0;P<$;P++){const G=E?x[P]:x[P]=je(x[P]);if(m)m=f(m,G,C,F,M,E);else{if(G.type===qt&&!G.children)continue;gt=!0,n(null,G,w,null,C,F,ds(w),M)}}return m},y=(m,b,w,C,F,M)=>{const{slotScopeIds:E}=b;E&&(F=F?F.concat(E):E);const x=i(m),$=g(o(m),b,x,w,C,F,M);return $&&ps($)&&$.data==="]"?o(b.anchor=$):(gt=!0,a(b.anchor=c("]"),x,$),$)},R=(m,b,w,C,F,M)=>{if(gt=!0,b.el=null,M){const $=N(m);for(;;){const P=o(m);if(P&&P!==$)l(P);else break}}const E=o(m),x=i(m);return l(m),n(null,b,x,E,w,C,ds(x),F),E},N=(m,b="[",w="]")=>{let C=0;for(;m;)if(m=o(m),m&&ps(m)&&(m.data===b&&C++,m.data===w)){if(C===0)return o(m);C--}return m},A=(m,b,w)=>{const C=b.parentNode;C&&C.replaceChild(m,b);let F=w;for(;F;)F.vnode.el===b&&(F.vnode.el=F.subTree.el=m),F=F.parent},v=m=>m.nodeType===1&&m.tagName.toLowerCase()==="template";return[u,f]}const we=fl;function $l(e){return jl(e)}function Bl(e){return jl(e,zu)}function jl(e,t){const n=Ai();n.__VUE__=!0;const{insert:s,remove:r,patchProp:o,createElement:i,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:g=Me,insertStaticContent:y}=e,R=(p,h,_,O=null,S=null,B=null,U=void 0,I=null,j=!!h.dynamicChildren)=>{if(p===h)return;p&&!Je(p,h)&&(O=T(p),Le(p,S,B,!0),p=null),h.patchFlag===-2&&(j=!1,h.dynamicChildren=null);const{type:L,ref:H,shapeFlag:Y}=h;switch(L){case qt:N(p,h,_,O);break;case xe:A(p,h,_,O);break;case Dt:p==null&&v(h,_,O,U);break;case ye:P(p,h,_,O,S,B,U,I,j);break;default:Y&1?w(p,h,_,O,S,B,U,I,j):Y&6?G(p,h,_,O,S,B,U,I,j):(Y&64||Y&128)&&L.process(p,h,_,O,S,B,U,I,j,z)}H!=null&&S&&Ts(H,p&&p.ref,B,h||p,!h)},N=(p,h,_,O)=>{if(p==null)s(h.el=l(h.children),_,O);else{const S=h.el=p.el;h.children!==p.children&&c(S,h.children)}},A=(p,h,_,O)=>{p==null?s(h.el=a(h.children||""),_,O):h.el=p.el},v=(p,h,_,O)=>{[p.el,p.anchor]=y(p.children,h,_,O,p.el,p.anchor)},m=({el:p,anchor:h},_,O)=>{let S;for(;p&&p!==h;)S=d(p),s(p,_,O),p=S;s(h,_,O)},b=({el:p,anchor:h})=>{let _;for(;p&&p!==h;)_=d(p),r(p),p=_;r(h)},w=(p,h,_,O,S,B,U,I,j)=>{h.type==="svg"?U="svg":h.type==="math"&&(U="mathml"),p==null?C(h,_,O,S,B,U,I,j):E(p,h,S,B,U,I,j)},C=(p,h,_,O,S,B,U,I)=>{let j,L;const{props:H,shapeFlag:Y,transition:J,dirs:Q}=p;if(j=p.el=i(p.type,B,H&&H.is,H),Y&8?u(j,p.children):Y&16&&M(p.children,j,null,O,S,or(p,B),U,I),Q&&tt(p,null,O,"created"),F(j,p,p.scopeId,U,O),H){for(const fe in H)fe!=="value"&&!cn(fe)&&o(j,fe,null,H[fe],B,p.children,O,S,Se);"value"in H&&o(j,"value",null,H.value,B),(L=H.onVnodeBeforeMount)&&Ae(L,O,p)}Q&&tt(p,null,O,"beforeMount");const ne=Vl(S,J);ne&&J.beforeEnter(j),s(j,h,_),((L=H&&H.onVnodeMounted)||ne||Q)&&we(()=>{L&&Ae(L,O,p),ne&&J.enter(j),Q&&tt(p,null,O,"mounted")},S)},F=(p,h,_,O,S)=>{if(_&&g(p,_),O)for(let B=0;B<O.length;B++)g(p,O[B]);if(S){let B=S.subTree;if(h===B){const U=S.vnode;F(p,U,U.scopeId,U.slotScopeIds,S.parent)}}},M=(p,h,_,O,S,B,U,I,j=0)=>{for(let L=j;L<p.length;L++){const H=p[L]=I?Ct(p[L]):je(p[L]);R(null,H,h,_,O,S,B,U,I)}},E=(p,h,_,O,S,B,U)=>{const I=h.el=p.el;let{patchFlag:j,dynamicChildren:L,dirs:H}=h;j|=p.patchFlag&16;const Y=p.props||ce,J=h.props||ce;let Q;if(_&&Mt(_,!1),(Q=J.onVnodeBeforeUpdate)&&Ae(Q,_,h,p),H&&tt(h,p,_,"beforeUpdate"),_&&Mt(_,!0),L?x(p.dynamicChildren,L,I,_,O,or(h,S),B):U||W(p,h,I,null,_,O,or(h,S),B,!1),j>0){if(j&16)$(I,h,Y,J,_,O,S);else if(j&2&&Y.class!==J.class&&o(I,"class",null,J.class,S),j&4&&o(I,"style",Y.style,J.style,S),j&8){const ne=h.dynamicProps;for(let fe=0;fe<ne.length;fe++){const he=ne[fe],ve=Y[he],We=J[he];(We!==ve||he==="value")&&o(I,he,ve,We,S,p.children,_,O,Se)}}j&1&&p.children!==h.children&&u(I,h.children)}else!U&&L==null&&$(I,h,Y,J,_,O,S);((Q=J.onVnodeUpdated)||H)&&we(()=>{Q&&Ae(Q,_,h,p),H&&tt(h,p,_,"updated")},O)},x=(p,h,_,O,S,B,U)=>{for(let I=0;I<h.length;I++){const j=p[I],L=h[I],H=j.el&&(j.type===ye||!Je(j,L)||j.shapeFlag&70)?f(j.el):_;R(j,L,H,null,O,S,B,U,!0)}},$=(p,h,_,O,S,B,U)=>{if(_!==O){if(_!==ce)for(const I in _)!cn(I)&&!(I in O)&&o(p,I,_[I],null,U,h.children,S,B,Se);for(const I in O){if(cn(I))continue;const j=O[I],L=_[I];j!==L&&I!=="value"&&o(p,I,L,j,U,h.children,S,B,Se)}"value"in O&&o(p,"value",_.value,O.value,U)}},P=(p,h,_,O,S,B,U,I,j)=>{const L=h.el=p?p.el:l(""),H=h.anchor=p?p.anchor:l("");let{patchFlag:Y,dynamicChildren:J,slotScopeIds:Q}=h;Q&&(I=I?I.concat(Q):Q),p==null?(s(L,_,O),s(H,_,O),M(h.children||[],_,H,S,B,U,I,j)):Y>0&&Y&64&&J&&p.dynamicChildren?(x(p.dynamicChildren,J,_,S,B,U,I),(h.key!=null||S&&h===S.subTree)&&io(p,h,!0)):W(p,h,_,H,S,B,U,I,j)},G=(p,h,_,O,S,B,U,I,j)=>{h.slotScopeIds=I,p==null?h.shapeFlag&512?S.ctx.activate(h,_,O,U,j):oe(h,_,O,S,B,U,j):ue(p,h,j)},oe=(p,h,_,O,S,B,U)=>{const I=p.component=Gl(p,O,S);if(ts(p)&&(I.ctx.renderer=z),Wl(I),I.asyncDep){if(S&&S.registerDep(I,q),!p.el){const j=I.subTree=te(xe);A(null,j,h,_)}}else q(I,p,h,_,S,B,U)},ue=(p,h,_)=>{const O=h.component=p.component;if(Qc(p,h,_))if(O.asyncDep&&!O.asyncResolved){X(O,h,_);return}else O.next=h,Hc(O.update),O.effect.dirty=!0,O.update();else h.el=p.el,O.vnode=h},q=(p,h,_,O,S,B,U)=>{const I=()=>{if(p.isMounted){let{next:H,bu:Y,u:J,parent:Q,vnode:ne}=p;{const nn=Ul(p);if(nn){H&&(H.el=ne.el,X(p,H,U)),nn.asyncDep.then(()=>{p.isUnmounted||I()});return}}let fe=H,he;Mt(p,!1),H?(H.el=ne.el,X(p,H,U)):H=ne,Y&&un(Y),(he=H.props&&H.props.onVnodeBeforeUpdate)&&Ae(he,Q,H,ne),Mt(p,!0);const ve=gs(p),We=p.subTree;p.subTree=ve,R(We,ve,f(We.el),T(We),p,S,B),H.el=ve.el,fe===null&&Zr(p,ve.el),J&&we(J,S),(he=H.props&&H.props.onVnodeUpdated)&&we(()=>Ae(he,Q,H,ne),S)}else{let H;const{el:Y,props:J}=h,{bm:Q,m:ne,parent:fe}=p,he=Ut(h);if(Mt(p,!1),Q&&un(Q),!he&&(H=J&&J.onVnodeBeforeMount)&&Ae(H,fe,h),Mt(p,!0),Y&&pe){const ve=()=>{p.subTree=gs(p),pe(Y,p.subTree,p,S,null)};he?h.type.__asyncLoader().then(()=>!p.isUnmounted&&ve()):ve()}else{const ve=p.subTree=gs(p);R(null,ve,_,O,p,S,B),h.el=ve.el}if(ne&&we(ne,S),!he&&(H=J&&J.onVnodeMounted)){const ve=h;we(()=>Ae(H,fe,ve),S)}(h.shapeFlag&256||fe&&Ut(fe.vnode)&&fe.vnode.shapeFlag&256)&&p.a&&we(p.a,S),p.isMounted=!0,h=_=O=null}},j=p.effect=new mn(I,Me,()=>$s(L),p.scope),L=p.update=()=>{j.dirty&&j.run()};L.id=p.uid,Mt(p,!0),L()},X=(p,h,_)=>{h.component=p;const O=p.vnode.props;p.vnode=h,p.next=null,Uu(p,h.props,O,_),Ku(p,h.children,_),Jt(),Ro(p),Yt()},W=(p,h,_,O,S,B,U,I,j=!1)=>{const L=p&&p.children,H=p?p.shapeFlag:0,Y=h.children,{patchFlag:J,shapeFlag:Q}=h;if(J>0){if(J&128){ht(L,Y,_,O,S,B,U,I,j);return}else if(J&256){ze(L,Y,_,O,S,B,U,I,j);return}}Q&8?(H&16&&Se(L,S,B),Y!==L&&u(_,Y)):H&16?Q&16?ht(L,Y,_,O,S,B,U,I,j):Se(L,S,B,!0):(H&8&&u(_,""),Q&16&&M(Y,_,O,S,B,U,I,j))},ze=(p,h,_,O,S,B,U,I,j)=>{p=p||ln,h=h||ln;const L=p.length,H=h.length,Y=Math.min(L,H);let J;for(J=0;J<Y;J++){const Q=h[J]=j?Ct(h[J]):je(h[J]);R(p[J],Q,_,null,S,B,U,I,j)}L>H?Se(p,S,B,!0,!1,Y):M(h,_,O,S,B,U,I,j,Y)},ht=(p,h,_,O,S,B,U,I,j)=>{let L=0;const H=h.length;let Y=p.length-1,J=H-1;for(;L<=Y&&L<=J;){const Q=p[L],ne=h[L]=j?Ct(h[L]):je(h[L]);if(Je(Q,ne))R(Q,ne,_,null,S,B,U,I,j);else break;L++}for(;L<=Y&&L<=J;){const Q=p[Y],ne=h[J]=j?Ct(h[J]):je(h[J]);if(Je(Q,ne))R(Q,ne,_,null,S,B,U,I,j);else break;Y--,J--}if(L>Y){if(L<=J){const Q=J+1,ne=Q<H?h[Q].el:O;for(;L<=J;)R(null,h[L]=j?Ct(h[L]):je(h[L]),_,ne,S,B,U,I,j),L++}}else if(L>J)for(;L<=Y;)Le(p[L],S,B,!0),L++;else{const Q=L,ne=L,fe=new Map;for(L=ne;L<=J;L++){const $e=h[L]=j?Ct(h[L]):je(h[L]);$e.key!=null&&fe.set($e.key,L)}let he,ve=0;const We=J-ne+1;let nn=!1,yo=0;const Tn=new Array(We);for(L=0;L<We;L++)Tn[L]=0;for(L=Q;L<=Y;L++){const $e=p[L];if(ve>=We){Le($e,S,B,!0);continue}let et;if($e.key!=null)et=fe.get($e.key);else for(he=ne;he<=J;he++)if(Tn[he-ne]===0&&Je($e,h[he])){et=he;break}et===void 0?Le($e,S,B,!0):(Tn[et-ne]=L+1,et>=yo?yo=et:nn=!0,R($e,h[et],_,null,S,B,U,I,j),ve++)}const bo=nn?Wu(Tn):ln;for(he=bo.length-1,L=We-1;L>=0;L--){const $e=ne+L,et=h[$e],_o=$e+1<H?h[$e+1].el:O;Tn[L]===0?R(null,et,_,_o,S,B,U,I,j):nn&&(he<0||L!==bo[he]?Xe(et,_,_o,2):he--)}}},Xe=(p,h,_,O,S=null)=>{const{el:B,type:U,transition:I,children:j,shapeFlag:L}=p;if(L&6){Xe(p.component.subTree,h,_,O);return}if(L&128){p.suspense.move(h,_,O);return}if(L&64){U.move(p,h,_,z);return}if(U===ye){s(B,h,_);for(let Y=0;Y<j.length;Y++)Xe(j[Y],h,_,O);s(p.anchor,h,_);return}if(U===Dt){m(p,h,_);return}if(O!==2&&L&1&&I)if(O===0)I.beforeEnter(B),s(B,h,_),we(()=>I.enter(B),S);else{const{leave:Y,delayLeave:J,afterLeave:Q}=I,ne=()=>s(B,h,_),fe=()=>{Y(B,()=>{ne(),Q&&Q()})};J?J(B,ne,fe):fe()}else s(B,h,_)},Le=(p,h,_,O=!1,S=!1)=>{const{type:B,props:U,ref:I,children:j,dynamicChildren:L,shapeFlag:H,patchFlag:Y,dirs:J}=p;if(I!=null&&Ts(I,null,_,p,!0),H&256){h.ctx.deactivate(p);return}const Q=H&1&&J,ne=!Ut(p);let fe;if(ne&&(fe=U&&U.onVnodeBeforeUnmount)&&Ae(fe,h,p),H&6)ss(p.component,_,O);else{if(H&128){p.suspense.unmount(_,O);return}Q&&tt(p,null,h,"beforeUnmount"),H&64?p.type.remove(p,h,_,S,z,O):L&&(B!==ye||Y>0&&Y&64)?Se(L,h,_,!1,!0):(B===ye&&Y&384||!S&&H&16)&&Se(j,h,_),O&&en(p)}(ne&&(fe=U&&U.onVnodeUnmounted)||Q)&&we(()=>{fe&&Ae(fe,h,p),Q&&tt(p,null,h,"unmounted")},_)},en=p=>{const{type:h,el:_,anchor:O,transition:S}=p;if(h===ye){tn(_,O);return}if(h===Dt){b(p);return}const B=()=>{r(_),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(p.shapeFlag&1&&S&&!S.persisted){const{leave:U,delayLeave:I}=S,j=()=>U(_,B);I?I(p.el,B,j):j()}else B()},tn=(p,h)=>{let _;for(;p!==h;)_=d(p),r(p),p=_;r(h)},ss=(p,h,_)=>{const{bum:O,scope:S,update:B,subTree:U,um:I}=p;O&&un(O),S.stop(),B&&(B.active=!1,Le(U,p,h,_)),I&&we(I,h),we(()=>{p.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Se=(p,h,_,O=!1,S=!1,B=0)=>{for(let U=B;U<p.length;U++)Le(p[U],h,_,O,S)},T=p=>p.shapeFlag&6?T(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el);let D=!1;const V=(p,h,_)=>{p==null?h._vnode&&Le(h._vnode,null,null,!0):R(h._vnode||null,p,h,null,null,null,_),D||(D=!0,Ro(),Es(),D=!1),h._vnode=p},z={p:R,um:Le,m:Xe,r:en,mt:oe,mc:M,pc:W,pbc:x,n:T,o:e};let le,pe;return t&&([le,pe]=t(z)),{render:V,hydrate:le,createApp:Bu(V,le)}}function or({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Mt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Vl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function io(e,t,n=!1){const s=e.children,r=t.children;if(K(s)&&K(r))for(let o=0;o<s.length;o++){const i=s[o];let l=r[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[o]=Ct(r[o]),l.el=i.el),n||io(i,l)),l.type===qt&&(l.el=i.el)}}function Wu(e){const t=e.slice(),n=[0];let s,r,o,i,l;const a=e.length;for(s=0;s<a;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(o=0,i=n.length-1;o<i;)l=o+i>>1,e[n[l]]<c?o=l+1:i=l;c<e[n[o]]&&(o>0&&(t[s]=n[o-1]),n[o]=s)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function Ul(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ul(t)}const Ju=e=>e.__isTeleport,Nn=e=>e&&(e.disabled||e.disabled===""),Uo=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Do=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Cr=(e,t)=>{const n=e&&e.to;return ge(n)?t?t(n):null:n},Yu={name:"Teleport",__isTeleport:!0,process(e,t,n,s,r,o,i,l,a,c){const{mc:u,pc:f,pbc:d,o:{insert:g,querySelector:y,createText:R,createComment:N}}=c,A=Nn(t.props);let{shapeFlag:v,children:m,dynamicChildren:b}=t;if(e==null){const w=t.el=R(""),C=t.anchor=R("");g(w,n,s),g(C,n,s);const F=t.target=Cr(t.props,y),M=t.targetAnchor=R("");F&&(g(M,F),i==="svg"||Uo(F)?i="svg":(i==="mathml"||Do(F))&&(i="mathml"));const E=(x,$)=>{v&16&&u(m,x,$,r,o,i,l,a)};A?E(n,C):F&&E(F,M)}else{t.el=e.el;const w=t.anchor=e.anchor,C=t.target=e.target,F=t.targetAnchor=e.targetAnchor,M=Nn(e.props),E=M?n:C,x=M?w:F;if(i==="svg"||Uo(C)?i="svg":(i==="mathml"||Do(C))&&(i="mathml"),b?(d(e.dynamicChildren,b,E,r,o,i,l),io(e,t,!0)):a||f(e,t,E,x,r,o,i,l,!1),A)M?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):hs(t,n,w,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const $=t.target=Cr(t.props,y);$&&hs(t,$,null,c,0)}else M&&hs(t,C,F,c,1)}Dl(t)},remove(e,t,n,s,{um:r,o:{remove:o}},i){const{shapeFlag:l,children:a,anchor:c,targetAnchor:u,target:f,props:d}=e;if(f&&o(u),i&&o(c),l&16){const g=i||!Nn(d);for(let y=0;y<a.length;y++){const R=a[y];r(R,t,n,g,!!R.dynamicChildren)}}},move:hs,hydrate:Zu};function hs(e,t,n,{o:{insert:s},m:r},o=2){o===0&&s(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:a,children:c,props:u}=e,f=o===2;if(f&&s(i,t,n),(!f||Nn(u))&&a&16)for(let d=0;d<c.length;d++)r(c[d],t,n,2);f&&s(l,t,n)}function Zu(e,t,n,s,r,o,{o:{nextSibling:i,parentNode:l,querySelector:a}},c){const u=t.target=Cr(t.props,a);if(u){const f=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Nn(t.props))t.anchor=c(i(e),t,l(e),n,s,r,o),t.targetAnchor=f;else{t.anchor=i(e);let d=f;for(;d;)if(d=i(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,u._lpa=t.targetAnchor&&i(t.targetAnchor);break}c(f,t,u,n,s,r,o)}Dl(t)}return t.anchor&&i(t.anchor)}const Qu=Yu;function Dl(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const ye=Symbol.for("v-fgt"),qt=Symbol.for("v-txt"),xe=Symbol.for("v-cmt"),Dt=Symbol.for("v-stc"),In=[];let Ne=null;function ee(e=!1){In.push(Ne=e?null:[])}function Hl(){In.pop(),Ne=In[In.length-1]||null}let Gt=1;function xr(e){Gt+=e}function Kl(e){return e.dynamicChildren=Gt>0?Ne||ln:null,Hl(),Gt>0&&Ne&&Ne.push(e),e}function se(e,t,n,s,r,o){return Kl(k(e,t,n,s,r,o,!0))}function yn(e,t,n,s,r){return Kl(te(e,t,n,s,r,!0))}function Lt(e){return e?e.__v_isVNode===!0:!1}function Je(e,t){return e.type===t.type&&e.key===t.key}function Xu(e){}const Ks="__vInternal",ql=({key:e})=>e??null,bs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ge(e)||Ee(e)||Z(e)?{i:be,r:e,k:t,f:!!n}:e:null);function k(e,t=null,n=null,s=0,r=null,o=e===ye?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ql(t),ref:t&&bs(t),scopeId:js,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:be};return l?(co(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=ge(n)?8:16),Gt>0&&!i&&Ne&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Ne.push(a),a}const te=ef;function ef(e,t=null,n=null,s=0,r=null,o=!1){if((!e||e===cl)&&(e=xe),Lt(e)){const l=rt(e,t,!0);return n&&co(l,n),Gt>0&&!o&&Ne&&(l.shapeFlag&6?Ne[Ne.indexOf(e)]=l:Ne.push(l)),l.patchFlag|=-2,l}if(af(e)&&(e=e.__vccOpts),t){t=lo(t);let{class:l,style:a}=t;l&&!ge(l)&&(t.class=Ie(l)),de(a)&&(Gr(a)&&!K(a)&&(a=me({},a)),t.style=Qn(a))}const i=ge(e)?1:ul(e)?128:Ju(e)?64:de(e)?4:Z(e)?2:0;return k(e,t,n,s,r,i,o,!0)}function lo(e){return e?Gr(e)||Ks in e?me({},e):e:null}function rt(e,t,n=!1){const{props:s,ref:r,patchFlag:o,children:i}=e,l=t?uo(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ql(l),ref:t&&t.ref?n&&r?K(r)?r.concat(bs(t)):[r,bs(t)]:bs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rt(e.ssContent),ssFallback:e.ssFallback&&rt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function qs(e=" ",t=0){return te(qt,null,e,t)}function ao(e,t){const n=te(Dt,null,e);return n.staticCount=t,n}function Re(e="",t=!1){return t?(ee(),yn(xe,null,e)):te(xe,null,e)}function je(e){return e==null||typeof e=="boolean"?te(xe):K(e)?te(ye,null,e.slice()):typeof e=="object"?Ct(e):te(qt,null,String(e))}function Ct(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rt(e)}function co(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(K(t))n=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),co(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(Ks in t)?t._ctx=be:r===3&&be&&(be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Z(t)?(t={default:t,_ctx:be},n=32):(t=String(t),s&64?(n=16,t=[qs(t)]):n=8);e.children=t,e.shapeFlag|=n}function uo(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ie([t.class,s.class]));else if(r==="style")t.style=Qn([t.style,s.style]);else if(Yn(r)){const o=t[r],i=s[r];i&&o!==i&&!(K(o)&&o.includes(i))&&(t[r]=o?[].concat(o,i):i)}else r!==""&&(t[r]=s[r])}return t}function Ae(e,t,n,s=null){Ue(e,t,7,[n,s])}const tf=Ll();let nf=0;function Gl(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||tf,o={uid:nf++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ml(s,r),emitsOptions:al(s,r),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:s.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=qc.bind(null,o),e.ce&&e.ce(o),o}let _e=null;const pt=()=>_e||be;let Os,Er;{const e=Ai(),t=(n,s)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(s),o=>{r.length>1?r.forEach(i=>i(o)):r[0](o)}};Os=t("__VUE_INSTANCE_SETTERS__",n=>_e=n),Er=t("__VUE_SSR_SETTERS__",n=>ns=n)}const zt=e=>{const t=_e;return Os(e),e.scope.on(),()=>{e.scope.off(),Os(t)}},Sr=()=>{_e&&_e.scope.off(),Os(null)};function zl(e){return e.vnode.shapeFlag&4}let ns=!1;function Wl(e,t=!1){t&&Er(t);const{props:n,children:s}=e.vnode,r=zl(e);Vu(e,n,r,t),Hu(e,s);const o=r?sf(e,t):void 0;return t&&Er(!1),o}function sf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ct(new Proxy(e.ctx,br));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?Yl(e):null,o=zt(e);Jt();const i=ut(s,e,0,[e.props,r]);if(Yt(),o(),Br(i)){if(i.then(Sr,Sr),t)return i.then(l=>{Tr(e,l,t)}).catch(l=>{Zt(l,e,0)});e.asyncDep=i}else Tr(e,i,t)}else Jl(e,t)}function Tr(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=Jr(t)),Jl(e,n)}let ks,Or;function rf(e){ks=e,Or=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,bu))}}const of=()=>!ks;function Jl(e,t,n){const s=e.type;if(!e.render){if(!t&&ks&&!s.render){const r=s.template||ro(e).template;if(r){const{isCustomElement:o,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,c=me(me({isCustomElement:o,delimiters:l},i),a);s.render=ks(r,c)}}e.render=s.render||Me,Or&&Or(e)}{const r=zt(e);Jt();try{Au(e)}finally{Yt(),r()}}}function lf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Fe(e,"get","$attrs"),t[n]}}))}function Yl(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return lf(e)},slots:e.slots,emit:e.emit,expose:t}}function Gs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Jr(ct(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mn)return Mn[n](e)},has(t,n){return n in t||n in Mn}}))}function kr(e,t=!0){return Z(e)?e.displayName||e.name:e.name||t&&e.__name}function af(e){return Z(e)&&"__vccOpts"in e}const ke=(e,t)=>Oc(e,t,ns);function cf(e,t,n=ce){const s=pt(),r=Pe(t),o=Ve(t),i=tl((a,c)=>{let u;return ml(()=>{const f=e[t];Ze(u,f)&&(u=f,c())}),{get(){return a(),n.get?n.get(u):u},set(f){const d=s.vnode.props;!(d&&(t in d||r in d||o in d)&&(`onUpdate:${t}`in d||`onUpdate:${r}`in d||`onUpdate:${o}`in d))&&Ze(f,u)&&(u=f,c()),s.emit(`update:${t}`,n.set?n.set(f):f)}}}),l=t==="modelValue"?"modelModifiers":`${t}Modifiers`;return i[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?e[l]||{}:i,done:!1}:{done:!0}}}},i}function zs(e,t,n){const s=arguments.length;return s===2?de(t)&&!K(t)?Lt(t)?te(e,null,[t]):te(e,t):te(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Lt(n)&&(n=[n]),te(e,t,n))}function uf(){}function ff(e,t,n,s){const r=n[s];if(r&&Zl(r,e))return r;const o=t();return o.memo=e.slice(),n[s]=o}function Zl(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(Ze(n[s],t[s]))return!1;return Gt>0&&Ne&&Ne.push(e),!0}const Ql="3.4.21",df=Me,pf=Vc,hf=sn,mf=ll,gf={createComponentInstance:Gl,setupComponent:Wl,renderComponentRoot:gs,setCurrentRenderingInstance:qn,isVNode:Lt,normalizeVNode:je},yf=gf,bf=null,_f=null,vf=null;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const wf="http://www.w3.org/2000/svg",Cf="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,Ho=xt&&xt.createElement("template"),xf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t==="svg"?xt.createElementNS(wf,e):t==="mathml"?xt.createElementNS(Cf,e):xt.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,r,o){const i=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===o||!(r=r.nextSibling)););else{Ho.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=Ho.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},yt="transition",On="animation",bn=Symbol("_vtc"),fo=(e,{slots:t})=>zs(yl,ea(e),t);fo.displayName="Transition";const Xl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ef=fo.props=me({},no,Xl),Nt=(e,t=[])=>{K(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ko=e=>e?K(e)?e.some(t=>t.length>1):e.length>1:!1;function ea(e){const t={};for(const P in e)P in Xl||(t[P]=e[P]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=o,appearActiveClass:c=i,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,y=Sf(r),R=y&&y[0],N=y&&y[1],{onBeforeEnter:A,onEnter:v,onEnterCancelled:m,onLeave:b,onLeaveCancelled:w,onBeforeAppear:C=A,onAppear:F=v,onAppearCancelled:M=m}=t,E=(P,G,oe)=>{_t(P,G?u:l),_t(P,G?c:i),oe&&oe()},x=(P,G)=>{P._isLeaving=!1,_t(P,f),_t(P,g),_t(P,d),G&&G()},$=P=>(G,oe)=>{const ue=P?F:v,q=()=>E(G,P,oe);Nt(ue,[G,q]),qo(()=>{_t(G,P?a:o),it(G,P?u:l),Ko(ue)||Go(G,s,R,q)})};return me(t,{onBeforeEnter(P){Nt(A,[P]),it(P,o),it(P,i)},onBeforeAppear(P){Nt(C,[P]),it(P,a),it(P,c)},onEnter:$(!1),onAppear:$(!0),onLeave(P,G){P._isLeaving=!0;const oe=()=>x(P,G);it(P,f),na(),it(P,d),qo(()=>{P._isLeaving&&(_t(P,f),it(P,g),Ko(b)||Go(P,s,N,oe))}),Nt(b,[P,oe])},onEnterCancelled(P){E(P,!1),Nt(m,[P])},onAppearCancelled(P){E(P,!0),Nt(M,[P])},onLeaveCancelled(P){x(P),Nt(w,[P])}})}function Sf(e){if(e==null)return null;if(de(e))return[ir(e.enter),ir(e.leave)];{const t=ir(e);return[t,t]}}function ir(e){return ws(e)}function it(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[bn]||(e[bn]=new Set)).add(t)}function _t(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[bn];n&&(n.delete(t),n.size||(e[bn]=void 0))}function qo(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Tf=0;function Go(e,t,n,s){const r=e._endId=++Tf,o=()=>{r===e._endId&&s()};if(n)return setTimeout(o,n);const{type:i,timeout:l,propCount:a}=ta(e,t);if(!i)return s();const c=i+"end";let u=0;const f=()=>{e.removeEventListener(c,d),o()},d=g=>{g.target===e&&++u>=a&&f()};setTimeout(()=>{u<a&&f()},l+1),e.addEventListener(c,d)}function ta(e,t){const n=window.getComputedStyle(e),s=y=>(n[y]||"").split(", "),r=s(`${yt}Delay`),o=s(`${yt}Duration`),i=zo(r,o),l=s(`${On}Delay`),a=s(`${On}Duration`),c=zo(l,a);let u=null,f=0,d=0;t===yt?i>0&&(u=yt,f=i,d=o.length):t===On?c>0&&(u=On,f=c,d=a.length):(f=Math.max(i,c),u=f>0?i>c?yt:On:null,d=u?u===yt?o.length:a.length:0);const g=u===yt&&/\b(transform|all)(,|$)/.test(s(`${yt}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:g}}function zo(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Wo(n)+Wo(e[s])))}function Wo(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function na(){return document.body.offsetHeight}function Of(e,t,n){const s=e[bn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rs=Symbol("_vod"),sa=Symbol("_vsh"),ra={beforeMount(e,{value:t},{transition:n}){e[Rs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):kn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),kn(e,!0),s.enter(e)):s.leave(e,()=>{kn(e,!1)}):kn(e,t))},beforeUnmount(e,{value:t}){kn(e,t)}};function kn(e,t){e.style.display=t?e[Rs]:"none",e[sa]=!t}function kf(){ra.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const oa=Symbol("");function Rf(e){const t=pt();if(!t)return;const n=t.ut=(r=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Pr(o,r))},s=()=>{const r=e(t.proxy);Rr(t.subTree,r),n(r)};hl(s),En(()=>{const r=new MutationObserver(s);r.observe(t.subTree.el.parentNode,{childList:!0}),Hs(()=>r.disconnect())})}function Rr(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Rr(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Pr(e.el,t);else if(e.type===ye)e.children.forEach(n=>Rr(n,t));else if(e.type===Dt){let{el:n,anchor:s}=e;for(;n&&(Pr(n,t),n!==s);)n=n.nextSibling}}function Pr(e,t){if(e.nodeType===1){const n=e.style;let s="";for(const r in t)n.setProperty(`--${r}`,t[r]),s+=`--${r}: ${t[r]};`;n[oa]=s}}const Pf=/(^|;)\s*display\s*:/;function Lf(e,t,n){const s=e.style,r=ge(n);let o=!1;if(n&&!r){if(t)if(ge(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&_s(s,l,"")}else for(const i in t)n[i]==null&&_s(s,i,"");for(const i in n)i==="display"&&(o=!0),_s(s,i,n[i])}else if(r){if(t!==n){const i=s[oa];i&&(n+=";"+i),s.cssText=n,o=Pf.test(n)}}else t&&e.removeAttribute("style");Rs in e&&(e[Rs]=o?s.display:"",e[sa]&&(s.display="none"))}const Jo=/\s*!important$/;function _s(e,t,n){if(K(n))n.forEach(s=>_s(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Af(e,t);Jo.test(n)?e.setProperty(Ve(s),n.replace(Jo,""),"important"):e[s]=n}}const Yo=["Webkit","Moz","ms"],lr={};function Af(e,t){const n=lr[t];if(n)return n;let s=Pe(t);if(s!=="filter"&&s in e)return lr[t]=s;s=Zn(s);for(let r=0;r<Yo.length;r++){const o=Yo[r]+s;if(o in e)return lr[t]=o}return t}const Zo="http://www.w3.org/1999/xlink";function Mf(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Zo,t.slice(6,t.length)):e.setAttributeNS(Zo,t,n);else{const o=tc(t);n==null||o&&!Ni(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Nf(e,t,n,s,r,o,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,r,o),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const c=l==="OPTION"?e.getAttribute("value")||"":e.value,u=n??"";(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Ni(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function lt(e,t,n,s){e.addEventListener(t,n,s)}function If(e,t,n,s){e.removeEventListener(t,n,s)}const Qo=Symbol("_vei");function Ff(e,t,n,s,r=null){const o=e[Qo]||(e[Qo]={}),i=o[t];if(s&&i)i.value=s;else{const[l,a]=$f(t);if(s){const c=o[t]=Vf(s,r);lt(e,l,c,a)}else i&&(If(e,l,i,a),o[t]=void 0)}}const Xo=/(?:Once|Passive|Capture)$/;function $f(e){let t;if(Xo.test(e)){t={};let s;for(;s=e.match(Xo);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ve(e.slice(2)),t]}let ar=0;const Bf=Promise.resolve(),jf=()=>ar||(Bf.then(()=>ar=0),ar=Date.now());function Vf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ue(Uf(s,n.value),t,5,[s])};return n.value=e,n.attached=jf(),n}function Uf(e,t){if(K(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const ei=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Df=(e,t,n,s,r,o,i,l,a)=>{const c=r==="svg";t==="class"?Of(e,s,c):t==="style"?Lf(e,n,s):Yn(t)?Fr(t)||Ff(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hf(e,t,s,c))?Nf(e,t,s,o,i,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Mf(e,t,s,c))};function Hf(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ei(t)&&Z(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return ei(t)&&ge(n)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function ia(e,t){const n=Qt(e);class s extends Ws{constructor(o){super(n,o,t)}}return s.def=n,s}/*! #__NO_SIDE_EFFECTS__ */const Kf=e=>ia(e,ya),qf=typeof HTMLElement<"u"?HTMLElement:class{};class Ws extends qf{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Xn(()=>{this._connected||(Lr(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(s,r=!1)=>{const{props:o,styles:i}=s;let l;if(o&&!K(o))for(const a in o){const c=o[a];(c===Number||c&&c.type===Number)&&(a in this._props&&(this._props[a]=ws(this._props[a])),(l||(l=Object.create(null)))[Pe(a)]=!0)}this._numberProps=l,r&&this._resolveProps(s),this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=K(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of s.map(Pe))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(o){this._setProp(r,o)}})}_setAttr(t){let n=this.getAttribute(t);const s=Pe(t);this._numberProps&&this._numberProps[s]&&(n=ws(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,r=!0){n!==this._props[t]&&(this._props[t]=n,r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ve(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ve(t),n+""):n||this.removeAttribute(Ve(t))))}_update(){Lr(this._createVNode(),this.shadowRoot)}_createVNode(){const t=te(this._def,me({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const s=(o,i)=>{this.dispatchEvent(new CustomEvent(o,{detail:i}))};n.emit=(o,...i)=>{s(o,i),Ve(o)!==o&&s(Ve(o),i)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof Ws){n.parent=r._instance,n.provides=r._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function Gf(e="$style"){{const t=pt();if(!t)return ce;const n=t.type.__cssModules;if(!n)return ce;const s=n[e];return s||ce}}const la=new WeakMap,aa=new WeakMap,Ps=Symbol("_moveCb"),ti=Symbol("_enterCb"),ca={name:"TransitionGroup",props:me({},Ef,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=pt(),s=to();let r,o;return Ds(()=>{if(!r.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Qf(r[0].el,n.vnode.el,i))return;r.forEach(Jf),r.forEach(Yf);const l=r.filter(Zf);na(),l.forEach(a=>{const c=a.el,u=c.style;it(c,i),u.transform=u.webkitTransform=u.transitionDuration="";const f=c[Ps]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",f),c[Ps]=null,_t(c,i))};c.addEventListener("transitionend",f)})}),()=>{const i=re(e),l=ea(i);let a=i.tag||ye;r=o,o=t.default?Vs(t.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&Kt(u,gn(u,l,s,n))}if(r)for(let c=0;c<r.length;c++){const u=r[c];Kt(u,gn(u,l,s,n)),la.set(u,u.el.getBoundingClientRect())}return te(a,null,o)}}},zf=e=>delete e.mode;ca.props;const Wf=ca;function Jf(e){const t=e.el;t[Ps]&&t[Ps](),t[ti]&&t[ti]()}function Yf(e){aa.set(e,e.el.getBoundingClientRect())}function Zf(e){const t=la.get(e),n=aa.get(e),s=t.left-n.left,r=t.top-n.top;if(s||r){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${s}px,${r}px)`,o.transitionDuration="0s",e}}function Qf(e,t,n){const s=e.cloneNode(),r=e[bn];r&&r.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(s);const{hasTransform:i}=ta(s);return o.removeChild(s),i}const At=e=>{const t=e.props["onUpdate:modelValue"]||!1;return K(t)?n=>un(t,n):t};function Xf(e){e.target.composing=!0}function ni(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ge=Symbol("_assign"),Ke={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e[Ge]=At(r);const o=s||r.props&&r.props.type==="number";lt(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),o&&(l=Vn(l)),e[Ge](l)}),n&&lt(e,"change",()=>{e.value=e.value.trim()}),t||(lt(e,"compositionstart",Xf),lt(e,"compositionend",ni),lt(e,"change",ni))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},o){if(e[Ge]=At(o),e.composing)return;const i=r||e.type==="number"?Vn(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},po={deep:!0,created(e,t,n){e[Ge]=At(n),lt(e,"change",()=>{const s=e._modelValue,r=_n(e),o=e.checked,i=e[Ge];if(K(s)){const l=Ms(s,r),a=l!==-1;if(o&&!a)i(s.concat(r));else if(!o&&a){const c=[...s];c.splice(l,1),i(c)}}else if(Wt(s)){const l=new Set(s);o?l.add(r):l.delete(r),i(l)}else i(ua(e,o))})},mounted:si,beforeUpdate(e,t,n){e[Ge]=At(n),si(e,t,n)}};function si(e,{value:t,oldValue:n},s){e._modelValue=t,K(t)?e.checked=Ms(t,s.props.value)>-1:Wt(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Rt(t,ua(e,!0)))}const ho={created(e,{value:t},n){e.checked=Rt(t,n.props.value),e[Ge]=At(n),lt(e,"change",()=>{e[Ge](_n(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[Ge]=At(s),t!==n&&(e.checked=Rt(t,s.props.value))}},Js={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const r=Wt(t);lt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Vn(_n(i)):_n(i));e[Ge](e.multiple?r?new Set(o):o:o[0]),e._assigning=!0,Xn(()=>{e._assigning=!1})}),e[Ge]=At(s)},mounted(e,{value:t,modifiers:{number:n}}){ri(e,t,n)},beforeUpdate(e,t,n){e[Ge]=At(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||ri(e,t,n)}};function ri(e,t,n){const s=e.multiple,r=K(t);if(!(s&&!r&&!Wt(t))){for(let o=0,i=e.options.length;o<i;o++){const l=e.options[o],a=_n(l);if(s)if(r){const c=typeof a;c==="string"||c==="number"?l.selected=t.includes(n?Vn(a):a):l.selected=Ms(t,a)>-1}else l.selected=t.has(a);else if(Rt(_n(l),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function _n(e){return"_value"in e?e._value:e.value}function ua(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const fa={created(e,t,n){ms(e,t,n,null,"created")},mounted(e,t,n){ms(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){ms(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){ms(e,t,n,s,"updated")}};function da(e,t){switch(e){case"SELECT":return Js;case"TEXTAREA":return Ke;default:switch(t){case"checkbox":return po;case"radio":return ho;default:return Ke}}}function ms(e,t,n,s,r){const i=da(e.tagName,n.props&&n.props.type)[r];i&&i(e,t,n,s)}function ed(){Ke.getSSRProps=({value:e})=>({value:e}),ho.getSSRProps=({value:e},t)=>{if(t.props&&Rt(t.props.value,e))return{checked:!0}},po.getSSRProps=({value:e},t)=>{if(K(e)){if(t.props&&Ms(e,t.props.value)>-1)return{checked:!0}}else if(Wt(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},fa.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=da(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const td=["ctrl","shift","alt","meta"],nd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>td.some(n=>e[`${n}Key`]&&!t.includes(n))},pa=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(r,...o)=>{for(let i=0;i<t.length;i++){const l=nd[t[i]];if(l&&l(r,t))return}return e(r,...o)})},sd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rd=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const o=Ve(r.key);if(t.some(i=>i===o||sd[i]===o))return e(r)})},ha=me({patchProp:Df},xf);let Fn,oi=!1;function ma(){return Fn||(Fn=$l(ha))}function ga(){return Fn=oi?Fn:Bl(ha),oi=!0,Fn}const Lr=(...e)=>{ma().render(...e)},ya=(...e)=>{ga().hydrate(...e)},ba=(...e)=>{const t=ma().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=va(s);if(!r)return;const o=t._component;!Z(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,_a(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t},od=(...e)=>{const t=ga().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=va(s);if(r)return n(r,!0,_a(r))},t};function _a(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function va(e){return ge(e)?document.querySelector(e):e}let ii=!1;const id=()=>{ii||(ii=!0,ed(),kf())};/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ld=()=>{},ad=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:yl,BaseTransitionPropsValidators:no,Comment:xe,DeprecationTypes:vf,EffectScope:Vr,ErrorCodes:jc,ErrorTypeStrings:pf,Fragment:ye,KeepAlive:hu,ReactiveEffect:mn,Static:Dt,Suspense:su,Teleport:Qu,Text:qt,TrackOpTypes:Fc,Transition:fo,TransitionGroup:Wf,TriggerOpTypes:$c,VueElement:Ws,assertNumber:Bc,callWithAsyncErrorHandling:Ue,callWithErrorHandling:ut,camelize:Pe,capitalize:Zn,cloneVNode:rt,compatUtils:_f,compile:ld,computed:ke,createApp:ba,createBlock:yn,createCommentVNode:Re,createElementBlock:se,createElementVNode:k,createHydrationRenderer:Bl,createPropsRestProxy:Pu,createRenderer:$l,createSSRApp:od,createSlots:gu,createStaticVNode:ao,createTextVNode:qs,createVNode:te,customRef:tl,defineAsyncComponent:du,defineComponent:Qt,defineCustomElement:ia,defineEmits:vu,defineExpose:wu,defineModel:Eu,defineOptions:Cu,defineProps:_u,defineSSRCustomElement:Kf,defineSlots:xu,devtools:hf,effect:oc,effectScope:Fi,getCurrentInstance:pt,getCurrentScope:Bi,getTransitionRawChildren:Vs,guardReactiveProps:lo,h:zs,handleError:Zt,hasInjectionContext:ju,hydrate:ya,initCustomFormatter:uf,initDirectivesForSSR:id,inject:De,isMemoSame:Zl,isProxy:Gr,isReactive:Vt,isReadonly:Ht,isRef:Ee,isRuntimeOnly:of,isShallow:Un,isVNode:Lt,markRaw:ct,mergeDefaults:ku,mergeModels:Ru,mergeProps:uo,nextTick:Xn,normalizeClass:Ie,normalizeProps:Mi,normalizeStyle:Qn,onActivated:_l,onBeforeMount:Cl,onBeforeUnmount:Sn,onBeforeUpdate:xl,onDeactivated:vl,onErrorCaptured:Ol,onMounted:En,onRenderTracked:Tl,onRenderTriggered:Sl,onScopeDispose:sc,onServerPrefetch:El,onUnmounted:Hs,onUpdated:Ds,openBlock:ee,popScopeId:zc,provide:Ot,proxyRefs:Jr,pushScopeId:Gc,queuePostFlushCb:xs,reactive:xn,readonly:qr,ref:Ce,registerRuntimeCompiler:rf,render:Lr,renderList:ys,renderSlot:so,resolveComponent:Pt,resolveDirective:tu,resolveDynamicComponent:eu,resolveFilter:bf,resolveTransitionHooks:gn,setBlockTracking:xr,setDevtoolsHook:mf,setTransitionHooks:Kt,shallowReactive:Kr,shallowReadonly:Tc,shallowRef:Xi,ssrContextKey:dl,ssrUtils:yf,stop:ic,toDisplayString:St,toHandlerKey:An,toHandlers:yu,toRaw:re,toRef:nl,toRefs:Mc,toValue:Pc,transformVNodeArgs:Xu,triggerRef:Rc,unref:qe,useAttrs:Ou,useCssModule:Gf,useCssVars:Rf,useModel:cf,useSSRContext:pl,useSlots:Tu,useTransitionState:to,vModelCheckbox:po,vModelDynamic:fa,vModelRadio:ho,vModelSelect:Js,vModelText:Ke,vShow:ra,version:Ql,warn:df,watch:ft,watchEffect:cu,watchPostEffect:hl,watchSyncEffect:ml,withAsyncContext:Lu,withCtx:st,withDefaults:Su,withDirectives:Ye,withKeys:rd,withMemo:ff,withModifiers:pa,withScopeId:Wc},Symbol.toStringTag,{value:"Module"}));var cd=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const ud=Symbol();var li;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(li||(li={}));function fd(){const e=Fi(!0),t=e.run(()=>Ce({}));let n=[],s=[];const r=ct({install(o){r._a=o,o.provide(ud,r),o.config.globalProperties.$pinia=r,s.forEach(i=>n.push(i)),s=[]},use(o){return!this._a&&!cd?s.push(o):n.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var r=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return e[s]}})}),n}var wa={exports:{}};const md=hd(ad);(function(e,t){(function(s,r){e.exports=r(md)})(dd,n=>(()=>{var s={772:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.default=(c,u)=>{const f=c.__vccOpts||c;for(const[d,g]of u)f[d]=g;return f}},976:l=>{l.exports=n}},r={};function o(l){var a=r[l];if(a!==void 0)return a.exports;var c=r[l]={exports:{}};return s[l](c,c.exports,o),c.exports}o.d=(l,a)=>{for(var c in a)o.o(a,c)&&!o.o(l,c)&&Object.defineProperty(l,c,{enumerable:!0,get:a[c]})},o.o=(l,a)=>Object.prototype.hasOwnProperty.call(l,a),o.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{ToastComponent:()=>w,ToastPlugin:()=>F,ToastPositions:()=>y,default:()=>M,useToast:()=>C});var l=o(976);const a=(0,l.createElementVNode)("div",{class:"v-toast__icon"},null,-1),c=["innerHTML"];function u(E,x,$,P,G,oe){return(0,l.openBlock)(),(0,l.createBlock)(l.Transition,{"enter-active-class":E.transition.enter,"leave-active-class":E.transition.leave},{default:(0,l.withCtx)(()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{ref:"root",role:"alert",class:(0,l.normalizeClass)(["v-toast__item",[`v-toast__item--${E.type}`,`v-toast__item--${E.position}`]]),onMouseover:x[0]||(x[0]=ue=>E.toggleTimer(!0)),onMouseleave:x[1]||(x[1]=ue=>E.toggleTimer(!1)),onClick:x[2]||(x[2]=function(){return E.whenClicked&&E.whenClicked(...arguments)})},[a,(0,l.createElementVNode)("p",{class:"v-toast__text",innerHTML:E.message},null,8,c)],34),[[l.vShow,E.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(E){var x;typeof E.remove<"u"?E.remove():(x=E.parentNode)==null||x.removeChild(E)}function d(E,x,$){let P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const G=(0,l.h)(E,x,P),oe=document.createElement("div");return oe.classList.add("v-toast--pending"),$.appendChild(oe),(0,l.render)(G,oe),G.component}class g{constructor(x,$){this.startedAt=Date.now(),this.callback=x,this.delay=$,this.timer=setTimeout(x,$)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const y=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function R(E){return{all:E=E||new Map,on:function(x,$){var P=E.get(x);P?P.push($):E.set(x,[$])},off:function(x,$){var P=E.get(x);P&&($?P.splice(P.indexOf($)>>>0,1):E.set(x,[]))},emit:function(x,$){var P=E.get(x);P&&P.slice().map(function(G){G($)}),(P=E.get("*"))&&P.slice().map(function(G){G(x,$)})}}}const A=R(),v=(0,l.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:y.BOTTOM_RIGHT,validator(E){return Object.values(y).includes(E)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),A.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const E=document.body;E.appendChild(this.parentTop),E.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const E=this.$refs.root;(0,l.render)(null,E),f(E)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const E=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(E),this.isActive=!0,this.duration&&(this.timer=new g(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(E){!this.pauseOnHover||!this.timer||(E?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case y.TOP:case y.TOP_RIGHT:case y.TOP_LEFT:return this.parentTop;case y.BOTTOM:case y.BOTTOM_RIGHT:case y.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case y.TOP:case y.TOP_RIGHT:case y.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case y.BOTTOM:case y.BOTTOM_RIGHT:case y.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){A.off("toast-clear",this.dismiss)}});var m=o(772);const w=(0,m.default)(v,[["render",u]]),C=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(x){let $=null;typeof x=="string"&&($=x);const G=Object.assign({},{message:$},E,x);return{dismiss:d(w,G,document.body).ctx.dismiss}},clear(){A.emit("toast-clear")},success(x){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:x,type:"success"},$))},error(x){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:x,type:"error"},$))},info(x){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:x,type:"info"},$))},warning(x){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:x,type:"warning"},$))},default(x){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:x,type:"default"},$))}}},F={install:function(E){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=C(x);E.config.globalProperties.$toast=$,E.provide("$toast",$)}},M=F})(),i})())})(wa);var gd=wa.exports;const yd=pd(gd);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const rn=typeof document<"u";function bd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ae=Object.assign;function cr(e,t){const n={};for(const s in t){const r=t[s];n[s]=Qe(r)?r.map(e):e(r)}return n}const $n=()=>{},Qe=Array.isArray,Ca=/#/g,_d=/&/g,vd=/\//g,wd=/=/g,Cd=/\?/g,xa=/\+/g,xd=/%5B/g,Ed=/%5D/g,Ea=/%5E/g,Sd=/%60/g,Sa=/%7B/g,Td=/%7C/g,Ta=/%7D/g,Od=/%20/g;function mo(e){return encodeURI(""+e).replace(Td,"|").replace(xd,"[").replace(Ed,"]")}function kd(e){return mo(e).replace(Sa,"{").replace(Ta,"}").replace(Ea,"^")}function Ar(e){return mo(e).replace(xa,"%2B").replace(Od,"+").replace(Ca,"%23").replace(_d,"%26").replace(Sd,"`").replace(Sa,"{").replace(Ta,"}").replace(Ea,"^")}function Rd(e){return Ar(e).replace(wd,"%3D")}function Pd(e){return mo(e).replace(Ca,"%23").replace(Cd,"%3F")}function Ld(e){return e==null?"":Pd(e).replace(vd,"%2F")}function Wn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ad=/\/$/,Md=e=>e.replace(Ad,"");function ur(e,t,n="/"){let s,r={},o="",i="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),r=e(o)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=$d(s??t,n),{fullPath:s+(o&&"?")+o+i,path:s,query:r,hash:Wn(i)}}function Nd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ai(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Id(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&vn(t.matched[s],n.matched[r])&&Oa(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function vn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Oa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Fd(e[n],t[n]))return!1;return!0}function Fd(e,t){return Qe(e)?ci(e,t):Qe(t)?ci(t,e):e===t}function ci(e,t){return Qe(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function $d(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let o=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+s.slice(i).join("/")}var Jn;(function(e){e.pop="pop",e.push="push"})(Jn||(Jn={}));var Bn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bn||(Bn={}));function Bd(e){if(!e)if(rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Md(e)}const jd=/^[^#]+#/;function Vd(e,t){return e.replace(jd,"#")+t}function Ud(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Ys=()=>({left:window.scrollX,top:window.scrollY});function Dd(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=Ud(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ui(e,t){return(history.state?history.state.position-t:-1)+e}const Mr=new Map;function Hd(e,t){Mr.set(e,t)}function Kd(e){const t=Mr.get(e);return Mr.delete(e),t}let qd=()=>location.protocol+"//"+location.host;function ka(e,t){const{pathname:n,search:s,hash:r}=t,o=e.indexOf("#");if(o>-1){let l=r.includes(e.slice(o))?e.slice(o).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),ai(a,"")}return ai(n,e)+s+r}function Gd(e,t,n,s){let r=[],o=[],i=null;const l=({state:d})=>{const g=ka(e,location),y=n.value,R=t.value;let N=0;if(d){if(n.value=g,t.value=d,i&&i===y){i=null;return}N=R?d.position-R.position:0}else s(g);r.forEach(A=>{A(n.value,y,{delta:N,type:Jn.pop,direction:N?N>0?Bn.forward:Bn.back:Bn.unknown})})};function a(){i=n.value}function c(d){r.push(d);const g=()=>{const y=r.indexOf(d);y>-1&&r.splice(y,1)};return o.push(g),g}function u(){const{history:d}=window;d.state&&d.replaceState(ae({},d.state,{scroll:Ys()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function fi(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?Ys():null}}function zd(e){const{history:t,location:n}=window,s={value:ka(e,n)},r={value:t.state};r.value||o(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:qd()+e+a;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function i(a,c){const u=ae({},t.state,fi(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});o(a,u,!0),s.value=a}function l(a,c){const u=ae({},r.value,t.state,{forward:a,scroll:Ys()});o(u.current,u,!0);const f=ae({},fi(s.value,a,null),{position:u.position+1},c);o(a,f,!1),s.value=a}return{location:s,state:r,push:l,replace:i}}function Wd(e){e=Bd(e);const t=zd(e),n=Gd(e,t.state,t.location,t.replace);function s(o,i=!0){i||n.pauseListeners(),history.go(o)}const r=ae({location:"",base:e,go:s,createHref:Vd.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Jd(e){return typeof e=="string"||e&&typeof e=="object"}function Ra(e){return typeof e=="string"||typeof e=="symbol"}const bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Pa=Symbol("");var di;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(di||(di={}));function wn(e,t){return ae(new Error,{type:e,[Pa]:!0},t)}function ot(e,t){return e instanceof Error&&Pa in e&&(t==null||!!(e.type&t))}const pi="[^/]+?",Yd={sensitive:!1,strict:!1,start:!0,end:!0},Zd=/[.+*?^${}()[\]/\\]/g;function Qd(e,t){const n=ae({},Yd,t),s=[];let r=n.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let g=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(Zd,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:R,optional:N,regexp:A}=d;o.push({name:y,repeatable:R,optional:N});const v=A||pi;if(v!==pi){g+=10;try{new RegExp(`(${v})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${y}" (${v}): `+b.message)}}let m=R?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;f||(m=N&&c.length<2?`(?:/${m})`:"/"+m),N&&(m+="?"),r+=m,g+=20,N&&(g+=-8),R&&(g+=-20),v===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function l(c){const u=c.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",y=o[d-1];f[y.name]=g&&y.repeatable?g.split("/"):g}return f}function a(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:y,repeatable:R,optional:N}=g,A=y in c?c[y]:"";if(Qe(A)&&!R)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const v=Qe(A)?A.join("/"):A;if(!v)if(N)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=v}}return u||"/"}return{re:i,score:s,keys:o,parse:l,stringify:a}}function Xd(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ep(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const o=Xd(s[n],r[n]);if(o)return o;n++}if(Math.abs(r.length-s.length)===1){if(hi(s))return 1;if(hi(r))return-1}return r.length-s.length}function hi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const tp={type:0,value:""},np=/[a-zA-Z0-9_]/;function sp(e){if(!e)return[[]];if(e==="/")return[[tp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${c}": ${g}`)}let n=0,s=n;const r=[];let o;function i(){o&&r.push(o),o=[]}let l=0,a,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),i()):a===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:a==="("?n=2:np.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),i(),r}function rp(e,t,n){const s=Qd(sp(e.path),n),r=ae(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function op(e,t){const n=[],s=new Map;t=yi({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function o(u,f,d){const g=!d,y=ip(u);y.aliasOf=d&&d.record;const R=yi(t,u),N=[y];if("alias"in u){const m=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of m)N.push(ae({},y,{components:d?d.record.components:y.components,path:b,aliasOf:d?d.record:y}))}let A,v;for(const m of N){const{path:b}=m;if(f&&b[0]!=="/"){const w=f.record.path,C=w[w.length-1]==="/"?"":"/";m.path=f.record.path+(b&&C+b)}if(A=rp(m,f,R),d?d.alias.push(A):(v=v||A,v!==A&&v.alias.push(A),g&&u.name&&!gi(A)&&i(u.name)),y.children){const w=y.children;for(let C=0;C<w.length;C++)o(w[C],A,d&&d.children[C])}d=d||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&a(A)}return v?()=>{i(v)}:$n}function i(u){if(Ra(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function l(){return n}function a(u){let f=0;for(;f<n.length&&ep(u,n[f])>=0&&(u.record.path!==n[f].record.path||!La(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!gi(u)&&s.set(u.record.name,u)}function c(u,f){let d,g={},y,R;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw wn(1,{location:u});R=d.record.name,g=ae(mi(f.params,d.keys.filter(v=>!v.optional).concat(d.parent?d.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),u.params&&mi(u.params,d.keys.map(v=>v.name))),y=d.stringify(g)}else if(u.path!=null)y=u.path,d=n.find(v=>v.re.test(y)),d&&(g=d.parse(y),R=d.record.name);else{if(d=f.name?s.get(f.name):n.find(v=>v.re.test(f.path)),!d)throw wn(1,{location:u,currentLocation:f});R=d.record.name,g=ae({},f.params,u.params),y=d.stringify(g)}const N=[];let A=d;for(;A;)N.unshift(A.record),A=A.parent;return{name:R,path:y,params:g,matched:N,meta:ap(N)}}return e.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:i,getRoutes:l,getRecordMatcher:r}}function mi(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ip(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:lp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function lp(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function gi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ap(e){return e.reduce((t,n)=>ae(t,n.meta),{})}function yi(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function La(e,t){return t.children.some(n=>n===e||La(e,n))}function cp(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const o=s[r].replace(xa," "),i=o.indexOf("="),l=Wn(i<0?o:o.slice(0,i)),a=i<0?null:Wn(o.slice(i+1));if(l in t){let c=t[l];Qe(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function bi(e){let t="";for(let n in e){const s=e[n];if(n=Rd(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Qe(s)?s.map(o=>o&&Ar(o)):[s&&Ar(s)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function up(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Qe(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const fp=Symbol(""),_i=Symbol(""),go=Symbol(""),Aa=Symbol(""),Nr=Symbol("");function Rn(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Et(e,t,n,s,r,o=i=>i()){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,a)=>{const c=d=>{d===!1?a(wn(4,{from:n,to:t})):d instanceof Error?a(d):Jd(d)?a(wn(2,{from:t,to:d})):(i&&s.enterCallbacks[r]===i&&typeof d=="function"&&i.push(d),l())},u=o(()=>e.call(s&&s.instances[r],t,n,c));let f=Promise.resolve(u);e.length<3&&(f=f.then(c)),f.catch(d=>a(d))})}function fr(e,t,n,s,r=o=>o()){const o=[];for(const i of e)for(const l in i.components){let a=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(dp(a)){const u=(a.__vccOpts||a)[t];u&&o.push(Et(u,n,s,i,l,r))}else{let c=a();o.push(()=>c.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const f=bd(u)?u.default:u;i.components[l]=f;const g=(f.__vccOpts||f)[t];return g&&Et(g,n,s,i,l,r)()}))}}return o}function dp(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function vi(e){const t=De(go),n=De(Aa),s=ke(()=>t.resolve(qe(e.to))),r=ke(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(vn.bind(null,u));if(d>-1)return d;const g=wi(a[c-2]);return c>1&&wi(u)===g&&f[f.length-1].path!==g?f.findIndex(vn.bind(null,a[c-2])):d}),o=ke(()=>r.value>-1&&gp(n.params,s.value.params)),i=ke(()=>r.value>-1&&r.value===n.matched.length-1&&Oa(n.params,s.value.params));function l(a={}){return mp(a)?t[qe(e.replace)?"replace":"push"](qe(e.to)).catch($n):Promise.resolve()}return{route:s,href:ke(()=>s.value.href),isActive:o,isExactActive:i,navigate:l}}const pp=Qt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:vi,setup(e,{slots:t}){const n=xn(vi(e)),{options:s}=De(go),r=ke(()=>({[Ci(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ci(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&t.default(n);return e.custom?o:zs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},o)}}}),hp=pp;function mp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function gp(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Qe(r)||r.length!==s.length||s.some((o,i)=>o!==r[i]))return!1}return!0}function wi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ci=(e,t,n)=>e??t??n,yp=Qt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=De(Nr),r=ke(()=>e.route||s.value),o=De(_i,0),i=ke(()=>{let c=qe(o);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=ke(()=>r.value.matched[i.value]);Ot(_i,ke(()=>i.value+1)),Ot(fp,l),Ot(Nr,r);const a=Ce();return ft(()=>[a.value,l.value,e.name],([c,u,f],[d,g,y])=>{u&&(u.instances[f]=c,g&&g!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!vn(u,g)||!d)&&(u.enterCallbacks[f]||[]).forEach(R=>R(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,f=l.value,d=f&&f.components[u];if(!d)return xi(n.default,{Component:d,route:c});const g=f.props[u],y=g?g===!0?c.params:typeof g=="function"?g(c):g:null,N=zs(d,ae({},y,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return xi(n.default,{Component:N,route:c})||N}}});function xi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ma=yp;function bp(e){const t=op(e.routes,e),n=e.parseQuery||cp,s=e.stringifyQuery||bi,r=e.history,o=Rn(),i=Rn(),l=Rn(),a=Xi(bt);let c=bt;rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=cr.bind(null,T=>""+T),f=cr.bind(null,Ld),d=cr.bind(null,Wn);function g(T,D){let V,z;return Ra(T)?(V=t.getRecordMatcher(T),z=D):z=T,t.addRoute(z,V)}function y(T){const D=t.getRecordMatcher(T);D&&t.removeRoute(D)}function R(){return t.getRoutes().map(T=>T.record)}function N(T){return!!t.getRecordMatcher(T)}function A(T,D){if(D=ae({},D||a.value),typeof T=="string"){const h=ur(n,T,D.path),_=t.resolve({path:h.path},D),O=r.createHref(h.fullPath);return ae(h,_,{params:d(_.params),hash:Wn(h.hash),redirectedFrom:void 0,href:O})}let V;if(T.path!=null)V=ae({},T,{path:ur(n,T.path,D.path).path});else{const h=ae({},T.params);for(const _ in h)h[_]==null&&delete h[_];V=ae({},T,{params:f(h)}),D.params=f(D.params)}const z=t.resolve(V,D),le=T.hash||"";z.params=u(d(z.params));const pe=Nd(s,ae({},T,{hash:kd(le),path:z.path})),p=r.createHref(pe);return ae({fullPath:pe,hash:le,query:s===bi?up(T.query):T.query||{}},z,{redirectedFrom:void 0,href:p})}function v(T){return typeof T=="string"?ur(n,T,a.value.path):ae({},T)}function m(T,D){if(c!==T)return wn(8,{from:D,to:T})}function b(T){return F(T)}function w(T){return b(ae(v(T),{replace:!0}))}function C(T){const D=T.matched[T.matched.length-1];if(D&&D.redirect){const{redirect:V}=D;let z=typeof V=="function"?V(T):V;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=v(z):{path:z},z.params={}),ae({query:T.query,hash:T.hash,params:z.path!=null?{}:T.params},z)}}function F(T,D){const V=c=A(T),z=a.value,le=T.state,pe=T.force,p=T.replace===!0,h=C(V);if(h)return F(ae(v(h),{state:typeof h=="object"?ae({},le,h.state):le,force:pe,replace:p}),D||V);const _=V;_.redirectedFrom=D;let O;return!pe&&Id(s,z,V)&&(O=wn(16,{to:_,from:z}),Xe(z,z,!0,!1)),(O?Promise.resolve(O):x(_,z)).catch(S=>ot(S)?ot(S,2)?S:ht(S):W(S,_,z)).then(S=>{if(S){if(ot(S,2))return F(ae({replace:p},v(S.to),{state:typeof S.to=="object"?ae({},le,S.to.state):le,force:pe}),D||_)}else S=P(_,z,!0,p,le);return $(_,z,S),S})}function M(T,D){const V=m(T,D);return V?Promise.reject(V):Promise.resolve()}function E(T){const D=tn.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(T):T()}function x(T,D){let V;const[z,le,pe]=_p(T,D);V=fr(z.reverse(),"beforeRouteLeave",T,D);for(const h of z)h.leaveGuards.forEach(_=>{V.push(Et(_,T,D))});const p=M.bind(null,T,D);return V.push(p),Se(V).then(()=>{V=[];for(const h of o.list())V.push(Et(h,T,D));return V.push(p),Se(V)}).then(()=>{V=fr(le,"beforeRouteUpdate",T,D);for(const h of le)h.updateGuards.forEach(_=>{V.push(Et(_,T,D))});return V.push(p),Se(V)}).then(()=>{V=[];for(const h of pe)if(h.beforeEnter)if(Qe(h.beforeEnter))for(const _ of h.beforeEnter)V.push(Et(_,T,D));else V.push(Et(h.beforeEnter,T,D));return V.push(p),Se(V)}).then(()=>(T.matched.forEach(h=>h.enterCallbacks={}),V=fr(pe,"beforeRouteEnter",T,D,E),V.push(p),Se(V))).then(()=>{V=[];for(const h of i.list())V.push(Et(h,T,D));return V.push(p),Se(V)}).catch(h=>ot(h,8)?h:Promise.reject(h))}function $(T,D,V){l.list().forEach(z=>E(()=>z(T,D,V)))}function P(T,D,V,z,le){const pe=m(T,D);if(pe)return pe;const p=D===bt,h=rn?history.state:{};V&&(z||p?r.replace(T.fullPath,ae({scroll:p&&h&&h.scroll},le)):r.push(T.fullPath,le)),a.value=T,Xe(T,D,V,p),ht()}let G;function oe(){G||(G=r.listen((T,D,V)=>{if(!ss.listening)return;const z=A(T),le=C(z);if(le){F(ae(le,{replace:!0}),z).catch($n);return}c=z;const pe=a.value;rn&&Hd(ui(pe.fullPath,V.delta),Ys()),x(z,pe).catch(p=>ot(p,12)?p:ot(p,2)?(F(p.to,z).then(h=>{ot(h,20)&&!V.delta&&V.type===Jn.pop&&r.go(-1,!1)}).catch($n),Promise.reject()):(V.delta&&r.go(-V.delta,!1),W(p,z,pe))).then(p=>{p=p||P(z,pe,!1),p&&(V.delta&&!ot(p,8)?r.go(-V.delta,!1):V.type===Jn.pop&&ot(p,20)&&r.go(-1,!1)),$(z,pe,p)}).catch($n)}))}let ue=Rn(),q=Rn(),X;function W(T,D,V){ht(T);const z=q.list();return z.length?z.forEach(le=>le(T,D,V)):console.error(T),Promise.reject(T)}function ze(){return X&&a.value!==bt?Promise.resolve():new Promise((T,D)=>{ue.add([T,D])})}function ht(T){return X||(X=!T,oe(),ue.list().forEach(([D,V])=>T?V(T):D()),ue.reset()),T}function Xe(T,D,V,z){const{scrollBehavior:le}=e;if(!rn||!le)return Promise.resolve();const pe=!V&&Kd(ui(T.fullPath,0))||(z||!V)&&history.state&&history.state.scroll||null;return Xn().then(()=>le(T,D,pe)).then(p=>p&&Dd(p)).catch(p=>W(p,T,D))}const Le=T=>r.go(T);let en;const tn=new Set,ss={currentRoute:a,listening:!0,addRoute:g,removeRoute:y,hasRoute:N,getRoutes:R,resolve:A,options:e,push:b,replace:w,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:o.add,beforeResolve:i.add,afterEach:l.add,onError:q.add,isReady:ze,install(T){const D=this;T.component("RouterLink",hp),T.component("RouterView",Ma),T.config.globalProperties.$router=D,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>qe(a)}),rn&&!en&&a.value===bt&&(en=!0,b(r.location).catch(le=>{}));const V={};for(const le in bt)Object.defineProperty(V,le,{get:()=>a.value[le],enumerable:!0});T.provide(go,D),T.provide(Aa,Kr(V)),T.provide(Nr,a);const z=T.unmount;tn.add(T),T.unmount=function(){tn.delete(T),tn.size<1&&(c=bt,G&&G(),G=null,a.value=bt,en=!1,X=!1),z()}}};function Se(T){return T.reduce((D,V)=>D.then(()=>E(V)),Promise.resolve())}return ss}function _p(e,t){const n=[],s=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const l=t.matched[i];l&&(e.matched.find(c=>vn(c,l))?s.push(l):n.push(l));const a=e.matched[i];a&&(t.matched.find(c=>vn(c,a))||r.push(a))}return[n,s,r]}class vp{constructor(t){this.domainOrigin=t,this.id="",this.name="",this.username="",this.loggedIn=!1,this.sessionJwt="",this.latitude="",this.longitude=""}async api_register(t){console.log("In api_register");const n={name:t.name,username:t.username,password:t.password};console.log(n);const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},r=this.domainOrigin+"/api/users/";try{const o=await fetch(r,s);if(!o.ok){const l=await o.json();throw{status:o.status,message:l.message||"Network response was not ok"}}return(await o.json()).new_user}catch(o){throw o.status?{status:o.status}:new Error("Failed to add user: "+o.message)}}async apiLogin(t,n){console.log("In api_login");const r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})},o=this.domainOrigin+"/api/auth/login";try{const i=await fetch(o,r);if(!i.ok){const c=await i.json();throw{status:i.status,message:c.message||"Network response was not ok"}}const l=await i.json();return console.log(l),this.id=l.package.id,this.name=l.package.name,this.username=l.package.username,this.loggedIn=!0,this.sessionJwt=l.package.session_jwt,{status:i.status,message:l.message}}catch(i){throw i.status?{status:i.status}:new Error("Failed to login")}}async apiEditUser(t){console.log("In api_edit_user");const n={edited_name:t},s={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.sessionJwt}`},body:JSON.stringify(n)},r=this.domainOrigin+"/api/users/";try{const o=await fetch(r,s);if(!o.ok){const l=await o.json();throw{status:o.status,message:l.message||"Network response was not ok"}}const i=await o.json();return this.name=i.user.name,i.user}catch(o){throw o.status?{status:o.status}:new Error("Failed to edit user: "+o.message)}}}const wp="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='24px'%20height='24px'%20viewBox='-5.2%20-5.2%2062.40%2062.40'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23ffffff'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3crect%20fill='none'%20height='4.8'%20rx='1.6'%20width='27.2'%20x='12.4'%20y='26'/%3e%3crect%20fill='none'%20height='4.8'%20rx='1.6'%20width='24'%20x='12.4'%20y='35.6'/%3e%3cg%3e%3cpath%20d='m36.4%2014.8h8.48a1.09%201.09%200%200%200%201.12-1.12%201%201%200%200%200%20-.32-.8l-10.56-10.56a1%201%200%200%200%20-.8-.32%201.09%201.09%200%200%200%20-1.12%201.12v8.48a3.21%203.21%200%200%200%203.2%203.2z'/%3e%3cpath%20d='m44.4%2019.6h-11.2a4.81%204.81%200%200%201%20-4.8-4.8v-11.2a1.6%201.6%200%200%200%20-1.6-1.6h-16a4.81%204.81%200%200%200%20-4.8%204.8v38.4a4.81%204.81%200%200%200%204.8%204.8h30.4a4.81%204.81%200%200%200%204.8-4.8v-24a1.6%201.6%200%200%200%20-1.6-1.6zm-32-1.6a1.62%201.62%200%200%201%201.6-1.55h6.55a1.56%201.56%200%200%201%201.57%201.55v1.59a1.63%201.63%200%200%201%20-1.59%201.58h-6.53a1.55%201.55%200%200%201%20-1.58-1.58zm24%2020.77a1.6%201.6%200%200%201%20-1.6%201.6h-20.8a1.6%201.6%200%200%201%20-1.6-1.6v-1.57a1.6%201.6%200%200%201%201.6-1.6h20.8a1.6%201.6%200%200%201%201.6%201.6zm3.2-9.6a1.6%201.6%200%200%201%20-1.6%201.63h-24a1.6%201.6%200%200%201%20-1.6-1.6v-1.6a1.6%201.6%200%200%201%201.6-1.6h24a1.6%201.6%200%200%201%201.6%201.6z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Xt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},Cp={data(){return{formSVG:wp}}},xp={class:"bg-off-black text-white text-center fixed inset-x-0 bottom-0 pb-3 pt-2 px-6"},Ep={class:"max-w-lg mx-auto"},Sp={class:"flex justify-between font-montserrat text-xs"},Tp=k("svg",{class:"h-6 w-6 fill-current",viewBox:"-5.2 -5.2 62.40 62.40",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"},[k("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),k("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),k("g",{id:"SVGRepo_iconCarrier"},[k("rect",{fill:"none",height:"4.8",rx:"1.6",width:"27.2",x:"12.4",y:"26"}),k("rect",{fill:"none",height:"4.8",rx:"1.6",width:"24",x:"12.4",y:"35.6"}),k("g",null,[k("path",{d:"m36.4 14.8h8.48a1.09 1.09 0 0 0 1.12-1.12 1 1 0 0 0 -.32-.8l-10.56-10.56a1 1 0 0 0 -.8-.32 1.09 1.09 0 0 0 -1.12 1.12v8.48a3.21 3.21 0 0 0 3.2 3.2z"}),k("path",{d:"m44.4 19.6h-11.2a4.81 4.81 0 0 1 -4.8-4.8v-11.2a1.6 1.6 0 0 0 -1.6-1.6h-16a4.81 4.81 0 0 0 -4.8 4.8v38.4a4.81 4.81 0 0 0 4.8 4.8h30.4a4.81 4.81 0 0 0 4.8-4.8v-24a1.6 1.6 0 0 0 -1.6-1.6zm-32-1.6a1.62 1.62 0 0 1 1.6-1.55h6.55a1.56 1.56 0 0 1 1.57 1.55v1.59a1.63 1.63 0 0 1 -1.59 1.58h-6.53a1.55 1.55 0 0 1 -1.58-1.58zm24 20.77a1.6 1.6 0 0 1 -1.6 1.6h-20.8a1.6 1.6 0 0 1 -1.6-1.6v-1.57a1.6 1.6 0 0 1 1.6-1.6h20.8a1.6 1.6 0 0 1 1.6 1.6zm3.2-9.6a1.6 1.6 0 0 1 -1.6 1.63h-24a1.6 1.6 0 0 1 -1.6-1.6v-1.6a1.6 1.6 0 0 1 1.6-1.6h24a1.6 1.6 0 0 1 1.6 1.6z"})])])],-1),Op=k("p",{class:"pt-1"},"Update",-1),kp=[Tp,Op],Rp=k("svg",{class:"h-5 w-5 fill-current",version:"1.0",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64","xml:space":"preserve"},[k("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),k("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),k("g",{id:"SVGRepo_iconCarrier"},[k("path",{d:"M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289l16,24 C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289C54.289,34.008,56,29.219,56,24 C56,10.746,45.254,0,32,0z M32,32c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S36.418,32,32,32z"})])],-1),Pp=k("p",{class:"pt-1"},"Maps",-1),Lp=[Rp,Pp],Ap=k("svg",{class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[k("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),k("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),k("g",{id:"SVGRepo_iconCarrier"},[k("title",null,"profile_round [#1342]"),k("desc",null,"Created with Sketch."),k("defs"),k("g",{id:"Page-1",stroke:"none","stroke-width":"1"},[k("g",{id:"Dribbble-Light-Preview",transform:"translate(-140.000000, -2159.000000)"},[k("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[k("path",{d:"M100.562548,2016.99998 L87.4381713,2016.99998 C86.7317804,2016.99998 86.2101535,2016.30298 86.4765813,2015.66198 C87.7127655,2012.69798 90.6169306,2010.99998 93.9998492,2010.99998 C97.3837885,2010.99998 100.287954,2012.69798 101.524138,2015.66198 C101.790566,2016.30298 101.268939,2016.99998 100.562548,2016.99998 M89.9166645,2004.99998 C89.9166645,2002.79398 91.7489936,2000.99998 93.9998492,2000.99998 C96.2517256,2000.99998 98.0830339,2002.79398 98.0830339,2004.99998 C98.0830339,2007.20598 96.2517256,2008.99998 93.9998492,2008.99998 C91.7489936,2008.99998 89.9166645,2007.20598 89.9166645,2004.99998 M103.955674,2016.63598 C103.213556,2013.27698 100.892265,2010.79798 97.837022,2009.67298 C99.4560048,2008.39598 100.400241,2006.33098 100.053171,2004.06998 C99.6509769,2001.44698 97.4235996,1999.34798 94.7348224,1999.04198 C91.0232075,1998.61898 87.8750721,2001.44898 87.8750721,2004.99998 C87.8750721,2006.88998 88.7692896,2008.57398 90.1636971,2009.67298 C87.1074334,2010.79798 84.7871636,2013.27698 84.044024,2016.63598 C83.7745338,2017.85698 84.7789973,2018.99998 86.0539717,2018.99998 L101.945727,2018.99998 C103.221722,2018.99998 104.226185,2017.85698 103.955674,2016.63598",id:"profile_round-[#1342]"})])])])])],-1),Mp=k("p",{class:"pt-1"},"Profile",-1),Np=[Ap,Mp];function Ip(e,t,n,s,r,o){const i=Pt("RouterLink");return ee(),se("nav",xp,[k("div",Ep,[k("div",Sp,[te(i,{to:"/"},{default:st(()=>[k("div",{class:Ie(["flex flex-col items-center pb-2",{"text-orange-500":e.$route.name=="home"}])},kp,2)]),_:1}),te(i,{to:"/map"},{default:st(()=>[k("div",{class:Ie(["flex flex-col items-center pb-2",{"text-orange-500":e.$route.name=="map"}])},Lp,2)]),_:1}),te(i,{to:"/profile"},{default:st(()=>[k("div",{class:Ie(["flex flex-col items-center pb-2",{"text-orange-500":e.$route.name=="profile"}])},Np,2)]),_:1})])])])}const Na=Xt(Cp,[["render",Ip]]),Fp={props:{onLine:{type:Boolean,default:!0}},data(){return{mobileMenuOpen:!1}},methods:{toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}}},$p={class:"bg-off-black text-white py-3 fixed inset-x-0 top-0"},Bp={class:"flex justify-between text-center items-center max-container mx-auto px-8"},jp={key:0},Vp=ao('<svg fill="#f97316" width="34px" height="34px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="#f97316" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"></rect><circle cx="12" cy="19" r="1"></circle><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"></path><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"></path><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"></path><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"></path><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"></path></g></g></g></svg>',1),Up=[Vp],Dp={key:1},Hp=ao('<svg width="34px" height="34px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#343236"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><circle cx="1" cy="1" r="1" transform="matrix(1 0 0 -1 11 19)" fill="#f97316"></circle><path d="M20.1915 10.2642C19.2864 8.97153 18.0881 7.9114 16.6947 7.17053C15.3014 6.42965 13.7524 6.02907 12.1746 6.00152C10.5967 5.97398 9.03471 6.32026 7.61632 7.01206C6.19793 7.70385 4.9634 8.72152 4.01367 9.98185M17.7341 12.985C17.1005 12.0801 16.2617 11.338 15.2863 10.8194C14.311 10.3008 13.2267 10.0203 12.1222 10.0011C11.0177 9.98179 9.9243 10.2242 8.93143 10.7084C7.93856 11.1927 7.07439 11.9051 6.40958 12.7873M14.4575 15.2793C14.1859 14.8915 13.8265 14.5734 13.4084 14.3512C12.9904 14.1289 12.5257 14.0087 12.0524 14.0005C11.579 13.9922 11.1104 14.0961 10.6849 14.3036C10.2594 14.5112 9.88904 14.8165 9.60412 15.1946" stroke="#f97316" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>',1),Kp=[Hp],qp=k("h1",{class:"flex font-montserrat font-semibold text-xl text-orange-500"},"[ ResQHub ] ",-1),Gp={class:"flex flex-col gap-1 pb-1 h-5 justify-center hover:cursor-pointer"},zp=k("div",{class:"hidden sm:block"}," navlinks ",-1);function Wp(e,t,n,s,r,o){return ee(),se("div",$p,[k("div",Bp,[n.onLine?(ee(),se("div",Dp,Kp)):(ee(),se("div",jp,Up)),qp,k("div",{class:"flex pt-1 sm:items-center sm:hidden",onClick:t[0]||(t[0]=(...i)=>o.toggleMobileMenu&&o.toggleMobileMenu(...i))},[k("button",Gp,[k("span",{class:Ie(["w-6 h-[2px] bg-orange-500 transition transform duration-200",{"rotate-45 translate-y-[3px]":r.mobileMenuOpen}])},null,2),k("span",{class:Ie(["w-6 h-[2px] bg-orange-500 transition transform",{hidden:r.mobileMenuOpen}])},null,2),k("span",{class:Ie(["w-6 h-[2px] bg-orange-500 transition transform duration-200",{"rotate-[-45deg] translate-y-[-3px]":r.mobileMenuOpen}])},null,2)])]),zp])])}const Ia=Xt(Fp,[["render",Wp]]),Jp="offlineDB",Yp=1;let jn;const Fa=()=>new Promise((e,t)=>{const n=indexedDB.open(Jp,Yp);n.onerror=s=>{t("Error opening IndexedDB database")},n.onsuccess=s=>{jn=s.target.result,e()},n.onupgradeneeded=s=>{jn=s.target.result,jn.createObjectStore("items",{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!1})}}),Zp=async e=>(await Fa(),new Promise((t,n)=>{const r=jn.transaction(["items"],"readwrite").objectStore("items"),o={name:e},i=r.add(o);i.onerror=l=>{n("Error adding item to IndexedDB")},i.onsuccess=l=>{t(l.target.result)}})),Qp=async()=>(await Fa(),new Promise((e,t)=>{const r=jn.transaction(["items"],"readonly").objectStore("items").getAll();r.onerror=o=>{t("Error fetching items from IndexedDB")},r.onsuccess=o=>{e(o.target.result)}})),Xp={class:"bg-black min-h-screen"},eh={class:"relative z-10"},th={class:"relative z-0"},nh={class:"relative z-10"},sh={components:{MobileNavBar:Na,MobileHeader:Ia},data(){return{onLine:navigator.onLine}},watch:{async onLine(e){if(e){console.log("Back online");const t=await Qp();if(t)for(let n=0;n<t.length;n++)console.log(t[n]),console.log(JSON.parse(t[n].name.payload))}}},methods:{handleOnlineStatus(){this.onLine=navigator.onLine}},mounted(){window.addEventListener("online",this.handleOnlineStatus),window.addEventListener("offline",this.handleOnlineStatus)},beforeUnmount(){window.removeEventListener("online",this.handleOnlineStatus),window.removeEventListener("offline",this.handleOnlineStatus)}},rh=Object.assign(sh,{__name:"App",setup(e){let t=window.location.origin;t.slice(-5)==":5173"&&(t=t.replace(":5173",":5000"));const n=xn(new vp(t));return(s,r)=>(ee(),se("div",Xp,[k("header",eh,[te(Ia,{onLine:s.onLine},null,8,["onLine"])]),k("main",th,[te(qe(Ma),{onLine:s.onLine,user:n},null,8,["onLine","user"])]),k("footer",nh,[te(Na)])]))}}),oh={emits:["submitForm"],props:{formObj:{type:Object}},data(){return{payload:{formName:this.formObj.formName}}},methods:{submitForm(){this.$emit("submitForm",this.payload)}}},ih={class:"flex flex-wrap gap-x-6"},lh={class:"rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},ah={class:"block uppercase text-white text-md font-bold"},ch=["for"],uh={class:"relative mb-3"},fh=["id","onUpdate:modelValue"],dh=["id","onUpdate:modelValue"],ph={key:2,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white"},hh=k("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[k("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),mh=[hh],gh={key:3,class:"text-sm"},yh={class:"pb-10 flex justify-center"};function bh(e,t,n,s,r,o){const i=Pt("v-icon");return ee(),se(ye,null,[k("div",ih,[(ee(!0),se(ye,null,ys(n.formObj,(l,a)=>(ee(),se("section",{key:a,class:"pb-4 px-4 w-full"},[k("div",lh,[k("label",ah,St(l.title),1),(ee(!0),se(ye,null,ys(l.formEntries,(c,u)=>(ee(),se("div",{key:u,class:""},[k("label",{class:"block uppercase text-white text-sm mb-2",for:c.label},St(c.title),9,ch),k("div",uh,[c.textarea?Ye((ee(),se("textarea",{key:1,class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",id:c.label,"onUpdate:modelValue":f=>r.payload[c.payloadLabel]=f,rows:"4",maxlength:"250"},null,8,dh)),[[Ke,r.payload[c.payloadLabel]]]):Ye((ee(),se("select",{key:0,class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",id:c.label,"onUpdate:modelValue":f=>r.payload[c.payloadLabel]=f},[(ee(!0),se(ye,null,ys(c.options,(f,d)=>(ee(),se("option",{key:d},St(f),1))),128))],8,fh)),[[Js,r.payload[c.payloadLabel]]]),c.textarea?Re("",!0):(ee(),se("div",ph,mh)),c.textarea?(ee(),se("span",gh,St(r.payload[c.payloadLabel]?r.payload[c.payloadLabel].length:0)+"/250",1)):Re("",!0)])]))),128))])]))),128))]),k("section",yh,[k("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded",onClick:t[0]||(t[0]=(...l)=>o.submitForm&&o.submitForm(...l))},[qs("Submit "),te(i,{name:"io-send"})])])],64)}const _h=Xt(oh,[["render",bh]]),vh=[{title:"Security risks",formName:"security",formEntries:[{label:"risk-armed-groups",payloadLabel:"armedGroupsPresence",title:"Presence of armed groups",options:["Present","Absent","Unknown"]},{label:"risk-report",payloadLabel:"reportOfViolence",title:"Reports of violence or unrest",options:["Confirmed","Suspected","Not reported"]},{label:"risk-local-enforcement",payloadLabel:"localEnforcementPresence",title:"Law enforcement or military presence",options:["Present","Absent","Unknown"]},{label:"risk-comments",payloadLabel:"securityRiskComments",title:"Additional Comments",textarea:!0}]},{title:"Incidents",formName:"incidents",formEntries:[{label:"incidents-reported",payloadLabel:"incidentsReported",title:"Reported incidents",options:["Looting","Theft","Vandalism","Violence","No reported incidents"]},{label:"incidents-risk-to-relief",payloadLabel:"riskToRelief",title:"Security incidents affecting relief efforts",options:["High risk","Moderate risk","Low risk","Unknown"]},{label:"incidents-comments",payloadLabel:"incidentsComments",title:"Additional Comments",textarea:!0}]}],wh=[{title:"Roads",formName:"roads",formEntries:[{title:"Condition",label:"road-condition",payloadLabel:"roadCondition",options:["Clear","Damaged","Blocked"]},{title:"Type of damage",label:"road-damage",payloadLabel:"roadDamage",options:["Flooded","Debris","Collapsed","None"]},{title:"Accessibility",label:"road-access",payloadLabel:"roadAccess",options:["Passable","Impassable"]},{label:"road-comments",payloadLabel:"roadComments",title:"Additional Comments",textarea:!0}]},{title:"Buildings",formName:"buildings",formEntries:[{title:"Structural Integrity",label:"building-integrity",payloadLabel:"buildingIntegrity",options:["Intact","Damaged","Collapsed"]},{title:"Type",label:"building-type",payloadLabel:"buildingType",options:["Residential","Commercial","Government","None"]},{title:"Damage Assessment",label:"building-damage",payloadLabel:"buildingDamage",options:["Minor","Moderate","Severe"]},{label:"building-comments",payloadLabel:"buildingComments",title:"Additional Comments",textarea:!0}]},{title:"Utilities",formName:"utilities",formEntries:[{title:"Power Supply",label:"utility-power",payloadLabel:"utilityPower",options:["Available","Outages","Generators"]},{title:"Water Supply",label:"utility-water",payloadLabel:"utilityWater",options:["Functional","Contaminated","Shortages"]},{title:"Communications",label:"utility-comms",payloadLabel:"utilityComms",options:["Functional","Cell Service Only","Internet Connectivity","Limited"]},{label:"utility-comments",payloadLabel:"utilityComments",title:"Additional Comments",textarea:!0}]}],Ch=[{title:"Communications",formName:"communications",formEntries:[{label:"comms-infrastructure",payloadLabel:"commsInfrastructure",title:"Status of cell towers and internet infrastructure",options:["Fully operational","Partly operational","Offline"]},{label:"comms-phone-and-internet",payloadLabel:"commsPhoneAndInternet",title:"Reliability of phone and internet connectivity",options:["High (consistent signal and bandwidth)","Moderate (intermittent signal and/or reduced bandwidth)","Low (unreliable signal and insufficient bandwidth)"]},{label:"comms-availablity",payloadLabel:"commsAvailability",title:"Availability of communication devices",options:["Abundant (phones, radios, satellite phones)","Limited (some devices available, may not be enough for all teams)","Scarce (very few devices, priority for critical communications only)"]},{label:"comms-alternative",payloadLabel:"commsAlternative",title:"Alternative communication methods",options:["Satellite phones","High-frequency radios","None"]},{label:"comms-comments",payloadLabel:"commsComments",title:"Additional Comments",textarea:!0}]},{title:"Connectivity",formName:"connectivity",formEntries:[{label:"connect-electricity",payloadLabel:"connectElectricity",title:"Electricity Availability",options:["Stable grid supply","Occasional outages, backup available","Unstable grid, reliance on generators"]},{label:"connect-fuel-availability",payloadLabel:"connectFuelAvailability",title:"Fuel Availability for Generators",options:["Sufficient (reliable supply chain)","Limited (supply chain disruptions possible)","Scarce (no reliable supply chain)"]},{label:"connect-backup-power",payloadLabel:"connectBackupPower",title:"Backup Power Sources",options:["Solar panels (available and reliable)","Batteries (available but unreliable)","None"]},{label:"connect-local-control",payloadLabel:"connectLocalControl",title:"Local Control of Electricity Supply",options:["Government-controlled grid","Independent local entities","No local control, dependent on external sources"]},{label:"connect-comments",payloadLabel:"connectComments",title:"Additional Comments",textarea:!0}]}];function $a(){return"permissions"in navigator&&"geolocation"in navigator?navigator.permissions.query({name:"geolocation"}).then(function(e){return e.state==="granted"?Ei():new Promise((t,n)=>{navigator.geolocation.getCurrentPosition(t,n)})}):"geolocation"in navigator?Ei():(console.error("Geolocation is not supported by this browser."),Promise.reject("Geolocation is not supported by this browser."))}function Ei(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)})}const xh={components:{BoilerplateForm:_h},props:{onLine:{type:Boolean}},data(){return{infrastructureForm:wh,securityForm:vh,communicationsForm:Ch,selectedForm:"Infrastructure",items:[]}},methods:{async submitForm(e){if(navigator.onLine){console.log(`I am online! ${e}`);try{const t=await $a();console.log("Latitude: "+t.coords.latitude),console.log("Longitude: "+t.coords.longitude),console.log("Timestamp: "+t.timestamp);const n=new Date(t.timestamp);console.log(n)}catch(t){console.error("Error getting location:",t)}}else this.addItemToDb(JSON.stringify(e))},async addItemToDb(e){try{const t={payload:e},n=await Zp(t);this.items.push({id:n,...t}),console.log("added item")}catch(t){console.error(t),alert("Failed to add item")}},loadForm(){switch(this.selectedForm.toLowerCase()){case"infrastructure":return this.infrastructureForm;case"security":return this.securityForm;case"communication":return this.communicationsForm}}}},Eh={class:"mt-12 mb-16 pt-4"},Sh={class:"w-full px-3 mb-6"},Th=k("label",{class:"block uppercase text-white text-md font-bold mb-2",for:"grid-state"}," Category ",-1),Oh={class:"relative"},kh=k("option",null,"Infrastructure",-1),Rh=k("option",null,"Medical",-1),Ph=k("option",null,"Security",-1),Lh=k("option",null,"Logistics",-1),Ah=k("option",null,"Environment",-1),Mh=k("option",null,"Health",-1),Nh=k("option",null,"Communication",-1),Ih=[kh,Rh,Ph,Lh,Ah,Mh,Nh],Fh=k("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white"},[k("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[k("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function $h(e,t,n,s,r,o){const i=Pt("BoilerplateForm");return ee(),se("section",Eh,[k("form",{class:"w-full max-w-lg mx-auto flex flex-col",onSubmit:t[1]||(t[1]=pa(()=>{},["prevent"]))},[k("div",Sh,[Th,k("div",Oh,[Ye(k("select",{class:"shadow bg-black text-white appearance-none border border-gray-700 rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",id:"grid-state","onUpdate:modelValue":t[0]||(t[0]=l=>r.selectedForm=l)},Ih,512),[[Js,r.selectedForm]]),Fh])]),te(i,{formObj:o.loadForm(),onSubmitForm:o.submitForm},null,8,["formObj","onSubmitForm"])],32)])}const Bh=Xt(xh,[["render",$h]]);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".mapdiv[data-v-dbf82c40]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var jh=Object.defineProperty,Vh=(e,t,n)=>t in e?jh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Si=(e,t,n)=>(Vh(e,typeof t!="symbol"?t+"":t,n),n);const Ba=Symbol("map"),ja=Symbol("api"),Uh=Symbol("markerCluster"),Zs=Symbol("CustomMarker"),Dh=Symbol("mapTilesLoaded"),Va=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Hh(e,t,n,s){function r(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(u){try{c(s.next(u))}catch(f){i(f)}}function a(u){try{c(s.throw(u))}catch(f){i(f)}}function c(u){u.done?o(u.value):r(u.value).then(l,a)}c((s=s.apply(e,t||[])).next())})}var Kh=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,r,o;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(r=s;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),s=o.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=s;r--!==0;){var i=o[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Ti="__googleMapsScriptId";var on;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(on||(on={}));class Ft{constructor({apiKey:t,authReferrerPolicy:n,channel:s,client:r,id:o=Ti,language:i,libraries:l=[],mapIds:a,nonce:c,region:u,retries:f=3,url:d="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=s,this.client=r,this.id=o||Ti,this.language=i,this.libraries=l,this.mapIds=a,this.nonce=c,this.region=u,this.retries=f,this.url=d,this.version=g,Ft.instance){if(!Kh(this.options,Ft.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Ft.instance.options)}`);return Ft.instance}Ft.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?on.FAILURE:this.done?on.SUCCESS:this.loading?on.LOADING:on.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(s=>{s?n(s.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}const s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(o=>!s[o]&&delete s[o]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(o=>{let i,l,a,c="The Google Maps JavaScript API",u="google",f="importLibrary",d="__ib__",g=document,y=window;y=y[u]||(y[u]={});const R=y.maps||(y.maps={}),N=new Set,A=new URLSearchParams,v=()=>i||(i=new Promise((m,b)=>Hh(this,void 0,void 0,function*(){var w;yield l=g.createElement("script"),l.id=this.id,A.set("libraries",[...N]+"");for(a in o)A.set(a.replace(/[A-Z]/g,C=>"_"+C[0].toLowerCase()),o[a]);A.set("callback",u+".maps."+d),l.src=this.url+"?"+A,R[d]=m,l.onerror=()=>i=b(Error(c+" could not load.")),l.nonce=this.nonce||((w=g.querySelector("script[nonce]"))===null||w===void 0?void 0:w.nonce)||"",g.head.append(l)})));R[f]?console.warn(c+" only loads once. Ignoring:",o):R[f]=(m,...b)=>N.add(m)&&v().then(()=>R[f](m,...b))})(s);const r=this.libraries.map(o=>this.importLibrary(o));r.length||r.push(this.importLibrary("core")),Promise.all(r).then(()=>this.callback(),o=>{const i=new ErrorEvent("error",{error:o});this.loadErrorCallback(i)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}function qh(e){return class extends e.OverlayView{constructor(t){super(),Si(this,"element"),Si(this,"opts");const{element:n,...s}=t;this.element=n,this.opts=s,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof e.LatLng?this.opts.position:new e.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const t=this.element;return t.style.display!=="none"&&t.style.visibility!=="hidden"&&(t.style.opacity===""||Number(t.style.opacity)>.01)}onAdd(){if(!this.element)return;const t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const t=this.getProjection(),n=t==null?void 0:t.fromLatLngToDivPixel(this.getPosition());if(n){this.element.style.position="absolute";const s=this.element.offsetHeight,r=this.element.offsetWidth;let o,i;switch(this.opts.anchorPoint){case"TOP_CENTER":o=n.x-r/2,i=n.y;break;case"BOTTOM_CENTER":o=n.x-r/2,i=n.y-s;break;case"LEFT_CENTER":o=n.x,i=n.y-s/2;break;case"RIGHT_CENTER":o=n.x-r,i=n.y-s/2;break;case"TOP_LEFT":o=n.x,i=n.y;break;case"TOP_RIGHT":o=n.x-r,i=n.y;break;case"BOTTOM_LEFT":o=n.x,i=n.y-s;break;case"BOTTOM_RIGHT":o=n.x-r,i=n.y-s;break;default:o=n.x-r/2,i=n.y-s/2}this.element.style.left=o+"px",this.element.style.top=i+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(t){const{element:n,...s}=t;this.element=n,this.opts=s,this.draw()}}}let Oi;const ki=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],Gh=Qt({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:ki,setup(e,{emit:t}){const n=Ce(),s=Ce(!1),r=Ce(),o=Ce(),i=Ce(!1);Ot(Ba,r),Ot(ja,o),Ot(Dh,i);const l=()=>{const f={...e};Object.keys(f).forEach(y=>{f[y]===void 0&&delete f[y]});const d=y=>{var R;return y?{position:(R=o.value)==null?void 0:R.ControlPosition[y]}:{}},g={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:d(e.panControlPosition),zoomControlOptions:d(e.zoomControlPosition),rotateControlOptions:d(e.rotateControlPosition),streetViewControlOptions:d(e.streetViewControlPosition),fullscreenControlOptions:d(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi};return{...f,...g}},a=ft([o,r],([f,d])=>{const g=f,y=d;g&&y&&(g.event.addListenerOnce(y,"tilesloaded",()=>{i.value=!0}),setTimeout(a,0))},{immediate:!0}),c=()=>{try{const{apiKey:f,region:d,version:g,language:y,libraries:R,nonce:N}=e;Oi=new Ft({apiKey:f,region:d,version:g,language:y,libraries:R,nonce:N})}catch(f){console.error(f)}},u=f=>{o.value=ct(f.maps),r.value=ct(new f.maps.Map(n.value,l()));const d=qh(o.value);o.value[Zs]=d,ki.forEach(y=>{var R;(R=r.value)==null||R.addListener(y,N=>t(y,N))}),s.value=!0;const g=Object.keys(e).filter(y=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(y)).map(y=>nl(e,y));ft([()=>e.center,()=>e.zoom,...g],([y,R],[N,A])=>{var v,m,b;const{center:w,zoom:C,...F}=l();(v=r.value)==null||v.setOptions(F),R!==void 0&&R!==A&&((m=r.value)==null||m.setZoom(R));const M=!N||y.lng!==N.lng||y.lat!==N.lat;y&&M&&((b=r.value)==null||b.panTo(y))})};return En(()=>{e.apiPromise&&e.apiPromise instanceof Promise?e.apiPromise.then(u):(c(),Oi.load().then(u))}),Sn(()=>{var f;i.value=!1,r.value&&((f=o.value)==null||f.event.clearInstanceListeners(r.value))}),{mapRef:n,ready:s,map:r,api:o,mapTilesLoaded:i}}}),Ua=(e,t)=>{const n=e.__vccOpts||e;for(const[s,r]of t)n[s]=r;return n},zh={ref:"mapRef",class:"mapdiv"};function Wh(e,t,n,s,r,o){return ee(),se("div",null,[k("div",zh,null,512),so(e.$slots,"default",Mi(lo({ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded})),void 0,!0)])}const Jh=Ua(Gh,[["render",Wh],["__scopeId","data-v-dbf82c40"]]);function Yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zh=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,r,o;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(r=s;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),s=o.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=s;r--!==0;){var i=o[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Qh=Yh(Zh),Xh=e=>e==="Marker",em=e=>e===Zs,tm=(e,t,n,s)=>{const r=Ce(),o=De(Ba,Ce()),i=De(ja,Ce()),l=De(Uh,Ce()),a=ke(()=>!!(l.value&&i.value&&(r.value instanceof i.value.Marker||r.value instanceof i.value[Zs])));return ft([o,n],(c,[u,f])=>{var d,g,y;const R=!Qh(n.value,f)||o.value!==u;!o.value||!i.value||!R||(r.value?(r.value.setOptions(n.value),a.value&&((d=l.value)==null||d.removeMarker(r.value),(g=l.value)==null||g.addMarker(r.value))):(Xh(e)?r.value=ct(new i.value[e](n.value)):em(e)?r.value=ct(new i.value[e](n.value)):r.value=ct(new i.value[e]({...n.value,map:o.value})),a.value?(y=l.value)==null||y.addMarker(r.value):r.value.setMap(o.value),t.forEach(N=>{var A;(A=r.value)==null||A.addListener(N,v=>s(N,v))})))},{immediate:!0}),Sn(()=>{var c,u;r.value&&((c=i.value)==null||c.event.clearInstanceListeners(r.value),a.value?(u=l.value)==null||u.removeMarker(r.value):r.value.setMap(null))}),r};Va.concat(["bounds_changed"]);Va.concat(["center_changed","radius_changed"]);var Ir;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Ir||(Ir={}));Object.values(Ir);const nm=Qt({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(e,{slots:t,emit:n,expose:s}){const r=Ce(),o=ke(()=>{var a;return(a=t.default)==null?void 0:a.call(t).some(c=>c.type!==xe)}),i=ke(()=>({...e.options,element:r.value})),l=tm(Zs,[],i,n);return s({customMarker:l}),{customMarkerRef:r,customMarker:l,hasSlotContent:o}}}),sm={key:0,class:"custom-marker-wrapper"};function rm(e,t,n,s,r,o){return e.hasSlotContent?(ee(),se("div",sm,[k("div",uo({ref:"customMarkerRef",style:{cursor:e.$attrs.onClick?"pointer":void 0}},e.$attrs),[so(e.$slots,"default",{},void 0,!0)],16)])):Re("",!0)}const Ri=Ua(nm,[["render",rm],["__scopeId","data-v-2d2d343a"]]),om={key:0},im={key:0},lm={style:{"text-align":"center"},class:"hover:cursor-pointer"},am={key:1},cm={style:{"text-align":"center"},class:"hover:cursor-pointer"},um={props:{user:{type:Object},onLine:{type:Boolean}},data(){return{googleMapsApiKey:"AIzaSyDXjC1FcOxhFWaPYaPqA4jnjocup7wr0fw",mapZoom:2,mapCenter:{lat:33,lng:44},latitude:"",longitude:"",userPosition:{},markerOptions:{},ownLocationRequested:!1,selectedLocationMarkerOptions:{},selectedLocationCenter:{lat:0,lng:0},selectedLocation:!1}},methods:{async getMyLocation(){try{const e=await $a();this.latitude=e.coords.latitude,this.longitude=e.coords.longitude,this.userPosition={lat:this.latitude,lng:this.longitude},this.markerOptions={position:this.userPosition,label:"U",title:"Current Location"},this.mapCenter=this.userPosition,this.mapZoom=12,this.ownLocationRequested=!0}catch(e){console.error("Error getting location:",e)}},handleMapClick(e){const t=e.latLng,n=t.lat(),s=t.lng();this.selectedLocationCenter={lat:n,lng:s},this.selectedLocation=!0,this.selectedLocationMarkerOptions={position:this.selectedLocationCenter},this.mapCenter=this.selectedLocationCenter}}},fm=Object.assign(um,{__name:"MapView",setup(e){return(t,n)=>{const s=Pt("v-icon");return e.onLine?(ee(),se("section",om,[k("button",{class:"mt-12 px-2 py-2 rounded-sm border border-red-400 bg-slate-50",onClick:n[0]||(n[0]=(...r)=>t.getMyLocation&&t.getMyLocation(...r))},"My location"),te(qe(Jh),{"api-key":t.googleMapsApiKey,style:{width:"100%",height:"75vh"},center:t.mapCenter,zoom:t.mapZoom,onClick:t.handleMapClick},{default:st(()=>[t.ownLocationRequested?(ee(),se("div",im,[te(qe(Ri),{options:t.markerOptions},{default:st(()=>[k("div",lm,[te(s,{name:"fa-map-marker-alt",scale:"2",fill:"red"})])]),_:1},8,["options"])])):Re("",!0),t.selectedLocation?(ee(),se("div",am,[te(qe(Ri),{options:t.selectedLocationMarkerOptions},{default:st(()=>[k("div",cm,[te(s,{name:"fa-map-marker-alt",scale:"2",fill:"orange"})])]),_:1},8,["options"])])):Re("",!0)]),_:1},8,["api-key","center","zoom","onClick"])])):Re("",!0)}}}),dm={props:{user:{type:Object},onLine:{type:Boolean}},components:{},data(){return{username:"",password:"",incorrectCredentials:!1,errorMessage:"",editingName:!1,editedName:this.user.name}},methods:{async login(){try{await this.user.apiLogin(this.username,this.password),this.incorrectCredentials=!1,this.$toast.success("Login successful"),this.$router.push("/")}catch(e){console.log(e.status),e.status===401?(this.incorrectCredentials=!0,this.errorMessage="Incorrect username or password"):e.status===404?(this.incorrectCredentials=!0,this.errorMessage="User not found"):console.log("Other error:",e)}},editName(){this.editingName=!0},async saveName(){if(this.editedName!=this.user.name)try{await this.user.apiEditUser(this.editedName),this.$toast.success("Profile updated")}catch(e){console.log(e.status),e.status===401?this.$toast.error("Error updating profile"):console.log("Other error:",e)}this.editingName=!1}}},pm={key:0,class:"mt-12 pt-6"},hm={class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},mm=k("label",{class:"block uppercase text-white text-sm mb-2",for:"username"},"Username",-1),gm=k("label",{class:"block uppercase text-white text-sm mb-2",for:"password"},"Password",-1),ym={key:0,class:"text-red-500 text-sm mb-3"},bm={class:"mt-5 max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},_m=k("label",{class:"block uppercase text-white text-sm mb-2",for:"username"},"Not registered?",-1),vm=k("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-4 rounded w-full"},"Create an account",-1),wm={key:1,class:"mt-12 pt-6 pb-4"},Cm={class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},xm={class:"flex justify-between mb-2"},Em={class:"flex"},Sm=k("label",{class:"block uppercase text-white text-sm",for:"username"},"Username:",-1),Tm={class:"px-4 text-sm"},Om={class:"flex mb-2"},km=k("label",{class:"block uppercase text-white text-sm",for:"password"},"Name:",-1),Rm={key:0,class:"px-4 text-sm"},Pm={key:1,class:"px-4"},Lm={key:2},Am=k("div",{class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"}," Previous updates ",-1),Mm=[Am];function Nm(e,t,n,s,r,o){const i=Pt("RouterLink"),l=Pt("v-icon");return ee(),se(ye,null,[!n.user.loggedIn&&n.onLine?(ee(),se("section",pm,[k("div",hm,[mm,Ye(k("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",id:"username",type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>r.username=a)},null,512),[[Ke,r.username]]),gm,Ye(k("input",{class:Ie(["shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",{"mb-3":!r.incorrectCredentials}]),id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>r.password=a)},null,2),[[Ke,r.password]]),r.incorrectCredentials?(ee(),se("span",ym,"["+St(r.errorMessage)+"]",1)):Re("",!0),k("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-4 rounded",onClick:t[2]||(t[2]=(...a)=>o.login&&o.login(...a))},"Sign in")]),k("div",bm,[_m,te(i,{to:"/register"},{default:st(()=>[vm]),_:1})])])):Re("",!0),n.user.loggedIn&&n.onLine?(ee(),se("section",wm,[k("div",Cm,[k("div",xm,[k("div",Em,[Sm,k("p",Tm,St(n.user.username),1)]),r.editingName?(ee(),yn(l,{key:1,name:"fa-save",class:"hover:cursor-pointer",onClick:o.saveName},null,8,["onClick"])):(ee(),yn(l,{key:0,name:"fa-edit",class:"hover:cursor-pointer",onClick:o.editName},null,8,["onClick"]))]),k("div",Om,[km,r.editingName?(ee(),se("div",Pm,[Ye(k("input",{class:"bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[3]||(t[3]=a=>r.editedName=a)},null,512),[[Ke,r.editedName]])])):(ee(),se("p",Rm,St(n.user.name),1))])])])):Re("",!0),n.user.loggedIn&&n.onLine?(ee(),se("section",Lm,Mm)):Re("",!0)],64)}const Im=Xt(dm,[["render",Nm]]),Fm={emits:["submitRegistration"],props:{usernameInUse:{type:Boolean}},data(){return{name:"",username:"",password:"",password2:""}},methods:{submitForm(){const e={name:this.name,username:this.username,password:this.password};console.log("submit form"),this.$emit("submitRegistration",e)},checkDisabledButton(){return!this.name||!this.username||!this.password||!this.password2||this.checkPassword()},checkPassword(){return this.password2&&this.password!=this.password2}}},$m={class:"pt-3"},Bm={class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},jm=k("label",{class:"block uppercase text-white font-semibold mb-2"}," Register ",-1),Vm={class:"w-full mb-3"},Um=k("label",{class:"block uppercase text-white text-sm mb-2",for:"name"}," Name ",-1),Dm=k("label",{class:"block uppercase text-white text-sm mb-2",for:"username"}," Username ",-1),Hm={key:0,class:"text-red-500 mb-3"},Km=k("label",{class:"block uppercase text-white text-sm mb-2",for:"password"}," Password ",-1),qm=k("label",{class:"block uppercase text-white text-sm mb-2",for:"password2"}," Re-enter Password ",-1),Gm={key:1,class:"text-red-500 text-sm"},zm=["disabled"];function Wm(e,t,n,s,r,o){return ee(),se("section",$m,[k("div",Bm,[jm,k("div",Vm,[Um,Ye(k("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",id:"name",type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>r.name=i)},null,512),[[Ke,r.name]]),Dm,Ye(k("input",{class:Ie(["sshadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",{"mb-3":!n.usernameInUse}]),id:"username",type:"text","onUpdate:modelValue":t[1]||(t[1]=i=>r.username=i)},null,2),[[Ke,r.username]]),n.usernameInUse?(ee(),se("span",Hm,"[Username already taken]")):Re("",!0),Km,Ye(k("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=i=>r.password=i)},null,512),[[Ke,r.password]]),qm,Ye(k("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",id:"password2",type:"password","onUpdate:modelValue":t[3]||(t[3]=i=>r.password2=i)},null,512),[[Ke,r.password2]]),o.checkPassword()?(ee(),se("span",Gm,"[Passwords must match]")):Re("",!0)]),k("button",{class:Ie(["bg-orange-500 text-white font-bold py-1 px-4 rounded",o.checkDisabledButton()?"opacity-50":"hover:bg-orange-600 hover:cursor-pointer"]),onClick:t[4]||(t[4]=(...i)=>o.submitForm&&o.submitForm(...i)),disabled:o.checkDisabledButton()},"Sign Up ",10,zm)])])}const Jm=Xt(Fm,[["render",Wm]]),Ym={props:{user:{type:Object},onLine:{type:Boolean}},components:{RegisterUser:Jm},data(){return{usernameInUse:!1}},methods:{async submitRegistration(e){try{this.usernameInUse=!1;const t=await this.user.api_register(e)}catch(t){console.log(t.status),t.status===409?this.usernameInUse=!0:console.log("Other error:",t)}}}},Zm={key:0,class:"mt-12 px-3 py-3 block uppercase text-white text-md font-bold bg-slate-400 text-center"},Qm={class:"mt-12 mb-16 pt-3 bg-black"};function Xm(e,t,n,s,r,o){const i=Pt("RegisterUser");return ee(),se(ye,null,[n.onLine?Re("",!0):(ee(),se("div",Zm," No accesss in offline mode ")),k("section",Qm,[!n.user.logged_in||!n.onLine?(ee(),yn(i,{key:0,onSubmitRegistration:o.submitRegistration,usernameInUse:r.usernameInUse},null,8,["onSubmitRegistration","usernameInUse"])):Re("",!0)])],64)}const eg=Xt(Ym,[["render",Xm]]),tg=bp({history:Wd("/"),routes:[{path:"/",name:"home",component:Bh},{path:"/map",name:"map",component:fm},{path:"/profile",name:"profile",component:Im},{path:"/register",name:"register",component:eg}]}),Qs=ba(rh);Qs.use(fd());Qs.use(tg);Qs.use(yd,{position:"top-right",duration:3e3});Qs.mount("#app");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtQkJlX2NlMU0uanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AdnVlL3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AdnVlL3JlYWN0aXZpdHkvZGlzdC9yZWFjdGl2aXR5LmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUucnVudGltZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9waW5pYS9ub2RlX21vZHVsZXMvdnVlLWRlbWkvbGliL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9waW5pYS9kaXN0L3BpbmlhLm1qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy92dWUtdG9hc3Qtbm90aWZpY2F0aW9uL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9ub2RlX21vZHVsZXMvdnVlLXJvdXRlci9kaXN0L3Z1ZS1yb3V0ZXIubWpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3N0b3Jlcy9Vc2VyLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2Fzc2V0cy9zdmcvZm9ybS5zdmciLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9Nb2JpbGVOYXZCYXIudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvTW9iaWxlSGVhZGVyLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9zdG9yZXMvb2ZmbGluZVdvcmtlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9BcHAudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvQm9pbGVycGxhdGVGb3JtLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9jb21wb25lbnRzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3N0b3Jlcy9nZW9Mb2NhdGlvbi5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy92aWV3cy9TZW5kVXBkYXRlLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy92dWUzLWdvb2dsZS1tYXAvZGlzdC9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvdmlld3MvTWFwVmlldy52dWUiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvdmlld3MvVXNlclByb2ZpbGUudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvUmVnaXN0ZXJVc2VyLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy92aWV3cy9SZWdpc3RlclZpZXcudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3JvdXRlci9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiBAdnVlL3NoYXJlZCB2My40LjIxXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5mdW5jdGlvbiBtYWtlTWFwKHN0ciwgZXhwZWN0c0xvd2VyQ2FzZSkge1xuICBjb25zdCBzZXQgPSBuZXcgU2V0KHN0ci5zcGxpdChcIixcIikpO1xuICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZSA/ICh2YWwpID0+IHNldC5oYXModmFsLnRvTG93ZXJDYXNlKCkpIDogKHZhbCkgPT4gc2V0Lmhhcyh2YWwpO1xufVxuXG5jb25zdCBFTVBUWV9PQkogPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gT2JqZWN0LmZyZWV6ZSh7fSkgOiB7fTtcbmNvbnN0IEVNUFRZX0FSUiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKFtdKSA6IFtdO1xuY29uc3QgTk9PUCA9ICgpID0+IHtcbn07XG5jb25zdCBOTyA9ICgpID0+IGZhbHNlO1xuY29uc3QgaXNPbiA9IChrZXkpID0+IGtleS5jaGFyQ29kZUF0KDApID09PSAxMTEgJiYga2V5LmNoYXJDb2RlQXQoMSkgPT09IDExMCAmJiAvLyB1cHBlcmNhc2UgbGV0dGVyXG4oa2V5LmNoYXJDb2RlQXQoMikgPiAxMjIgfHwga2V5LmNoYXJDb2RlQXQoMikgPCA5Nyk7XG5jb25zdCBpc01vZGVsTGlzdGVuZXIgPSAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChcIm9uVXBkYXRlOlwiKTtcbmNvbnN0IGV4dGVuZCA9IE9iamVjdC5hc3NpZ247XG5jb25zdCByZW1vdmUgPSAoYXJyLCBlbCkgPT4ge1xuICBjb25zdCBpID0gYXJyLmluZGV4T2YoZWwpO1xuICBpZiAoaSA+IC0xKSB7XG4gICAgYXJyLnNwbGljZShpLCAxKTtcbiAgfVxufTtcbmNvbnN0IGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzTWFwID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBNYXBdXCI7XG5jb25zdCBpc1NldCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgU2V0XVwiO1xuY29uc3QgaXNEYXRlID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xuY29uc3QgaXNSZWdFeHAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IFJlZ0V4cF1cIjtcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcImZ1bmN0aW9uXCI7XG5jb25zdCBpc1N0cmluZyA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCI7XG5jb25zdCBpc1N5bWJvbCA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3ltYm9sXCI7XG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHZhbCAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSBcIm9iamVjdFwiO1xuY29uc3QgaXNQcm9taXNlID0gKHZhbCkgPT4ge1xuICByZXR1cm4gKGlzT2JqZWN0KHZhbCkgfHwgaXNGdW5jdGlvbih2YWwpKSAmJiBpc0Z1bmN0aW9uKHZhbC50aGVuKSAmJiBpc0Z1bmN0aW9uKHZhbC5jYXRjaCk7XG59O1xuY29uc3Qgb2JqZWN0VG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgdG9UeXBlU3RyaW5nID0gKHZhbHVlKSA9PiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbmNvbnN0IHRvUmF3VHlwZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gdG9UeXBlU3RyaW5nKHZhbHVlKS5zbGljZSg4LCAtMSk7XG59O1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xuY29uc3QgaXNJbnRlZ2VyS2V5ID0gKGtleSkgPT4gaXNTdHJpbmcoa2V5KSAmJiBrZXkgIT09IFwiTmFOXCIgJiYga2V5WzBdICE9PSBcIi1cIiAmJiBcIlwiICsgcGFyc2VJbnQoa2V5LCAxMCkgPT09IGtleTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcm9wID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIC8vIHRoZSBsZWFkaW5nIGNvbW1hIGlzIGludGVudGlvbmFsIHNvIGVtcHR5IHN0cmluZyBcIlwiIGlzIGFsc28gaW5jbHVkZWRcbiAgXCIsa2V5LHJlZixyZWZfZm9yLHJlZl9rZXksb25Wbm9kZUJlZm9yZU1vdW50LG9uVm5vZGVNb3VudGVkLG9uVm5vZGVCZWZvcmVVcGRhdGUsb25Wbm9kZVVwZGF0ZWQsb25Wbm9kZUJlZm9yZVVubW91bnQsb25Wbm9kZVVubW91bnRlZFwiXG4pO1xuY29uc3QgaXNCdWlsdEluRGlyZWN0aXZlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiYmluZCxjbG9hayxlbHNlLWlmLGVsc2UsZm9yLGh0bWwsaWYsbW9kZWwsb24sb25jZSxwcmUsc2hvdyxzbG90LHRleHQsbWVtb1wiXG4pO1xuY29uc3QgY2FjaGVTdHJpbmdGdW5jdGlvbiA9IChmbikgPT4ge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHN0cikgPT4ge1xuICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xuICB9O1xufTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IGMgPyBjLnRvVXBwZXJDYXNlKCkgOiBcIlwiKTtcbn0pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICByZXR1cm4gcztcbn0pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKGFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuXG5jb25zdCBQYXRjaEZsYWdzID0ge1xuICBcIlRFWFRcIjogMSxcbiAgXCIxXCI6IFwiVEVYVFwiLFxuICBcIkNMQVNTXCI6IDIsXG4gIFwiMlwiOiBcIkNMQVNTXCIsXG4gIFwiU1RZTEVcIjogNCxcbiAgXCI0XCI6IFwiU1RZTEVcIixcbiAgXCJQUk9QU1wiOiA4LFxuICBcIjhcIjogXCJQUk9QU1wiLFxuICBcIkZVTExfUFJPUFNcIjogMTYsXG4gIFwiMTZcIjogXCJGVUxMX1BST1BTXCIsXG4gIFwiTkVFRF9IWURSQVRJT05cIjogMzIsXG4gIFwiMzJcIjogXCJORUVEX0hZRFJBVElPTlwiLFxuICBcIlNUQUJMRV9GUkFHTUVOVFwiOiA2NCxcbiAgXCI2NFwiOiBcIlNUQUJMRV9GUkFHTUVOVFwiLFxuICBcIktFWUVEX0ZSQUdNRU5UXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJLRVlFRF9GUkFHTUVOVFwiLFxuICBcIlVOS0VZRURfRlJBR01FTlRcIjogMjU2LFxuICBcIjI1NlwiOiBcIlVOS0VZRURfRlJBR01FTlRcIixcbiAgXCJORUVEX1BBVENIXCI6IDUxMixcbiAgXCI1MTJcIjogXCJORUVEX1BBVENIXCIsXG4gIFwiRFlOQU1JQ19TTE9UU1wiOiAxMDI0LFxuICBcIjEwMjRcIjogXCJEWU5BTUlDX1NMT1RTXCIsXG4gIFwiREVWX1JPT1RfRlJBR01FTlRcIjogMjA0OCxcbiAgXCIyMDQ4XCI6IFwiREVWX1JPT1RfRlJBR01FTlRcIixcbiAgXCJIT0lTVEVEXCI6IC0xLFxuICBcIi0xXCI6IFwiSE9JU1RFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgSE9JU1RFRGAsXG4gIFstMl06IGBCQUlMYFxufTtcblxuY29uc3QgU2hhcGVGbGFncyA9IHtcbiAgXCJFTEVNRU5UXCI6IDEsXG4gIFwiMVwiOiBcIkVMRU1FTlRcIixcbiAgXCJGVU5DVElPTkFMX0NPTVBPTkVOVFwiOiAyLFxuICBcIjJcIjogXCJGVU5DVElPTkFMX0NPTVBPTkVOVFwiLFxuICBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiOiA0LFxuICBcIjRcIjogXCJTVEFURUZVTF9DT01QT05FTlRcIixcbiAgXCJURVhUX0NISUxEUkVOXCI6IDgsXG4gIFwiOFwiOiBcIlRFWFRfQ0hJTERSRU5cIixcbiAgXCJBUlJBWV9DSElMRFJFTlwiOiAxNixcbiAgXCIxNlwiOiBcIkFSUkFZX0NISUxEUkVOXCIsXG4gIFwiU0xPVFNfQ0hJTERSRU5cIjogMzIsXG4gIFwiMzJcIjogXCJTTE9UU19DSElMRFJFTlwiLFxuICBcIlRFTEVQT1JUXCI6IDY0LFxuICBcIjY0XCI6IFwiVEVMRVBPUlRcIixcbiAgXCJTVVNQRU5TRVwiOiAxMjgsXG4gIFwiMTI4XCI6IFwiU1VTUEVOU0VcIixcbiAgXCJDT01QT05FTlRfU0hPVUxEX0tFRVBfQUxJVkVcIjogMjU2LFxuICBcIjI1NlwiOiBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiLFxuICBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCI6IDUxMixcbiAgXCI1MTJcIjogXCJDT01QT05FTlRfS0VQVF9BTElWRVwiLFxuICBcIkNPTVBPTkVOVFwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRcIlxufTtcblxuY29uc3QgU2xvdEZsYWdzID0ge1xuICBcIlNUQUJMRVwiOiAxLFxuICBcIjFcIjogXCJTVEFCTEVcIixcbiAgXCJEWU5BTUlDXCI6IDIsXG4gIFwiMlwiOiBcIkRZTkFNSUNcIixcbiAgXCJGT1JXQVJERURcIjogMyxcbiAgXCIzXCI6IFwiRk9SV0FSREVEXCJcbn07XG5jb25zdCBzbG90RmxhZ3NUZXh0ID0ge1xuICBbMV06IFwiU1RBQkxFXCIsXG4gIFsyXTogXCJEWU5BTUlDXCIsXG4gIFszXTogXCJGT1JXQVJERURcIlxufTtcblxuY29uc3QgR0xPQkFMU19BTExPV0VEID0gXCJJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLHBhcnNlRmxvYXQscGFyc2VJbnQsZGVjb2RlVVJJLGRlY29kZVVSSUNvbXBvbmVudCxlbmNvZGVVUkksZW5jb2RlVVJJQ29tcG9uZW50LE1hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCxCaWdJbnQsY29uc29sZSxFcnJvclwiO1xuY29uc3QgaXNHbG9iYWxseUFsbG93ZWQgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChHTE9CQUxTX0FMTE9XRUQpO1xuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gaXNHbG9iYWxseUFsbG93ZWQ7XG5cbmNvbnN0IHJhbmdlID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gIGxldCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvKFxccj9cXG4pLyk7XG4gIGNvbnN0IG5ld2xpbmVTZXF1ZW5jZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMSk7XG4gIGxpbmVzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDApO1xuICBsZXQgY291bnQgPSAwO1xuICBjb25zdCByZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIChuZXdsaW5lU2VxdWVuY2VzW2ldICYmIG5ld2xpbmVTZXF1ZW5jZXNbaV0ubGVuZ3RoIHx8IDApO1xuICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xuICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xuICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcbiAgICAgICAgcmVzLnB1c2goXG4gICAgICAgICAgYCR7bGluZX0ke1wiIFwiLnJlcGVhdChNYXRoLm1heCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCwgMCkpfXwgICR7bGluZXNbal19YFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xuICAgICAgICBjb25zdCBuZXdMaW5lU2VxTGVuZ3RoID0gbmV3bGluZVNlcXVlbmNlc1tqXSAmJiBuZXdsaW5lU2VxdWVuY2VzW2pdLmxlbmd0aCB8fCAwO1xuICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgIGNvbnN0IHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gKGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoKSk7XG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnRcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgXCIgXCIucmVwZWF0KHBhZCkgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHtcbiAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XG4gICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiXlwiLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlKHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtpXTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBpc1N0cmluZyhpdGVtKSA/IHBhcnNlU3RyaW5nU3R5bGUoaXRlbSkgOiBub3JtYWxpemVTdHlsZShpdGVtKTtcbiAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbmNvbnN0IGxpc3REZWxpbWl0ZXJSRSA9IC87KD8hW14oXSpcXCkpL2c7XG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooW15dKykvO1xuY29uc3Qgc3R5bGVDb21tZW50UkUgPSAvXFwvXFwqW15dKj9cXCpcXC8vZztcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgY3NzVGV4dC5yZXBsYWNlKHN0eWxlQ29tbWVudFJFLCBcIlwiKS5zcGxpdChsaXN0RGVsaW1pdGVyUkUpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlclJFKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XG4gIGxldCByZXQgPSBcIlwiO1xuICBpZiAoIXN0eWxlcyB8fCBpc1N0cmluZyhzdHlsZXMpKSB7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkuc3RhcnRzV2l0aChgLS1gKSA/IGtleSA6IGh5cGhlbmF0ZShrZXkpO1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XG4gIGxldCByZXMgPSBcIlwiO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmVzID0gdmFsdWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWVbbmFtZV0pIHtcbiAgICAgICAgcmVzICs9IG5hbWUgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICBpZiAoIXByb3BzKVxuICAgIHJldHVybiBudWxsO1xuICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcbiAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgfVxuICBpZiAoc3R5bGUpIHtcbiAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5cbmNvbnN0IEhUTUxfVEFHUyA9IFwiaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaGdyb3VwLGgxLGgyLGgzLGg0LGg1LGg2LG5hdixzZWN0aW9uLGRpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LHN1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3RcIjtcbmNvbnN0IFNWR19UQUdTID0gXCJzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlcixmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLGZlRGlzdGFudExpZ2h0LGZlRHJvcFNoYWRvdyxmZUZsb29kLGZlRnVuY0EsZmVGdW5jQixmZUZ1bmNHLGZlRnVuY1IsZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCxmZVBvaW50TGlnaHQsZmVTcGVjdWxhckxpZ2h0aW5nLGZlU3BvdExpZ2h0LGZlVGlsZSxmZVR1cmJ1bGVuY2UsZmlsdGVyLGZvcmVpZ25PYmplY3QsZyxoYXRjaCxoYXRjaHBhdGgsaW1hZ2UsbGluZSxsaW5lYXJHcmFkaWVudCxtYXJrZXIsbWFzayxtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4scG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHNldCxzb2xpZGNvbG9yLHN0b3Asc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRQYXRoLHRpdGxlLHRzcGFuLHVua25vd24sdXNlLHZpZXdcIjtcbmNvbnN0IE1BVEhfVEFHUyA9IFwiYW5ub3RhdGlvbixhbm5vdGF0aW9uLXhtbCxtYWN0aW9uLG1hbGlnbmdyb3VwLG1hbGlnbm1hcmssbWF0aCxtZW5jbG9zZSxtZXJyb3IsbWZlbmNlZCxtZnJhYyxtZnJhY3Rpb24sbWdseXBoLG1pLG1sYWJlbGVkdHIsbWxvbmdkaXYsbW11bHRpc2NyaXB0cyxtbixtbyxtb3ZlcixtcGFkZGVkLG1waGFudG9tLG1wcmVzY3JpcHRzLG1yb290LG1yb3csbXMsbXNjYXJyaWVzLG1zY2FycnksbXNncm91cCxtc2xpbmUsbXNwYWNlLG1zcXJ0LG1zcm93LG1zdGFjayxtc3R5bGUsbXN1Yixtc3Vic3VwLG1zdXAsbXRhYmxlLG10ZCxtdGV4dCxtdHIsbXVuZGVyLG11bmRlcm92ZXIsbm9uZSxzZW1hbnRpY3NcIjtcbmNvbnN0IFZPSURfVEFHUyA9IFwiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnJcIjtcbmNvbnN0IGlzSFRNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKEhUTUxfVEFHUyk7XG5jb25zdCBpc1NWR1RhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFNWR19UQUdTKTtcbmNvbnN0IGlzTWF0aE1MVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoTUFUSF9UQUdTKTtcbmNvbnN0IGlzVm9pZFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IHNwZWNpYWxCb29sZWFuQXR0cnMgPSBgaXRlbXNjb3BlLGFsbG93ZnVsbHNjcmVlbixmb3Jtbm92YWxpZGF0ZSxpc21hcCxub21vZHVsZSxub3ZhbGlkYXRlLHJlYWRvbmx5YDtcbmNvbnN0IGlzU3BlY2lhbEJvb2xlYW5BdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyk7XG5jb25zdCBpc0Jvb2xlYW5BdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIHNwZWNpYWxCb29sZWFuQXR0cnMgKyBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixpbmVydCxsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgXG4pO1xuZnVuY3Rpb24gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlIHx8IHZhbHVlID09PSBcIlwiO1xufVxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xuY29uc3QgYXR0clZhbGlkYXRpb25DYWNoZSA9IHt9O1xuZnVuY3Rpb24gaXNTU1JTYWZlQXR0ck5hbWUobmFtZSkge1xuICBpZiAoYXR0clZhbGlkYXRpb25DYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdO1xuICB9XG4gIGNvbnN0IGlzVW5zYWZlID0gdW5zYWZlQXR0ckNoYXJSRS50ZXN0KG5hbWUpO1xuICBpZiAoaXNVbnNhZmUpIHtcbiAgICBjb25zb2xlLmVycm9yKGB1bnNhZmUgYXR0cmlidXRlIG5hbWU6ICR7bmFtZX1gKTtcbiAgfVxuICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXSA9ICFpc1Vuc2FmZTtcbn1cbmNvbnN0IHByb3BzVG9BdHRyTWFwID0ge1xuICBhY2NlcHRDaGFyc2V0OiBcImFjY2VwdC1jaGFyc2V0XCIsXG4gIGNsYXNzTmFtZTogXCJjbGFzc1wiLFxuICBodG1sRm9yOiBcImZvclwiLFxuICBodHRwRXF1aXY6IFwiaHR0cC1lcXVpdlwiXG59O1xuY29uc3QgaXNLbm93bkh0bWxBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGBhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbGxvdyxhbHQsYXN5bmMsYXV0b2NhcGl0YWxpemUsYXV0b2NvbXBsZXRlLGF1dG9mb2N1cyxhdXRvcGxheSxiYWNrZ3JvdW5kLGJnY29sb3IsYm9yZGVyLGJ1ZmZlcmVkLGNhcHR1cmUsY2hhbGxlbmdlLGNoYXJzZXQsY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGNvb3Jkcyxjcm9zc29yaWdpbixjc3AsZGF0YSxkYXRldGltZSxkZWNvZGluZyxkZWZhdWx0LGRlZmVyLGRpcixkaXJuYW1lLGRpc2FibGVkLGRvd25sb2FkLGRyYWdnYWJsZSxkcm9wem9uZSxlbmN0eXBlLGVudGVya2V5aGludCxmb3IsZm9ybSxmb3JtYWN0aW9uLGZvcm1lbmN0eXBlLGZvcm1tZXRob2QsZm9ybW5vdmFsaWRhdGUsZm9ybXRhcmdldCxoZWFkZXJzLGhlaWdodCxoaWRkZW4saGlnaCxocmVmLGhyZWZsYW5nLGh0dHAtZXF1aXYsaWNvbixpZCxpbXBvcnRhbmNlLGluZXJ0LGludGVncml0eSxpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb2FkaW5nLGxpc3QsbG9vcCxsb3csbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtaW5sZW5ndGgsbWVkaWEsbWluLG11bHRpcGxlLG11dGVkLG5hbWUsbm92YWxpZGF0ZSxvcGVuLG9wdGltdW0scGF0dGVybixwaW5nLHBsYWNlaG9sZGVyLHBvc3RlcixwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHkscmVmZXJyZXJwb2xpY3kscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LHNjb3BlLHNjb3BlZCxzZWxlY3RlZCxzaGFwZSxzaXplLHNpemVzLHNsb3Qsc3BhbixzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsdmFsdWUsd2lkdGgsd3JhcGBcbik7XG5jb25zdCBpc0tub3duU3ZnQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgeG1sbnMsYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFsaWdubWVudC1iYXNlbGluZSxhbHBoYWJldGljLGFtcGxpdHVkZSxhcmFiaWMtZm9ybSxhc2NlbnQsYXR0cmlidXRlTmFtZSxhdHRyaWJ1dGVUeXBlLGF6aW11dGgsYmFzZUZyZXF1ZW5jeSxiYXNlbGluZS1zaGlmdCxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJpYXMsYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjbGlwLGNsaXBQYXRoVW5pdHMsY2xpcC1wYXRoLGNsaXAtcnVsZSxjb2xvcixjb2xvci1pbnRlcnBvbGF0aW9uLGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyxjb2xvci1wcm9maWxlLGNvbG9yLXJlbmRlcmluZyxjb250ZW50U2NyaXB0VHlwZSxjb250ZW50U3R5bGVUeXBlLGNyb3Nzb3JpZ2luLGN1cnNvcixjeCxjeSxkLGRlY2VsZXJhdGUsZGVzY2VudCxkaWZmdXNlQ29uc3RhbnQsZGlyZWN0aW9uLGRpc3BsYXksZGl2aXNvcixkb21pbmFudC1iYXNlbGluZSxkdXIsZHgsZHksZWRnZU1vZGUsZWxldmF0aW9uLGVuYWJsZS1iYWNrZ3JvdW5kLGVuZCxleHBvbmVudCxmaWxsLGZpbGwtb3BhY2l0eSxmaWxsLXJ1bGUsZmlsdGVyLGZpbHRlclJlcyxmaWx0ZXJVbml0cyxmbG9vZC1jb2xvcixmbG9vZC1vcGFjaXR5LGZvbnQtZmFtaWx5LGZvbnQtc2l6ZSxmb250LXNpemUtYWRqdXN0LGZvbnQtc3RyZXRjaCxmb250LXN0eWxlLGZvbnQtdmFyaWFudCxmb250LXdlaWdodCxmb3JtYXQsZnJvbSxmcixmeCxmeSxnMSxnMixnbHlwaC1uYW1lLGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwsZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwsZ2x5cGhSZWYsZ3JhZGllbnRUcmFuc2Zvcm0sZ3JhZGllbnRVbml0cyxoYW5naW5nLGhlaWdodCxocmVmLGhyZWZsYW5nLGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkLGlkZW9ncmFwaGljLGltYWdlLXJlbmRlcmluZyxpbixpbjIsaW50ZXJjZXB0LGssazEsazIsazMsazQsa2VybmVsTWF0cml4LGtlcm5lbFVuaXRMZW5ndGgsa2VybmluZyxrZXlQb2ludHMsa2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLGxlbmd0aEFkanVzdCxsZXR0ZXItc3BhY2luZyxsaWdodGluZy1jb2xvcixsaW1pdGluZ0NvbmVBbmdsZSxsb2NhbCxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXNrLG1hc2tDb250ZW50VW5pdHMsbWFza1VuaXRzLG1hdGhlbWF0aWNhbCxtYXgsbWVkaWEsbWV0aG9kLG1pbixtb2RlLG5hbWUsbnVtT2N0YXZlcyxvZmZzZXQsb3BhY2l0eSxvcGVyYXRvcixvcmRlcixvcmllbnQsb3JpZW50YXRpb24sb3JpZ2luLG92ZXJmbG93LG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYWludC1vcmRlcixwYXRoLHBhdGhMZW5ndGgscGF0dGVybkNvbnRlbnRVbml0cyxwYXR0ZXJuVHJhbnNmb3JtLHBhdHRlcm5Vbml0cyxwaW5nLHBvaW50ZXItZXZlbnRzLHBvaW50cyxwb2ludHNBdFgscG9pbnRzQXRZLHBvaW50c0F0WixwcmVzZXJ2ZUFscGhhLHByZXNlcnZlQXNwZWN0UmF0aW8scHJpbWl0aXZlVW5pdHMscixyYWRpdXMscmVmZXJyZXJQb2xpY3kscmVmWCxyZWZZLHJlbCxyZW5kZXJpbmctaW50ZW50LHJlcGVhdENvdW50LHJlcGVhdER1cixyZXF1aXJlZEV4dGVuc2lvbnMscmVxdWlyZWRGZWF0dXJlcyxyZXN0YXJ0LHJlc3VsdCxyb3RhdGUscngscnksc2NhbGUsc2VlZCxzaGFwZS1yZW5kZXJpbmcsc2xvcGUsc3BhY2luZyxzcGVjdWxhckNvbnN0YW50LHNwZWN1bGFyRXhwb25lbnQsc3BlZWQsc3ByZWFkTWV0aG9kLHN0YXJ0T2Zmc2V0LHN0ZERldmlhdGlvbixzdGVtaCxzdGVtdixzdGl0Y2hUaWxlcyxzdG9wLWNvbG9yLHN0b3Atb3BhY2l0eSxzdHJpa2V0aHJvdWdoLXBvc2l0aW9uLHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzLHN0cmluZyxzdHJva2Usc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoLHN0eWxlLHN1cmZhY2VTY2FsZSxzeXN0ZW1MYW5ndWFnZSx0YWJpbmRleCx0YWJsZVZhbHVlcyx0YXJnZXQsdGFyZ2V0WCx0YXJnZXRZLHRleHQtYW5jaG9yLHRleHQtZGVjb3JhdGlvbix0ZXh0LXJlbmRlcmluZyx0ZXh0TGVuZ3RoLHRvLHRyYW5zZm9ybSx0cmFuc2Zvcm0tb3JpZ2luLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLWJpZGksdW5pY29kZS1yYW5nZSx1bml0cy1wZXItZW0sdi1hbHBoYWJldGljLHYtaGFuZ2luZyx2LWlkZW9ncmFwaGljLHYtbWF0aGVtYXRpY2FsLHZhbHVlcyx2ZWN0b3ItZWZmZWN0LHZlcnNpb24sdmVydC1hZHYteSx2ZXJ0LW9yaWdpbi14LHZlcnQtb3JpZ2luLXksdmlld0JveCx2aWV3VGFyZ2V0LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHdvcmQtc3BhY2luZyx3cml0aW5nLW1vZGUseCx4LWhlaWdodCx4MSx4Mix4Q2hhbm5lbFNlbGVjdG9yLHhsaW5rOmFjdHVhdGUseGxpbms6YXJjcm9sZSx4bGluazpocmVmLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbG5zOnhsaW5rLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx5LHkxLHkyLHlDaGFubmVsU2VsZWN0b3Iseix6b29tQW5kUGFuYFxuKTtcbmZ1bmN0aW9uIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiO1xufVxuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICBjb25zdCBzdHIgPSBcIlwiICsgc3RyaW5nO1xuICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbGV0IGh0bWwgPSBcIlwiO1xuICBsZXQgZXNjYXBlZDtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGVkID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGVkID0gXCImZ3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBodG1sICs9IHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KTtcbiAgICB9XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICAgIGh0bWwgKz0gZXNjYXBlZDtcbiAgfVxuICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xufVxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xuICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgbGV0IGVxdWFsID0gdHJ1ZTtcbiAgZm9yIChsZXQgaSA9IDA7IGVxdWFsICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgZXF1YWwgPSBsb29zZUVxdWFsKGFbaV0sIGJbaV0pO1xuICB9XG4gIHJldHVybiBlcXVhbDtcbn1cbmZ1bmN0aW9uIGxvb3NlRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYilcbiAgICByZXR1cm4gdHJ1ZTtcbiAgbGV0IGFWYWxpZFR5cGUgPSBpc0RhdGUoYSk7XG4gIGxldCBiVmFsaWRUeXBlID0gaXNEYXRlKGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKSA6IGZhbHNlO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc1N5bWJvbChhKTtcbiAgYlZhbGlkVHlwZSA9IGlzU3ltYm9sKGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzQXJyYXkoYSk7XG4gIGJWYWxpZFR5cGUgPSBpc0FycmF5KGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgcmV0dXJuIGFWYWxpZFR5cGUgJiYgYlZhbGlkVHlwZSA/IGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSA6IGZhbHNlO1xuICB9XG4gIGFWYWxpZFR5cGUgPSBpc09iamVjdChhKTtcbiAgYlZhbGlkVHlwZSA9IGlzT2JqZWN0KGIpO1xuICBpZiAoYVZhbGlkVHlwZSB8fCBiVmFsaWRUeXBlKSB7XG4gICAgaWYgKCFhVmFsaWRUeXBlIHx8ICFiVmFsaWRUeXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGFLZXlzQ291bnQgPSBPYmplY3Qua2V5cyhhKS5sZW5ndGg7XG4gICAgY29uc3QgYktleXNDb3VudCA9IE9iamVjdC5rZXlzKGIpLmxlbmd0aDtcbiAgICBpZiAoYUtleXNDb3VudCAhPT0gYktleXNDb3VudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgICBjb25zdCBhSGFzS2V5ID0gYS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgY29uc3QgYkhhc0tleSA9IGIuaGFzT3duUHJvcGVydHkoa2V5KTtcbiAgICAgIGlmIChhSGFzS2V5ICYmICFiSGFzS2V5IHx8ICFhSGFzS2V5ICYmIGJIYXNLZXkgfHwgIWxvb3NlRXF1YWwoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhhKSA9PT0gU3RyaW5nKGIpO1xufVxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XG4gIHJldHVybiBhcnIuZmluZEluZGV4KChpdGVtKSA9PiBsb29zZUVxdWFsKGl0ZW0sIHZhbCkpO1xufVxuXG5jb25zdCB0b0Rpc3BsYXlTdHJpbmcgPSAodmFsKSA9PiB7XG4gIHJldHVybiBpc1N0cmluZyh2YWwpID8gdmFsIDogdmFsID09IG51bGwgPyBcIlwiIDogaXNBcnJheSh2YWwpIHx8IGlzT2JqZWN0KHZhbCkgJiYgKHZhbC50b1N0cmluZyA9PT0gb2JqZWN0VG9TdHJpbmcgfHwgIWlzRnVuY3Rpb24odmFsLnRvU3RyaW5nKSkgPyBKU09OLnN0cmluZ2lmeSh2YWwsIHJlcGxhY2VyLCAyKSA6IFN0cmluZyh2YWwpO1xufTtcbmNvbnN0IHJlcGxhY2VyID0gKF9rZXksIHZhbCkgPT4ge1xuICBpZiAodmFsICYmIHZhbC5fX3ZfaXNSZWYpIHtcbiAgICByZXR1cm4gcmVwbGFjZXIoX2tleSwgdmFsLnZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKFxuICAgICAgICAoZW50cmllcywgW2tleSwgdmFsMl0sIGkpID0+IHtcbiAgICAgICAgICBlbnRyaWVzW3N0cmluZ2lmeVN5bWJvbChrZXksIGkpICsgXCIgPT5cIl0gPSB2YWwyO1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV0ubWFwKCh2KSA9PiBzdHJpbmdpZnlTeW1ib2wodikpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1N5bWJvbCh2YWwpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN5bWJvbCh2YWwpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59O1xuY29uc3Qgc3RyaW5naWZ5U3ltYm9sID0gKHYsIGkgPSBcIlwiKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIGlzU3ltYm9sKHYpID8gYFN5bWJvbCgkeyhfYSA9IHYuZGVzY3JpcHRpb24pICE9IG51bGwgPyBfYSA6IGl9KWAgOiB2O1xufTtcblxuZXhwb3J0IHsgRU1QVFlfQVJSLCBFTVBUWV9PQkosIE5PLCBOT09QLCBQYXRjaEZsYWdOYW1lcywgUGF0Y2hGbGFncywgU2hhcGVGbGFncywgU2xvdEZsYWdzLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgZGVmLCBlc2NhcGVIdG1sLCBlc2NhcGVIdG1sQ29tbWVudCwgZXh0ZW5kLCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEdsb2JhbFRoaXMsIGhhc0NoYW5nZWQsIGhhc093biwgaHlwaGVuYXRlLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGludm9rZUFycmF5Rm5zLCBpc0FycmF5LCBpc0Jvb2xlYW5BdHRyLCBpc0J1aWx0SW5EaXJlY3RpdmUsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseUFsbG93ZWQsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCwgaXNIVE1MVGFnLCBpc0ludGVnZXJLZXksIGlzS25vd25IdG1sQXR0ciwgaXNLbm93blN2Z0F0dHIsIGlzTWFwLCBpc01hdGhNTFRhZywgaXNNb2RlbExpc3RlbmVyLCBpc09iamVjdCwgaXNPbiwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1JlZ0V4cCwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBpc1Jlc2VydmVkUHJvcCwgaXNTU1JTYWZlQXR0ck5hbWUsIGlzU1ZHVGFnLCBpc1NldCwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNWb2lkVGFnLCBsb29zZUVxdWFsLCBsb29zZUluZGV4T2YsIGxvb3NlVG9OdW1iZXIsIG1ha2VNYXAsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiLyoqXG4qIEB2dWUvcmVhY3Rpdml0eSB2My40LjIxXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBOT09QLCBleHRlbmQsIGlzQXJyYXksIGlzU3ltYm9sLCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBoYXNPd24sIGhhc0NoYW5nZWQsIGlzT2JqZWN0LCBtYWtlTWFwLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuZnVuY3Rpb24gd2Fybihtc2csIC4uLmFyZ3MpIHtcbiAgY29uc29sZS53YXJuKGBbVnVlIHdhcm5dICR7bXNnfWAsIC4uLmFyZ3MpO1xufVxuXG5sZXQgYWN0aXZlRWZmZWN0U2NvcGU7XG5jbGFzcyBFZmZlY3RTY29wZSB7XG4gIGNvbnN0cnVjdG9yKGRldGFjaGVkID0gZmFsc2UpIHtcbiAgICB0aGlzLmRldGFjaGVkID0gZGV0YWNoZWQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmVmZmVjdHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFudXBzID0gW107XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHJ1bihmbikge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRFZmZlY3RTY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihgY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuYCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb24oKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb2ZmKCkge1xuICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcy5wYXJlbnQ7XG4gIH1cbiAgc3RvcChmcm9tUGFyZW50KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgbGV0IGksIGw7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmRldGFjaGVkICYmIHRoaXMucGFyZW50ICYmICFmcm9tUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QgIT09IHRoaXMpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF0gPSBsYXN0O1xuICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0U2NvcGUoZGV0YWNoZWQpIHtcbiAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiByZWNvcmRFZmZlY3RTY29wZShlZmZlY3QsIHNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgaWYgKHNjb3BlICYmIHNjb3BlLmFjdGl2ZSkge1xuICAgIHNjb3BlLmVmZmVjdHMucHVzaChlZmZlY3QpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50U2NvcGUoKSB7XG4gIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcbn1cbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuKSB7XG4gIGlmIChhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgIGFjdGl2ZUVmZmVjdFNjb3BlLmNsZWFudXBzLnB1c2goZm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbn1cblxubGV0IGFjdGl2ZUVmZmVjdDtcbmNsYXNzIFJlYWN0aXZlRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoZm4sIHRyaWdnZXIsIHNjaGVkdWxlciwgc2NvcGUpIHtcbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy50cmlnZ2VyID0gdHJpZ2dlcjtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5kZXBzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fZGlydHlMZXZlbCA9IDQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fdHJhY2tJZCA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fcnVubmluZ3MgPSAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3Nob3VsZFNjaGVkdWxlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fZGVwc0xlbmd0aCA9IDA7XG4gICAgcmVjb3JkRWZmZWN0U2NvcGUodGhpcywgc2NvcGUpO1xuICB9XG4gIGdldCBkaXJ0eSgpIHtcbiAgICBpZiAodGhpcy5fZGlydHlMZXZlbCA9PT0gMiB8fCB0aGlzLl9kaXJ0eUxldmVsID09PSAzKSB7XG4gICAgICB0aGlzLl9kaXJ0eUxldmVsID0gMTtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGVwc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlcCA9IHRoaXMuZGVwc1tpXTtcbiAgICAgICAgaWYgKGRlcC5jb21wdXRlZCkge1xuICAgICAgICAgIHRyaWdnZXJDb21wdXRlZChkZXAuY29tcHV0ZWQpO1xuICAgICAgICAgIGlmICh0aGlzLl9kaXJ0eUxldmVsID49IDQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2RpcnR5TGV2ZWwgPT09IDEpIHtcbiAgICAgICAgdGhpcy5fZGlydHlMZXZlbCA9IDA7XG4gICAgICB9XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9kaXJ0eUxldmVsID49IDQ7XG4gIH1cbiAgc2V0IGRpcnR5KHYpIHtcbiAgICB0aGlzLl9kaXJ0eUxldmVsID0gdiA/IDQgOiAwO1xuICB9XG4gIHJ1bigpIHtcbiAgICB0aGlzLl9kaXJ0eUxldmVsID0gMDtcbiAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XG4gICAgICByZXR1cm4gdGhpcy5mbigpO1xuICAgIH1cbiAgICBsZXQgbGFzdFNob3VsZFRyYWNrID0gc2hvdWxkVHJhY2s7XG4gICAgbGV0IGxhc3RFZmZlY3QgPSBhY3RpdmVFZmZlY3Q7XG4gICAgdHJ5IHtcbiAgICAgIHNob3VsZFRyYWNrID0gdHJ1ZTtcbiAgICAgIGFjdGl2ZUVmZmVjdCA9IHRoaXM7XG4gICAgICB0aGlzLl9ydW5uaW5ncysrO1xuICAgICAgcHJlQ2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHBvc3RDbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgdGhpcy5fcnVubmluZ3MtLTtcbiAgICAgIGFjdGl2ZUVmZmVjdCA9IGxhc3RFZmZlY3Q7XG4gICAgICBzaG91bGRUcmFjayA9IGxhc3RTaG91bGRUcmFjaztcbiAgICB9XG4gIH1cbiAgc3RvcCgpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICBwcmVDbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgcG9zdENsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICAoX2EgPSB0aGlzLm9uU3RvcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcyk7XG4gICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlckNvbXB1dGVkKGNvbXB1dGVkKSB7XG4gIHJldHVybiBjb21wdXRlZC52YWx1ZTtcbn1cbmZ1bmN0aW9uIHByZUNsZWFudXBFZmZlY3QoZWZmZWN0Mikge1xuICBlZmZlY3QyLl90cmFja0lkKys7XG4gIGVmZmVjdDIuX2RlcHNMZW5ndGggPSAwO1xufVxuZnVuY3Rpb24gcG9zdENsZWFudXBFZmZlY3QoZWZmZWN0Mikge1xuICBpZiAoZWZmZWN0Mi5kZXBzLmxlbmd0aCA+IGVmZmVjdDIuX2RlcHNMZW5ndGgpIHtcbiAgICBmb3IgKGxldCBpID0gZWZmZWN0Mi5fZGVwc0xlbmd0aDsgaSA8IGVmZmVjdDIuZGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgY2xlYW51cERlcEVmZmVjdChlZmZlY3QyLmRlcHNbaV0sIGVmZmVjdDIpO1xuICAgIH1cbiAgICBlZmZlY3QyLmRlcHMubGVuZ3RoID0gZWZmZWN0Mi5fZGVwc0xlbmd0aDtcbiAgfVxufVxuZnVuY3Rpb24gY2xlYW51cERlcEVmZmVjdChkZXAsIGVmZmVjdDIpIHtcbiAgY29uc3QgdHJhY2tJZCA9IGRlcC5nZXQoZWZmZWN0Mik7XG4gIGlmICh0cmFja0lkICE9PSB2b2lkIDAgJiYgZWZmZWN0Mi5fdHJhY2tJZCAhPT0gdHJhY2tJZCkge1xuICAgIGRlcC5kZWxldGUoZWZmZWN0Mik7XG4gICAgaWYgKGRlcC5zaXplID09PSAwKSB7XG4gICAgICBkZXAuY2xlYW51cCgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0KGZuLCBvcHRpb25zKSB7XG4gIGlmIChmbi5lZmZlY3QgaW5zdGFuY2VvZiBSZWFjdGl2ZUVmZmVjdCkge1xuICAgIGZuID0gZm4uZWZmZWN0LmZuO1xuICB9XG4gIGNvbnN0IF9lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZm4sIE5PT1AsICgpID0+IHtcbiAgICBpZiAoX2VmZmVjdC5kaXJ0eSkge1xuICAgICAgX2VmZmVjdC5ydW4oKTtcbiAgICB9XG4gIH0pO1xuICBpZiAob3B0aW9ucykge1xuICAgIGV4dGVuZChfZWZmZWN0LCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5zY29wZSlcbiAgICAgIHJlY29yZEVmZmVjdFNjb3BlKF9lZmZlY3QsIG9wdGlvbnMuc2NvcGUpO1xuICB9XG4gIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5sYXp5KSB7XG4gICAgX2VmZmVjdC5ydW4oKTtcbiAgfVxuICBjb25zdCBydW5uZXIgPSBfZWZmZWN0LnJ1bi5iaW5kKF9lZmZlY3QpO1xuICBydW5uZXIuZWZmZWN0ID0gX2VmZmVjdDtcbiAgcmV0dXJuIHJ1bm5lcjtcbn1cbmZ1bmN0aW9uIHN0b3AocnVubmVyKSB7XG4gIHJ1bm5lci5lZmZlY3Quc3RvcCgpO1xufVxubGV0IHNob3VsZFRyYWNrID0gdHJ1ZTtcbmxldCBwYXVzZVNjaGVkdWxlU3RhY2sgPSAwO1xuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG59XG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xuICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcbiAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB2b2lkIDAgPyB0cnVlIDogbGFzdDtcbn1cbmZ1bmN0aW9uIHBhdXNlU2NoZWR1bGluZygpIHtcbiAgcGF1c2VTY2hlZHVsZVN0YWNrKys7XG59XG5mdW5jdGlvbiByZXNldFNjaGVkdWxpbmcoKSB7XG4gIHBhdXNlU2NoZWR1bGVTdGFjay0tO1xuICB3aGlsZSAoIXBhdXNlU2NoZWR1bGVTdGFjayAmJiBxdWV1ZUVmZmVjdFNjaGVkdWxlcnMubGVuZ3RoKSB7XG4gICAgcXVldWVFZmZlY3RTY2hlZHVsZXJzLnNoaWZ0KCkoKTtcbiAgfVxufVxuZnVuY3Rpb24gdHJhY2tFZmZlY3QoZWZmZWN0MiwgZGVwLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gIHZhciBfYTtcbiAgaWYgKGRlcC5nZXQoZWZmZWN0MikgIT09IGVmZmVjdDIuX3RyYWNrSWQpIHtcbiAgICBkZXAuc2V0KGVmZmVjdDIsIGVmZmVjdDIuX3RyYWNrSWQpO1xuICAgIGNvbnN0IG9sZERlcCA9IGVmZmVjdDIuZGVwc1tlZmZlY3QyLl9kZXBzTGVuZ3RoXTtcbiAgICBpZiAob2xkRGVwICE9PSBkZXApIHtcbiAgICAgIGlmIChvbGREZXApIHtcbiAgICAgICAgY2xlYW51cERlcEVmZmVjdChvbGREZXAsIGVmZmVjdDIpO1xuICAgICAgfVxuICAgICAgZWZmZWN0Mi5kZXBzW2VmZmVjdDIuX2RlcHNMZW5ndGgrK10gPSBkZXA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVmZmVjdDIuX2RlcHNMZW5ndGgrKztcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIChfYSA9IGVmZmVjdDIub25UcmFjaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoZWZmZWN0MiwgZXh0ZW5kKHsgZWZmZWN0OiBlZmZlY3QyIH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IHF1ZXVlRWZmZWN0U2NoZWR1bGVycyA9IFtdO1xuZnVuY3Rpb24gdHJpZ2dlckVmZmVjdHMoZGVwLCBkaXJ0eUxldmVsLCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSB7XG4gIHZhciBfYTtcbiAgcGF1c2VTY2hlZHVsaW5nKCk7XG4gIGZvciAoY29uc3QgZWZmZWN0MiBvZiBkZXAua2V5cygpKSB7XG4gICAgbGV0IHRyYWNraW5nO1xuICAgIGlmIChlZmZlY3QyLl9kaXJ0eUxldmVsIDwgZGlydHlMZXZlbCAmJiAodHJhY2tpbmcgIT0gbnVsbCA/IHRyYWNraW5nIDogdHJhY2tpbmcgPSBkZXAuZ2V0KGVmZmVjdDIpID09PSBlZmZlY3QyLl90cmFja0lkKSkge1xuICAgICAgZWZmZWN0Mi5fc2hvdWxkU2NoZWR1bGUgfHwgKGVmZmVjdDIuX3Nob3VsZFNjaGVkdWxlID0gZWZmZWN0Mi5fZGlydHlMZXZlbCA9PT0gMCk7XG4gICAgICBlZmZlY3QyLl9kaXJ0eUxldmVsID0gZGlydHlMZXZlbDtcbiAgICB9XG4gICAgaWYgKGVmZmVjdDIuX3Nob3VsZFNjaGVkdWxlICYmICh0cmFja2luZyAhPSBudWxsID8gdHJhY2tpbmcgOiB0cmFja2luZyA9IGRlcC5nZXQoZWZmZWN0MikgPT09IGVmZmVjdDIuX3RyYWNrSWQpKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAoX2EgPSBlZmZlY3QyLm9uVHJpZ2dlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoZWZmZWN0MiwgZXh0ZW5kKHsgZWZmZWN0OiBlZmZlY3QyIH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICAgIH1cbiAgICAgIGVmZmVjdDIudHJpZ2dlcigpO1xuICAgICAgaWYgKCghZWZmZWN0Mi5fcnVubmluZ3MgfHwgZWZmZWN0Mi5hbGxvd1JlY3Vyc2UpICYmIGVmZmVjdDIuX2RpcnR5TGV2ZWwgIT09IDIpIHtcbiAgICAgICAgZWZmZWN0Mi5fc2hvdWxkU2NoZWR1bGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVmZmVjdDIuc2NoZWR1bGVyKSB7XG4gICAgICAgICAgcXVldWVFZmZlY3RTY2hlZHVsZXJzLnB1c2goZWZmZWN0Mi5zY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlc2V0U2NoZWR1bGluZygpO1xufVxuXG5jb25zdCBjcmVhdGVEZXAgPSAoY2xlYW51cCwgY29tcHV0ZWQpID0+IHtcbiAgY29uc3QgZGVwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZGVwLmNsZWFudXAgPSBjbGVhbnVwO1xuICBkZXAuY29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgcmV0dXJuIGRlcDtcbn07XG5cbmNvbnN0IHRhcmdldE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiaXRlcmF0ZVwiIDogXCJcIik7XG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk1hcCBrZXkgaXRlcmF0ZVwiIDogXCJcIik7XG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xuICBpZiAoc2hvdWxkVHJhY2sgJiYgYWN0aXZlRWZmZWN0KSB7XG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFkZXBzTWFwKSB7XG4gICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgZGVwc01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcbiAgICBpZiAoIWRlcCkge1xuICAgICAgZGVwc01hcC5zZXQoa2V5LCBkZXAgPSBjcmVhdGVEZXAoKCkgPT4gZGVwc01hcC5kZWxldGUoa2V5KSkpO1xuICAgIH1cbiAgICB0cmFja0VmZmVjdChcbiAgICAgIGFjdGl2ZUVmZmVjdCxcbiAgICAgIGRlcCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5XG4gICAgICB9IDogdm9pZCAwXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKCFkZXBzTWFwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBkZXBzID0gW107XG4gIGlmICh0eXBlID09PSBcImNsZWFyXCIpIHtcbiAgICBkZXBzID0gWy4uLmRlcHNNYXAudmFsdWVzKCldO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJsZW5ndGhcIiAmJiBpc0FycmF5KHRhcmdldCkpIHtcbiAgICBjb25zdCBuZXdMZW5ndGggPSBOdW1iZXIobmV3VmFsdWUpO1xuICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkyKSA9PiB7XG4gICAgICBpZiAoa2V5MiA9PT0gXCJsZW5ndGhcIiB8fCAhaXNTeW1ib2woa2V5MikgJiYga2V5MiA+PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgZGVwcy5wdXNoKGRlcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XG4gICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc0ludGVnZXJLZXkoa2V5KSkge1xuICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChcImxlbmd0aFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNldFwiOlxuICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBwYXVzZVNjaGVkdWxpbmcoKTtcbiAgZm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuICAgIGlmIChkZXApIHtcbiAgICAgIHRyaWdnZXJFZmZlY3RzKFxuICAgICAgICBkZXAsXG4gICAgICAgIDQsXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICB9IDogdm9pZCAwXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXNldFNjaGVkdWxpbmcoKTtcbn1cbmZ1bmN0aW9uIGdldERlcEZyb21SZWFjdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSB0YXJnZXRNYXAuZ2V0KG9iamVjdCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXQoa2V5KTtcbn1cblxuY29uc3QgaXNOb25UcmFja2FibGVLZXlzID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoYF9fcHJvdG9fXyxfX3ZfaXNSZWYsX19pc1Z1ZWApO1xuY29uc3QgYnVpbHRJblN5bWJvbHMgPSBuZXcgU2V0KFxuICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sKS5maWx0ZXIoKGtleSkgPT4ga2V5ICE9PSBcImFyZ3VtZW50c1wiICYmIGtleSAhPT0gXCJjYWxsZXJcIikubWFwKChrZXkpID0+IFN5bWJvbFtrZXldKS5maWx0ZXIoaXNTeW1ib2wpXG4pO1xuY29uc3QgYXJyYXlJbnN0cnVtZW50YXRpb25zID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUFycmF5SW5zdHJ1bWVudGF0aW9ucygpO1xuZnVuY3Rpb24gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCkge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0ge307XG4gIFtcImluY2x1ZGVzXCIsIFwiaW5kZXhPZlwiLCBcImxhc3RJbmRleE9mXCJdLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGluc3RydW1lbnRhdGlvbnNba2V5XSA9IGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgIGNvbnN0IGFyciA9IHRvUmF3KHRoaXMpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0cmFjayhhcnIsIFwiZ2V0XCIsIGkgKyBcIlwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlcyA9IGFycltrZXldKC4uLmFyZ3MpO1xuICAgICAgaWYgKHJlcyA9PT0gLTEgfHwgcmVzID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYXJyW2tleV0oLi4uYXJncy5tYXAodG9SYXcpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIFtcInB1c2hcIiwgXCJwb3BcIiwgXCJzaGlmdFwiLCBcInVuc2hpZnRcIiwgXCJzcGxpY2VcIl0uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgcGF1c2VTY2hlZHVsaW5nKCk7XG4gICAgICBjb25zdCByZXMgPSB0b1Jhdyh0aGlzKVtrZXldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgcmVzZXRTY2hlZHVsaW5nKCk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gaW5zdHJ1bWVudGF0aW9ucztcbn1cbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KGtleSkge1xuICBjb25zdCBvYmogPSB0b1Jhdyh0aGlzKTtcbiAgdHJhY2sob2JqLCBcImhhc1wiLCBrZXkpO1xuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KGtleSk7XG59XG5jbGFzcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoX2lzUmVhZG9ubHkgPSBmYWxzZSwgX2lzU2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgdGhpcy5faXNSZWFkb25seSA9IF9pc1JlYWRvbmx5O1xuICAgIHRoaXMuX2lzU2hhbGxvdyA9IF9pc1NoYWxsb3c7XG4gIH1cbiAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgIGNvbnN0IGlzUmVhZG9ubHkyID0gdGhpcy5faXNSZWFkb25seSwgaXNTaGFsbG93MiA9IHRoaXMuX2lzU2hhbGxvdztcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1NoYWxsb3dcIikge1xuICAgICAgcmV0dXJuIGlzU2hhbGxvdzI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICBpZiAocmVjZWl2ZXIgPT09IChpc1JlYWRvbmx5MiA/IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhZG9ubHlNYXAgOiByZWFkb25seU1hcCA6IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhY3RpdmVNYXAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkgfHwgLy8gcmVjZWl2ZXIgaXMgbm90IHRoZSByZWFjdGl2ZSBwcm94eSwgYnV0IGhhcyB0aGUgc2FtZSBwcm90b3R5cGVcbiAgICAgIC8vIHRoaXMgbWVhbnMgdGhlIHJlY2lldmVyIGlzIGEgdXNlciBwcm94eSBvZiB0aGUgcmVhY3RpdmUgcHJveHlcbiAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVjZWl2ZXIpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgaWYgKCFpc1JlYWRvbmx5Mikge1xuICAgICAgaWYgKHRhcmdldElzQXJyYXkgJiYgaGFzT3duKGFycmF5SW5zdHJ1bWVudGF0aW9ucywga2V5KSkge1xuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXksIHJlY2VpdmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwiaGFzT3duUHJvcGVydHlcIikge1xuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgaWYgKGlzU3ltYm9sKGtleSkgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KSA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1NoYWxsb3cyKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoaXNSZWYocmVzKSkge1xuICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoIXRoaXMuX2lzU2hhbGxvdykge1xuICAgICAgY29uc3QgaXNPbGRWYWx1ZVJlYWRvbmx5ID0gaXNSZWFkb25seShvbGRWYWx1ZSk7XG4gICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIGlmIChpc09sZFZhbHVlUmVhZG9ubHkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGggOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKFxuICAgICAgdGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0FycmF5KHRhcmdldCkgPyBcImxlbmd0aFwiIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxufVxuY2xhc3MgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoaXNTaGFsbG93MiA9IGZhbHNlKSB7XG4gICAgc3VwZXIodHJ1ZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKFxuICB0cnVlXG4pO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGdldCh0YXJnZXQsIGtleSwgaXNSZWFkb25seSA9IGZhbHNlLCBpc1NoYWxsb3cgPSBmYWxzZSkge1xuICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCJdO1xuICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCByYXdLZXkpO1xuICB9XG4gIGNvbnN0IHsgaGFzOiBoYXMyIH0gPSBnZXRQcm90byhyYXdUYXJnZXQpO1xuICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICBpZiAoaGFzMi5jYWxsKHJhd1RhcmdldCwga2V5KSkge1xuICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gIH0gZWxzZSBpZiAoaGFzMi5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQocmF3S2V5KSk7XG4gIH0gZWxzZSBpZiAodGFyZ2V0ICE9PSByYXdUYXJnZXQpIHtcbiAgICB0YXJnZXQuZ2V0KGtleSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhcyhrZXksIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgaWYgKCFpc1JlYWRvbmx5KSB7XG4gICAgaWYgKGhhc0NoYW5nZWQoa2V5LCByYXdLZXkpKSB7XG4gICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIGtleSk7XG4gICAgfVxuICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwgcmF3S2V5KTtcbiAgfVxuICByZXR1cm4ga2V5ID09PSByYXdLZXkgPyB0YXJnZXQuaGFzKGtleSkgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xufVxuZnVuY3Rpb24gc2l6ZSh0YXJnZXQsIGlzUmVhZG9ubHkgPSBmYWxzZSkge1xuICB0YXJnZXQgPSB0YXJnZXRbXCJfX3ZfcmF3XCJdO1xuICAhaXNSZWFkb25seSAmJiB0cmFjayh0b1Jhdyh0YXJnZXQpLCBcIml0ZXJhdGVcIiwgSVRFUkFURV9LRVkpO1xuICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBcInNpemVcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIGFkZCh2YWx1ZSkge1xuICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gIGlmICghaGFkS2V5KSB7XG4gICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIHZhbHVlLCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5mdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gIGNvbnN0IHsgaGFzOiBoYXMyLCBnZXQ6IGdldDIgfSA9IGdldFByb3RvKHRhcmdldCk7XG4gIGxldCBoYWRLZXkgPSBoYXMyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICBpZiAoIWhhZEtleSkge1xuICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgaGFkS2V5ID0gaGFzMi5jYWxsKHRhcmdldCwga2V5KTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY2hlY2tJZGVudGl0eUtleXModGFyZ2V0LCBoYXMyLCBrZXkpO1xuICB9XG4gIGNvbnN0IG9sZFZhbHVlID0gZ2V0Mi5jYWxsKHRhcmdldCwga2V5KTtcbiAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgaWYgKCFoYWRLZXkpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbmZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGtleSkge1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgeyBoYXM6IGhhczIsIGdldDogZ2V0MiB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgbGV0IGhhZEtleSA9IGhhczIuY2FsbCh0YXJnZXQsIGtleSk7XG4gIGlmICghaGFkS2V5KSB7XG4gICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICBoYWRLZXkgPSBoYXMyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhczIsIGtleSk7XG4gIH1cbiAgY29uc3Qgb2xkVmFsdWUgPSBnZXQyID8gZ2V0Mi5jYWxsKHRhcmdldCwga2V5KSA6IHZvaWQgMDtcbiAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICBpZiAoaGFkS2V5KSB7XG4gICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNsZWFyKCkge1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgaGFkSXRlbXMgPSB0YXJnZXQuc2l6ZSAhPT0gMDtcbiAgY29uc3Qgb2xkVGFyZ2V0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGlzTWFwKHRhcmdldCkgPyBuZXcgTWFwKHRhcmdldCkgOiBuZXcgU2V0KHRhcmdldCkgOiB2b2lkIDA7XG4gIGNvbnN0IHJlc3VsdCA9IHRhcmdldC5jbGVhcigpO1xuICBpZiAoaGFkSXRlbXMpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJjbGVhclwiLCB2b2lkIDAsIHZvaWQgMCwgb2xkVGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY3JlYXRlRm9yRWFjaChpc1JlYWRvbmx5LCBpc1NoYWxsb3cpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBjb25zdCBvYnNlcnZlZCA9IHRoaXM7XG4gICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgcmV0dXJuIHRhcmdldC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICByZXR1cm4gY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB3cmFwKHZhbHVlKSwgd3JhcChrZXkpLCBvYnNlcnZlZCk7XG4gICAgfSk7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgY29uc3QgdGFyZ2V0SXNNYXAgPSBpc01hcChyYXdUYXJnZXQpO1xuICAgIGNvbnN0IGlzUGFpciA9IG1ldGhvZCA9PT0gXCJlbnRyaWVzXCIgfHwgbWV0aG9kID09PSBTeW1ib2wuaXRlcmF0b3IgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaXNLZXlPbmx5ID0gbWV0aG9kID09PSBcImtleXNcIiAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpbm5lckl0ZXJhdG9yID0gdGFyZ2V0W21ldGhvZF0oLi4uYXJncyk7XG4gICAgY29uc3Qgd3JhcCA9IGlzU2hhbGxvdyA/IHRvU2hhbGxvdyA6IGlzUmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seSAmJiB0cmFjayhcbiAgICAgIHJhd1RhcmdldCxcbiAgICAgIFwiaXRlcmF0ZVwiLFxuICAgICAgaXNLZXlPbmx5ID8gTUFQX0tFWV9JVEVSQVRFX0tFWSA6IElURVJBVEVfS0VZXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gaXRlcmF0b3IgcHJvdG9jb2xcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGlubmVySXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gZG9uZSA/IHsgdmFsdWUsIGRvbmUgfSA6IHtcbiAgICAgICAgICB2YWx1ZTogaXNQYWlyID8gW3dyYXAodmFsdWVbMF0pLCB3cmFwKHZhbHVlWzFdKV0gOiB3cmFwKHZhbHVlKSxcbiAgICAgICAgICBkb25lXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgLy8gaXRlcmFibGUgcHJvdG9jb2xcbiAgICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHlNZXRob2QodHlwZSkge1xuICByZXR1cm4gZnVuY3Rpb24oLi4uYXJncykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjb25zdCBrZXkgPSBhcmdzWzBdID8gYG9uIGtleSBcIiR7YXJnc1swXX1cIiBgIDogYGA7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYXBpdGFsaXplKHR5cGUpfSBvcGVyYXRpb24gJHtrZXl9ZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdG9SYXcodGhpcylcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0eXBlID09PSBcImRlbGV0ZVwiID8gZmFsc2UgOiB0eXBlID09PSBcImNsZWFyXCIgPyB2b2lkIDAgOiB0aGlzO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucygpIHtcbiAgY29uc3QgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMyID0ge1xuICAgIGdldChrZXkpIHtcbiAgICAgIHJldHVybiBnZXQodGhpcywga2V5KTtcbiAgICB9LFxuICAgIGdldCBzaXplKCkge1xuICAgICAgcmV0dXJuIHNpemUodGhpcyk7XG4gICAgfSxcbiAgICBoYXMsXG4gICAgYWRkLFxuICAgIHNldCxcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxuICAgIGNsZWFyLFxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIGZhbHNlKVxuICB9O1xuICBjb25zdCBzaGFsbG93SW5zdHJ1bWVudGF0aW9uczIgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCBrZXksIGZhbHNlLCB0cnVlKTtcbiAgICB9LFxuICAgIGdldCBzaXplKCkge1xuICAgICAgcmV0dXJuIHNpemUodGhpcyk7XG4gICAgfSxcbiAgICBoYXMsXG4gICAgYWRkLFxuICAgIHNldCxcbiAgICBkZWxldGU6IGRlbGV0ZUVudHJ5LFxuICAgIGNsZWFyLFxuICAgIGZvckVhY2g6IGNyZWF0ZUZvckVhY2goZmFsc2UsIHRydWUpXG4gIH07XG4gIGNvbnN0IHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCBrZXksIHRydWUpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBoYXMuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xuICAgIH0sXG4gICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiKSxcbiAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIpLFxuICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiksXG4gICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiksXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCBmYWxzZSlcbiAgfTtcbiAgY29uc3Qgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCBrZXksIHRydWUsIHRydWUpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzLCB0cnVlKTtcbiAgICB9LFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBoYXMuY2FsbCh0aGlzLCBrZXksIHRydWUpO1xuICAgIH0sXG4gICAgYWRkOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImFkZFwiKSxcbiAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIpLFxuICAgIGRlbGV0ZTogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJkZWxldGVcIiksXG4gICAgY2xlYXI6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiY2xlYXJcIiksXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaCh0cnVlLCB0cnVlKVxuICB9O1xuICBjb25zdCBpdGVyYXRvck1ldGhvZHMgPSBbXCJrZXlzXCIsIFwidmFsdWVzXCIsIFwiZW50cmllc1wiLCBTeW1ib2wuaXRlcmF0b3JdO1xuICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMyW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChcbiAgICAgIG1ldGhvZCxcbiAgICAgIGZhbHNlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczJbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKFxuICAgICAgbWV0aG9kLFxuICAgICAgdHJ1ZSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBzaGFsbG93SW5zdHJ1bWVudGF0aW9uczJbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKFxuICAgICAgbWV0aG9kLFxuICAgICAgZmFsc2UsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICB0cnVlLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0pO1xuICByZXR1cm4gW1xuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zMixcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnMyLFxuICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMixcbiAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlxuICBdO1xufVxuY29uc3QgW1xuICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyxcbiAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zLFxuICBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyxcbiAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xuXSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seSwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvdyA/IGlzUmVhZG9ubHkgPyBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIDogc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgOiBpc1JlYWRvbmx5ID8gcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIDogbXV0YWJsZUluc3RydW1lbnRhdGlvbnM7XG4gIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5nZXQoXG4gICAgICBoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0ID8gaW5zdHJ1bWVudGF0aW9ucyA6IHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIHJlY2VpdmVyXG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxufTtcbmNvbnN0IHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgdHJ1ZSlcbn07XG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhczIsIGtleSkge1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAocmF3S2V5ICE9PSBrZXkgJiYgaGFzMi5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICB3YXJuKFxuICAgICAgYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XG4gICAgY2FzZSBcIk1hcFwiOlxuICAgIGNhc2UgXCJTZXRcIjpcbiAgICBjYXNlIFwiV2Vha01hcFwiOlxuICAgIGNhc2UgXCJXZWFrU2V0XCI6XG4gICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCJdIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSA/IDAgLyogSU5WQUxJRCAqLyA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBtdXRhYmxlSGFuZGxlcnMsXG4gICAgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLFxuICAgIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHJlYWRvbmx5SGFuZGxlcnMsXG4gICAgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seTIsIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihgdmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhY3RpdmU6ICR7U3RyaW5nKHRhcmdldCl9YCk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgaWYgKHRhcmdldFtcIl9fdl9yYXdcIl0gJiYgIShpc1JlYWRvbmx5MiAmJiB0YXJnZXRbXCJfX3ZfaXNSZWFjdGl2ZVwiXSkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IGV4aXN0aW5nUHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKGV4aXN0aW5nUHJveHkpIHtcbiAgICByZXR1cm4gZXhpc3RpbmdQcm94eTtcbiAgfVxuICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xuICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBJTlZBTElEICovKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShcbiAgICB0YXJnZXQsXG4gICAgdGFyZ2V0VHlwZSA9PT0gMiAvKiBDT0xMRUNUSU9OICovID8gY29sbGVjdGlvbkhhbmRsZXJzIDogYmFzZUhhbmRsZXJzXG4gICk7XG4gIHByb3h5TWFwLnNldCh0YXJnZXQsIHByb3h5KTtcbiAgcmV0dXJuIHByb3h5O1xufVxuZnVuY3Rpb24gaXNSZWFjdGl2ZSh2YWx1ZSkge1xuICBpZiAoaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZVtcIl9fdl9yYXdcIl0pO1xuICB9XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWN0aXZlXCJdKTtcbn1cbmZ1bmN0aW9uIGlzUmVhZG9ubHkodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhZG9ubHlcIl0pO1xufVxuZnVuY3Rpb24gaXNTaGFsbG93KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1NoYWxsb3dcIl0pO1xufVxuZnVuY3Rpb24gaXNQcm94eSh2YWx1ZSkge1xuICByZXR1cm4gaXNSZWFjdGl2ZSh2YWx1ZSkgfHwgaXNSZWFkb25seSh2YWx1ZSk7XG59XG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xuICBjb25zdCByYXcgPSBvYnNlcnZlZCAmJiBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XG59XG5mdW5jdGlvbiBtYXJrUmF3KHZhbHVlKSB7XG4gIGlmIChPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSkge1xuICAgIGRlZih2YWx1ZSwgXCJfX3Zfc2tpcFwiLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCB0b1JlYWN0aXZlID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFjdGl2ZSh2YWx1ZSkgOiB2YWx1ZTtcbmNvbnN0IHRvUmVhZG9ubHkgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWRvbmx5KHZhbHVlKSA6IHZhbHVlO1xuXG5jb25zdCBDT01QVVRFRF9TSURFX0VGRkVDVF9XQVJOID0gYENvbXB1dGVkIGlzIHN0aWxsIGRpcnR5IGFmdGVyIGdldHRlciBldmFsdWF0aW9uLCBsaWtlbHkgYmVjYXVzZSBhIGNvbXB1dGVkIGlzIG11dGF0aW5nIGl0cyBvd24gZGVwZW5kZW5jeSBpbiBpdHMgZ2V0dGVyLiBTdGF0ZSBtdXRhdGlvbnMgaW4gY29tcHV0ZWQgZ2V0dGVycyBzaG91bGQgYmUgYXZvaWRlZC4gIENoZWNrIHRoZSBkb2NzIGZvciBtb3JlIGRldGFpbHM6IGh0dHBzOi8vdnVlanMub3JnL2d1aWRlL2Vzc2VudGlhbHMvY29tcHV0ZWQuaHRtbCNnZXR0ZXJzLXNob3VsZC1iZS1zaWRlLWVmZmVjdC1mcmVlYDtcbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGdldHRlciwgX3NldHRlciwgaXNSZWFkb25seSwgaXNTU1IpIHtcbiAgICB0aGlzLmdldHRlciA9IGdldHRlcjtcbiAgICB0aGlzLl9zZXR0ZXIgPSBfc2V0dGVyO1xuICAgIHRoaXMuZGVwID0gdm9pZCAwO1xuICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSBmYWxzZTtcbiAgICB0aGlzLmVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChcbiAgICAgICgpID0+IGdldHRlcih0aGlzLl92YWx1ZSksXG4gICAgICAoKSA9PiB0cmlnZ2VyUmVmVmFsdWUoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRoaXMuZWZmZWN0Ll9kaXJ0eUxldmVsID09PSAyID8gMiA6IDNcbiAgICAgIClcbiAgICApO1xuICAgIHRoaXMuZWZmZWN0LmNvbXB1dGVkID0gdGhpcztcbiAgICB0aGlzLmVmZmVjdC5hY3RpdmUgPSB0aGlzLl9jYWNoZWFibGUgPSAhaXNTU1I7XG4gICAgdGhpc1tcIl9fdl9pc1JlYWRvbmx5XCJdID0gaXNSZWFkb25seTtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRvUmF3KHRoaXMpO1xuICAgIGlmICgoIXNlbGYuX2NhY2hlYWJsZSB8fCBzZWxmLmVmZmVjdC5kaXJ0eSkgJiYgaGFzQ2hhbmdlZChzZWxmLl92YWx1ZSwgc2VsZi5fdmFsdWUgPSBzZWxmLmVmZmVjdC5ydW4oKSkpIHtcbiAgICAgIHRyaWdnZXJSZWZWYWx1ZShzZWxmLCA0KTtcbiAgICB9XG4gICAgdHJhY2tSZWZWYWx1ZShzZWxmKTtcbiAgICBpZiAoc2VsZi5lZmZlY3QuX2RpcnR5TGV2ZWwgPj0gMikge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdGhpcy5fd2FyblJlY3Vyc2l2ZSkge1xuICAgICAgICB3YXJuKENPTVBVVEVEX1NJREVfRUZGRUNUX1dBUk4sIGBcblxuZ2V0dGVyOiBgLCB0aGlzLmdldHRlcik7XG4gICAgICB9XG4gICAgICB0cmlnZ2VyUmVmVmFsdWUoc2VsZiwgMik7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLl92YWx1ZTtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsdWUpIHtcbiAgICB0aGlzLl9zZXR0ZXIobmV3VmFsdWUpO1xuICB9XG4gIC8vICNyZWdpb24gcG9seWZpbGwgX2RpcnR5IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHRoaXJkIHBhcnR5IGNvZGUgZm9yIFZ1ZSA8PSAzLjMueFxuICBnZXQgX2RpcnR5KCkge1xuICAgIHJldHVybiB0aGlzLmVmZmVjdC5kaXJ0eTtcbiAgfVxuICBzZXQgX2RpcnR5KHYpIHtcbiAgICB0aGlzLmVmZmVjdC5kaXJ0eSA9IHY7XG4gIH1cbiAgLy8gI2VuZHJlZ2lvblxufVxuZnVuY3Rpb24gY29tcHV0ZWQoZ2V0dGVyT3JPcHRpb25zLCBkZWJ1Z09wdGlvbnMsIGlzU1NSID0gZmFsc2UpIHtcbiAgbGV0IGdldHRlcjtcbiAgbGV0IHNldHRlcjtcbiAgY29uc3Qgb25seUdldHRlciA9IGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKTtcbiAgaWYgKG9ubHlHZXR0ZXIpIHtcbiAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnM7XG4gICAgc2V0dGVyID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/ICgpID0+IHtcbiAgICAgIHdhcm4oXCJXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seVwiKTtcbiAgICB9IDogTk9PUDtcbiAgfSBlbHNlIHtcbiAgICBnZXR0ZXIgPSBnZXR0ZXJPck9wdGlvbnMuZ2V0O1xuICAgIHNldHRlciA9IGdldHRlck9yT3B0aW9ucy5zZXQ7XG4gIH1cbiAgY29uc3QgY1JlZiA9IG5ldyBDb21wdXRlZFJlZkltcGwoZ2V0dGVyLCBzZXR0ZXIsIG9ubHlHZXR0ZXIgfHwgIXNldHRlciwgaXNTU1IpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgY1JlZi5lZmZlY3Qub25UcmFjayA9IGRlYnVnT3B0aW9ucy5vblRyYWNrO1xuICAgIGNSZWYuZWZmZWN0Lm9uVHJpZ2dlciA9IGRlYnVnT3B0aW9ucy5vblRyaWdnZXI7XG4gIH1cbiAgcmV0dXJuIGNSZWY7XG59XG5cbmZ1bmN0aW9uIHRyYWNrUmVmVmFsdWUocmVmMikge1xuICB2YXIgX2E7XG4gIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVFZmZlY3QpIHtcbiAgICByZWYyID0gdG9SYXcocmVmMik7XG4gICAgdHJhY2tFZmZlY3QoXG4gICAgICBhY3RpdmVFZmZlY3QsXG4gICAgICAoX2EgPSByZWYyLmRlcCkgIT0gbnVsbCA/IF9hIDogcmVmMi5kZXAgPSBjcmVhdGVEZXAoXG4gICAgICAgICgpID0+IHJlZjIuZGVwID0gdm9pZCAwLFxuICAgICAgICByZWYyIGluc3RhbmNlb2YgQ29tcHV0ZWRSZWZJbXBsID8gcmVmMiA6IHZvaWQgMFxuICAgICAgKSxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgIHRhcmdldDogcmVmMixcbiAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCJcbiAgICAgIH0gOiB2b2lkIDBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyUmVmVmFsdWUocmVmMiwgZGlydHlMZXZlbCA9IDQsIG5ld1ZhbCkge1xuICByZWYyID0gdG9SYXcocmVmMik7XG4gIGNvbnN0IGRlcCA9IHJlZjIuZGVwO1xuICBpZiAoZGVwKSB7XG4gICAgdHJpZ2dlckVmZmVjdHMoXG4gICAgICBkZXAsXG4gICAgICBkaXJ0eUxldmVsLFxuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgbmV3VmFsdWU6IG5ld1ZhbFxuICAgICAgfSA6IHZvaWQgMFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUmVmKHIpIHtcbiAgcmV0dXJuICEhKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xufVxuZnVuY3Rpb24gcmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWYodmFsdWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWYocmF3VmFsdWUsIHNoYWxsb3cpIHtcbiAgaWYgKGlzUmVmKHJhd1ZhbHVlKSkge1xuICAgIHJldHVybiByYXdWYWx1ZTtcbiAgfVxuICByZXR1cm4gbmV3IFJlZkltcGwocmF3VmFsdWUsIHNoYWxsb3cpO1xufVxuY2xhc3MgUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlLCBfX3ZfaXNTaGFsbG93KSB7XG4gICAgdGhpcy5fX3ZfaXNTaGFsbG93ID0gX192X2lzU2hhbGxvdztcbiAgICB0aGlzLmRlcCA9IHZvaWQgMDtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSBfX3ZfaXNTaGFsbG93ID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgdHJhY2tSZWZWYWx1ZSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIGNvbnN0IHVzZURpcmVjdFZhbHVlID0gdGhpcy5fX3ZfaXNTaGFsbG93IHx8IGlzU2hhbGxvdyhuZXdWYWwpIHx8IGlzUmVhZG9ubHkobmV3VmFsKTtcbiAgICBuZXdWYWwgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmF3KG5ld1ZhbCk7XG4gICAgaWYgKGhhc0NoYW5nZWQobmV3VmFsLCB0aGlzLl9yYXdWYWx1ZSkpIHtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsO1xuICAgICAgdGhpcy5fdmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmVhY3RpdmUobmV3VmFsKTtcbiAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzLCA0LCBuZXdWYWwpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYyKSB7XG4gIHRyaWdnZXJSZWZWYWx1ZShyZWYyLCA0LCAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gcmVmMi52YWx1ZSA6IHZvaWQgMCk7XG59XG5mdW5jdGlvbiB1bnJlZihyZWYyKSB7XG4gIHJldHVybiBpc1JlZihyZWYyKSA/IHJlZjIudmFsdWUgOiByZWYyO1xufVxuZnVuY3Rpb24gdG9WYWx1ZShzb3VyY2UpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oc291cmNlKSA/IHNvdXJjZSgpIDogdW5yZWYoc291cmNlKTtcbn1cbmNvbnN0IHNoYWxsb3dVbndyYXBIYW5kbGVycyA9IHtcbiAgZ2V0OiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB1bnJlZihSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpKSxcbiAgc2V0OiAodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikgPT4ge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgaWYgKGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcbiAgcmV0dXJuIGlzUmVhY3RpdmUob2JqZWN0V2l0aFJlZnMpID8gb2JqZWN0V2l0aFJlZnMgOiBuZXcgUHJveHkob2JqZWN0V2l0aFJlZnMsIHNoYWxsb3dVbndyYXBIYW5kbGVycyk7XG59XG5jbGFzcyBDdXN0b21SZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoZmFjdG9yeSkge1xuICAgIHRoaXMuZGVwID0gdm9pZCAwO1xuICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICBjb25zdCB7IGdldCwgc2V0IH0gPSBmYWN0b3J5KFxuICAgICAgKCkgPT4gdHJhY2tSZWZWYWx1ZSh0aGlzKSxcbiAgICAgICgpID0+IHRyaWdnZXJSZWZWYWx1ZSh0aGlzKVxuICAgICk7XG4gICAgdGhpcy5fZ2V0ID0gZ2V0O1xuICAgIHRoaXMuX3NldCA9IHNldDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldCgpO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgd2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gIH1cbiAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIHJldFtrZXldID0gcHJvcGVydHlUb1JlZihvYmplY3QsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5LCBfZGVmYXVsdFZhbHVlKSB7XG4gICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICB0aGlzLl9rZXkgPSBfa2V5O1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IF9kZWZhdWx0VmFsdWU7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XTtcbiAgICByZXR1cm4gdmFsID09PSB2b2lkIDAgPyB0aGlzLl9kZWZhdWx0VmFsdWUgOiB2YWw7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIHRoaXMuX29iamVjdFt0aGlzLl9rZXldID0gbmV3VmFsO1xuICB9XG4gIGdldCBkZXAoKSB7XG4gICAgcmV0dXJuIGdldERlcEZyb21SZWFjdGl2ZSh0b1Jhdyh0aGlzLl9vYmplY3QpLCB0aGlzLl9rZXkpO1xuICB9XG59XG5jbGFzcyBHZXR0ZXJSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoX2dldHRlcikge1xuICAgIHRoaXMuX2dldHRlciA9IF9nZXR0ZXI7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIHRoaXMuX192X2lzUmVhZG9ubHkgPSB0cnVlO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0dGVyKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgaWYgKGlzUmVmKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gc291cmNlO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xuICAgIHJldHVybiBuZXcgR2V0dGVyUmVmSW1wbChzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNvdXJjZSkgJiYgYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gcHJvcGVydHlUb1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVmKHNvdXJjZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByb3BlcnR5VG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBjb25zdCB2YWwgPSBzb3VyY2Vba2V5XTtcbiAgcmV0dXJuIGlzUmVmKHZhbCkgPyB2YWwgOiBuZXcgT2JqZWN0UmVmSW1wbChzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKTtcbn1cblxuY29uc3QgZGVmZXJyZWRDb21wdXRlZCA9IGNvbXB1dGVkO1xuXG5jb25zdCBUcmFja09wVHlwZXMgPSB7XG4gIFwiR0VUXCI6IFwiZ2V0XCIsXG4gIFwiSEFTXCI6IFwiaGFzXCIsXG4gIFwiSVRFUkFURVwiOiBcIml0ZXJhdGVcIlxufTtcbmNvbnN0IFRyaWdnZXJPcFR5cGVzID0ge1xuICBcIlNFVFwiOiBcInNldFwiLFxuICBcIkFERFwiOiBcImFkZFwiLFxuICBcIkRFTEVURVwiOiBcImRlbGV0ZVwiLFxuICBcIkNMRUFSXCI6IFwiY2xlYXJcIlxufTtcbmNvbnN0IFJlYWN0aXZlRmxhZ3MgPSB7XG4gIFwiU0tJUFwiOiBcIl9fdl9za2lwXCIsXG4gIFwiSVNfUkVBQ1RJVkVcIjogXCJfX3ZfaXNSZWFjdGl2ZVwiLFxuICBcIklTX1JFQURPTkxZXCI6IFwiX192X2lzUmVhZG9ubHlcIixcbiAgXCJJU19TSEFMTE9XXCI6IFwiX192X2lzU2hhbGxvd1wiLFxuICBcIlJBV1wiOiBcIl9fdl9yYXdcIlxufTtcblxuZXhwb3J0IHsgRWZmZWN0U2NvcGUsIElURVJBVEVfS0VZLCBSZWFjdGl2ZUVmZmVjdCwgUmVhY3RpdmVGbGFncywgVHJhY2tPcFR5cGVzLCBUcmlnZ2VyT3BUeXBlcywgY29tcHV0ZWQsIGN1c3RvbVJlZiwgZGVmZXJyZWRDb21wdXRlZCwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZW5hYmxlVHJhY2tpbmcsIGdldEN1cnJlbnRTY29wZSwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIHBhdXNlU2NoZWR1bGluZywgcGF1c2VUcmFja2luZywgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgcmVzZXRTY2hlZHVsaW5nLCByZXNldFRyYWNraW5nLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyYWNrLCB0cmlnZ2VyLCB0cmlnZ2VyUmVmLCB1bnJlZiB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1jb3JlIHYzLjQuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1JhdywgaXNTaGFsbG93LCBpc1JlYWN0aXZlLCBSZWFjdGl2ZUVmZmVjdCwgZ2V0Q3VycmVudFNjb3BlLCByZWYsIHNoYWxsb3dSZWFkb25seSwgdHJhY2ssIHJlYWN0aXZlLCBzaGFsbG93UmVhY3RpdmUsIHRyaWdnZXIsIGlzUHJveHksIHByb3h5UmVmcywgbWFya1JhdywgRWZmZWN0U2NvcGUsIGNvbXB1dGVkIGFzIGNvbXB1dGVkJDEsIGN1c3RvbVJlZiwgaXNSZWFkb25seSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBFZmZlY3RTY29wZSwgUmVhY3RpdmVFZmZlY3QsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudFNjb3BlLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvblNjb3BlRGlzcG9zZSwgcHJveHlSZWZzLCByZWFjdGl2ZSwgcmVhZG9ubHksIHJlZiwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmlnZ2VyUmVmLCB1bnJlZiB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5pbXBvcnQgeyBpc1N0cmluZywgaXNGdW5jdGlvbiwgaXNQcm9taXNlLCBpc0FycmF5LCBOT09QLCBnZXRHbG9iYWxUaGlzLCBleHRlbmQsIEVNUFRZX09CSiwgdG9IYW5kbGVyS2V5LCBsb29zZVRvTnVtYmVyLCBoeXBoZW5hdGUsIGNhbWVsaXplLCBpc09iamVjdCwgaXNPbiwgaGFzT3duLCBpc01vZGVsTGlzdGVuZXIsIGNhcGl0YWxpemUsIHRvTnVtYmVyLCBoYXNDaGFuZ2VkLCByZW1vdmUsIGlzU2V0LCBpc01hcCwgaXNQbGFpbk9iamVjdCwgaXNCdWlsdEluRGlyZWN0aXZlLCBpbnZva2VBcnJheUZucywgaXNSZWdFeHAsIGlzR2xvYmFsbHlBbGxvd2VkLCBOTywgZGVmLCBpc1Jlc2VydmVkUHJvcCwgRU1QVFlfQVJSLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIG5vcm1hbGl6ZUNsYXNzLCBzdHJpbmdpZnlTdHlsZSwgbm9ybWFsaXplU3R5bGUsIGlzS25vd25TdmdBdHRyLCBpc0Jvb2xlYW5BdHRyLCBpc0tub3duSHRtbEF0dHIsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNSZW5kZXJhYmxlQXR0clZhbHVlIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuZXhwb3J0IHsgY2FtZWxpemUsIGNhcGl0YWxpemUsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5IH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdGFjayA9IFtdO1xuZnVuY3Rpb24gcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlKSB7XG4gIHN0YWNrLnB1c2godm5vZGUpO1xufVxuZnVuY3Rpb24gcG9wV2FybmluZ0NvbnRleHQoKSB7XG4gIHN0YWNrLnBvcCgpO1xufVxuZnVuY3Rpb24gd2FybiQxKG1zZywgLi4uYXJncykge1xuICBwYXVzZVRyYWNraW5nKCk7XG4gIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcbiAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xuICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBhcHBXYXJuSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMTEsXG4gICAgICBbXG4gICAgICAgIG1zZyArIGFyZ3MubWFwKChhKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gYS50b1N0cmluZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoYSkpICE9IG51bGwgPyBfYiA6IEpTT04uc3RyaW5naWZ5KGEpO1xuICAgICAgICB9KS5qb2luKFwiXCIpLFxuICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSxcbiAgICAgICAgdHJhY2UubWFwKFxuICAgICAgICAgICh7IHZub2RlIH0pID0+IGBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCB2bm9kZS50eXBlKX0+YFxuICAgICAgICApLmpvaW4oXCJcXG5cIiksXG4gICAgICAgIHRyYWNlXG4gICAgICBdXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XG4gICAgaWYgKHRyYWNlLmxlbmd0aCAmJiAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xuICAgIHRydWUpIHtcbiAgICAgIHdhcm5BcmdzLnB1c2goYFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcbiAgfVxuICByZXNldFRyYWNraW5nKCk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAoIWN1cnJlbnRWTm9kZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XG4gICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XG4gICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXG4gICAgICAgIHJlY3Vyc2VDb3VudDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgY29uc3QgbG9ncyA9IFtdO1xuICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xuICAgIGxvZ3MucHVzaCguLi5pID09PSAwID8gW10gOiBbYFxuYF0sIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcbiAgfSk7XG4gIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xuICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcbiAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICB2bm9kZS5jb21wb25lbnQsXG4gICAgdm5vZGUudHlwZSxcbiAgICBpc1Jvb3RcbiAgKX1gO1xuICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gIHJldHVybiB2bm9kZS5wcm9wcyA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXSA6IFtvcGVuICsgY2xvc2VdO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcbiAgfSk7XG4gIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICByZXMucHVzaChgIC4uLmApO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsLCB0eXBlKSB7XG4gIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSlcbiAgICByZXR1cm47XG4gIGlmICh2YWwgPT09IHZvaWQgMCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgTmFOIC0gdGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LmApO1xuICB9XG59XG5cbmNvbnN0IEVycm9yQ29kZXMgPSB7XG4gIFwiU0VUVVBfRlVOQ1RJT05cIjogMCxcbiAgXCIwXCI6IFwiU0VUVVBfRlVOQ1RJT05cIixcbiAgXCJSRU5ERVJfRlVOQ1RJT05cIjogMSxcbiAgXCIxXCI6IFwiUkVOREVSX0ZVTkNUSU9OXCIsXG4gIFwiV0FUQ0hfR0VUVEVSXCI6IDIsXG4gIFwiMlwiOiBcIldBVENIX0dFVFRFUlwiLFxuICBcIldBVENIX0NBTExCQUNLXCI6IDMsXG4gIFwiM1wiOiBcIldBVENIX0NBTExCQUNLXCIsXG4gIFwiV0FUQ0hfQ0xFQU5VUFwiOiA0LFxuICBcIjRcIjogXCJXQVRDSF9DTEVBTlVQXCIsXG4gIFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIjogNSxcbiAgXCI1XCI6IFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiLFxuICBcIlZOT0RFX0hPT0tcIjogNyxcbiAgXCI3XCI6IFwiVk5PREVfSE9PS1wiLFxuICBcIkRJUkVDVElWRV9IT09LXCI6IDgsXG4gIFwiOFwiOiBcIkRJUkVDVElWRV9IT09LXCIsXG4gIFwiVFJBTlNJVElPTl9IT09LXCI6IDksXG4gIFwiOVwiOiBcIlRSQU5TSVRJT05fSE9PS1wiLFxuICBcIkFQUF9FUlJPUl9IQU5ETEVSXCI6IDEwLFxuICBcIjEwXCI6IFwiQVBQX0VSUk9SX0hBTkRMRVJcIixcbiAgXCJBUFBfV0FSTl9IQU5ETEVSXCI6IDExLFxuICBcIjExXCI6IFwiQVBQX1dBUk5fSEFORExFUlwiLFxuICBcIkZVTkNUSU9OX1JFRlwiOiAxMixcbiAgXCIxMlwiOiBcIkZVTkNUSU9OX1JFRlwiLFxuICBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIjogMTMsXG4gIFwiMTNcIjogXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCIsXG4gIFwiU0NIRURVTEVSXCI6IDE0LFxuICBcIjE0XCI6IFwiU0NIRURVTEVSXCJcbn07XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzJDEgPSB7XG4gIFtcInNwXCJdOiBcInNlcnZlclByZWZldGNoIGhvb2tcIixcbiAgW1wiYmNcIl06IFwiYmVmb3JlQ3JlYXRlIGhvb2tcIixcbiAgW1wiY1wiXTogXCJjcmVhdGVkIGhvb2tcIixcbiAgW1wiYm1cIl06IFwiYmVmb3JlTW91bnQgaG9va1wiLFxuICBbXCJtXCJdOiBcIm1vdW50ZWQgaG9va1wiLFxuICBbXCJidVwiXTogXCJiZWZvcmVVcGRhdGUgaG9va1wiLFxuICBbXCJ1XCJdOiBcInVwZGF0ZWRcIixcbiAgW1wiYnVtXCJdOiBcImJlZm9yZVVubW91bnQgaG9va1wiLFxuICBbXCJ1bVwiXTogXCJ1bm1vdW50ZWQgaG9va1wiLFxuICBbXCJhXCJdOiBcImFjdGl2YXRlZCBob29rXCIsXG4gIFtcImRhXCJdOiBcImRlYWN0aXZhdGVkIGhvb2tcIixcbiAgW1wiZWNcIl06IFwiZXJyb3JDYXB0dXJlZCBob29rXCIsXG4gIFtcInJ0Y1wiXTogXCJyZW5kZXJUcmFja2VkIGhvb2tcIixcbiAgW1wicnRnXCJdOiBcInJlbmRlclRyaWdnZXJlZCBob29rXCIsXG4gIFswXTogXCJzZXR1cCBmdW5jdGlvblwiLFxuICBbMV06IFwicmVuZGVyIGZ1bmN0aW9uXCIsXG4gIFsyXTogXCJ3YXRjaGVyIGdldHRlclwiLFxuICBbM106IFwid2F0Y2hlciBjYWxsYmFja1wiLFxuICBbNF06IFwid2F0Y2hlciBjbGVhbnVwIGZ1bmN0aW9uXCIsXG4gIFs1XTogXCJuYXRpdmUgZXZlbnQgaGFuZGxlclwiLFxuICBbNl06IFwiY29tcG9uZW50IGV2ZW50IGhhbmRsZXJcIixcbiAgWzddOiBcInZub2RlIGhvb2tcIixcbiAgWzhdOiBcImRpcmVjdGl2ZSBob29rXCIsXG4gIFs5XTogXCJ0cmFuc2l0aW9uIGhvb2tcIixcbiAgWzEwXTogXCJhcHAgZXJyb3JIYW5kbGVyXCIsXG4gIFsxMV06IFwiYXBwIHdhcm5IYW5kbGVyXCIsXG4gIFsxMl06IFwicmVmIGZ1bmN0aW9uXCIsXG4gIFsxM106IFwiYXN5bmMgY29tcG9uZW50IGxvYWRlclwiLFxuICBbMTRdOiBcInNjaGVkdWxlciBmbHVzaC4gVGhpcyBpcyBsaWtlbHkgYSBWdWUgaW50ZXJuYWxzIGJ1Zy4gUGxlYXNlIG9wZW4gYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL2NvcmUgLlwiXG59O1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcbiAgICAgIHJlcy5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgY29uc3QgdmFsdWVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZXMucHVzaChjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbltpXSwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpKTtcbiAgfVxuICByZXR1cm4gdmFsdWVzO1xufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgZXJyb3JJbmZvID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXSA6IGBodHRwczovL3Z1ZWpzLm9yZy9lcnJvci1yZWZlcmVuY2UvI3J1bnRpbWUtJHt0eXBlfWA7XG4gICAgd2hpbGUgKGN1cikge1xuICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xuICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgIH1cbiAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XG4gICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xuICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgICBhcHBFcnJvckhhbmRsZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIDEwLFxuICAgICAgICBbZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mb11cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcbn1cbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV07XG4gICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGNvbnRleHRWTm9kZSk7XG4gICAgfVxuICAgIHdhcm4kMShgVW5oYW5kbGVkIGVycm9yJHtpbmZvID8gYCBkdXJpbmcgZXhlY3V0aW9uIG9mICR7aW5mb31gIDogYGB9YCk7XG4gICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICB9XG4gICAgaWYgKHRocm93SW5EZXYpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxubGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbmxldCBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xuY29uc3QgcXVldWUgPSBbXTtcbmxldCBmbHVzaEluZGV4ID0gMDtcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcbiAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcbn1cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcbiAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyBlbmQgPj4+IDE7XG4gICAgY29uc3QgbWlkZGxlSm9iID0gcXVldWVbbWlkZGxlXTtcbiAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKG1pZGRsZUpvYik7XG4gICAgaWYgKG1pZGRsZUpvYklkIDwgaWQgfHwgbWlkZGxlSm9iSWQgPT09IGlkICYmIG1pZGRsZUpvYi5wcmUpIHtcbiAgICAgIHN0YXJ0ID0gbWlkZGxlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kID0gbWlkZGxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgaWYgKCFxdWV1ZS5sZW5ndGggfHwgIXF1ZXVlLmluY2x1ZGVzKFxuICAgIGpvYixcbiAgICBpc0ZsdXNoaW5nICYmIGpvYi5hbGxvd1JlY3Vyc2UgPyBmbHVzaEluZGV4ICsgMSA6IGZsdXNoSW5kZXhcbiAgKSkge1xuICAgIGlmIChqb2IuaWQgPT0gbnVsbCkge1xuICAgICAgcXVldWUucHVzaChqb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZS5zcGxpY2UoZmluZEluc2VydGlvbkluZGV4KGpvYi5pZCksIDAsIGpvYik7XG4gICAgfVxuICAgIHF1ZXVlRmx1c2goKTtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcbiAgaWYgKCFpc0ZsdXNoaW5nICYmICFpc0ZsdXNoUGVuZGluZykge1xuICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcbiAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcbiAgY29uc3QgaSA9IHF1ZXVlLmluZGV4T2Yoam9iKTtcbiAgaWYgKGkgPiBmbHVzaEluZGV4KSB7XG4gICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gIGlmICghaXNBcnJheShjYikpIHtcbiAgICBpZiAoIWFjdGl2ZVBvc3RGbHVzaENicyB8fCAhYWN0aXZlUG9zdEZsdXNoQ2JzLmluY2x1ZGVzKFxuICAgICAgY2IsXG4gICAgICBjYi5hbGxvd1JlY3Vyc2UgPyBwb3N0Rmx1c2hJbmRleCArIDEgOiBwb3N0Rmx1c2hJbmRleFxuICAgICkpIHtcbiAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaChjYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gIH1cbiAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSwgc2VlbiwgaSA9IGlzRmx1c2hpbmcgPyBmbHVzaEluZGV4ICsgMSA6IDApIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjYiA9IHF1ZXVlW2ldO1xuICAgIGlmIChjYiAmJiBjYi5wcmUpIHtcbiAgICAgIGlmIChpbnN0YW5jZSAmJiBjYi5pZCAhPT0gaW5zdGFuY2UudWlkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGNiKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcbiAgICAgIGktLTtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpXG4gICAgKTtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBhY3RpdmVQb3N0Rmx1c2hDYnNbcG9zdEZsdXNoSW5kZXhdKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0oKTtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbiAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gIH1cbn1cbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcbmNvbnN0IGNvbXBhcmF0b3IgPSAoYSwgYikgPT4ge1xuICBjb25zdCBkaWZmID0gZ2V0SWQoYSkgLSBnZXRJZChiKTtcbiAgaWYgKGRpZmYgPT09IDApIHtcbiAgICBpZiAoYS5wcmUgJiYgIWIucHJlKVxuICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChiLnByZSAmJiAhYS5wcmUpXG4gICAgICByZXR1cm4gMTtcbiAgfVxuICByZXR1cm4gZGlmZjtcbn07XG5mdW5jdGlvbiBmbHVzaEpvYnMoc2Vlbikge1xuICBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xuICBpc0ZsdXNoaW5nID0gdHJ1ZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIHF1ZXVlLnNvcnQoY29tcGFyYXRvcik7XG4gIGNvbnN0IGNoZWNrID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IChqb2IpID0+IGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpIDogTk9PUDtcbiAgdHJ5IHtcbiAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgaWYgKGpvYiAmJiBqb2IuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVjayhqb2IpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGpvYiwgbnVsbCwgMTQpO1xuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBmbHVzaEluZGV4ID0gMDtcbiAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pO1xuICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICBmbHVzaEpvYnMoc2Vlbik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcbiAgaWYgKCFzZWVuLmhhcyhmbikpIHtcbiAgICBzZWVuLnNldChmbiwgMSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbik7XG4gICAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGZuLm93bmVySW5zdGFuY2U7XG4gICAgICBjb25zdCBjb21wb25lbnROYW1lID0gaW5zdGFuY2UgJiYgZ2V0Q29tcG9uZW50TmFtZShpbnN0YW5jZS50eXBlKTtcbiAgICAgIGhhbmRsZUVycm9yKFxuICAgICAgICBgTWF4aW11bSByZWN1cnNpdmUgdXBkYXRlcyBleGNlZWRlZCR7Y29tcG9uZW50TmFtZSA/IGAgaW4gY29tcG9uZW50IDwke2NvbXBvbmVudE5hbWV9PmAgOiBgYH0uIFRoaXMgbWVhbnMgeW91IGhhdmUgYSByZWFjdGl2ZSBlZmZlY3QgdGhhdCBpcyBtdXRhdGluZyBpdHMgb3duIGRlcGVuZGVuY2llcyBhbmQgdGh1cyByZWN1cnNpdmVseSB0cmlnZ2VyaW5nIGl0c2VsZi4gUG9zc2libGUgc291cmNlcyBpbmNsdWRlIGNvbXBvbmVudCB0ZW1wbGF0ZSwgcmVuZGVyIGZ1bmN0aW9uLCB1cGRhdGVkIGhvb2sgb3Igd2F0Y2hlciBzb3VyY2UgZnVuY3Rpb24uYCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMTBcbiAgICAgICk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Vlbi5zZXQoZm4sIGNvdW50ICsgMSk7XG4gICAgfVxuICB9XG59XG5cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0hNUl9SVU5USU1FX18gPSB7XG4gICAgY3JlYXRlUmVjb3JkOiB0cnlXcmFwKGNyZWF0ZVJlY29yZCksXG4gICAgcmVyZW5kZXI6IHRyeVdyYXAocmVyZW5kZXIpLFxuICAgIHJlbG9hZDogdHJ5V3JhcChyZWxvYWQpXG4gIH07XG59XG5jb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XG4gIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICBjcmVhdGVSZWNvcmQoaWQsIGluc3RhbmNlLnR5cGUpO1xuICAgIHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICB9XG4gIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBpbml0aWFsRGVmKSB7XG4gIGlmIChtYXAuaGFzKGlkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBtYXAuc2V0KGlkLCB7XG4gICAgaW5pdGlhbERlZjogbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5pdGlhbERlZiksXG4gICAgaW5zdGFuY2VzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gIH0pO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlY29yZC5pbml0aWFsRGVmLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goKGluc3RhbmNlKSA9PiB7XG4gICAgaWYgKG5ld1JlbmRlcikge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xuICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgIGluc3RhbmNlLmVmZmVjdC5kaXJ0eSA9IHRydWU7XG4gICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJlbG9hZChpZCwgbmV3Q29tcCkge1xuICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpXG4gICAgcmV0dXJuO1xuICBuZXdDb21wID0gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQobmV3Q29tcCk7XG4gIHVwZGF0ZUNvbXBvbmVudERlZihyZWNvcmQuaW5pdGlhbERlZiwgbmV3Q29tcCk7XG4gIGNvbnN0IGluc3RhbmNlcyA9IFsuLi5yZWNvcmQuaW5zdGFuY2VzXTtcbiAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICBjb25zdCBvbGRDb21wID0gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSk7XG4gICAgaWYgKCFobXJEaXJ0eUNvbXBvbmVudHMuaGFzKG9sZENvbXApKSB7XG4gICAgICBpZiAob2xkQ29tcCAhPT0gcmVjb3JkLmluaXRpYWxEZWYpIHtcbiAgICAgICAgdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApO1xuICAgICAgfVxuICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChvbGRDb21wKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5hZGQob2xkQ29tcCk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuZGVsZXRlKG9sZENvbXApO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBpbnN0YW5jZS5wYXJlbnQuZWZmZWN0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLlwiXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBxdWV1ZVBvc3RGbHVzaENiKCgpID0+IHtcbiAgICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgICAgaG1yRGlydHlDb21wb25lbnRzLmRlbGV0ZShcbiAgICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSlcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudERlZihvbGRDb21wLCBuZXdDb21wKSB7XG4gIGV4dGVuZChvbGRDb21wLCBuZXdDb21wKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2xkQ29tcCkge1xuICAgIGlmIChrZXkgIT09IFwiX19maWxlXCIgJiYgIShrZXkgaW4gbmV3Q29tcCkpIHtcbiAgICAgIGRlbGV0ZSBvbGRDb21wW2tleV07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cnlXcmFwKGZuKSB7XG4gIHJldHVybiAoaWQsIGFyZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZm4oaWQsIGFyZyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgYFtITVJdIFNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyBWdWUgY29tcG9uZW50IGhvdC1yZWxvYWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuXG5sZXQgZGV2dG9vbHMkMTtcbmxldCBidWZmZXIgPSBbXTtcbmxldCBkZXZ0b29sc05vdEluc3RhbGxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gZW1pdCQxKGV2ZW50LCAuLi5hcmdzKSB7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgfSBlbHNlIGlmICghZGV2dG9vbHNOb3RJbnN0YWxsZWQpIHtcbiAgICBidWZmZXIucHVzaCh7IGV2ZW50LCBhcmdzIH0pO1xuICB9XG59XG5mdW5jdGlvbiBzZXREZXZ0b29sc0hvb2skMShob29rLCB0YXJnZXQpIHtcbiAgdmFyIF9hLCBfYjtcbiAgZGV2dG9vbHMkMSA9IGhvb2s7XG4gIGlmIChkZXZ0b29scyQxKSB7XG4gICAgZGV2dG9vbHMkMS5lbmFibGVkID0gdHJ1ZTtcbiAgICBidWZmZXIuZm9yRWFjaCgoeyBldmVudCwgYXJncyB9KSA9PiBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpKTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfSBlbHNlIGlmIChcbiAgICAvLyBoYW5kbGUgbGF0ZSBkZXZ0b29scyBpbmplY3Rpb24gLSBvbmx5IGRvIHRoaXMgaWYgd2UgYXJlIGluIGFuIGFjdHVhbFxuICAgIC8vIGJyb3dzZXIgZW52aXJvbm1lbnQgdG8gYXZvaWQgdGhlIHRpbWVyIGhhbmRsZSBzdGFsbGluZyB0ZXN0IHJ1bm5lciBleGl0XG4gICAgLy8gKCM0ODE1KVxuICAgIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgLy8gc29tZSBlbnZzIG1vY2sgd2luZG93IGJ1dCBub3QgZnVsbHlcbiAgICB3aW5kb3cuSFRNTEVsZW1lbnQgJiYgLy8gYWxzbyBleGNsdWRlIGpzZG9tXG4gICAgISgoX2IgPSAoX2EgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJqc2RvbVwiKSlcbiAgKSB7XG4gICAgY29uc3QgcmVwbGF5ID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyB8fCBbXTtcbiAgICByZXBsYXkucHVzaCgobmV3SG9vaykgPT4ge1xuICAgICAgc2V0RGV2dG9vbHNIb29rJDEobmV3SG9vaywgdGFyZ2V0KTtcbiAgICB9KTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghZGV2dG9vbHMkMSkge1xuICAgICAgICB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IG51bGw7XG4gICAgICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICAgICAgYnVmZmVyID0gW107XG4gICAgICB9XG4gICAgfSwgM2UzKTtcbiAgfSBlbHNlIHtcbiAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgYnVmZmVyID0gW107XG4gIH1cbn1cbmZ1bmN0aW9uIGRldnRvb2xzSW5pdEFwcChhcHAsIHZlcnNpb24pIHtcbiAgZW1pdCQxKFwiYXBwOmluaXRcIiAvKiBBUFBfSU5JVCAqLywgYXBwLCB2ZXJzaW9uLCB7XG4gICAgRnJhZ21lbnQsXG4gICAgVGV4dCxcbiAgICBDb21tZW50LFxuICAgIFN0YXRpY1xuICB9KTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzVW5tb3VudEFwcChhcHApIHtcbiAgZW1pdCQxKFwiYXBwOnVubW91bnRcIiAvKiBBUFBfVU5NT1VOVCAqLywgYXBwKTtcbn1cbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50QWRkZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFxuICBcImNvbXBvbmVudDphZGRlZFwiIC8qIENPTVBPTkVOVF9BRERFRCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6dXBkYXRlZFwiIC8qIENPTVBPTkVOVF9VUERBVEVEICovKTtcbmNvbnN0IF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFxuICBcImNvbXBvbmVudDpyZW1vdmVkXCIgLyogQ09NUE9ORU5UX1JFTU9WRUQgKi9cbik7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQgPSAoY29tcG9uZW50KSA9PiB7XG4gIGlmIChkZXZ0b29scyQxICYmIHR5cGVvZiBkZXZ0b29scyQxLmNsZWFudXBCdWZmZXIgPT09IFwiZnVuY3Rpb25cIiAmJiAvLyByZW1vdmUgdGhlIGNvbXBvbmVudCBpZiBpdCB3YXNuJ3QgYnVmZmVyZWRcbiAgIWRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlcihjb21wb25lbnQpKSB7XG4gICAgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChjb21wb25lbnQpO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQpID0+IHtcbiAgICBlbWl0JDEoXG4gICAgICBob29rLFxuICAgICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgICAgY29tcG9uZW50LnVpZCxcbiAgICAgIGNvbXBvbmVudC5wYXJlbnQgPyBjb21wb25lbnQucGFyZW50LnVpZCA6IHZvaWQgMCxcbiAgICAgIGNvbXBvbmVudFxuICAgICk7XG4gIH07XG59XG5jb25zdCBkZXZ0b29sc1BlcmZTdGFydCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcbiAgXCJwZXJmOnN0YXJ0XCIgLyogUEVSRk9STUFOQ0VfU1RBUlQgKi9cbik7XG5jb25zdCBkZXZ0b29sc1BlcmZFbmQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXG4gIFwicGVyZjplbmRcIiAvKiBQRVJGT1JNQU5DRV9FTkQgKi9cbik7XG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50LCB0eXBlLCB0aW1lKSA9PiB7XG4gICAgZW1pdCQxKGhvb2ssIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCwgY29tcG9uZW50LnVpZCwgY29tcG9uZW50LCB0eXBlLCB0aW1lKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGRldnRvb2xzQ29tcG9uZW50RW1pdChjb21wb25lbnQsIGV2ZW50LCBwYXJhbXMpIHtcbiAgZW1pdCQxKFxuICAgIFwiY29tcG9uZW50OmVtaXRcIiAvKiBDT01QT05FTlRfRU1JVCAqLyxcbiAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgY29tcG9uZW50LFxuICAgIGV2ZW50LFxuICAgIHBhcmFtc1xuICApO1xufVxuXG5mdW5jdGlvbiBlbWl0KGluc3RhbmNlLCBldmVudCwgLi4ucmF3QXJncykge1xuICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQpXG4gICAgcmV0dXJuO1xuICBjb25zdCBwcm9wcyA9IGluc3RhbmNlLnZub2RlLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCB7XG4gICAgICBlbWl0c09wdGlvbnMsXG4gICAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gICAgfSA9IGluc3RhbmNlO1xuICAgIGlmIChlbWl0c09wdGlvbnMpIHtcbiAgICAgIGlmICghKGV2ZW50IGluIGVtaXRzT3B0aW9ucykgJiYgdHJ1ZSkge1xuICAgICAgICBpZiAoIXByb3BzT3B0aW9ucyB8fCAhKHRvSGFuZGxlcktleShldmVudCkgaW4gcHJvcHNPcHRpb25zKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gdGhlIGVtaXRzIG9wdGlvbiBub3IgYXMgYW4gXCIke3RvSGFuZGxlcktleShldmVudCl9XCIgcHJvcC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gZW1pdHNPcHRpb25zW2V2ZW50XTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsaWRhdG9yKSkge1xuICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSB2YWxpZGF0b3IoLi4ucmF3QXJncyk7XG4gICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIGV2ZW50IGFyZ3VtZW50czogZXZlbnQgdmFsaWRhdGlvbiBmYWlsZWQgZm9yIGV2ZW50IFwiJHtldmVudH1cIi5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgYXJncyA9IHJhd0FyZ3M7XG4gIGNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IGV2ZW50LnN0YXJ0c1dpdGgoXCJ1cGRhdGU6XCIpO1xuICBjb25zdCBtb2RlbEFyZyA9IGlzTW9kZWxMaXN0ZW5lciAmJiBldmVudC5zbGljZSg3KTtcbiAgaWYgKG1vZGVsQXJnICYmIG1vZGVsQXJnIGluIHByb3BzKSB7XG4gICAgY29uc3QgbW9kaWZpZXJzS2V5ID0gYCR7bW9kZWxBcmcgPT09IFwibW9kZWxWYWx1ZVwiID8gXCJtb2RlbFwiIDogbW9kZWxBcmd9TW9kaWZpZXJzYDtcbiAgICBjb25zdCB7IG51bWJlciwgdHJpbSB9ID0gcHJvcHNbbW9kaWZpZXJzS2V5XSB8fCBFTVBUWV9PQko7XG4gICAgaWYgKHRyaW0pIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCgoYSkgPT4gaXNTdHJpbmcoYSkgPyBhLnRyaW0oKSA6IGEpO1xuICAgIH1cbiAgICBpZiAobnVtYmVyKSB7XG4gICAgICBhcmdzID0gcmF3QXJncy5tYXAobG9vc2VUb051bWJlcik7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzQ29tcG9uZW50RW1pdChpbnN0YW5jZSwgZXZlbnQsIGFyZ3MpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgcHJvcHNbdG9IYW5kbGVyS2V5KGxvd2VyQ2FzZUV2ZW50KV0pIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYEV2ZW50IFwiJHtsb3dlckNhc2VFdmVudH1cIiBpcyBlbWl0dGVkIGluIGNvbXBvbmVudCAke2Zvcm1hdENvbXBvbmVudE5hbWUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2UudHlwZVxuICAgICAgICApfSBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIke2V2ZW50fVwiLiBOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSB2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXCIke2h5cGhlbmF0ZShcbiAgICAgICAgICBldmVudFxuICAgICAgICApfVwiIGluc3RlYWQgb2YgXCIke2V2ZW50fVwiLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCBoYW5kbGVyTmFtZTtcbiAgbGV0IGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShldmVudCldIHx8IC8vIGFsc28gdHJ5IGNhbWVsQ2FzZSBldmVudCBoYW5kbGVyICgjMjI0OSlcbiAgcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoY2FtZWxpemUoZXZlbnQpKV07XG4gIGlmICghaGFuZGxlciAmJiBpc01vZGVsTGlzdGVuZXIpIHtcbiAgICBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoaHlwaGVuYXRlKGV2ZW50KSldO1xuICB9XG4gIGlmIChoYW5kbGVyKSB7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBoYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbiAgY29uc3Qgb25jZUhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSArIGBPbmNlYF07XG4gIGlmIChvbmNlSGFuZGxlcikge1xuICAgIGlmICghaW5zdGFuY2UuZW1pdHRlZCkge1xuICAgICAgaW5zdGFuY2UuZW1pdHRlZCA9IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zdGFuY2UuZW1pdHRlZFtoYW5kbGVyTmFtZV0gPSB0cnVlO1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgb25jZUhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplRW1pdHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQuZW1pdHNDYWNoZTtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICBpZiAoY2FjaGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gY2FjaGVkO1xuICB9XG4gIGNvbnN0IHJhdyA9IGNvbXAuZW1pdHM7XG4gIGxldCBub3JtYWxpemVkID0ge307XG4gIGxldCBoYXNFeHRlbmRzID0gZmFsc2U7XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgY29uc3QgZXh0ZW5kRW1pdHMgPSAocmF3MikgPT4ge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEZyb21FeHRlbmQgPSBub3JtYWxpemVFbWl0c09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBpZiAobm9ybWFsaXplZEZyb21FeHRlbmQpIHtcbiAgICAgICAgaGFzRXh0ZW5kcyA9IHRydWU7XG4gICAgICAgIGV4dGVuZChub3JtYWxpemVkLCBub3JtYWxpemVkRnJvbUV4dGVuZCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgZXh0ZW5kRW1pdHMoY29tcC5leHRlbmRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZEVtaXRzKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgIGNhY2hlLnNldChjb21wLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIHJhdy5mb3JFYWNoKChrZXkpID0+IG5vcm1hbGl6ZWRba2V5XSA9IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGV4dGVuZChub3JtYWxpemVkLCByYXcpO1xuICB9XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCBub3JtYWxpemVkKTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZDtcbn1cbmZ1bmN0aW9uIGlzRW1pdExpc3RlbmVyKG9wdGlvbnMsIGtleSkge1xuICBpZiAoIW9wdGlvbnMgfHwgIWlzT24oa2V5KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBrZXkgPSBrZXkuc2xpY2UoMikucmVwbGFjZSgvT25jZSQvLCBcIlwiKTtcbiAgcmV0dXJuIGhhc093bihvcHRpb25zLCBrZXlbMF0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgxKSkgfHwgaGFzT3duKG9wdGlvbnMsIGh5cGhlbmF0ZShrZXkpKSB8fCBoYXNPd24ob3B0aW9ucywga2V5KTtcbn1cblxubGV0IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG5sZXQgY3VycmVudFNjb3BlSWQgPSBudWxsO1xuZnVuY3Rpb24gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IGluc3RhbmNlO1xuICBjdXJyZW50U2NvcGVJZCA9IGluc3RhbmNlICYmIGluc3RhbmNlLnR5cGUuX19zY29wZUlkIHx8IG51bGw7XG4gIHJldHVybiBwcmV2O1xufVxuZnVuY3Rpb24gcHVzaFNjb3BlSWQoaWQpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBpZDtcbn1cbmZ1bmN0aW9uIHBvcFNjb3BlSWQoKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbn1cbmNvbnN0IHdpdGhTY29wZUlkID0gKF9pZCkgPT4gd2l0aEN0eDtcbmZ1bmN0aW9uIHdpdGhDdHgoZm4sIGN0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgaXNOb25TY29wZWRTbG90KSB7XG4gIGlmICghY3R4KVxuICAgIHJldHVybiBmbjtcbiAgaWYgKGZuLl9uKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG4gIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICB9XG4gICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XG4gICAgbGV0IHJlcztcbiAgICB0cnkge1xuICAgICAgcmVzID0gZm4oLi4uYXJncyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2SW5zdGFuY2UpO1xuICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoY3R4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fbiA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9kID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XG59XG5cbmxldCBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcbiAgYWNjZXNzZWRBdHRycyA9IHRydWU7XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgdm5vZGUsXG4gICAgcHJveHksXG4gICAgd2l0aFByb3h5LFxuICAgIHByb3BzLFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sXG4gICAgc2xvdHMsXG4gICAgYXR0cnMsXG4gICAgZW1pdCxcbiAgICByZW5kZXIsXG4gICAgcmVuZGVyQ2FjaGUsXG4gICAgZGF0YSxcbiAgICBzZXR1cFN0YXRlLFxuICAgIGN0eCxcbiAgICBpbmhlcml0QXR0cnNcbiAgfSA9IGluc3RhbmNlO1xuICBsZXQgcmVzdWx0O1xuICBsZXQgZmFsbHRocm91Z2hBdHRycztcbiAgY29uc3QgcHJldiA9IHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQpIHtcbiAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XG4gICAgICBjb25zdCB0aGlzUHJveHkgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwID8gbmV3IFByb3h5KHByb3h5VG9Vc2UsIHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBQcm9wZXJ0eSAnJHtTdHJpbmcoXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKX0nIHdhcyBhY2Nlc3NlZCB2aWEgJ3RoaXMnLiBBdm9pZCB1c2luZyAndGhpcycgaW4gdGVtcGxhdGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICB9KSA6IHByb3h5VG9Vc2U7XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyLmNhbGwoXG4gICAgICAgICAgdGhpc1Byb3h5LFxuICAgICAgICAgIHByb3h5VG9Vc2UsXG4gICAgICAgICAgcmVuZGVyQ2FjaGUsXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgc2V0dXBTdGF0ZSxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIGN0eFxuICAgICAgICApXG4gICAgICApO1xuICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZW5kZXIyID0gQ29tcG9uZW50O1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYXR0cnMgPT09IHByb3BzKSB7XG4gICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyMi5sZW5ndGggPiAxID8gcmVuZGVyMihcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICAgICAgICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICAgICAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgICAgICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHMsXG4gICAgICAgICAgICBlbWl0XG4gICAgICAgICAgfSA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH1cbiAgICAgICAgKSA6IHJlbmRlcjIoXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgbnVsbFxuICAgICAgICAgIC8qIHdlIGtub3cgaXQgZG9lc24ndCBuZWVkIGl0ICovXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzID8gYXR0cnMgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEpO1xuICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9XG4gIGxldCByb290ID0gcmVzdWx0O1xuICBsZXQgc2V0Um9vdCA9IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiYgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgfVxuICBpZiAoZmFsbHRocm91Z2hBdHRycyAmJiBpbmhlcml0QXR0cnMgIT09IGZhbHNlKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNikpIHtcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xuICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBmaWx0ZXJNb2RlbExpc3RlbmVycyhcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMsXG4gICAgICAgICAgICBwcm9wc09wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFhY2Nlc3NlZEF0dHJzICYmIHJvb3QudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBjb25zdCBhbGxBdHRycyA9IE9iamVjdC5rZXlzKGF0dHJzKTtcbiAgICAgICAgY29uc3QgZXZlbnRBdHRycyA9IFtdO1xuICAgICAgICBjb25zdCBleHRyYUF0dHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gYWxsQXR0cnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gYWxsQXR0cnNbaV07XG4gICAgICAgICAgaWYgKGlzT24oa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgICAgICAgICBldmVudEF0dHJzLnB1c2goa2V5WzJdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBleHRyYUF0dHJzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dHJhQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLXByb3BzIGF0dHJpYnV0ZXMgKCR7ZXh0cmFBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tZW1pdHMgZXZlbnQgbGlzdGVuZXJzICgke2V2ZW50QXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuIElmIHRoZSBsaXN0ZW5lciBpcyBpbnRlbmRlZCB0byBiZSBhIGNvbXBvbmVudCBjdXN0b20gZXZlbnQgbGlzdGVuZXIgb25seSwgZGVjbGFyZSBpdCB1c2luZyB0aGUgXCJlbWl0c1wiIG9wdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodm5vZGUuZGlycykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBSdW50aW1lIGRpcmVjdGl2ZSB1c2VkIG9uIGNvbXBvbmVudCB3aXRoIG5vbi1lbGVtZW50IHJvb3Qgbm9kZS4gVGhlIGRpcmVjdGl2ZXMgd2lsbCBub3QgZnVuY3Rpb24gYXMgaW50ZW5kZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCk7XG4gICAgcm9vdC5kaXJzID0gcm9vdC5kaXJzID8gcm9vdC5kaXJzLmNvbmNhdCh2bm9kZS5kaXJzKSA6IHZub2RlLmRpcnM7XG4gIH1cbiAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgQ29tcG9uZW50IGluc2lkZSA8VHJhbnNpdGlvbj4gcmVuZGVycyBub24tZWxlbWVudCByb290IG5vZGUgdGhhdCBjYW5ub3QgYmUgYW5pbWF0ZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcm9vdC50cmFuc2l0aW9uID0gdm5vZGUudHJhbnNpdGlvbjtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXRSb290KSB7XG4gICAgc2V0Um9vdChyb290KTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSByb290O1xuICB9XG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IGdldENoaWxkUm9vdCA9ICh2bm9kZSkgPT4ge1xuICBjb25zdCByYXdDaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICBjb25zdCBkeW5hbWljQ2hpbGRyZW4gPSB2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gIGNvbnN0IGNoaWxkUm9vdCA9IGZpbHRlclNpbmdsZVJvb3QocmF3Q2hpbGRyZW4sIGZhbHNlKTtcbiAgaWYgKCFjaGlsZFJvb3QpIHtcbiAgICByZXR1cm4gW3Zub2RlLCB2b2lkIDBdO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hpbGRSb290LnBhdGNoRmxhZyA+IDAgJiYgY2hpbGRSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICByZXR1cm4gZ2V0Q2hpbGRSb290KGNoaWxkUm9vdCk7XG4gIH1cbiAgY29uc3QgaW5kZXggPSByYXdDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCk7XG4gIGNvbnN0IGR5bmFtaWNJbmRleCA9IGR5bmFtaWNDaGlsZHJlbiA/IGR5bmFtaWNDaGlsZHJlbi5pbmRleE9mKGNoaWxkUm9vdCkgOiAtMTtcbiAgY29uc3Qgc2V0Um9vdCA9ICh1cGRhdGVkUm9vdCkgPT4ge1xuICAgIHJhd0NoaWxkcmVuW2luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIGlmIChkeW5hbWljSW5kZXggPiAtMSkge1xuICAgICAgICBkeW5hbWljQ2hpbGRyZW5bZHluYW1pY0luZGV4XSA9IHVwZGF0ZWRSb290O1xuICAgICAgfSBlbHNlIGlmICh1cGRhdGVkUm9vdC5wYXRjaEZsYWcgPiAwKSB7XG4gICAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IFsuLi5keW5hbWljQ2hpbGRyZW4sIHVwZGF0ZWRSb290XTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBbbm9ybWFsaXplVk5vZGUoY2hpbGRSb290KSwgc2V0Um9vdF07XG59O1xuZnVuY3Rpb24gZmlsdGVyU2luZ2xlUm9vdChjaGlsZHJlbiwgcmVjdXJzZSA9IHRydWUpIHtcbiAgbGV0IHNpbmdsZVJvb3Q7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChpc1ZOb2RlKGNoaWxkKSkge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgIT09IENvbW1lbnQgfHwgY2hpbGQuY2hpbGRyZW4gPT09IFwidi1pZlwiKSB7XG4gICAgICAgIGlmIChzaW5nbGVSb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNpbmdsZVJvb3QgPSBjaGlsZDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZWN1cnNlICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnID4gMCAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTaW5nbGVSb290KHNpbmdsZVJvb3QuY2hpbGRyZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzaW5nbGVSb290O1xufVxuY29uc3QgZ2V0RnVuY3Rpb25hbEZhbGx0aHJvdWdoID0gKGF0dHJzKSA9PiB7XG4gIGxldCByZXM7XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiIHx8IGtleSA9PT0gXCJzdHlsZVwiIHx8IGlzT24oa2V5KSkge1xuICAgICAgKHJlcyB8fCAocmVzID0ge30pKVtrZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBmaWx0ZXJNb2RlbExpc3RlbmVycyA9IChhdHRycywgcHJvcHMpID0+IHtcbiAgY29uc3QgcmVzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSB8fCAhKGtleS5zbGljZSg5KSBpbiBwcm9wcykpIHtcbiAgICAgIHJlc1trZXldID0gYXR0cnNba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5jb25zdCBpc0VsZW1lbnRSb290ID0gKHZub2RlKSA9PiB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAoNiB8IDEpIHx8IHZub2RlLnR5cGUgPT09IENvbW1lbnQ7XG59O1xuZnVuY3Rpb24gc2hvdWxkVXBkYXRlQ29tcG9uZW50KHByZXZWTm9kZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3QgeyBwcm9wczogcHJldlByb3BzLCBjaGlsZHJlbjogcHJldkNoaWxkcmVuLCBjb21wb25lbnQgfSA9IHByZXZWTm9kZTtcbiAgY29uc3QgeyBwcm9wczogbmV4dFByb3BzLCBjaGlsZHJlbjogbmV4dENoaWxkcmVuLCBwYXRjaEZsYWcgfSA9IG5leHRWTm9kZTtcbiAgY29uc3QgZW1pdHMgPSBjb21wb25lbnQuZW1pdHNPcHRpb25zO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChuZXh0Vk5vZGUuZGlycyB8fCBuZXh0Vk5vZGUudHJhbnNpdGlvbikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChvcHRpbWl6ZWQgJiYgcGF0Y2hGbGFnID49IDApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgMTAyNCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICAgIH0gZWxzZSBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgZHluYW1pY1Byb3BzID0gbmV4dFZOb2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Byb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGR5bmFtaWNQcm9wc1tpXTtcbiAgICAgICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHMsIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocHJldkNoaWxkcmVuIHx8IG5leHRDaGlsZHJlbikge1xuICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4gfHwgIW5leHRDaGlsZHJlbi4kc3RhYmxlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJldlByb3BzID09PSBuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICB9XG4gICAgaWYgKCFuZXh0UHJvcHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0c09wdGlvbnMpIHtcbiAgY29uc3QgbmV4dEtleXMgPSBPYmplY3Qua2V5cyhuZXh0UHJvcHMpO1xuICBpZiAobmV4dEtleXMubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhwcmV2UHJvcHMpLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBuZXh0S2V5c1tpXTtcbiAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB1cGRhdGVIT0NIb3N0RWwoeyB2bm9kZSwgcGFyZW50IH0sIGVsKSB7XG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBjb25zdCByb290ID0gcGFyZW50LnN1YlRyZWU7XG4gICAgaWYgKHJvb3Quc3VzcGVuc2UgJiYgcm9vdC5zdXNwZW5zZS5hY3RpdmVCcmFuY2ggPT09IHZub2RlKSB7XG4gICAgICByb290LmVsID0gdm5vZGUuZWw7XG4gICAgfVxuICAgIGlmIChyb290ID09PSB2bm9kZSkge1xuICAgICAgKHZub2RlID0gcGFyZW50LnZub2RlKS5lbCA9IGVsO1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSBcImNvbXBvbmVudHNcIjtcbmNvbnN0IERJUkVDVElWRVMgPSBcImRpcmVjdGl2ZXNcIjtcbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xufVxuY29uc3QgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbC5mb3IoXCJ2LW5kY1wiKTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICBpZiAoaXNTdHJpbmcoY29tcG9uZW50KSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wb25lbnQgfHwgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVDtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoRElSRUNUSVZFUywgbmFtZSk7XG59XG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IENPTVBPTkVOVFMpIHtcbiAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGlmIChzZWxmTmFtZSAmJiAoc2VsZk5hbWUgPT09IG5hbWUgfHwgc2VsZk5hbWUgPT09IGNhbWVsaXplKG5hbWUpIHx8IHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gKFxuICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXG4gICAgICAvLyBjaGVjayBpbnN0YW5jZVt0eXBlXSBmaXJzdCB3aGljaCBpcyByZXNvbHZlZCBmb3Igb3B0aW9ucyBBUElcbiAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fCAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXG4gICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpXG4gICAgKTtcbiAgICBpZiAoIXJlcyAmJiBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICAgIGNvbnN0IGV4dHJhID0gdHlwZSA9PT0gQ09NUE9ORU5UUyA/IGBcbklmIHRoaXMgaXMgYSBuYXRpdmUgY3VzdG9tIGVsZW1lbnQsIG1ha2Ugc3VyZSB0byBleGNsdWRlIGl0IGZyb20gY29tcG9uZW50IHJlc29sdXRpb24gdmlhIGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQuYCA6IGBgO1xuICAgICAgd2FybiQxKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfSR7ZXh0cmF9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGByZXNvbHZlJHtjYXBpdGFsaXplKHR5cGUuc2xpY2UoMCwgLTEpKX0gY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XG4gIHJldHVybiByZWdpc3RyeSAmJiAocmVnaXN0cnlbbmFtZV0gfHwgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8IHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSk7XG59XG5cbmNvbnN0IGlzU3VzcGVuc2UgPSAodHlwZSkgPT4gdHlwZS5fX2lzU3VzcGVuc2U7XG5sZXQgc3VzcGVuc2VJZCA9IDA7XG5jb25zdCBTdXNwZW5zZUltcGwgPSB7XG4gIG5hbWU6IFwiU3VzcGVuc2VcIixcbiAgLy8gSW4gb3JkZXIgdG8gbWFrZSBTdXNwZW5zZSB0cmVlLXNoYWthYmxlLCB3ZSBuZWVkIHRvIGF2b2lkIGltcG9ydGluZyBpdFxuICAvLyBkaXJlY3RseSBpbiB0aGUgcmVuZGVyZXIuIFRoZSByZW5kZXJlciBjaGVja3MgZm9yIHRoZSBfX2lzU3VzcGVuc2UgZmxhZ1xuICAvLyBvbiBhIHZub2RlJ3MgdHlwZSBhbmQgY2FsbHMgdGhlIGBwcm9jZXNzYCBtZXRob2QsIHBhc3NpbmcgaW4gcmVuZGVyZXJcbiAgLy8gaW50ZXJuYWxzLlxuICBfX2lzU3VzcGVuc2U6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRTdXNwZW5zZShcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLmRlcHMgPiAwICYmICFuMS5zdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgICAgICAgbjIuc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGF0Y2hTdXNwZW5zZShcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICByZW5kZXJlckludGVybmFsc1xuICAgICAgKTtcbiAgICB9XG4gIH0sXG4gIGh5ZHJhdGU6IGh5ZHJhdGVTdXNwZW5zZSxcbiAgY3JlYXRlOiBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5LFxuICBub3JtYWxpemU6IG5vcm1hbGl6ZVN1c3BlbnNlQ2hpbGRyZW5cbn07XG5jb25zdCBTdXNwZW5zZSA9IFN1c3BlbnNlSW1wbCA7XG5mdW5jdGlvbiB0cmlnZ2VyRXZlbnQodm5vZGUsIG5hbWUpIHtcbiAgY29uc3QgZXZlbnRMaXN0ZW5lciA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzW25hbWVdO1xuICBpZiAoaXNGdW5jdGlvbihldmVudExpc3RlbmVyKSkge1xuICAgIGV2ZW50TGlzdGVuZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gbW91bnRTdXNwZW5zZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBwOiBwYXRjaCxcbiAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGNvbnN0IGhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIGFuY2hvcixcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFsc1xuICApO1xuICBwYXRjaChcbiAgICBudWxsLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIG51bGwsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHNcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPiAwKSB7XG4gICAgdHJpZ2dlckV2ZW50KHZub2RlLCBcIm9uUGVuZGluZ1wiKTtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25GYWxsYmFja1wiKTtcbiAgICBwYXRjaChcbiAgICAgIG51bGwsXG4gICAgICB2bm9kZS5zc0ZhbGxiYWNrLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgYW5jaG9yLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgbnVsbCxcbiAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBzbG90U2NvcGVJZHNcbiAgICApO1xuICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgdm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgc3VzcGVuc2UucmVzb2x2ZShmYWxzZSwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHBhdGNoU3VzcGVuc2UobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7IHA6IHBhdGNoLCB1bTogdW5tb3VudCwgbzogeyBjcmVhdGVFbGVtZW50IH0gfSkge1xuICBjb25zdCBzdXNwZW5zZSA9IG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2U7XG4gIHN1c3BlbnNlLnZub2RlID0gbjI7XG4gIG4yLmVsID0gbjEuZWw7XG4gIGNvbnN0IG5ld0JyYW5jaCA9IG4yLnNzQ29udGVudDtcbiAgY29uc3QgbmV3RmFsbGJhY2sgPSBuMi5zc0ZhbGxiYWNrO1xuICBjb25zdCB7IGFjdGl2ZUJyYW5jaCwgcGVuZGluZ0JyYW5jaCwgaXNJbkZhbGxiYWNrLCBpc0h5ZHJhdGluZyB9ID0gc3VzcGVuc2U7XG4gIGlmIChwZW5kaW5nQnJhbmNoKSB7XG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgcGVuZGluZ0JyYW5jaCkpIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIGlmIChpc0luRmFsbGJhY2spIHtcbiAgICAgICAgaWYgKCFpc0h5ZHJhdGluZykge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0lkID0gc3VzcGVuc2VJZCsrO1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IHBlbmRpbmdCcmFuY2g7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1bm1vdW50KHBlbmRpbmdCcmFuY2gsIHBhcmVudENvbXBvbmVudCwgc3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuZGVwcyA9IDA7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLmxlbmd0aCA9IDA7XG4gICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICAgIG5ld0ZhbGxiYWNrLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3RmFsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChhY3RpdmVCcmFuY2ggJiYgaXNTYW1lVk5vZGVUeXBlKG5ld0JyYW5jaCwgYWN0aXZlQnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgbmV3QnJhbmNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZ2dlckV2ZW50KG4yLCBcIm9uUGVuZGluZ1wiKTtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBuZXdCcmFuY2g7XG4gICAgICBpZiAobmV3QnJhbmNoLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBuZXdCcmFuY2guY29tcG9uZW50LnN1c3BlbnNlSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICB9XG4gICAgICBwYXRjaChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgdGltZW91dCwgcGVuZGluZ0lkIH0gPSBzdXNwZW5zZTtcbiAgICAgICAgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3VzcGVuc2UucGVuZGluZ0lkID09PSBwZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgc3VzcGVuc2UuZmFsbGJhY2sobmV3RmFsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWVvdXQgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkodm5vZGUsIHBhcmVudFN1c3BlbnNlLCBwYXJlbnRDb21wb25lbnQsIGNvbnRhaW5lciwgaGlkZGVuQ29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBpc0h5ZHJhdGluZyA9IGZhbHNlKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUgJiYgIWhhc1dhcm5lZCkge1xuICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgY29uc29sZVtjb25zb2xlLmluZm8gPyBcImluZm9cIiA6IFwibG9nXCJdKFxuICAgICAgYDxTdXNwZW5zZT4gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgYW5kIGl0cyBBUEkgd2lsbCBsaWtlbHkgY2hhbmdlLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IHtcbiAgICBwOiBwYXRjaCxcbiAgICBtOiBtb3ZlLFxuICAgIHVtOiB1bm1vdW50LFxuICAgIG46IG5leHQsXG4gICAgbzogeyBwYXJlbnROb2RlLCByZW1vdmUgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGxldCBwYXJlbnRTdXNwZW5zZUlkO1xuICBjb25zdCBpc1N1c3BlbnNpYmxlID0gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKTtcbiAgaWYgKGlzU3VzcGVuc2libGUpIHtcbiAgICBpZiAocGFyZW50U3VzcGVuc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlSWQgPSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQ7XG4gICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzKys7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRpbWVvdXQgPSB2bm9kZS5wcm9wcyA/IHRvTnVtYmVyKHZub2RlLnByb3BzLnRpbWVvdXQpIDogdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFzc2VydE51bWJlcih0aW1lb3V0LCBgU3VzcGVuc2UgdGltZW91dGApO1xuICB9XG4gIGNvbnN0IGluaXRpYWxBbmNob3IgPSBhbmNob3I7XG4gIGNvbnN0IHN1c3BlbnNlID0ge1xuICAgIHZub2RlLFxuICAgIHBhcmVudDogcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIG5hbWVzcGFjZSxcbiAgICBjb250YWluZXIsXG4gICAgaGlkZGVuQ29udGFpbmVyLFxuICAgIGRlcHM6IDAsXG4gICAgcGVuZGluZ0lkOiBzdXNwZW5zZUlkKyssXG4gICAgdGltZW91dDogdHlwZW9mIHRpbWVvdXQgPT09IFwibnVtYmVyXCIgPyB0aW1lb3V0IDogLTEsXG4gICAgYWN0aXZlQnJhbmNoOiBudWxsLFxuICAgIHBlbmRpbmdCcmFuY2g6IG51bGwsXG4gICAgaXNJbkZhbGxiYWNrOiAhaXNIeWRyYXRpbmcsXG4gICAgaXNIeWRyYXRpbmcsXG4gICAgaXNVbm1vdW50ZWQ6IGZhbHNlLFxuICAgIGVmZmVjdHM6IFtdLFxuICAgIHJlc29sdmUocmVzdW1lID0gZmFsc2UsIHN5bmMgPSBmYWxzZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKCFyZXN1bWUgJiYgIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCB3aXRob3V0IGEgcGVuZGluZyBicmFuY2guYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN1c3BlbnNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgb24gYW4gYWxyZWFkeSB1bm1vdW50ZWQgc3VzcGVuc2UgYm91bmRhcnkuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdm5vZGU6IHZub2RlMixcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICBwZW5kaW5nSWQsXG4gICAgICAgIGVmZmVjdHMsXG4gICAgICAgIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIyXG4gICAgICB9ID0gc3VzcGVuc2U7XG4gICAgICBsZXQgZGVsYXlFbnRlciA9IGZhbHNlO1xuICAgICAgaWYgKHN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHN1c3BlbnNlLmlzSHlkcmF0aW5nID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKCFyZXN1bWUpIHtcbiAgICAgICAgZGVsYXlFbnRlciA9IGFjdGl2ZUJyYW5jaCAmJiBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24gJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nSWQgPT09IHN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBtb3ZlKFxuICAgICAgICAgICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgICAgICBhbmNob3IgPT09IGluaXRpYWxBbmNob3IgPyBuZXh0KGFjdGl2ZUJyYW5jaCkgOiBhbmNob3IsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZUJyYW5jaCkge1xuICAgICAgICAgIGlmIChwYXJlbnROb2RlKGFjdGl2ZUJyYW5jaC5lbCkgIT09IHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcikge1xuICAgICAgICAgICAgYW5jaG9yID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bm1vdW50KGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50Miwgc3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICAgIG1vdmUocGVuZGluZ0JyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yLCAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBwZW5kaW5nQnJhbmNoKTtcbiAgICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSBudWxsO1xuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gZmFsc2U7XG4gICAgICBsZXQgcGFyZW50ID0gc3VzcGVuc2UucGFyZW50O1xuICAgICAgbGV0IGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IGZhbHNlO1xuICAgICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBpZiAocGFyZW50LnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgICBwYXJlbnQuZWZmZWN0cy5wdXNoKC4uLmVmZmVjdHMpO1xuICAgICAgICAgIGhhc1VucmVzb2x2ZWRBbmNlc3RvciA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmICghaGFzVW5yZXNvbHZlZEFuY2VzdG9yICYmICFkZWxheUVudGVyKSB7XG4gICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZWZmZWN0cyk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzID0gW107XG4gICAgICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiBwYXJlbnRTdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzLS07XG4gICAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDAgJiYgIXN5bmMpIHtcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyaWdnZXJFdmVudCh2bm9kZTIsIFwib25SZXNvbHZlXCIpO1xuICAgIH0sXG4gICAgZmFsbGJhY2soZmFsbGJhY2tWTm9kZSkge1xuICAgICAgaWYgKCFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdm5vZGU6IHZub2RlMiwgYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsIGNvbnRhaW5lcjogY29udGFpbmVyMiwgbmFtZXNwYWNlOiBuYW1lc3BhY2UyIH0gPSBzdXNwZW5zZTtcbiAgICAgIHRyaWdnZXJFdmVudCh2bm9kZTIsIFwib25GYWxsYmFja1wiKTtcbiAgICAgIGNvbnN0IGFuY2hvcjIgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICBjb25zdCBtb3VudEZhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZhbGxiYWNrVk5vZGUsXG4gICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgIG5hbWVzcGFjZTIsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIGZhbGxiYWNrVk5vZGUpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IGRlbGF5RW50ZXIgPSBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24gJiYgZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uLm1vZGUgPT09IFwib3V0LWluXCI7XG4gICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gbW91bnRGYWxsYmFjaztcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IHRydWU7XG4gICAgICB1bm1vdW50KFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIC8vIG5vIHN1c3BlbnNlIHNvIHVubW91bnQgaG9va3MgZmlyZSBub3dcbiAgICAgICAgdHJ1ZVxuICAgICAgICAvLyBzaG91bGRSZW1vdmVcbiAgICAgICk7XG4gICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgbW91bnRGYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0sXG4gICAgbW92ZShjb250YWluZXIyLCBhbmNob3IyLCB0eXBlKSB7XG4gICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbW92ZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpO1xuICAgICAgc3VzcGVuc2UuY29udGFpbmVyID0gY29udGFpbmVyMjtcbiAgICB9LFxuICAgIG5leHQoKSB7XG4gICAgICByZXR1cm4gc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG5leHQoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKTtcbiAgICB9LFxuICAgIHJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCkge1xuICAgICAgY29uc3QgaXNJblBlbmRpbmdTdXNwZW5zZSA9ICEhc3VzcGVuc2UucGVuZGluZ0JyYW5jaDtcbiAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlKSB7XG4gICAgICAgIHN1c3BlbnNlLmRlcHMrKztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGh5ZHJhdGVkRWwgPSBpbnN0YW5jZS52bm9kZS5lbDtcbiAgICAgIGluc3RhbmNlLmFzeW5jRGVwLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMCk7XG4gICAgICB9KS50aGVuKChhc3luY1NldHVwUmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZCB8fCBzdXNwZW5zZS5pc1VubW91bnRlZCB8fCBzdXNwZW5zZS5wZW5kaW5nSWQgIT09IGluc3RhbmNlLnN1c3BlbnNlSWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHsgdm5vZGU6IHZub2RlMiB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KHZub2RlMik7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIGFzeW5jU2V0dXBSZXN1bHQsIGZhbHNlKTtcbiAgICAgICAgaWYgKGh5ZHJhdGVkRWwpIHtcbiAgICAgICAgICB2bm9kZTIuZWwgPSBoeWRyYXRlZEVsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gIWh5ZHJhdGVkRWwgJiYgaW5zdGFuY2Uuc3ViVHJlZS5lbDtcbiAgICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgdm5vZGUyLFxuICAgICAgICAgIC8vIGNvbXBvbmVudCBtYXkgaGF2ZSBiZWVuIG1vdmVkIGJlZm9yZSByZXNvbHZlLlxuICAgICAgICAgIC8vIGlmIHRoaXMgaXMgbm90IGEgaHlkcmF0aW9uLCBpbnN0YW5jZS5zdWJUcmVlIHdpbGwgYmUgdGhlIGNvbW1lbnRcbiAgICAgICAgICAvLyBwbGFjZWhvbGRlci5cbiAgICAgICAgICBwYXJlbnROb2RlKGh5ZHJhdGVkRWwgfHwgaW5zdGFuY2Uuc3ViVHJlZS5lbCksXG4gICAgICAgICAgLy8gYW5jaG9yIHdpbGwgbm90IGJlIHVzZWQgaWYgdGhpcyBpcyBoeWRyYXRpb24sIHNvIG9ubHkgbmVlZCB0b1xuICAgICAgICAgIC8vIGNvbnNpZGVyIHRoZSBjb21tZW50IHBsYWNlaG9sZGVyIGNhc2UuXG4gICAgICAgICAgaHlkcmF0ZWRFbCA/IG51bGwgOiBuZXh0KGluc3RhbmNlLnN1YlRyZWUpLFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlMi5lbCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZTIsIGRvUmVtb3ZlKSB7XG4gICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UyLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3VzcGVuc2U7XG59XG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbm9kZS5wYXJlbnROb2RlLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgIG51bGwsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShcbiAgICBub2RlLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWRcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyO1xuICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoXG4gICAgaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW5cbiAgKTtcbiAgdm5vZGUuc3NGYWxsYmFjayA9IGlzU2xvdENoaWxkcmVuID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcbiAgbGV0IGJsb2NrO1xuICBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IGZhbHNlO1xuICAgICAgb3BlbkJsb2NrKCk7XG4gICAgfVxuICAgIHMgPSBzKCk7XG4gICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgIHMuX2QgPSB0cnVlO1xuICAgICAgYmxvY2sgPSBjdXJyZW50QmxvY2s7XG4gICAgICBjbG9zZUJsb2NrKCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0FycmF5KHMpKSB7XG4gICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFzaW5nbGVDaGlsZCAmJiBzLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkICE9PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKS5sZW5ndGggPiAwKSB7XG4gICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICB9XG4gICAgcyA9IHNpbmdsZUNoaWxkO1xuICB9XG4gIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgaWYgKGJsb2NrICYmICFzLmR5bmFtaWNDaGlsZHJlbikge1xuICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKChjKSA9PiBjICE9PSBzKTtcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xuICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XG4gIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcbiAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgbGV0IGVsID0gYnJhbmNoLmVsO1xuICB3aGlsZSAoIWVsICYmIGJyYW5jaC5jb21wb25lbnQpIHtcbiAgICBicmFuY2ggPSBicmFuY2guY29tcG9uZW50LnN1YlRyZWU7XG4gICAgZWwgPSBicmFuY2guZWw7XG4gIH1cbiAgdm5vZGUuZWwgPSBlbDtcbiAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcbiAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSkge1xuICB2YXIgX2E7XG4gIHJldHVybiAoKF9hID0gdm5vZGUucHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdXNwZW5zaWJsZSkgIT0gbnVsbCAmJiB2bm9kZS5wcm9wcy5zdXNwZW5zaWJsZSAhPT0gZmFsc2U7XG59XG5cbmNvbnN0IHNzckNvbnRleHRLZXkgPSBTeW1ib2wuZm9yKFwidi1zY3hcIik7XG5jb25zdCB1c2VTU1JDb250ZXh0ID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3R4ID0gaW5qZWN0KHNzckNvbnRleHRLZXkpO1xuICAgIGlmICghY3R4KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFNlcnZlciByZW5kZXJpbmcgY29udGV4dCBub3QgcHJvdmlkZWQuIE1ha2Ugc3VyZSB0byBvbmx5IGNhbGwgdXNlU1NSQ29udGV4dCgpIGNvbmRpdGlvbmFsbHkgaW4gdGhlIHNlcnZlciBidWlsZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY3R4O1xuICB9XG59O1xuXG5mdW5jdGlvbiB3YXRjaEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goZWZmZWN0LCBudWxsLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJwb3N0XCIgfSkgOiB7IGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG59XG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwic3luY1wiIH0pIDogeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xufVxuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0Z1bmN0aW9uKGNiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBcXGB3YXRjaChmbiwgb3B0aW9ucz8pXFxgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gVXNlIFxcYHdhdGNoRWZmZWN0KGZuLCBvcHRpb25zPylcXGAgaW5zdGVhZC4gXFxgd2F0Y2hcXGAgbm93IG9ubHkgc3VwcG9ydHMgXFxgd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGRvV2F0Y2goc291cmNlLCBjYiwge1xuICBpbW1lZGlhdGUsXG4gIGRlZXAsXG4gIGZsdXNoLFxuICBvbmNlLFxuICBvblRyYWNrLFxuICBvblRyaWdnZXJcbn0gPSBFTVBUWV9PQkopIHtcbiAgaWYgKGNiICYmIG9uY2UpIHtcbiAgICBjb25zdCBfY2IgPSBjYjtcbiAgICBjYiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBfY2IoLi4uYXJncyk7XG4gICAgICB1bndhdGNoKCk7XG4gICAgfTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWVwICE9PSB2b2lkIDAgJiYgdHlwZW9mIGRlZXAgPT09IFwibnVtYmVyXCIpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gd2l0aCBudW1iZXIgdmFsdWUgd2lsbCBiZSB1c2VkIGFzIHdhdGNoIGRlcHRoIGluIGZ1dHVyZSB2ZXJzaW9ucy4gUGxlYXNlIHVzZSBhIGJvb2xlYW4gaW5zdGVhZCB0byBhdm9pZCBwb3RlbnRpYWwgYnJlYWthZ2UuYFxuICAgICk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNiKSB7XG4gICAgaWYgKGltbWVkaWF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRlZXAgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob25jZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwib25jZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHdhcm5JbnZhbGlkU291cmNlID0gKHMpID0+IHtcbiAgICB3YXJuJDEoXG4gICAgICBgSW52YWxpZCB3YXRjaCBzb3VyY2U6IGAsXG4gICAgICBzLFxuICAgICAgYEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBmdW5jdGlvbiwgYSByZWYsIGEgcmVhY3RpdmUgb2JqZWN0LCBvciBhbiBhcnJheSBvZiB0aGVzZSB0eXBlcy5gXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGNvbnN0IHJlYWN0aXZlR2V0dGVyID0gKHNvdXJjZTIpID0+IGRlZXAgPT09IHRydWUgPyBzb3VyY2UyIDogKFxuICAgIC8vIGZvciBkZWVwOiBmYWxzZSwgb25seSB0cmF2ZXJzZSByb290LWxldmVsIHByb3BlcnRpZXNcbiAgICB0cmF2ZXJzZShzb3VyY2UyLCBkZWVwID09PSBmYWxzZSA/IDEgOiB2b2lkIDApXG4gICk7XG4gIGxldCBnZXR0ZXI7XG4gIGxldCBmb3JjZVRyaWdnZXIgPSBmYWxzZTtcbiAgbGV0IGlzTXVsdGlTb3VyY2UgPSBmYWxzZTtcbiAgaWYgKGlzUmVmKHNvdXJjZSkpIHtcbiAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UudmFsdWU7XG4gICAgZm9yY2VUcmlnZ2VyID0gaXNTaGFsbG93KHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gcmVhY3RpdmVHZXR0ZXIoc291cmNlKTtcbiAgICBmb3JjZVRyaWdnZXIgPSB0cnVlO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoc291cmNlKSkge1xuICAgIGlzTXVsdGlTb3VyY2UgPSB0cnVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IHNvdXJjZS5zb21lKChzKSA9PiBpc1JlYWN0aXZlKHMpIHx8IGlzU2hhbGxvdyhzKSk7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLm1hcCgocykgPT4ge1xuICAgICAgaWYgKGlzUmVmKHMpKSB7XG4gICAgICAgIHJldHVybiBzLnZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKHMpKSB7XG4gICAgICAgIHJldHVybiByZWFjdGl2ZUdldHRlcihzKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgICAgICByZXR1cm4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHMsIGluc3RhbmNlLCAyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybkludmFsaWRTb3VyY2Uocyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgaWYgKGNiKSB7XG4gICAgICBnZXR0ZXIgPSAoKSA9PiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoc291cmNlLCBpbnN0YW5jZSwgMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAzLFxuICAgICAgICAgIFtvbkNsZWFudXBdXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBnZXR0ZXIgPSBOT09QO1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcbiAgfVxuICBpZiAoY2IgJiYgZGVlcCkge1xuICAgIGNvbnN0IGJhc2VHZXR0ZXIgPSBnZXR0ZXI7XG4gICAgZ2V0dGVyID0gKCkgPT4gdHJhdmVyc2UoYmFzZUdldHRlcigpKTtcbiAgfVxuICBsZXQgY2xlYW51cDtcbiAgbGV0IG9uQ2xlYW51cCA9IChmbikgPT4ge1xuICAgIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gKCkgPT4ge1xuICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgNCk7XG4gICAgICBjbGVhbnVwID0gZWZmZWN0Lm9uU3RvcCA9IHZvaWQgMDtcbiAgICB9O1xuICB9O1xuICBsZXQgc3NyQ2xlYW51cDtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIG9uQ2xlYW51cCA9IE5PT1A7XG4gICAgaWYgKCFjYikge1xuICAgICAgZ2V0dGVyKCk7XG4gICAgfSBlbHNlIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMywgW1xuICAgICAgICBnZXR0ZXIoKSxcbiAgICAgICAgaXNNdWx0aVNvdXJjZSA/IFtdIDogdm9pZCAwLFxuICAgICAgICBvbkNsZWFudXBcbiAgICAgIF0pO1xuICAgIH1cbiAgICBpZiAoZmx1c2ggPT09IFwic3luY1wiKSB7XG4gICAgICBjb25zdCBjdHggPSB1c2VTU1JDb250ZXh0KCk7XG4gICAgICBzc3JDbGVhbnVwID0gY3R4Ll9fd2F0Y2hlckhhbmRsZXMgfHwgKGN0eC5fX3dhdGNoZXJIYW5kbGVzID0gW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gTk9PUDtcbiAgICB9XG4gIH1cbiAgbGV0IG9sZFZhbHVlID0gaXNNdWx0aVNvdXJjZSA/IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKS5maWxsKElOSVRJQUxfV0FUQ0hFUl9WQUxVRSkgOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XG4gIGNvbnN0IGpvYiA9ICgpID0+IHtcbiAgICBpZiAoIWVmZmVjdC5hY3RpdmUgfHwgIWVmZmVjdC5kaXJ0eSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZWZmZWN0LnJ1bigpO1xuICAgICAgaWYgKGRlZXAgfHwgZm9yY2VUcmlnZ2VyIHx8IChpc011bHRpU291cmNlID8gbmV3VmFsdWUuc29tZSgodiwgaSkgPT4gaGFzQ2hhbmdlZCh2LCBvbGRWYWx1ZVtpXSkpIDogaGFzQ2hhbmdlZChuZXdWYWx1ZSwgb2xkVmFsdWUpKSB8fCBmYWxzZSkge1xuICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYiwgaW5zdGFuY2UsIDMsIFtcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB2b2lkIDAgOiBpc011bHRpU291cmNlICYmIG9sZFZhbHVlWzBdID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyBbXSA6IG9sZFZhbHVlLFxuICAgICAgICAgIG9uQ2xlYW51cFxuICAgICAgICBdKTtcbiAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfTtcbiAgam9iLmFsbG93UmVjdXJzZSA9ICEhY2I7XG4gIGxldCBzY2hlZHVsZXI7XG4gIGlmIChmbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICBzY2hlZHVsZXIgPSBqb2I7XG4gIH0gZWxzZSBpZiAoZmx1c2ggPT09IFwicG9zdFwiKSB7XG4gICAgc2NoZWR1bGVyID0gKCkgPT4gcXVldWVQb3N0UmVuZGVyRWZmZWN0KGpvYiwgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2UpO1xuICB9IGVsc2Uge1xuICAgIGpvYi5wcmUgPSB0cnVlO1xuICAgIGlmIChpbnN0YW5jZSlcbiAgICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZUpvYihqb2IpO1xuICB9XG4gIGNvbnN0IGVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChnZXR0ZXIsIE5PT1AsIHNjaGVkdWxlcik7XG4gIGNvbnN0IHNjb3BlID0gZ2V0Q3VycmVudFNjb3BlKCk7XG4gIGNvbnN0IHVud2F0Y2ggPSAoKSA9PiB7XG4gICAgZWZmZWN0LnN0b3AoKTtcbiAgICBpZiAoc2NvcGUpIHtcbiAgICAgIHJlbW92ZShzY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgIH1cbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBlZmZlY3Qub25UcmFjayA9IG9uVHJhY2s7XG4gICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9uVHJpZ2dlcjtcbiAgfVxuICBpZiAoY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBqb2IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgIGVmZmVjdC5ydW4uYmluZChlZmZlY3QpLFxuICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2VcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5ydW4oKTtcbiAgfVxuICBpZiAoc3NyQ2xlYW51cClcbiAgICBzc3JDbGVhbnVwLnB1c2godW53YXRjaCk7XG4gIHJldHVybiB1bndhdGNoO1xufVxuZnVuY3Rpb24gaW5zdGFuY2VXYXRjaChzb3VyY2UsIHZhbHVlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSB0aGlzLnByb3h5O1xuICBjb25zdCBnZXR0ZXIgPSBpc1N0cmluZyhzb3VyY2UpID8gc291cmNlLmluY2x1ZGVzKFwiLlwiKSA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywgc291cmNlKSA6ICgpID0+IHB1YmxpY1RoaXNbc291cmNlXSA6IHNvdXJjZS5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICBsZXQgY2I7XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIGNiID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY2IgPSB2YWx1ZS5oYW5kbGVyO1xuICAgIG9wdGlvbnMgPSB2YWx1ZTtcbiAgfVxuICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZSh0aGlzKTtcbiAgY29uc3QgcmVzID0gZG9XYXRjaChnZXR0ZXIsIGNiLmJpbmQocHVibGljVGhpcyksIG9wdGlvbnMpO1xuICByZXNldCgpO1xuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0aEdldHRlcihjdHgsIHBhdGgpIHtcbiAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiLlwiKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsZXQgY3VyID0gY3R4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoICYmIGN1cjsgaSsrKSB7XG4gICAgICBjdXIgPSBjdXJbc2VnbWVudHNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gY3VyO1xuICB9O1xufVxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIGRlcHRoLCBjdXJyZW50RGVwdGggPSAwLCBzZWVuKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHZhbHVlW1wiX192X3NraXBcIl0pIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGRlcHRoICYmIGRlcHRoID4gMCkge1xuICAgIGlmIChjdXJyZW50RGVwdGggPj0gZGVwdGgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY3VycmVudERlcHRoKys7XG4gIH1cbiAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgaWYgKHNlZW4uaGFzKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuLmFkZCh2YWx1ZSk7XG4gIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB0cmF2ZXJzZSh2YWx1ZS52YWx1ZSwgZGVwdGgsIGN1cnJlbnREZXB0aCwgc2Vlbik7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZVtpXSwgZGVwdGgsIGN1cnJlbnREZXB0aCwgc2Vlbik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBkZXB0aCwgY3VycmVudERlcHRoLCBzZWVuKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlKSB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgY3VycmVudERlcHRoLCBzZWVuKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICBpZiAoaXNCdWlsdEluRGlyZWN0aXZlKG5hbWUpKSB7XG4gICAgd2FybiQxKFwiRG8gbm90IHVzZSBidWlsdC1pbiBkaXJlY3RpdmUgaWRzIGFzIGN1c3RvbSBkaXJlY3RpdmUgaWQ6IFwiICsgbmFtZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRFeHBvc2VQcm94eShjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wcm94eTtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzIHx8ICh2bm9kZS5kaXJzID0gW10pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgaWYgKGRpcikge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xuICAgICAgICBkaXIgPSB7XG4gICAgICAgICAgbW91bnRlZDogZGlyLFxuICAgICAgICAgIHVwZGF0ZWQ6IGRpclxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGRpci5kZWVwKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGJpbmRpbmdzLnB1c2goe1xuICAgICAgICBkaXIsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb2xkVmFsdWU6IHZvaWQgMCxcbiAgICAgICAgYXJnLFxuICAgICAgICBtb2RpZmllcnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBwcmV2Vk5vZGUsIGluc3RhbmNlLCBuYW1lKSB7XG4gIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcbiAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgaWYgKG9sZEJpbmRpbmdzKSB7XG4gICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XG4gICAgfVxuICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XG4gICAgaWYgKGhvb2spIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA4LCBbXG4gICAgICAgIHZub2RlLmVsLFxuICAgICAgICBiaW5kaW5nLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgcHJldlZOb2RlXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbGVhdmVDYktleSA9IFN5bWJvbChcIl9sZWF2ZUNiXCIpO1xuY29uc3QgZW50ZXJDYktleSA9IFN5bWJvbChcIl9lbnRlckNiXCIpO1xuZnVuY3Rpb24gdXNlVHJhbnNpdGlvblN0YXRlKCkge1xuICBjb25zdCBzdGF0ZSA9IHtcbiAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgIGlzTGVhdmluZzogZmFsc2UsXG4gICAgaXNVbm1vdW50aW5nOiBmYWxzZSxcbiAgICBsZWF2aW5nVk5vZGVzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gIH07XG4gIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgc3RhdGUuaXNNb3VudGVkID0gdHJ1ZTtcbiAgfSk7XG4gIG9uQmVmb3JlVW5tb3VudCgoKSA9PiB7XG4gICAgc3RhdGUuaXNVbm1vdW50aW5nID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cbmNvbnN0IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yID0gW0Z1bmN0aW9uLCBBcnJheV07XG5jb25zdCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgbW9kZTogU3RyaW5nLFxuICBhcHBlYXI6IEJvb2xlYW4sXG4gIHBlcnNpc3RlZDogQm9vbGVhbixcbiAgLy8gZW50ZXJcbiAgb25CZWZvcmVFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFmdGVyRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkVudGVyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgLy8gbGVhdmVcbiAgb25CZWZvcmVMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFmdGVyTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkxlYXZlQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgLy8gYXBwZWFyXG4gIG9uQmVmb3JlQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFmdGVyQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BcHBlYXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yXG59O1xuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xuICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxuICBwcm9wczogQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcbiAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgY2hpbGQgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoYy50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBoYXNGb3VuZCkge1xuICAgICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgICAgXCI8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50IG9yIGNvbXBvbmVudC4gVXNlIDx0cmFuc2l0aW9uLWdyb3VwPiBmb3IgbGlzdHMuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZCA9IGM7XG4gICAgICAgICAgICBoYXNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbW9kZSAmJiBtb2RlICE9PSBcImluLW91dFwiICYmIG1vZGUgIT09IFwib3V0LWluXCIgJiYgbW9kZSAhPT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgd2FybiQxKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRLZWVwQWxpdmVDaGlsZChjaGlsZCk7XG4gICAgICBpZiAoIWlubmVyQ2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgIGlubmVyQ2hpbGQsXG4gICAgICAgIHJhd1Byb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2VcbiAgICAgICk7XG4gICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XG4gICAgICBjb25zdCBvbGRDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xuICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiYgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmICFpc1NhbWVWTm9kZVR5cGUoaW5uZXJDaGlsZCwgb2xkSW5uZXJDaGlsZCkpIHtcbiAgICAgICAgY29uc3QgbGVhdmluZ0hvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICBvbGRJbm5lckNoaWxkLFxuICAgICAgICAgIHJhd1Byb3BzLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICk7XG4gICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhvbGRJbm5lckNoaWxkLCBsZWF2aW5nSG9va3MpO1xuICAgICAgICBpZiAobW9kZSA9PT0gXCJvdXQtaW5cIikge1xuICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS51cGRhdGUuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBpbnN0YW5jZS5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImluLW91dFwiICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XG4gICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcbiAgICAgICAgICAgICAgZWxbbGVhdmVDYktleV0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uID0gQmFzZVRyYW5zaXRpb25JbXBsO1xuZnVuY3Rpb24gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpIHtcbiAgY29uc3QgeyBsZWF2aW5nVk5vZGVzIH0gPSBzdGF0ZTtcbiAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xuICBpZiAoIWxlYXZpbmdWTm9kZXNDYWNoZSkge1xuICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XG4gIH1cbiAgcmV0dXJuIGxlYXZpbmdWTm9kZXNDYWNoZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGFwcGVhcixcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCA9IGZhbHNlLFxuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkFmdGVyRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUxlYXZlLFxuICAgIG9uTGVhdmUsXG4gICAgb25BZnRlckxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIsXG4gICAgb25BcHBlYXIsXG4gICAgb25BZnRlckFwcGVhcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IGtleSA9IFN0cmluZyh2bm9kZS5rZXkpO1xuICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSk7XG4gIGNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBob29rICYmIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaG9vayxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgOSxcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9O1xuICBjb25zdCBjYWxsQXN5bmNIb29rID0gKGhvb2ssIGFyZ3MpID0+IHtcbiAgICBjb25zdCBkb25lID0gYXJnc1sxXTtcbiAgICBjYWxsSG9vayhob29rLCBhcmdzKTtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaWYgKGhvb2suZXZlcnkoKGhvb2syKSA9PiBob29rMi5sZW5ndGggPD0gMSkpXG4gICAgICAgIGRvbmUoKTtcbiAgICB9IGVsc2UgaWYgKGhvb2subGVuZ3RoIDw9IDEpIHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhvb2tzID0ge1xuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkLFxuICAgIGJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uQmVmb3JlRW50ZXI7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQmVmb3JlQXBwZWFyIHx8IG9uQmVmb3JlRW50ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgZWxbbGVhdmVDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgbGVhdmluZ1ZOb2RlID0gbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleV07XG4gICAgICBpZiAobGVhdmluZ1ZOb2RlICYmIGlzU2FtZVZOb2RlVHlwZSh2bm9kZSwgbGVhdmluZ1ZOb2RlKSAmJiBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0pIHtcbiAgICAgICAgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhob29rLCBbZWxdKTtcbiAgICB9LFxuICAgIGVudGVyKGVsKSB7XG4gICAgICBsZXQgaG9vayA9IG9uRW50ZXI7XG4gICAgICBsZXQgYWZ0ZXJIb29rID0gb25BZnRlckVudGVyO1xuICAgICAgbGV0IGNhbmNlbEhvb2sgPSBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkFwcGVhciB8fCBvbkVudGVyO1xuICAgICAgICAgIGFmdGVySG9vayA9IG9uQWZ0ZXJBcHBlYXIgfHwgb25BZnRlckVudGVyO1xuICAgICAgICAgIGNhbmNlbEhvb2sgPSBvbkFwcGVhckNhbmNlbGxlZCB8fCBvbkVudGVyQ2FuY2VsbGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2VudGVyQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgIGNhbGxIb29rKGNhbmNlbEhvb2ssIFtlbF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvb2tzLmRlbGF5ZWRMZWF2ZSkge1xuICAgICAgICAgIGhvb2tzLmRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsW2VudGVyQ2JLZXldID0gdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIGlmIChob29rKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2soaG9vaywgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XG4gICAgICBjb25zdCBrZXkyID0gU3RyaW5nKHZub2RlLmtleSk7XG4gICAgICBpZiAoZWxbZW50ZXJDYktleV0pIHtcbiAgICAgICAgZWxbZW50ZXJDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmlzVW5tb3VudGluZykge1xuICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUxlYXZlLCBbZWxdKTtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtsZWF2ZUNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJlbW92ZSgpO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9PT0gdm5vZGUpIHtcbiAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID0gdm5vZGU7XG4gICAgICBpZiAob25MZWF2ZSkge1xuICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvbmUodm5vZGUyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZTIsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhvb2tzO1xufVxuZnVuY3Rpb24gZW1wdHlQbGFjZWhvbGRlcih2bm9kZSkge1xuICBpZiAoaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgdm5vZGUgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB2bm9kZS5jaGlsZHJlbiA9IG51bGw7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG59XG5mdW5jdGlvbiBnZXRLZWVwQWxpdmVDaGlsZCh2bm9kZSkge1xuICByZXR1cm4gaXNLZWVwQWxpdmUodm5vZGUpID8gKFxuICAgIC8vICM3MTIxIGVuc3VyZSBnZXQgdGhlIGNoaWxkIGNvbXBvbmVudCBzdWJ0cmVlIGluIGNhc2VcbiAgICAvLyBpdCdzIGJlZW4gcmVwbGFjZWQgZHVyaW5nIEhNUlxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUuY29tcG9uZW50ID8gdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgOiB2bm9kZS5jaGlsZHJlbiA/IHZub2RlLmNoaWxkcmVuWzBdIDogdm9pZCAwXG4gICkgOiB2bm9kZTtcbn1cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZSwgaG9va3MpIHtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYgJiYgdm5vZGUuY29tcG9uZW50KSB7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XG4gIH0gZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xuICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkcmVuLCBrZWVwQ29tbWVudCA9IGZhbHNlLCBwYXJlbnRLZXkpIHtcbiAgbGV0IHJldCA9IFtdO1xuICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IGtleSA9IHBhcmVudEtleSA9PSBudWxsID8gY2hpbGQua2V5IDogU3RyaW5nKHBhcmVudEtleSkgKyBTdHJpbmcoY2hpbGQua2V5ICE9IG51bGwgPyBjaGlsZC5rZXkgOiBpKTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjgpXG4gICAgICAgIGtleWVkRnJhZ21lbnRDb3VudCsrO1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCwga2V5KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgIHJldC5wdXNoKGtleSAhPSBudWxsID8gY2xvbmVWTm9kZShjaGlsZCwgeyBrZXkgfSkgOiBjaGlsZCk7XG4gICAgfVxuICB9XG4gIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODMyNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsb2FkZXIsXG4gICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICBlcnJvckNvbXBvbmVudCxcbiAgICBkZWxheSA9IDIwMCxcbiAgICB0aW1lb3V0LFxuICAgIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSxcbiAgICBvbkVycm9yOiB1c2VyT25FcnJvclxuICB9ID0gc291cmNlO1xuICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICBsZXQgcmVzb2x2ZWRDb21wO1xuICBsZXQgcmV0cmllcyA9IDA7XG4gIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xuICAgIHJldHJpZXMrKztcbiAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgcmV0dXJuIGxvYWQoKTtcbiAgfTtcbiAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICBsZXQgdGhpc1JlcXVlc3Q7XG4gICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0IHx8ICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID0gbG9hZGVyKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xuICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcbiAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xuICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9KS50aGVuKChjb21wKSA9PiB7XG4gICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjb21wKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wICYmIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIk1vZHVsZVwiKSkge1xuICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcbiAgICAgIHJldHVybiBjb21wO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogXCJBc3luY0NvbXBvbmVudFdyYXBwZXJcIixcbiAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxuICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgIH0sXG4gICAgc2V0dXAoKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaGFuZGxlRXJyb3IoXG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIDEzLFxuICAgICAgICAgICFlcnJvckNvbXBvbmVudFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGlmIChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSB8fCBpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgcmV0dXJuIGxvYWQoKS50aGVuKChjb21wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50ID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgbG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQuZWZmZWN0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCBwYXJlbnQpIHtcbiAgY29uc3QgeyByZWY6IHJlZjIsIHByb3BzLCBjaGlsZHJlbiwgY2UgfSA9IHBhcmVudC52bm9kZTtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xuICB2bm9kZS5yZWYgPSByZWYyO1xuICB2bm9kZS5jZSA9IGNlO1xuICBkZWxldGUgcGFyZW50LnZub2RlLmNlO1xuICByZXR1cm4gdm5vZGU7XG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xuICBuYW1lOiBgS2VlcEFsaXZlYCxcbiAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cbiAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcbiAgLy8gd291bGQgcHJldmVudCBpdCBmcm9tIGJlaW5nIHRyZWUtc2hha2VuLlxuICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxuICBwcm9wczoge1xuICAgIGluY2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgIGV4Y2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxuICB9LFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xuICAgIGlmICghc2hhcmVkQ29udGV4dC5yZW5kZXJlcikge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA9PT0gMSA/IGNoaWxkcmVuWzBdIDogY2hpbGRyZW47XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgY29uc3Qga2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgbGV0IGN1cnJlbnQgPSBudWxsO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaW5zdGFuY2UuX192X2NhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XG4gICAgY29uc3Qge1xuICAgICAgcmVuZGVyZXI6IHtcbiAgICAgICAgcDogcGF0Y2gsXG4gICAgICAgIG06IG1vdmUsXG4gICAgICAgIHVtOiBfdW5tb3VudCxcbiAgICAgICAgbzogeyBjcmVhdGVFbGVtZW50IH1cbiAgICAgIH1cbiAgICB9ID0gc2hhcmVkQ29udGV4dDtcbiAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMiA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgaW5zdGFuY2UyLnZub2RlLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGluc3RhbmNlMixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpbnN0YW5jZTIuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgfTtcbiAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMiA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgIG1vdmUodm5vZGUsIHN0b3JhZ2VDb250YWluZXIsIG51bGwsIDEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuZGEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuZGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZub2RlSG9vayA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLm9uVm5vZGVVbm1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UyLmlzRGVhY3RpdmF0ZWQgPSB0cnVlO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcbiAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xuICAgICAgY2FjaGUuZm9yRWFjaCgodm5vZGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcbiAgICAgICAgaWYgKG5hbWUgJiYgKCFmaWx0ZXIgfHwgIWZpbHRlcihuYW1lKSkpIHtcbiAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShrZXkpIHtcbiAgICAgIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKCFjdXJyZW50IHx8ICFpc1NhbWVWTm9kZVR5cGUoY2FjaGVkLCBjdXJyZW50KSkge1xuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9IGVsc2UgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgcmVzZXRTaGFwZUZsYWcoY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjYWNoZS5kZWxldGUoa2V5KTtcbiAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHdhdGNoKFxuICAgICAgKCkgPT4gW3Byb3BzLmluY2x1ZGUsIHByb3BzLmV4Y2x1ZGVdLFxuICAgICAgKFtpbmNsdWRlLCBleGNsdWRlXSkgPT4ge1xuICAgICAgICBpbmNsdWRlICYmIHBydW5lQ2FjaGUoKG5hbWUpID0+IG1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpO1xuICAgICAgICBleGNsdWRlICYmIHBydW5lQ2FjaGUoKG5hbWUpID0+ICFtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKTtcbiAgICAgIH0sXG4gICAgICAvLyBwcnVuZSBwb3N0LXJlbmRlciBhZnRlciBgY3VycmVudGAgaGFzIGJlZW4gdXBkYXRlZFxuICAgICAgeyBmbHVzaDogXCJwb3N0XCIsIGRlZXA6IHRydWUgfVxuICAgICk7XG4gICAgbGV0IHBlbmRpbmdDYWNoZUtleSA9IG51bGw7XG4gICAgY29uc3QgY2FjaGVTdWJ0cmVlID0gKCkgPT4ge1xuICAgICAgaWYgKHBlbmRpbmdDYWNoZUtleSAhPSBudWxsKSB7XG4gICAgICAgIGNhY2hlLnNldChwZW5kaW5nQ2FjaGVLZXksIGdldElubmVyQ2hpbGQoaW5zdGFuY2Uuc3ViVHJlZSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGNhY2hlLmZvckVhY2goKGNhY2hlZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xuICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUgJiYgY2FjaGVkLmtleSA9PT0gdm5vZGUua2V5KSB7XG4gICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xuICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fCAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQpICYmICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcbiAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBpc0FzeW5jV3JhcHBlcih2bm9kZSkgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fSA6IGNvbXBcbiAgICAgICk7XG4gICAgICBjb25zdCB7IGluY2x1ZGUsIGV4Y2x1ZGUsIG1heCB9ID0gcHJvcHM7XG4gICAgICBpZiAoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpIHx8IGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKSB7XG4gICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmICh2bm9kZS5lbCkge1xuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcbiAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xuICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyO1xuICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTY7XG4gICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KFwiLFwiKS5pbmNsdWRlcyhuYW1lKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fCAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBob29rKCk7XG4gIH0pO1xuICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XG4gICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcbiAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKFxuICAgIHR5cGUsXG4gICAgaG9vayxcbiAgICBrZWVwQWxpdmVSb290LFxuICAgIHRydWVcbiAgICAvKiBwcmVwZW5kICovXG4gICk7XG4gIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xuICB9LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IH4yNTY7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSB+NTEyO1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4ID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XG59XG5cbmZ1bmN0aW9uIGluamVjdEhvb2sodHlwZSwgaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlLCBwcmVwZW5kID0gZmFsc2UpIHtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGhvb2tzID0gdGFyZ2V0W3R5cGVdIHx8ICh0YXJnZXRbdHlwZV0gPSBbXSk7XG4gICAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2VoIHx8IChob29rLl9fd2VoID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIGlmICh0YXJnZXQuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XG4gICAgICByZXNldCgpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgaG9va3MudW5zaGlmdCh3cmFwcGVkSG9vayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlZEhvb2s7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdLnJlcGxhY2UoLyBob29rJC8sIFwiXCIpKTtcbiAgICB3YXJuJDEoXG4gICAgICBgJHthcGlOYW1lfSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC4gTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgKyAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYCApXG4gICAgKTtcbiAgfVxufVxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IChcbiAgLy8gcG9zdC1jcmVhdGUgbGlmZWN5Y2xlIHJlZ2lzdHJhdGlvbnMgYXJlIG5vb3BzIGR1cmluZyBTU1IgKGV4Y2VwdCBmb3Igc2VydmVyUHJlZmV0Y2gpXG4gICghaXNJblNTUkNvbXBvbmVudFNldHVwIHx8IGxpZmVjeWNsZSA9PT0gXCJzcFwiKSAmJiBpbmplY3RIb29rKGxpZmVjeWNsZSwgKC4uLmFyZ3MpID0+IGhvb2soLi4uYXJncyksIHRhcmdldClcbik7XG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIpO1xuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIik7XG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXCJidVwiKTtcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIpO1xuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcImJ1bVwiKTtcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIpO1xuY29uc3Qgb25TZXJ2ZXJQcmVmZXRjaCA9IGNyZWF0ZUhvb2soXCJzcFwiKTtcbmNvbnN0IG9uUmVuZGVyVHJpZ2dlcmVkID0gY3JlYXRlSG9vayhcbiAgXCJydGdcIlxuKTtcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXG4gIFwicnRjXCJcbik7XG5mdW5jdGlvbiBvbkVycm9yQ2FwdHVyZWQoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGluamVjdEhvb2soXCJlY1wiLCBob29rLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSwgY2FjaGUsIGluZGV4KSB7XG4gIGxldCByZXQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlICYmIGNhY2hlW2luZGV4XTtcbiAgaWYgKGlzQXJyYXkoc291cmNlKSB8fCBpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc291cmNlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2VbaV0sIGksIHZvaWQgMCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcylcbiAgICAgICAgICByZXMua2V5ID0gc2xvdC5rZXk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9IDogc2xvdC5mbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNsb3RzO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTbG90KHNsb3RzLCBuYW1lLCBwcm9wcyA9IHt9LCBmYWxsYmFjaywgbm9TbG90dGVkKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UuaXNDRSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQuaXNDRSkge1xuICAgIGlmIChuYW1lICE9PSBcImRlZmF1bHRcIilcbiAgICAgIHByb3BzLm5hbWUgPSBuYW1lO1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShcInNsb3RcIiwgcHJvcHMsIGZhbGxiYWNrICYmIGZhbGxiYWNrKCkpO1xuICB9XG4gIGxldCBzbG90ID0gc2xvdHNbbmFtZV07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNsb3QgJiYgc2xvdC5sZW5ndGggPiAxKSB7XG4gICAgd2FybiQxKFxuICAgICAgYFNTUi1vcHRpbWl6ZWQgc2xvdCBmdW5jdGlvbiBkZXRlY3RlZCBpbiBhIG5vbi1TU1Itb3B0aW1pemVkIHJlbmRlciBmdW5jdGlvbi4gWW91IG5lZWQgdG8gbWFyayB0aGlzIGNvbXBvbmVudCB3aXRoICRkeW5hbWljLXNsb3RzIGluIHRoZSBwYXJlbnQgdGVtcGxhdGUuYFxuICAgICk7XG4gICAgc2xvdCA9ICgpID0+IFtdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gZmFsc2U7XG4gIH1cbiAgb3BlbkJsb2NrKCk7XG4gIGNvbnN0IHZhbGlkU2xvdENvbnRlbnQgPSBzbG90ICYmIGVuc3VyZVZhbGlkVk5vZGUoc2xvdChwcm9wcykpO1xuICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKFxuICAgIEZyYWdtZW50LFxuICAgIHtcbiAgICAgIGtleTogcHJvcHMua2V5IHx8IC8vIHNsb3QgY29udGVudCBhcnJheSBvZiBhIGR5bmFtaWMgY29uZGl0aW9uYWwgc2xvdCBtYXkgaGF2ZSBhIGJyYW5jaFxuICAgICAgLy8ga2V5IGF0dGFjaGVkIGluIHRoZSBgY3JlYXRlU2xvdHNgIGhlbHBlciwgcmVzcGVjdCB0aGF0XG4gICAgICB2YWxpZFNsb3RDb250ZW50ICYmIHZhbGlkU2xvdENvbnRlbnQua2V5IHx8IGBfJHtuYW1lfWBcbiAgICB9LFxuICAgIHZhbGlkU2xvdENvbnRlbnQgfHwgKGZhbGxiYWNrID8gZmFsbGJhY2soKSA6IFtdKSxcbiAgICB2YWxpZFNsb3RDb250ZW50ICYmIHNsb3RzLl8gPT09IDEgPyA2NCA6IC0yXG4gICk7XG4gIGlmICghbm9TbG90dGVkICYmIHJlbmRlcmVkLnNjb3BlSWQpIHtcbiAgICByZW5kZXJlZC5zbG90U2NvcGVJZHMgPSBbcmVuZGVyZWQuc2NvcGVJZCArIFwiLXNcIl07XG4gIH1cbiAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgIHNsb3QuX2QgPSB0cnVlO1xuICB9XG4gIHJldHVybiByZW5kZXJlZDtcbn1cbmZ1bmN0aW9uIGVuc3VyZVZhbGlkVk5vZGUodm5vZGVzKSB7XG4gIHJldHVybiB2bm9kZXMuc29tZSgoY2hpbGQpID0+IHtcbiAgICBpZiAoIWlzVk5vZGUoY2hpbGQpKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50ICYmICFlbnN1cmVWYWxpZFZOb2RlKGNoaWxkLmNoaWxkcmVuKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSkgPyB2bm9kZXMgOiBudWxsO1xufVxuXG5mdW5jdGlvbiB0b0hhbmRsZXJzKG9iaiwgcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChvYmopKSB7XG4gICAgd2FybiQxKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICByZXRbcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkgJiYgL1tBLVpdLy50ZXN0KGtleSkgPyBgb246JHtrZXl9YCA6IHRvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmNvbnN0IGdldFB1YmxpY0luc3RhbmNlID0gKGkpID0+IHtcbiAgaWYgKCFpKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSlcbiAgICByZXR1cm4gZ2V0RXhwb3NlUHJveHkoaSkgfHwgaS5wcm94eTtcbiAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KTtcbn07XG5jb25zdCBwdWJsaWNQcm9wZXJ0aWVzTWFwID0gKFxuICAvLyBNb3ZlIFBVUkUgbWFya2VyIHRvIG5ldyBsaW5lIHRvIHdvcmthcm91bmQgY29tcGlsZXIgZGlzY2FyZGluZyBpdFxuICAvLyBkdWUgdG8gdHlwZSBhbm5vdGF0aW9uXG4gIC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAkOiAoaSkgPT4gaSxcbiAgICAkZWw6IChpKSA9PiBpLnZub2RlLmVsLFxuICAgICRkYXRhOiAoaSkgPT4gaS5kYXRhLFxuICAgICRwcm9wczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5wcm9wcykgOiBpLnByb3BzLFxuICAgICRhdHRyczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzLFxuICAgICRzbG90czogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzLFxuICAgICRyZWZzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnJlZnMpIDogaS5yZWZzLFxuICAgICRwYXJlbnQ6IChpKSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXG4gICAgJHJvb3Q6IChpKSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxuICAgICRlbWl0OiAoaSkgPT4gaS5lbWl0LFxuICAgICRvcHRpb25zOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IHJlc29sdmVNZXJnZWRPcHRpb25zKGkpIDogaS50eXBlLFxuICAgICRmb3JjZVVwZGF0ZTogKGkpID0+IGkuZiB8fCAoaS5mID0gKCkgPT4ge1xuICAgICAgaS5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgcXVldWVKb2IoaS51cGRhdGUpO1xuICAgIH0pLFxuICAgICRuZXh0VGljazogKGkpID0+IGkubiB8fCAoaS5uID0gbmV4dFRpY2suYmluZChpLnByb3h5KSksXG4gICAgJHdhdGNoOiAoaSkgPT4gX19WVUVfT1BUSU9OU19BUElfXyA/IGluc3RhbmNlV2F0Y2guYmluZChpKSA6IE5PT1BcbiAgfSlcbik7XG5jb25zdCBpc1Jlc2VydmVkUHJlZml4ID0gKGtleSkgPT4ga2V5ID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJFwiO1xuY29uc3QgaGFzU2V0dXBCaW5kaW5nID0gKHN0YXRlLCBrZXkpID0+IHN0YXRlICE9PSBFTVBUWV9PQkogJiYgIXN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc3RhdGUsIGtleSk7XG5jb25zdCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMgPSB7XG4gIGdldCh7IF86IGluc3RhbmNlIH0sIGtleSkge1xuICAgIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlLCBkYXRhLCBwcm9wcywgYWNjZXNzQ2FjaGUsIHR5cGUsIGFwcENvbnRleHQgfSA9IGluc3RhbmNlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSA9PT0gXCJfX2lzVnVlXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIGlmIChrZXlbMF0gIT09IFwiJFwiKSB7XG4gICAgICBjb25zdCBuID0gYWNjZXNzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChuICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3dpdGNoIChuKSB7XG4gICAgICAgICAgY2FzZSAxIC8qIFNFVFVQICovOlxuICAgICAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgICAgICBjYXNlIDIgLyogREFUQSAqLzpcbiAgICAgICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICAgICAgY2FzZSA0IC8qIENPTlRFWFQgKi86XG4gICAgICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICAgICAgY2FzZSAzIC8qIFBST1BTICovOlxuICAgICAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDEgLyogU0VUVVAgKi87XG4gICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMiAvKiBEQVRBICovO1xuICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgLy8gb25seSBjYWNoZSBvdGhlciBwcm9wZXJ0aWVzIHdoZW4gaW5zdGFuY2UgaGFzIGRlY2xhcmVkICh0aHVzIHN0YWJsZSlcbiAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgKG5vcm1hbGl6ZWRQcm9wcyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkgJiYgaGFzT3duKG5vcm1hbGl6ZWRQcm9wcywga2V5KVxuICAgICAgKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAzIC8qIFBST1BTICovO1xuICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoY3R4ICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGN0eCwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgICB9IGVsc2UgaWYgKCFfX1ZVRV9PUFRJT05TX0FQSV9fIHx8IHNob3VsZENhY2hlQWNjZXNzKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAwIC8qIE9USEVSICovO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwdWJsaWNHZXR0ZXIgPSBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV07XG4gICAgbGV0IGNzc01vZHVsZSwgZ2xvYmFsUHJvcGVydGllcztcbiAgICBpZiAocHVibGljR2V0dGVyKSB7XG4gICAgICBpZiAoa2V5ID09PSBcIiRhdHRyc1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBrZXkpO1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIiRzbG90c1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXG4gICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBjc3NNb2R1bGU7XG4gICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xuICAgICAgZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpXG4gICAgKSB7XG4gICAgICB7XG4gICAgICAgIHJldHVybiBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJiAoIWlzU3RyaW5nKGtleSkgfHwgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICBrZXkuaW5kZXhPZihcIl9fdlwiKSAhPT0gMCkpIHtcbiAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGluc3RhbmNlLnByb3BzLCBrZXkpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChrZXlbMF0gPT09IFwiJFwiICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBoYXMoe1xuICAgIF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH1cbiAgfSwga2V5KSB7XG4gICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcbiAgICByZXR1cm4gISFhY2Nlc3NDYWNoZVtrZXldIHx8IGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSB8fCBoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSB8fCAobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpIHx8IGhhc093bihjdHgsIGtleSkgfHwgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHwgaGFzT3duKGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSk7XG4gIH0sXG4gIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgaWYgKGRlc2NyaXB0b3IuZ2V0ICE9IG51bGwpIHtcbiAgICAgIHRhcmdldC5fLmFjY2Vzc0NhY2hlW2tleV0gPSAwO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGRlc2NyaXB0b3IsIFwidmFsdWVcIikpIHtcbiAgICAgIHRoaXMuc2V0KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLnZhbHVlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcbiAgICB3YXJuJDEoXG4gICAgICBgQXZvaWQgYXBwIGxvZ2ljIHRoYXQgcmVsaWVzIG9uIGVudW1lcmF0aW5nIGtleXMgb24gYSBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmBcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfTtcbn1cbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoXG4gIHt9LFxuICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsXG4gIHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgICB9LFxuICAgIGhhcyhfLCBrZXkpIHtcbiAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gXCJfXCIgJiYgIWlzR2xvYmFsbHlBbGxvd2VkKGtleSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzO1xuICAgIH1cbiAgfVxuKTtcbmZ1bmN0aW9uIGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgdGFyZ2V0ID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6ICgpID0+IGluc3RhbmNlXG4gIH0pO1xuICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpLFxuICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxuICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcbiAgICAgIHNldDogTk9PUFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBjdHgsXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICB9ID0gaW5zdGFuY2U7XG4gIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcbiAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICghc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXApIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHdhcm5SdW50aW1lVXNhZ2UgPSAobWV0aG9kKSA9PiB3YXJuJDEoXG4gIGAke21ldGhvZH0oKSBpcyBhIGNvbXBpbGVyLWhpbnQgaGVscGVyIHRoYXQgaXMgb25seSB1c2FibGUgaW5zaWRlIDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gXG4pO1xuZnVuY3Rpb24gZGVmaW5lUHJvcHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lUHJvcHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUVtaXRzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUVtaXRzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVFeHBvc2UoZXhwb3NlZCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUV4cG9zZWApO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVPcHRpb25zYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZVNsb3RzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVNsb3RzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVNb2RlbCgpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKFwiZGVmaW5lTW9kZWxcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEZWZhdWx0cyhwcm9wcywgZGVmYXVsdHMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGB3aXRoRGVmYXVsdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNsb3RzKCkge1xuICByZXR1cm4gZ2V0Q29udGV4dCgpLnNsb3RzO1xufVxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuYXR0cnM7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpKSB7XG4gICAgd2FybiQxKGB1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICB9XG4gIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPckVtaXRzKHByb3BzKSB7XG4gIHJldHVybiBpc0FycmF5KHByb3BzKSA/IHByb3BzLnJlZHVjZShcbiAgICAobm9ybWFsaXplZCwgcCkgPT4gKG5vcm1hbGl6ZWRbcF0gPSBudWxsLCBub3JtYWxpemVkKSxcbiAgICB7fVxuICApIDogcHJvcHM7XG59XG5mdW5jdGlvbiBtZXJnZURlZmF1bHRzKHJhdywgZGVmYXVsdHMpIHtcbiAgY29uc3QgcHJvcHMgPSBub3JtYWxpemVQcm9wc09yRW1pdHMocmF3KTtcbiAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJfX3NraXBcIikpXG4gICAgICBjb250aW51ZTtcbiAgICBsZXQgb3B0ID0gcHJvcHNba2V5XTtcbiAgICBpZiAob3B0KSB7XG4gICAgICBpZiAoaXNBcnJheShvcHQpIHx8IGlzRnVuY3Rpb24ob3B0KSkge1xuICAgICAgICBvcHQgPSBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9wdCA9PT0gbnVsbCkge1xuICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm9wcyBkZWZhdWx0IGtleSBcIiR7a2V5fVwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLmApO1xuICAgIH1cbiAgICBpZiAob3B0ICYmIGRlZmF1bHRzW2BfX3NraXBfJHtrZXl9YF0pIHtcbiAgICAgIG9wdC5za2lwRmFjdG9yeSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlTW9kZWxzKGEsIGIpIHtcbiAgaWYgKCFhIHx8ICFiKVxuICAgIHJldHVybiBhIHx8IGI7XG4gIGlmIChpc0FycmF5KGEpICYmIGlzQXJyYXkoYikpXG4gICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICByZXR1cm4gZXh0ZW5kKHt9LCBub3JtYWxpemVQcm9wc09yRW1pdHMoYSksIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhiKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wc1Jlc3RQcm94eShwcm9wcywgZXhjbHVkZWRLZXlzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHByb3BzW2tleV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd2l0aEFzeW5jQ29udGV4dChnZXRBd2FpdGFibGUpIHtcbiAgY29uc3QgY3R4ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjdHgpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgd2l0aEFzeW5jQ29udGV4dCBjYWxsZWQgd2l0aG91dCBhY3RpdmUgY3VycmVudCBpbnN0YW5jZS4gVGhpcyBpcyBsaWtlbHkgYSBidWcuYFxuICAgICk7XG4gIH1cbiAgbGV0IGF3YWl0YWJsZSA9IGdldEF3YWl0YWJsZSgpO1xuICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICBhd2FpdGFibGUgPSBhd2FpdGFibGUuY2F0Y2goKGUpID0+IHtcbiAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdHgpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW2F3YWl0YWJsZSwgKCkgPT4gc2V0Q3VycmVudEluc3RhbmNlKGN0eCldO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICB3YXJuJDEoYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XG4gICAgfVxuICB9O1xufVxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XG4gICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICAvLyBzdGF0ZVxuICAgIGRhdGE6IGRhdGFPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsXG4gICAgbWV0aG9kcyxcbiAgICB3YXRjaDogd2F0Y2hPcHRpb25zLFxuICAgIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLFxuICAgIGluamVjdDogaW5qZWN0T3B0aW9ucyxcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBjcmVhdGVkLFxuICAgIGJlZm9yZU1vdW50LFxuICAgIG1vdW50ZWQsXG4gICAgYmVmb3JlVXBkYXRlLFxuICAgIHVwZGF0ZWQsXG4gICAgYWN0aXZhdGVkLFxuICAgIGRlYWN0aXZhdGVkLFxuICAgIGJlZm9yZURlc3Ryb3ksXG4gICAgYmVmb3JlVW5tb3VudCxcbiAgICBkZXN0cm95ZWQsXG4gICAgdW5tb3VudGVkLFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJUcmFja2VkLFxuICAgIHJlbmRlclRyaWdnZXJlZCxcbiAgICBlcnJvckNhcHR1cmVkLFxuICAgIHNlcnZlclByZWZldGNoLFxuICAgIC8vIHB1YmxpYyBBUElcbiAgICBleHBvc2UsXG4gICAgaW5oZXJpdEF0dHJzLFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHMsXG4gICAgZGlyZWN0aXZlcyxcbiAgICBmaWx0ZXJzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBQUk9QUyAqLywga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGluamVjdE9wdGlvbnMpIHtcbiAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyk7XG4gIH1cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBNRVRIT0RTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGFPcHRpb25zKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogREFUQSAqLywga2V5KTtcbiAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXG4gICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdCkgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IGlzRnVuY3Rpb24ob3B0LmdldCkgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcykgOiBOT09QO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgIHdhcm4kMShgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpIDogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/ICgpID0+IHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmBcbiAgICAgICAgKTtcbiAgICAgIH0gOiBOT09QO1xuICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXRcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBjLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XG4gICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XG4gICAgfVxuICB9XG4gIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucykgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgUmVmbGVjdC5vd25LZXlzKHByb3ZpZGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY3JlYXRlZCkge1xuICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIik7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJMaWZlY3ljbGVIb29rKHJlZ2lzdGVyLCBob29rKSB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGhvb2suZm9yRWFjaCgoX2hvb2spID0+IHJlZ2lzdGVyKF9ob29rLmJpbmQocHVibGljVGhpcykpKTtcbiAgICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZU1vdW50LCBiZWZvcmVNb3VudCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVwZGF0ZWQsIHVwZGF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkVycm9yQ2FwdHVyZWQsIGVycm9yQ2FwdHVyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVVbm1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xuICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0ge30pO1xuICAgICAgZXhwb3NlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3NlZCwga2V5LCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNUaGlzW2tleV0sXG4gICAgICAgICAgc2V0OiAodmFsKSA9PiBwdWJsaWNUaGlzW2tleV0gPSB2YWxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICBpbnN0YW5jZS5leHBvc2VkID0ge307XG4gICAgfVxuICB9XG4gIGlmIChyZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QKSB7XG4gICAgaW5zdGFuY2UucmVuZGVyID0gcmVuZGVyO1xuICB9XG4gIGlmIChpbmhlcml0QXR0cnMgIT0gbnVsbCkge1xuICAgIGluc3RhbmNlLmluaGVyaXRBdHRycyA9IGluaGVyaXRBdHRycztcbiAgfVxuICBpZiAoY29tcG9uZW50cylcbiAgICBpbnN0YW5jZS5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgaWYgKGRpcmVjdGl2ZXMpXG4gICAgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG59XG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1ApIHtcbiAgaWYgKGlzQXJyYXkoaW5qZWN0T3B0aW9ucykpIHtcbiAgICBpbmplY3RPcHRpb25zID0gbm9ybWFsaXplSW5qZWN0KGluamVjdE9wdGlvbnMpO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XG4gICAgbGV0IGluamVjdGVkO1xuICAgIGlmIChpc09iamVjdChvcHQpKSB7XG4gICAgICBpZiAoXCJkZWZhdWx0XCIgaW4gb3B0KSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KFxuICAgICAgICAgIG9wdC5mcm9tIHx8IGtleSxcbiAgICAgICAgICBvcHQuZGVmYXVsdCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmplY3RlZCA9IGluamVjdChvcHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWYoaW5qZWN0ZWQpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluamVjdGVkLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBpbmplY3RlZC52YWx1ZSA9IHZcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2FsbEhvb2soaG9vaywgaW5zdGFuY2UsIHR5cGUpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgaXNBcnJheShob29rKSA/IGhvb2subWFwKChoKSA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKSA6IGhvb2suYmluZChpbnN0YW5jZS5wcm94eSksXG4gICAgaW5zdGFuY2UsXG4gICAgdHlwZVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XG4gIGNvbnN0IGdldHRlciA9IGtleS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSkgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICByYXcuZm9yRWFjaCgocikgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcikgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gIGNvbnN0IHtcbiAgICBtaXhpbnM6IGdsb2JhbE1peGlucyxcbiAgICBvcHRpb25zQ2FjaGU6IGNhY2hlLFxuICAgIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfVxuICB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICBsZXQgcmVzb2x2ZWQ7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgfSBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgIHtcbiAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZWQgPSB7fTtcbiAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2goXG4gICAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSlcbiAgICAgICk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgfVxuICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICB9XG4gIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICB9XG4gIGlmIChtaXhpbnMpIHtcbiAgICBtaXhpbnMuZm9yRWFjaChcbiAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSlcbiAgICApO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09IFwiZXhwb3NlXCIpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IHN0cmF0cyAmJiBzdHJhdHNba2V5XTtcbiAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gIGRhdGE6IG1lcmdlRGF0YUZuLFxuICBwcm9wczogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICBlbWl0czogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICAvLyBvYmplY3RzXG4gIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gbGlmZWN5Y2xlXG4gIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgLy8gYXNzZXRzXG4gIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyB3YXRjaFxuICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG87XG4gIH1cbiAgaWYgKCF0bykge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgcmV0dXJuIChleHRlbmQpKFxuICAgICAgaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sXG4gICAgICBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbVxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8sIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAodG8pIHtcbiAgICBpZiAoaXNBcnJheSh0bykgJiYgaXNBcnJheShmcm9tKSkge1xuICAgICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udG8sIC4uLmZyb21dKV07XG4gICAgfVxuICAgIHJldHVybiBleHRlbmQoXG4gICAgICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyh0byksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHMoZnJvbSAhPSBudWxsID8gZnJvbSA6IHt9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICghdG8pXG4gICAgcmV0dXJuIGZyb207XG4gIGlmICghZnJvbSlcbiAgICByZXR1cm4gdG87XG4gIGNvbnN0IG1lcmdlZCA9IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pO1xuICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgbWVyZ2VkW2tleV0gPSBtZXJnZUFzQXJyYXkodG9ba2V5XSwgZnJvbVtrZXldKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xuICByZXR1cm4ge1xuICAgIGFwcDogbnVsbCxcbiAgICBjb25maWc6IHtcbiAgICAgIGlzTmF0aXZlVGFnOiBOTyxcbiAgICAgIHBlcmZvcm1hbmNlOiBmYWxzZSxcbiAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxuICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcbiAgICAgIGVycm9ySGFuZGxlcjogdm9pZCAwLFxuICAgICAgd2FybkhhbmRsZXI6IHZvaWQgMCxcbiAgICAgIGNvbXBpbGVyT3B0aW9uczoge31cbiAgICB9LFxuICAgIG1peGluczogW10sXG4gICAgY29tcG9uZW50czoge30sXG4gICAgZGlyZWN0aXZlczoge30sXG4gICAgcHJvdmlkZXM6IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgIG9wdGlvbnNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgcHJvcHNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgZW1pdHNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKClcbiAgfTtcbn1cbmxldCB1aWQkMSA9IDA7XG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xuICAgIGlmICghaXNGdW5jdGlvbihyb290Q29tcG9uZW50KSkge1xuICAgICAgcm9vdENvbXBvbmVudCA9IGV4dGVuZCh7fSwgcm9vdENvbXBvbmVudCk7XG4gICAgfVxuICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xuICAgICAgcm9vdFByb3BzID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbiAgICBjb25zdCBpbnN0YWxsZWRQbHVnaW5zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG4gICAgbGV0IGlzTW91bnRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFwcCA9IGNvbnRleHQuYXBwID0ge1xuICAgICAgX3VpZDogdWlkJDErKyxcbiAgICAgIF9jb21wb25lbnQ6IHJvb3RDb21wb25lbnQsXG4gICAgICBfcHJvcHM6IHJvb3RQcm9wcyxcbiAgICAgIF9jb250YWluZXI6IG51bGwsXG4gICAgICBfY29udGV4dDogY29udGV4dCxcbiAgICAgIF9pbnN0YW5jZTogbnVsbCxcbiAgICAgIHZlcnNpb24sXG4gICAgICBnZXQgY29uZmlnKCkge1xuICAgICAgICByZXR1cm4gY29udGV4dC5jb25maWc7XG4gICAgICB9LFxuICAgICAgc2V0IGNvbmZpZyh2KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGFwcC5jb25maWcgY2Fubm90IGJlIHJlcGxhY2VkLiBNb2RpZnkgaW5kaXZpZHVhbCBvcHRpb25zIGluc3RlYWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2UocGx1Z2luLCAuLi5vcHRpb25zKSB7XG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmhhcyhwbHVnaW4pKSB7XG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYFBsdWdpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbHVnaW4gJiYgaXNGdW5jdGlvbihwbHVnaW4uaW5zdGFsbCkpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbi5pbnN0YWxsKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihwbHVnaW4pKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4oYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEEgcGx1Z2luIG11c3QgZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IHdpdGggYW4gXCJpbnN0YWxsXCIgZnVuY3Rpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtaXhpbihtaXhpbikge1xuICAgICAgICBpZiAoX19WVUVfT1BUSU9OU19BUElfXykge1xuICAgICAgICAgIGlmICghY29udGV4dC5taXhpbnMuaW5jbHVkZXMobWl4aW4pKSB7XG4gICAgICAgICAgICBjb250ZXh0Lm1peGlucy5wdXNoKG1peGluKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJNaXhpbiBoYXMgYWxyZWFkeSBiZWVuIGFwcGxpZWQgdG8gdGFyZ2V0IGFwcFwiICsgKG1peGluLm5hbWUgPyBgOiAke21peGluLm5hbWV9YCA6IFwiXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiTWl4aW5zIGFyZSBvbmx5IGF2YWlsYWJsZSBpbiBidWlsZHMgc3VwcG9ydGluZyBPcHRpb25zIEFQSVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGNvbXBvbmVudChuYW1lLCBjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgY29udGV4dC5jb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYENvbXBvbmVudCBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV0gPSBjb21wb25lbnQ7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgZGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpcmVjdGl2ZSkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBEaXJlY3RpdmUgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5kaXJlY3RpdmVzW25hbWVdID0gZGlyZWN0aXZlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1vdW50KHJvb3RDb250YWluZXIsIGlzSHlkcmF0ZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgIGlmICghaXNNb3VudGVkKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXykge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgVGhlcmUgaXMgYWxyZWFkeSBhbiBhcHAgaW5zdGFuY2UgbW91bnRlZCBvbiB0aGUgaG9zdCBjb250YWluZXIuXG4gSWYgeW91IHdhbnQgdG8gbW91bnQgYW5vdGhlciBhcHAgb24gdGhlIHNhbWUgaG9zdCBjb250YWluZXIsIHlvdSBuZWVkIHRvIHVubW91bnQgdGhlIHByZXZpb3VzIGFwcCBieSBjYWxsaW5nIFxcYGFwcC51bm1vdW50KClcXGAgZmlyc3QuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShyb290Q29tcG9uZW50LCByb290UHJvcHMpO1xuICAgICAgICAgIHZub2RlLmFwcENvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgIGlmIChuYW1lc3BhY2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb250ZXh0LnJlbG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgcmVuZGVyKFxuICAgICAgICAgICAgICAgIGNsb25lVk5vZGUodm5vZGUpLFxuICAgICAgICAgICAgICAgIHJvb3RDb250YWluZXIsXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNIeWRyYXRlICYmIGh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGh5ZHJhdGUodm5vZGUsIHJvb3RDb250YWluZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXIodm5vZGUsIHJvb3RDb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgYXBwLl9jb250YWluZXIgPSByb290Q29udGFpbmVyO1xuICAgICAgICAgIHJvb3RDb250YWluZXIuX192dWVfYXBwX18gPSBhcHA7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgICAgICAgZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBnZXRFeHBvc2VQcm94eSh2bm9kZS5jb21wb25lbnQpIHx8IHZub2RlLmNvbXBvbmVudC5wcm94eTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEFwcCBoYXMgYWxyZWFkeSBiZWVuIG1vdW50ZWQuXG5JZiB5b3Ugd2FudCB0byByZW1vdW50IHRoZSBzYW1lIGFwcCwgbW92ZSB5b3VyIGFwcCBjcmVhdGlvbiBsb2dpYyBpbnRvIGEgZmFjdG9yeSBmdW5jdGlvbiBhbmQgY3JlYXRlIGZyZXNoIGFwcCBpbnN0YW5jZXMgZm9yIGVhY2ggbW91bnQgLSBlLmcuIFxcYGNvbnN0IGNyZWF0ZU15QXBwID0gKCkgPT4gY3JlYXRlQXBwKEFwcClcXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVubW91bnQoKSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICByZW5kZXIobnVsbCwgYXBwLl9jb250YWluZXIpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgICAgYXBwLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICBkZXZ0b29sc1VubW91bnRBcHAoYXBwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGFwcC5fY29udGFpbmVyLl9fdnVlX2FwcF9fO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoYENhbm5vdCB1bm1vdW50IGFuIGFwcCB0aGF0IGlzIG5vdCBtb3VudGVkLmApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBjb250ZXh0LnByb3ZpZGVzKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gSXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIHRoZSBuZXcgdmFsdWUuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5wcm92aWRlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgcnVuV2l0aENvbnRleHQoZm4pIHtcbiAgICAgICAgY29uc3QgbGFzdEFwcCA9IGN1cnJlbnRBcHA7XG4gICAgICAgIGN1cnJlbnRBcHAgPSBhcHA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY3VycmVudEFwcCA9IGxhc3RBcHA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG4gIH07XG59XG5sZXQgY3VycmVudEFwcCA9IG51bGw7XG5cbmZ1bmN0aW9uIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYHByb3ZpZGUoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLmApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XG4gICAgY29uc3QgcGFyZW50UHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XG4gICAgaWYgKHBhcmVudFByb3ZpZGVzID09PSBwcm92aWRlcykge1xuICAgICAgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFByb3ZpZGVzKTtcbiAgICB9XG4gICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBpbmplY3Qoa2V5LCBkZWZhdWx0VmFsdWUsIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlIHx8IGN1cnJlbnRBcHApIHtcbiAgICBjb25zdCBwcm92aWRlcyA9IGluc3RhbmNlID8gaW5zdGFuY2UucGFyZW50ID09IG51bGwgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXMgOiBjdXJyZW50QXBwLl9jb250ZXh0LnByb3ZpZGVzO1xuICAgIGlmIChwcm92aWRlcyAmJiBrZXkgaW4gcHJvdmlkZXMpIHtcbiAgICAgIHJldHVybiBwcm92aWRlc1trZXldO1xuICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpID8gZGVmYXVsdFZhbHVlLmNhbGwoaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHkpIDogZGVmYXVsdFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBpbmplY3Rpb24gXCIke1N0cmluZyhrZXkpfVwiIG5vdCBmb3VuZC5gKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgaW5qZWN0KCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKSBvciBmdW5jdGlvbmFsIGNvbXBvbmVudHMuYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0luamVjdGlvbkNvbnRleHQoKSB7XG4gIHJldHVybiAhIShjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRBcHApO1xufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCBpc1NTUiA9IGZhbHNlKSB7XG4gIGNvbnN0IHByb3BzID0ge307XG4gIGNvbnN0IGF0dHJzID0ge307XG4gIGRlZihhdHRycywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xuICBpbnN0YW5jZS5wcm9wc0RlZmF1bHRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLnByb3BzT3B0aW9uc1swXSkge1xuICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcbiAgICAgIHByb3BzW2tleV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAoaXNTdGF0ZWZ1bCkge1xuICAgIGluc3RhbmNlLnByb3BzID0gaXNTU1IgPyBwcm9wcyA6IHNoYWxsb3dSZWFjdGl2ZShwcm9wcyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFpbnN0YW5jZS50eXBlLnByb3BzKSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IGF0dHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hdHRycyA9IGF0dHJzO1xufVxuZnVuY3Rpb24gaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgd2hpbGUgKGluc3RhbmNlKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19obXJJZClcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGluc3RhbmNlID0gaW5zdGFuY2UucGFyZW50O1xuICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wcyxcbiAgICBhdHRycyxcbiAgICB2bm9kZTogeyBwYXRjaEZsYWcgfVxuICB9ID0gaW5zdGFuY2U7XG4gIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGlmIChcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxuICAgIC8vIC0gIzE5NDIgaWYgaG1yIGlzIGVuYWJsZWQgd2l0aCBzZmMgY29tcG9uZW50XG4gICAgLy8gLSB2aXRlIzg3MiBub24tc2ZjIGNvbXBvbmVudCB1c2VkIGJ5IHNmYyBjb21wb25lbnRcbiAgICAhKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpKSAmJiAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmICEocGF0Y2hGbGFnICYgMTYpXG4gICkge1xuICAgIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICBpZiAoaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgICAgICBwcm9wc1tjYW1lbGl6ZWRLZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBjYW1lbGl6ZWRLZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykpIHtcbiAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIGxldCBrZWJhYktleTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgIGlmICghcmF3UHJvcHMgfHwgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcbiAgICAgIC8vIGFuZCBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlICgjOTU1KVxuICAgICAgKChrZWJhYktleSA9IGh5cGhlbmF0ZShrZXkpKSA9PT0ga2V5IHx8ICFoYXNPd24ocmF3UHJvcHMsIGtlYmFiS2V5KSkpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAocmF3UHJldlByb3BzICYmIC8vIGZvciBjYW1lbENhc2VcbiAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHZvaWQgMCB8fCAvLyBmb3Iga2ViYWItY2FzZVxuICAgICAgICAgIHJhd1ByZXZQcm9wc1trZWJhYktleV0gIT09IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiB0cnVlKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XG4gICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaGFzQXR0cnNDaGFuZ2VkKSB7XG4gICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiwgXCIkYXR0cnNcIik7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG59XG5mdW5jdGlvbiBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpIHtcbiAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgbGV0IHJhd0Nhc3RWYWx1ZXM7XG4gIGlmIChyYXdQcm9wcykge1xuICAgIGZvciAobGV0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICBsZXQgY2FtZWxLZXk7XG4gICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkge1xuICAgICAgICBpZiAoIW5lZWRDYXN0S2V5cyB8fCAhbmVlZENhc3RLZXlzLmluY2x1ZGVzKGNhbWVsS2V5KSkge1xuICAgICAgICAgIHByb3BzW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChyYXdDYXN0VmFsdWVzIHx8IChyYXdDYXN0VmFsdWVzID0ge30pKVtjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBhdHRycykgfHwgdmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobmVlZENhc3RLZXlzKSB7XG4gICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xuICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAga2V5LFxuICAgICAgICBjYXN0VmFsdWVzW2tleV0sXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSlcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHByb3BzLCBrZXksIHZhbHVlLCBpbnN0YW5jZSwgaXNBYnNlbnQpIHtcbiAgY29uc3Qgb3B0ID0gb3B0aW9uc1trZXldO1xuICBpZiAob3B0ICE9IG51bGwpIHtcbiAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0O1xuICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiAhb3B0LnNraXBGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoa2V5IGluIHByb3BzRGVmYXVsdHMpIHtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUuY2FsbChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xuICAgICAgaWYgKGlzQWJzZW50ICYmICFoYXNEZWZhdWx0KSB7XG4gICAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKG9wdFsxIC8qIHNob3VsZENhc3RUcnVlICovXSAmJiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSkge1xuICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcyKSA9PiB7XG4gICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgaWYgKGtleXMpXG4gICAgICAgIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICB9XG4gICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgY29uc3QgcHJvcCA9IG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IGV4dGVuZCh7fSwgb3B0KTtcbiAgICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcbiAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XG4gICAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XG4gICAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9IHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcbiAgICAgICAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEgfHwgaGFzT3duKHByb3AsIFwiZGVmYXVsdFwiKSkge1xuICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlcyA9IFtub3JtYWxpemVkLCBuZWVkQ2FzdEtleXNdO1xuICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICBjYWNoZS5zZXQoY29tcCwgcmVzKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wTmFtZShrZXkpIHtcbiAgaWYgKGtleVswXSAhPT0gXCIkXCIgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFR5cGUoY3Rvcikge1xuICBpZiAoY3RvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICBpZiAodHlwZW9mIGN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBjdG9yLm5hbWUgfHwgXCJcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY3RvciA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IG5hbWUgPSBjdG9yLmNvbnN0cnVjdG9yICYmIGN0b3IuY29uc3RydWN0b3IubmFtZTtcbiAgICByZXR1cm4gbmFtZSB8fCBcIlwiO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gaXNTYW1lVHlwZShhLCBiKSB7XG4gIHJldHVybiBnZXRUeXBlKGEpID09PSBnZXRUeXBlKGIpO1xufVxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKGlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHtcbiAgICByZXR1cm4gZXhwZWN0ZWRUeXBlcy5maW5kSW5kZXgoKHQpID0+IGlzU2FtZVR5cGUodCwgdHlwZSkpO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRUeXBlcykpIHtcbiAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcbiAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgPT0gbnVsbClcbiAgICAgIGNvbnRpbnVlO1xuICAgIHZhbGlkYXRlUHJvcChcbiAgICAgIGtleSxcbiAgICAgIHJlc29sdmVkVmFsdWVzW2tleV0sXG4gICAgICBvcHQsXG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KHJlc29sdmVkVmFsdWVzKSA6IHJlc29sdmVkVmFsdWVzLFxuICAgICAgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiAhaGFzT3duKHJhd1Byb3BzLCBoeXBoZW5hdGUoa2V5KSlcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3AobmFtZSwgdmFsdWUsIHByb3AsIHByb3BzLCBpc0Fic2VudCkge1xuICBjb25zdCB7IHR5cGUsIHJlcXVpcmVkLCB2YWxpZGF0b3IsIHNraXBDaGVjayB9ID0gcHJvcDtcbiAgaWYgKHJlcXVpcmVkICYmIGlzQWJzZW50KSB7XG4gICAgd2FybiQxKCdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHZhbHVlID09IG51bGwgJiYgIXJlcXVpcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlICE9IG51bGwgJiYgdHlwZSAhPT0gdHJ1ZSAmJiAhc2tpcENoZWNrKSB7XG4gICAgbGV0IGlzVmFsaWQgPSBmYWxzZTtcbiAgICBjb25zdCB0eXBlcyA9IGlzQXJyYXkodHlwZSkgPyB0eXBlIDogW3R5cGVdO1xuICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aCAmJiAhaXNWYWxpZDsgaSsrKSB7XG4gICAgICBjb25zdCB7IHZhbGlkLCBleHBlY3RlZFR5cGUgfSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVzW2ldKTtcbiAgICAgIGV4cGVjdGVkVHlwZXMucHVzaChleHBlY3RlZFR5cGUgfHwgXCJcIik7XG4gICAgICBpc1ZhbGlkID0gdmFsaWQ7XG4gICAgfVxuICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgd2FybiQxKGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IodmFsdWUsIHByb3BzKSkge1xuICAgIHdhcm4kMSgnSW52YWxpZCBwcm9wOiBjdXN0b20gdmFsaWRhdG9yIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIicgKyBuYW1lICsgJ1wiLicpO1xuICB9XG59XG5jb25zdCBpc1NpbXBsZVR5cGUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJTdHJpbmcsTnVtYmVyLEJvb2xlYW4sRnVuY3Rpb24sU3ltYm9sLEJpZ0ludFwiXG4pO1xuZnVuY3Rpb24gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZSkge1xuICBsZXQgdmFsaWQ7XG4gIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XG4gIGlmIChpc1NpbXBsZVR5cGUoZXhwZWN0ZWRUeXBlKSkge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgdmFsdWU7XG4gICAgdmFsaWQgPSB0ID09PSBleHBlY3RlZFR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoIXZhbGlkICYmIHQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IFwiT2JqZWN0XCIpIHtcbiAgICB2YWxpZCA9IGlzT2JqZWN0KHZhbHVlKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IFwiQXJyYXlcIikge1xuICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIm51bGxcIikge1xuICAgIHZhbGlkID0gdmFsdWUgPT09IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB2YWxpZCxcbiAgICBleHBlY3RlZFR5cGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xuICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYFByb3AgdHlwZSBbXSBmb3IgcHJvcCBcIiR7bmFtZX1cIiB3b24ndCBtYXRjaCBhbnl0aGluZy4gRGlkIHlvdSBtZWFuIHRvIHVzZSB0eXBlIEFycmF5IGluc3RlYWQ/YDtcbiAgfVxuICBsZXQgbWVzc2FnZSA9IGBJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJHtuYW1lfVwiLiBFeHBlY3RlZCAke2V4cGVjdGVkVHlwZXMubWFwKGNhcGl0YWxpemUpLmpvaW4oXCIgfCBcIil9YDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcbiAgY29uc3QgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcbiAgY29uc3QgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7XG4gIGNvbnN0IHJlY2VpdmVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCByZWNlaXZlZFR5cGUpO1xuICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiYgaXNFeHBsaWNhYmxlKGV4cGVjdGVkVHlwZSkgJiYgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGAgd2l0aCB2YWx1ZSAke2V4cGVjdGVkVmFsdWV9YDtcbiAgfVxuICBtZXNzYWdlICs9IGAsIGdvdCAke3JlY2VpdmVkVHlwZX0gYDtcbiAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBgd2l0aCB2YWx1ZSAke3JlY2VpdmVkVmFsdWV9LmA7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBzdHlsZVZhbHVlKHZhbHVlLCB0eXBlKSB7XG4gIGlmICh0eXBlID09PSBcIlN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGBcIiR7dmFsdWV9XCJgO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiTnVtYmVyXCIpIHtcbiAgICByZXR1cm4gYCR7TnVtYmVyKHZhbHVlKX1gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHt2YWx1ZX1gO1xuICB9XG59XG5mdW5jdGlvbiBpc0V4cGxpY2FibGUodHlwZSkge1xuICBjb25zdCBleHBsaWNpdFR5cGVzID0gW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiYm9vbGVhblwiXTtcbiAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZSgoZWxlbSkgPT4gdHlwZS50b0xvd2VyQ2FzZSgpID09PSBlbGVtKTtcbn1cbmZ1bmN0aW9uIGlzQm9vbGVhbiguLi5hcmdzKSB7XG4gIHJldHVybiBhcmdzLnNvbWUoKGVsZW0pID0+IGVsZW0udG9Mb3dlckNhc2UoKSA9PT0gXCJib29sZWFuXCIpO1xufVxuXG5jb25zdCBpc0ludGVybmFsS2V5ID0gKGtleSkgPT4ga2V5WzBdID09PSBcIl9cIiB8fCBrZXkgPT09IFwiJHN0YWJsZVwiO1xuY29uc3Qgbm9ybWFsaXplU2xvdFZhbHVlID0gKHZhbHVlKSA9PiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWTm9kZSkgOiBbbm9ybWFsaXplVk5vZGUodmFsdWUpXTtcbmNvbnN0IG5vcm1hbGl6ZVNsb3QgPSAoa2V5LCByYXdTbG90LCBjdHgpID0+IHtcbiAgaWYgKHJhd1Nsb3QuX24pIHtcbiAgICByZXR1cm4gcmF3U2xvdDtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gd2l0aEN0eCgoLi4uYXJncykgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRJbnN0YW5jZSAmJiAoIWN0eCB8fCBjdHgucm9vdCA9PT0gY3VycmVudEluc3RhbmNlLnJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIEludm9rZSB0aGUgc2xvdCBmdW5jdGlvbiBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdCguLi5hcmdzKSk7XG4gIH0sIGN0eCk7XG4gIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuY29uc3Qgbm9ybWFsaXplT2JqZWN0U2xvdHMgPSAocmF3U2xvdHMsIHNsb3RzLCBpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xuICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpXG4gICAgICBjb250aW51ZTtcbiAgICBjb25zdCB2YWx1ZSA9IHJhd1Nsb3RzW2tleV07XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICBzbG90c1trZXldID0gbm9ybWFsaXplU2xvdChrZXksIHZhbHVlLCBjdHgpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3Igc2xvdCBcIiR7a2V5fVwiLiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKHZhbHVlKTtcbiAgICAgIHNsb3RzW2tleV0gPSAoKSA9PiBub3JtYWxpemVkO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG5vcm1hbGl6ZVZOb2RlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0tlZXBBbGl2ZShpbnN0YW5jZS52bm9kZSkgJiYgdHJ1ZSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIGRlZmF1bHQgc2xvdC4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZShjaGlsZHJlbik7XG4gIGluc3RhbmNlLnNsb3RzLmRlZmF1bHQgPSAoKSA9PiBub3JtYWxpemVkO1xufTtcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGluc3RhbmNlLnNsb3RzID0gdG9SYXcoY2hpbGRyZW4pO1xuICAgICAgZGVmKGNoaWxkcmVuLCBcIl9cIiwgdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKFxuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB7fSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlLnNsb3RzID0ge307XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgfVxuICB9XG4gIGRlZihpbnN0YW5jZS5zbG90cywgSW50ZXJuYWxPYmplY3RLZXksIDEpO1xufTtcbmNvbnN0IHVwZGF0ZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbiwgb3B0aW1pemVkKSA9PiB7XG4gIGNvbnN0IHsgdm5vZGUsIHNsb3RzIH0gPSBpbnN0YW5jZTtcbiAgbGV0IG5lZWREZWxldGlvbkNoZWNrID0gdHJ1ZTtcbiAgbGV0IGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IEVNUFRZX09CSjtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XG4gICAgICAgIHRyaWdnZXIoaW5zdGFuY2UsIFwic2V0XCIsIFwiJHNsb3RzXCIpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSkge1xuICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XG4gICAgICAgIGlmICghb3B0aW1pemVkICYmIHR5cGUgPT09IDEpIHtcbiAgICAgICAgICBkZWxldGUgc2xvdHMuXztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZWVkRGVsZXRpb25DaGVjayA9ICFjaGlsZHJlbi4kc3RhYmxlO1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XG4gIH1cbiAgaWYgKG5lZWREZWxldGlvbkNoZWNrKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldFtrZXldID09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIHNsb3RzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgIHJhd1JlZi5mb3JFYWNoKFxuICAgICAgKHIsIGkpID0+IHNldFJlZihcbiAgICAgICAgcixcbiAgICAgICAgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGlzVW5tb3VudFxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgPyBnZXRFeHBvc2VQcm94eSh2bm9kZS5jb21wb25lbnQpIHx8IHZub2RlLmNvbXBvbmVudC5wcm94eSA6IHZub2RlLmVsO1xuICBjb25zdCB2YWx1ZSA9IGlzVW5tb3VudCA/IG51bGwgOiByZWZWYWx1ZTtcbiAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFvd25lcikge1xuICAgIHdhcm4kMShcbiAgICAgIGBNaXNzaW5nIHJlZiBvd25lciBjb250ZXh0LiByZWYgY2Fubm90IGJlIHVzZWQgb24gaG9pc3RlZCB2bm9kZXMuIEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XG4gIGNvbnN0IHJlZnMgPSBvd25lci5yZWZzID09PSBFTVBUWV9PQkogPyBvd25lci5yZWZzID0ge30gOiBvd25lci5yZWZzO1xuICBjb25zdCBzZXR1cFN0YXRlID0gb3duZXIuc2V0dXBTdGF0ZTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcbiAgICAgICAgc2V0dXBTdGF0ZVtvbGRSZWZdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUmVmKG9sZFJlZikpIHtcbiAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcocmVmLCBvd25lciwgMTIsIFt2YWx1ZSwgcmVmc10pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IF9pc1N0cmluZyA9IGlzU3RyaW5nKHJlZik7XG4gICAgY29uc3QgX2lzUmVmID0gaXNSZWYocmVmKTtcbiAgICBpZiAoX2lzU3RyaW5nIHx8IF9pc1JlZikge1xuICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyYXdSZWYuZikge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gX2lzU3RyaW5nID8gaGFzT3duKHNldHVwU3RhdGUsIHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiByZWYudmFsdWU7XG4gICAgICAgICAgaWYgKGlzVW5tb3VudCkge1xuICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlKGV4aXN0aW5nLCByZWZWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCByZWYpKSB7XG4gICAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSByZWZzW3JlZl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKVxuICAgICAgICAgICAgICAgICAgcmVmc1tyYXdSZWYua10gPSByZWYudmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWV4aXN0aW5nLmluY2x1ZGVzKHJlZlZhbHVlKSkge1xuICAgICAgICAgICAgICBleGlzdGluZy5wdXNoKHJlZlZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgcmVmc1tyZWZdID0gdmFsdWU7XG4gICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCByZWYpKSB7XG4gICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoX2lzUmVmKSB7XG4gICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgaWYgKHJhd1JlZi5rKVxuICAgICAgICAgICAgcmVmc1tyYXdSZWYua10gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZG9TZXQuaWQgPSAtMTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb1NldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgfVxuICB9XG59XG5cbmxldCBoYXNNaXNtYXRjaCA9IGZhbHNlO1xuY29uc3QgaXNTVkdDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwic3ZnXCIpICYmIGNvbnRhaW5lci50YWdOYW1lICE9PSBcImZvcmVpZ25PYmplY3RcIjtcbmNvbnN0IGlzTWF0aE1MQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcIk1hdGhNTFwiKTtcbmNvbnN0IGdldENvbnRhaW5lclR5cGUgPSAoY29udGFpbmVyKSA9PiB7XG4gIGlmIChpc1NWR0NvbnRhaW5lcihjb250YWluZXIpKVxuICAgIHJldHVybiBcInN2Z1wiO1xuICBpZiAoaXNNYXRoTUxDb250YWluZXIoY29udGFpbmVyKSlcbiAgICByZXR1cm4gXCJtYXRobWxcIjtcbiAgcmV0dXJuIHZvaWQgMDtcbn07XG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBDT01NRU5UICovO1xuZnVuY3Rpb24gY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gIGNvbnN0IHtcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgcDogcGF0Y2gsXG4gICAgbzoge1xuICAgICAgcGF0Y2hQcm9wLFxuICAgICAgY3JlYXRlVGV4dCxcbiAgICAgIG5leHRTaWJsaW5nLFxuICAgICAgcGFyZW50Tm9kZSxcbiAgICAgIHJlbW92ZSxcbiAgICAgIGluc2VydCxcbiAgICAgIGNyZWF0ZUNvbW1lbnRcbiAgICB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaHlkcmF0ZSA9ICh2bm9kZSwgY29udGFpbmVyKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gaHlkcmF0ZSBleGlzdGluZyBtYXJrdXAgYnV0IGNvbnRhaW5lciBpcyBlbXB0eS4gUGVyZm9ybWluZyBmdWxsIG1vdW50IGluc3RlYWQuYFxuICAgICAgKTtcbiAgICAgIHBhdGNoKG51bGwsIHZub2RlLCBjb250YWluZXIpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFzTWlzbWF0Y2ggPSBmYWxzZTtcbiAgICBoeWRyYXRlTm9kZShjb250YWluZXIuZmlyc3RDaGlsZCwgdm5vZGUsIG51bGwsIG51bGwsIG51bGwpO1xuICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgIGlmIChoYXNNaXNtYXRjaCAmJiB0cnVlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLmApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaHlkcmF0ZU5vZGUgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBpc0ZyYWdtZW50U3RhcnQgPSBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcIltcIjtcbiAgICBjb25zdCBvbk1pc21hdGNoID0gKCkgPT4gaGFuZGxlTWlzbWF0Y2goXG4gICAgICBub2RlLFxuICAgICAgdm5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgIGlzRnJhZ21lbnRTdGFydFxuICAgICk7XG4gICAgY29uc3QgeyB0eXBlLCByZWYsIHNoYXBlRmxhZywgcGF0Y2hGbGFnIH0gPSB2bm9kZTtcbiAgICBsZXQgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgdm5vZGUuZWwgPSBub2RlO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaWYgKCEoXCJfX3Zub2RlXCIgaW4gbm9kZSkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIFwiX192bm9kZVwiLCB7XG4gICAgICAgICAgdmFsdWU6IHZub2RlLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCEoXCJfX3Z1ZVBhcmVudENvbXBvbmVudFwiIGluIG5vZGUpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHtcbiAgICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBsZXQgbmV4dE5vZGUgPSBudWxsO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBUZXh0OlxuICAgICAgICBpZiAoZG9tVHlwZSAhPT0gMyAvKiBURVhUICovKSB7XG4gICAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuID09PSBcIlwiKSB7XG4gICAgICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBwYXJlbnROb2RlKG5vZGUpLCBub2RlKTtcbiAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiB0ZXh0IG1pc21hdGNoIGluYCxcbiAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAgICAgICApfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIHJlcGxhY2VOb2RlKFxuICAgICAgICAgICAgdm5vZGUuZWwgPSBub2RlLmNvbnRlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLyB8fCBpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgZG9tVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRvbVR5cGUgPT09IDEgLyogRUxFTUVOVCAqLyB8fCBkb21UeXBlID09PSAzIC8qIFRFWFQgKi8pIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXG4gICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm5vZGVUeXBlID09PSAxIC8qIEVMRU1FTlQgKi8gPyBuZXh0Tm9kZS5vdXRlckhUTUwgOiBuZXh0Tm9kZS5kYXRhO1xuICAgICAgICAgICAgaWYgKGkgPT09IHZub2RlLnN0YXRpY0NvdW50IC0gMSkge1xuICAgICAgICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobmV4dE5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNGcmFnbWVudFN0YXJ0ID8gbmV4dFNpYmxpbmcobmV4dE5vZGUpIDogbmV4dE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25NaXNtYXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgaWYgKCFpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVGcmFnbWVudChcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxKSB7XG4gICAgICAgICAgaWYgKChkb21UeXBlICE9PSAxIC8qIEVMRU1FTlQgKi8gfHwgdm5vZGUudHlwZS50b0xvd2VyQ2FzZSgpICE9PSBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgJiYgIWlzVGVtcGxhdGVOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBzdGFydFwiKSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSwgbm9kZS5kYXRhLCBcInRlbGVwb3J0IGVuZFwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSkge1xuICAgICAgICAgICAgbGV0IHN1YlRyZWU7XG4gICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgIHN1YlRyZWUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCk7XG4gICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGUgPyBuZXh0Tm9kZS5wcmV2aW91c1NpYmxpbmcgOiBjb250YWluZXIubGFzdENoaWxkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoXCJcIikgOiBjcmVhdGVWTm9kZShcImRpdlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xuICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgPSBzdWJUcmVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4IC8qIENPTU1FTlQgKi8pIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgICAgaHlkcmF0ZUNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IHZub2RlLnR5cGUuaHlkcmF0ZShcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShwYXJlbnROb2RlKG5vZGUpKSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgaHlkcmF0ZU5vZGVcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCBIb3N0Vk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0Tm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUVsZW1lbnQgPSAoZWwsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCB7IHR5cGUsIHByb3BzLCBwYXRjaEZsYWcsIHNoYXBlRmxhZywgZGlycywgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgY29uc3QgZm9yY2VQYXRjaCA9IHR5cGUgPT09IFwiaW5wdXRcIiB8fCB0eXBlID09PSBcIm9wdGlvblwiO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgcGF0Y2hGbGFnICE9PSAtMSkge1xuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgICB9XG4gICAgICBsZXQgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBmYWxzZTtcbiAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShlbCkpIHtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbikgJiYgcGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC52bm9kZS5wcm9wcyAmJiBwYXJlbnRDb21wb25lbnQudm5vZGUucHJvcHMuYXBwZWFyO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZWwuY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJlcGxhY2VOb2RlKGNvbnRlbnQsIGVsLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB2bm9kZS5lbCA9IGVsID0gY29udGVudDtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFwZUZsYWcgJiAxNiAmJiAvLyBza2lwIGlmIGVsZW1lbnQgaGFzIGlubmVySFRNTCAvIHRleHRDb250ZW50XG4gICAgICAhKHByb3BzICYmIChwcm9wcy5pbm5lckhUTUwgfHwgcHJvcHMudGV4dENvbnRlbnQpKSkge1xuICAgICAgICBsZXQgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgICAgICBlbC5maXJzdENoaWxkLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKG5leHQpIHtcbiAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgIWhhc1dhcm5lZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIG1vcmUgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgY3VyID0gbmV4dDtcbiAgICAgICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgICByZW1vdmUoY3VyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgY29udGVudCBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7ZWwudGV4dENvbnRlbnR9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke3Zub2RlLmNoaWxkcmVufWBcbiAgICAgICAgICApO1xuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBmb3JjZVBhdGNoIHx8ICFvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnICYgKDE2IHwgMzIpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBwcm9wc1trZXldLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9yY2VQYXRjaCAmJiAoa2V5LmVuZHNXaXRoKFwidmFsdWVcIikgfHwga2V5ID09PSBcImluZGV0ZXJtaW5hdGVcIikgfHwgaXNPbihrZXkpICYmICFpc1Jlc2VydmVkUHJvcChrZXkpIHx8IC8vIGZvcmNlIGh5ZHJhdGUgdi1iaW5kIHdpdGggLnByb3AgbW9kaWZpZXJzXG4gICAgICAgICAgICBrZXlbMF0gPT09IFwiLlwiKSB7XG4gICAgICAgICAgICAgIHBhdGNoUHJvcChcbiAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldLFxuICAgICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICBwYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIFwib25DbGlja1wiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGVIb29rcztcbiAgICAgIGlmICh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcbiAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbC5uZXh0U2libGluZztcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkID8gY2hpbGRyZW5baV0gOiBjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFRleHQgJiYgIXZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUZyYWdtZW50ID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IHsgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gdm5vZGU7XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIGNvbnN0IG5leHQgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICBuZXh0U2libGluZyhub2RlKSxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBzbG90U2NvcGVJZHMsXG4gICAgICBvcHRpbWl6ZWRcbiAgICApO1xuICAgIGlmIChuZXh0ICYmIGlzQ29tbWVudChuZXh0KSAmJiBuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICByZXR1cm4gbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yID0gbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgIGluc2VydCh2bm9kZS5hbmNob3IgPSBjcmVhdGVDb21tZW50KGBdYCksIGNvbnRhaW5lciwgbmV4dCk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1pc21hdGNoID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIGlzRnJhZ21lbnQpID0+IHtcbiAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICBgSHlkcmF0aW9uIG5vZGUgbWlzbWF0Y2g6XG4tIHJlbmRlcmVkIG9uIHNlcnZlcjpgLFxuICAgICAgbm9kZSxcbiAgICAgIG5vZGUubm9kZVR5cGUgPT09IDMgLyogVEVYVCAqLyA/IGAodGV4dClgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWAgOiBgYCxcbiAgICAgIGBcbi0gZXhwZWN0ZWQgb24gY2xpZW50OmAsXG4gICAgICB2bm9kZS50eXBlXG4gICAgKTtcbiAgICB2bm9kZS5lbCA9IG51bGw7XG4gICAgaWYgKGlzRnJhZ21lbnQpIHtcbiAgICAgIGNvbnN0IGVuZCA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBuZXh0MiA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBpZiAobmV4dDIgJiYgbmV4dDIgIT09IGVuZCkge1xuICAgICAgICAgIHJlbW92ZShuZXh0Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV4dCA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgcmVtb3ZlKG5vZGUpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmV4dCxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgc2xvdFNjb3BlSWRzXG4gICAgKTtcbiAgICByZXR1cm4gbmV4dDtcbiAgfTtcbiAgY29uc3QgbG9jYXRlQ2xvc2luZ0FuY2hvciA9IChub2RlLCBvcGVuID0gXCJbXCIsIGNsb3NlID0gXCJdXCIpID0+IHtcbiAgICBsZXQgbWF0Y2ggPSAwO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBub2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICBpZiAobm9kZSAmJiBpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgICAgaWYgKG5vZGUuZGF0YSA9PT0gb3BlbilcbiAgICAgICAgICBtYXRjaCsrO1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBjbG9zZSkge1xuICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgcmVwbGFjZU5vZGUgPSAobmV3Tm9kZSwgb2xkTm9kZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgcGFyZW50Tm9kZTIgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUyKSB7XG4gICAgICBwYXJlbnROb2RlMi5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRDb21wb25lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC52bm9kZS5lbCA9PT0gb2xkTm9kZSkge1xuICAgICAgICBwYXJlbnQudm5vZGUuZWwgPSBwYXJlbnQuc3ViVHJlZS5lbCA9IG5ld05vZGU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNUZW1wbGF0ZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxIC8qIEVMRU1FTlQgKi8gJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidGVtcGxhdGVcIjtcbiAgfTtcbiAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XG59XG5mdW5jdGlvbiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgY2xpZW50VmFsdWUsIHZub2RlLCBpbnN0YW5jZSkge1xuICB2YXIgX2E7XG4gIGxldCBtaXNtYXRjaFR5cGU7XG4gIGxldCBtaXNtYXRjaEtleTtcbiAgbGV0IGFjdHVhbDtcbiAgbGV0IGV4cGVjdGVkO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBleHBlY3RlZCA9IG5vcm1hbGl6ZUNsYXNzKGNsaWVudFZhbHVlKTtcbiAgICBpZiAoIWlzU2V0RXF1YWwodG9DbGFzc1NldChhY3R1YWwgfHwgXCJcIiksIHRvQ2xhc3NTZXQoZXhwZWN0ZWQpKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gbWlzbWF0Y2hLZXkgPSBgY2xhc3NgO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIGV4cGVjdGVkID0gaXNTdHJpbmcoY2xpZW50VmFsdWUpID8gY2xpZW50VmFsdWUgOiBzdHJpbmdpZnlTdHlsZShub3JtYWxpemVTdHlsZShjbGllbnRWYWx1ZSkpO1xuICAgIGNvbnN0IGFjdHVhbE1hcCA9IHRvU3R5bGVNYXAoYWN0dWFsKTtcbiAgICBjb25zdCBleHBlY3RlZE1hcCA9IHRvU3R5bGVNYXAoZXhwZWN0ZWQpO1xuICAgIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IHsgZGlyLCB2YWx1ZSB9IG9mIHZub2RlLmRpcnMpIHtcbiAgICAgICAgaWYgKGRpci5uYW1lID09PSBcInNob3dcIiAmJiAhdmFsdWUpIHtcbiAgICAgICAgICBleHBlY3RlZE1hcC5zZXQoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByb290ID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgaWYgKHZub2RlID09PSByb290IHx8IChyb290ID09IG51bGwgPyB2b2lkIDAgOiByb290LnR5cGUpID09PSBGcmFnbWVudCAmJiByb290LmNoaWxkcmVuLmluY2x1ZGVzKHZub2RlKSkge1xuICAgICAgY29uc3QgY3NzVmFycyA9IChfYSA9IGluc3RhbmNlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5nZXRDc3NWYXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChpbnN0YW5jZSk7XG4gICAgICBmb3IgKGNvbnN0IGtleTIgaW4gY3NzVmFycykge1xuICAgICAgICBleHBlY3RlZE1hcC5zZXQoYC0tJHtrZXkyfWAsIFN0cmluZyhjc3NWYXJzW2tleTJdKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNNYXBFcXVhbChhY3R1YWxNYXAsIGV4cGVjdGVkTWFwKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gbWlzbWF0Y2hLZXkgPSBcInN0eWxlXCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKGVsIGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiBpc0tub3duU3ZnQXR0cihrZXkpIHx8IGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgKGlzQm9vbGVhbkF0dHIoa2V5KSB8fCBpc0tub3duSHRtbEF0dHIoa2V5KSkpIHtcbiAgICBpZiAoaXNCb29sZWFuQXR0cihrZXkpKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gaW5jbHVkZUJvb2xlYW5BdHRyKGNsaWVudFZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNsaWVudFZhbHVlID09IG51bGwpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZShrZXkpKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwidmFsdWVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgICAgYWN0dWFsID0gZWwudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3R1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGV4cGVjdGVkID0gaXNSZW5kZXJhYmxlQXR0clZhbHVlKGNsaWVudFZhbHVlKSA/IFN0cmluZyhjbGllbnRWYWx1ZSkgOiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IGBhdHRyaWJ1dGVgO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBrZXk7XG4gICAgfVxuICB9XG4gIGlmIChtaXNtYXRjaFR5cGUpIHtcbiAgICBjb25zdCBmb3JtYXQgPSAodikgPT4gdiA9PT0gZmFsc2UgPyBgKG5vdCByZW5kZXJlZClgIDogYCR7bWlzbWF0Y2hLZXl9PVwiJHt2fVwiYDtcbiAgICBjb25zdCBwcmVTZWdtZW50ID0gYEh5ZHJhdGlvbiAke21pc21hdGNoVHlwZX0gbWlzbWF0Y2ggb25gO1xuICAgIGNvbnN0IHBvc3RTZWdtZW50ID0gYFxuICAtIHJlbmRlcmVkIG9uIHNlcnZlcjogJHtmb3JtYXQoYWN0dWFsKX1cbiAgLSBleHBlY3RlZCBvbiBjbGllbnQ6ICR7Zm9ybWF0KGV4cGVjdGVkKX1cbiAgTm90ZTogdGhpcyBtaXNtYXRjaCBpcyBjaGVjay1vbmx5LiBUaGUgRE9NIHdpbGwgbm90IGJlIHJlY3RpZmllZCBpbiBwcm9kdWN0aW9uIGR1ZSB0byBwZXJmb3JtYW5jZSBvdmVyaGVhZC5cbiAgWW91IHNob3VsZCBmaXggdGhlIHNvdXJjZSBvZiB0aGUgbWlzbWF0Y2guYDtcbiAgICB7XG4gICAgICB3YXJuJDEocHJlU2VnbWVudCwgZWwsIHBvc3RTZWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdG9DbGFzc1NldChzdHIpIHtcbiAgcmV0dXJuIG5ldyBTZXQoc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy8pKTtcbn1cbmZ1bmN0aW9uIGlzU2V0RXF1YWwoYSwgYikge1xuICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChjb25zdCBzIG9mIGEpIHtcbiAgICBpZiAoIWIuaGFzKHMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gdG9TdHlsZU1hcChzdHIpIHtcbiAgY29uc3Qgc3R5bGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RyLnNwbGl0KFwiO1wiKSkge1xuICAgIGxldCBba2V5LCB2YWx1ZV0gPSBpdGVtLnNwbGl0KFwiOlwiKTtcbiAgICBrZXkgPSBrZXkgPT0gbnVsbCA/IHZvaWQgMCA6IGtleS50cmltKCk7XG4gICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUudHJpbSgpO1xuICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgIHN0eWxlTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0eWxlTWFwO1xufVxuZnVuY3Rpb24gaXNNYXBFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBhKSB7XG4gICAgaWYgKHZhbHVlICE9PSBiLmdldChrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5sZXQgc3VwcG9ydGVkO1xubGV0IHBlcmY7XG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZlN0YXJ0KGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcbiAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcbiAgICBwZXJmLm1hcmsoZW5kVGFnKTtcbiAgICBwZXJmLm1lYXN1cmUoXG4gICAgICBgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9PiAke3R5cGV9YCxcbiAgICAgIHN0YXJ0VGFnLFxuICAgICAgZW5kVGFnXG4gICAgKTtcbiAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gIGlmIChzdXBwb3J0ZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICB9IGVsc2Uge1xuICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gIGNvbnN0IG5lZWRXYXJuID0gW107XG4gIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX09QVElPTlNfQVBJX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfT1BUSU9OU19BUElfXyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0RFVlRPT0xTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbXVsdGkgPSBuZWVkV2Fybi5sZW5ndGggPiAxO1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBGZWF0dXJlIGZsYWcke211bHRpID8gYHNgIDogYGB9ICR7bmVlZFdhcm4uam9pbihcIiwgXCIpfSAke211bHRpID8gYGFyZWAgOiBgaXNgfSBub3QgZXhwbGljaXRseSBkZWZpbmVkLiBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZSwgd2hpY2ggZXhwZWN0cyB0aGVzZSBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyB0byBiZSBnbG9iYWxseSBpbmplY3RlZCB2aWEgdGhlIGJ1bmRsZXIgY29uZmlnIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgdHJlZS1zaGFraW5nIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cblxuRm9yIG1vcmUgZGV0YWlscywgc2VlIGh0dHBzOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncy5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSA7XG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XG59XG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcbn1cbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAge1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgc2V0RGV2dG9vbHNIb29rJDEodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sIHRhcmdldCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIGluc2VydDogaG9zdEluc2VydCxcbiAgICByZW1vdmU6IGhvc3RSZW1vdmUsXG4gICAgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LFxuICAgIGNyZWF0ZVRleHQ6IGhvc3RDcmVhdGVUZXh0LFxuICAgIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LFxuICAgIHNldFRleHQ6IGhvc3RTZXRUZXh0LFxuICAgIHNldEVsZW1lbnRUZXh0OiBob3N0U2V0RWxlbWVudFRleHQsXG4gICAgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsXG4gICAgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZyxcbiAgICBzZXRTY29wZUlkOiBob3N0U2V0U2NvcGVJZCA9IE5PT1AsXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudDogaG9zdEluc2VydFN0YXRpY0NvbnRlbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIG5hbWVzcGFjZSA9IHZvaWQgMCwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nID8gZmFsc2UgOiAhIW4yLmR5bmFtaWNDaGlsZHJlbikgPT4ge1xuICAgIGlmIChuMSA9PT0gbjIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgYW5jaG9yID0gZ2V0TmV4dEhvc3ROb2RlKG4xKTtcbiAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgbjEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEpIHtcbiAgICAgICAgICBwcm9jZXNzRWxlbWVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHByb2Nlc3NDb21wb25lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xuICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRTdXNwZW5zZSwgbjIgfHwgbjEsICFuMik7XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzVGV4dCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKSA9PiB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoXG4gICAgICAgIG4yLmVsID0gaG9zdENyZWF0ZVRleHQobjIuY2hpbGRyZW4pLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZWwgPSBuMi5lbCA9IG4xLmVsO1xuICAgICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgICBob3N0U2V0VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0NvbW1lbnROb2RlID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlQ29tbWVudChuMi5jaGlsZHJlbiB8fCBcIlwiKSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudFN0YXRpY05vZGUgPSAobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UpID0+IHtcbiAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChcbiAgICAgIG4yLmNoaWxkcmVuLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgYW5jaG9yLFxuICAgICAgbmFtZXNwYWNlLFxuICAgICAgbjIuZWwsXG4gICAgICBuMi5hbmNob3JcbiAgICApO1xuICB9O1xuICBjb25zdCBwYXRjaFN0YXRpY05vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChuMi5jaGlsZHJlbiAhPT0gbjEuY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IGFuY2hvciA9IGhvc3ROZXh0U2libGluZyhuMS5hbmNob3IpO1xuICAgICAgcmVtb3ZlU3RhdGljTm9kZShuMSk7XG4gICAgICBbbjIuZWwsIG4yLmFuY2hvcl0gPSBob3N0SW5zZXJ0U3RhdGljQ29udGVudChcbiAgICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBuMi5hbmNob3IgPSBuMS5hbmNob3I7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSwgY29udGFpbmVyLCBuZXh0U2libGluZykgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgbmV4dFNpYmxpbmcpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0SW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gIH07XG4gIGNvbnN0IHJlbW92ZVN0YXRpY05vZGUgPSAoeyBlbCwgYW5jaG9yIH0pID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoZWwgJiYgZWwgIT09IGFuY2hvcikge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhlbCk7XG4gICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgIGVsID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShhbmNob3IpO1xuICB9O1xuICBjb25zdCBwcm9jZXNzRWxlbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgaWYgKG4yLnR5cGUgPT09IFwic3ZnXCIpIHtcbiAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgfSBlbHNlIGlmIChuMi50eXBlID09PSBcIm1hdGhcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIG1vdW50RWxlbWVudChcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRjaEVsZW1lbnQoXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50RWxlbWVudCA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBsZXQgZWw7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBjb25zdCB7IHByb3BzLCBzaGFwZUZsYWcsIHRyYW5zaXRpb24sIGRpcnMgfSA9IHZub2RlO1xuICAgIGVsID0gdm5vZGUuZWwgPSBob3N0Q3JlYXRlRWxlbWVudChcbiAgICAgIHZub2RlLnR5cGUsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBwcm9wcyAmJiBwcm9wcy5pcyxcbiAgICAgIHByb3BzXG4gICAgKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCB2bm9kZS5jaGlsZHJlbik7XG4gICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2Uodm5vZGUsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImNyZWF0ZWRcIik7XG4gICAgfVxuICAgIHNldFNjb3BlSWQoZWwsIHZub2RlLCB2bm9kZS5zY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCk7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICBpZiAoa2V5ICE9PSBcInZhbHVlXCIgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHNba2V5XSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIHByb3BzKSB7XG4gICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwidmFsdWVcIiwgbnVsbCwgcHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGVIb29rID0gcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgXCJfX3Zub2RlXCIsIHtcbiAgICAgICAgdmFsdWU6IHZub2RlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwge1xuICAgICAgICB2YWx1ZTogcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgfVxuICAgIGNvbnN0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pO1xuICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICBpZiAoKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0U2NvcGVJZCA9IChlbCwgdm5vZGUsIHNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgaWYgKHNjb3BlSWQpIHtcbiAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzY29wZUlkKTtcbiAgICB9XG4gICAgaWYgKHNsb3RTY29wZUlkcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbG90U2NvcGVJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNsb3RTY29wZUlkc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGxldCBzdWJUcmVlID0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWU7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzdWJUcmVlLnBhdGNoRmxhZyA+IDAgJiYgc3ViVHJlZS5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgIHN1YlRyZWUgPSBmaWx0ZXJTaW5nbGVSb290KHN1YlRyZWUuY2hpbGRyZW4pIHx8IHN1YlRyZWU7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGUgPT09IHN1YlRyZWUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50Vk5vZGUgPSBwYXJlbnRDb21wb25lbnQudm5vZGU7XG4gICAgICAgIHNldFNjb3BlSWQoXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Vk5vZGUsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2NvcGVJZCxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LnBhcmVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoY2hpbGRyZW5baV0pIDogbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG51bGwsXG4gICAgICAgIGNoaWxkLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoRWxlbWVudCA9IChuMSwgbjIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIGRpcnMgfSA9IG4yO1xuICAgIHBhdGNoRmxhZyB8PSBuMS5wYXRjaEZsYWcgJiAxNjtcbiAgICBjb25zdCBvbGRQcm9wcyA9IG4xLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICBjb25zdCBuZXdQcm9wcyA9IG4yLnByb3BzIHx8IEVNUFRZX09CSjtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIHBhcmVudENvbXBvbmVudCAmJiB0b2dnbGVSZWN1cnNlKHBhcmVudENvbXBvbmVudCwgZmFsc2UpO1xuICAgIGlmICh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSB7XG4gICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIG4yLCBuMSk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZVVwZGF0ZVwiKTtcbiAgICB9XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCB0cnVlKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBlbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGVsLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgICAgcGF0Y2hQcm9wcyhcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGF0Y2hGbGFnICYgMikge1xuICAgICAgICAgIGlmIChvbGRQcm9wcy5jbGFzcyAhPT0gbmV3UHJvcHMuY2xhc3MpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwiY2xhc3NcIiwgbnVsbCwgbmV3UHJvcHMuY2xhc3MsIG5hbWVzcGFjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA0KSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJzdHlsZVwiLCBvbGRQcm9wcy5zdHlsZSwgbmV3UHJvcHMuc3R5bGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gbjIuZHluYW1pY1Byb3BzO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBvbGRQcm9wc1trZXldO1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IG5ld1Byb3BzW2tleV07XG4gICAgICAgICAgICBpZiAobmV4dCAhPT0gcHJldiB8fCBrZXkgPT09IFwidmFsdWVcIikge1xuICAgICAgICAgICAgICBob3N0UGF0Y2hQcm9wKFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBwcmV2LFxuICAgICAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICAgIG4xLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxKSB7XG4gICAgICAgIGlmIChuMS5jaGlsZHJlbiAhPT0gbjIuY2hpbGRyZW4pIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIG4yLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCAmJiBkeW5hbWljQ2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgcGF0Y2hQcm9wcyhcbiAgICAgICAgZWwsXG4gICAgICAgIG4yLFxuICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCh2bm9kZUhvb2sgPSBuZXdQcm9wcy5vblZub2RlVXBkYXRlZCkgfHwgZGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKG4yLCBuMSwgcGFyZW50Q29tcG9uZW50LCBcInVwZGF0ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEJsb2NrQ2hpbGRyZW4gPSAob2xkQ2hpbGRyZW4sIG5ld0NoaWxkcmVuLCBmYWxsYmFja0NvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgbmV3Vk5vZGUgPSBuZXdDaGlsZHJlbltpXTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IChcbiAgICAgICAgLy8gb2xkVk5vZGUgbWF5IGJlIGFuIGVycm9yZWQgYXN5bmMgc2V0dXAoKSBjb21wb25lbnQgaW5zaWRlIFN1c3BlbnNlXG4gICAgICAgIC8vIHdoaWNoIHdpbGwgbm90IGhhdmUgYSBtb3VudGVkIGVsZW1lbnRcbiAgICAgICAgb2xkVk5vZGUuZWwgJiYgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIEZyYWdtZW50LCB3ZSBuZWVkIHRvIHByb3ZpZGUgdGhlIGFjdHVhbCBwYXJlbnRcbiAgICAgICAgLy8gb2YgdGhlIEZyYWdtZW50IGl0c2VsZiBzbyBpdCBjYW4gbW92ZSBpdHMgY2hpbGRyZW4uXG4gICAgICAgIChvbGRWTm9kZS50eXBlID09PSBGcmFnbWVudCB8fCAvLyAtIEluIHRoZSBjYXNlIG9mIGRpZmZlcmVudCBub2RlcywgdGhlcmUgaXMgZ29pbmcgdG8gYmUgYSByZXBsYWNlbWVudFxuICAgICAgICAvLyB3aGljaCBhbHNvIHJlcXVpcmVzIHRoZSBjb3JyZWN0IHBhcmVudCBjb250YWluZXJcbiAgICAgICAgIWlzU2FtZVZOb2RlVHlwZShvbGRWTm9kZSwgbmV3Vk5vZGUpIHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgYSBjb21wb25lbnQsIGl0IGNvdWxkIGNvbnRhaW4gYW55dGhpbmcuXG4gICAgICAgIG9sZFZOb2RlLnNoYXBlRmxhZyAmICg2IHwgNjQpKSA/IGhvc3RQYXJlbnROb2RlKG9sZFZOb2RlLmVsKSA6IChcbiAgICAgICAgICAvLyBJbiBvdGhlciBjYXNlcywgdGhlIHBhcmVudCBjb250YWluZXIgaXMgbm90IGFjdHVhbGx5IHVzZWQgc28gd2VcbiAgICAgICAgICAvLyBqdXN0IHBhc3MgdGhlIGJsb2NrIGVsZW1lbnQgaGVyZSB0byBhdm9pZCBhIERPTSBwYXJlbnROb2RlIGNhbGwuXG4gICAgICAgICAgZmFsbGJhY2tDb250YWluZXJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBvbGRWTm9kZSxcbiAgICAgICAgbmV3Vk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaFByb3BzID0gKGVsLCB2bm9kZSwgb2xkUHJvcHMsIG5ld1Byb3BzLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIG9sZFByb3BzW2tleV0sXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1Byb3BzKSB7XG4gICAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgcHJldixcbiAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBuZXdQcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gbjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDgpKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIC8vICMxMDAwN1xuICAgICAgICAvLyBzdWNoIGZyYWdtZW50IGxpa2UgYDw+PC8+YCB3aWxsIGJlIGNvbXBpbGVkIGludG9cbiAgICAgICAgLy8gYSBmcmFnbWVudCB3aGljaCBkb2Vzbid0IGhhdmUgYSBjaGlsZHJlbi5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGZhbGxiYWNrIHRvIGFuIGVtcHR5IGFycmF5XG4gICAgICAgIG4yLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAmJiBkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgbjIua2V5ICE9IG51bGwgfHwgcGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8qIHNoYWxsb3cgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoXG4gICAgICBpbml0aWFsVk5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCk7XG4gICAgICBpZiAoIWluaXRpYWxWTm9kZS5lbCkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IGluc3RhbmNlLnN1YlRyZWUgPSBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgICAgICAgcHJvY2Vzc0NvbW1lbnROb2RlKG51bGwsIHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gKG4xLCBuMiwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBuMi5jb21wb25lbnQgPSBuMS5jb21wb25lbnQ7XG4gICAgaWYgKHNob3VsZFVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCkpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChuMik7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuMiwgb3B0aW1pemVkKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLm5leHQgPSBuMjtcbiAgICAgICAgaW52YWxpZGF0ZUpvYihpbnN0YW5jZS51cGRhdGUpO1xuICAgICAgICBpbnN0YW5jZS5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50VXBkYXRlRm4gPSAoKSA9PiB7XG4gICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCBpc0FzeW5jV3JhcHBlclZOb2RlID0gaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAoYm0pIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhibSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcbiAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHlkcmF0ZU5vZGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyVk5vZGUpIHtcbiAgICAgICAgICAgIGluaXRpYWxWTm9kZS50eXBlLl9fYXN5bmNMb2FkZXIoKS50aGVuKFxuICAgICAgICAgICAgICAvLyBub3RlOiB3ZSBhcmUgbW92aW5nIHRoZSByZW5kZXIgY2FsbCBpbnRvIGFuIGFzeW5jIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAvLyB3aGljaCBtZWFucyBpdCB3b24ndCB0cmFjayBkZXBlbmRlbmNpZXMgLSBidXQgaXQncyBvayBiZWNhdXNlXG4gICAgICAgICAgICAgIC8vIGEgc2VydmVyLXJlbmRlcmVkIGFzeW5jIHdyYXBwZXIgaXMgYWxyZWFkeSBpbiByZXNvbHZlZCBzdGF0ZVxuICAgICAgICAgICAgICAvLyBhbmQgaXQgd2lsbCBuZXZlciBuZWVkIHRvIGNoYW5nZS5cbiAgICAgICAgICAgICAgKCkgPT4gIWluc3RhbmNlLmlzVW5tb3VudGVkICYmIGh5ZHJhdGVTdWJUcmVlKClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh5ZHJhdGVTdWJUcmVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgc3ViVHJlZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdGlhbFZOb2RlLmVsID0gc3ViVHJlZS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcbiAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0aWFsVk5vZGUuc2hhcGVGbGFnICYgMjU2IHx8IHBhcmVudCAmJiBpc0FzeW5jV3JhcHBlcihwYXJlbnQudm5vZGUpICYmIHBhcmVudC52bm9kZS5zaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChpbnN0YW5jZS5hLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IG5vbkh5ZHJhdGVkQXN5bmNSb290ID0gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChub25IeWRyYXRlZEFzeW5jUm9vdCkge1xuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub25IeWRyYXRlZEFzeW5jUm9vdC5hc3luY0RlcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFVwZGF0ZUZuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG5leHQgfHwgaW5zdGFuY2Uudm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnUpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBwcmV2VHJlZSxcbiAgICAgICAgICBuZXh0VHJlZSxcbiAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcbiAgICAgICAgICBob3N0UGFyZW50Tm9kZShwcmV2VHJlZS5lbCksXG4gICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XG4gICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XG4gICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgZWZmZWN0ID0gaW5zdGFuY2UuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KFxuICAgICAgY29tcG9uZW50VXBkYXRlRm4sXG4gICAgICBOT09QLFxuICAgICAgKCkgPT4gcXVldWVKb2IodXBkYXRlKSxcbiAgICAgIGluc3RhbmNlLnNjb3BlXG4gICAgICAvLyB0cmFjayBpdCBpbiBjb21wb25lbnQncyBlZmZlY3Qgc2NvcGVcbiAgICApO1xuICAgIGNvbnN0IHVwZGF0ZSA9IGluc3RhbmNlLnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChlZmZlY3QuZGlydHkpIHtcbiAgICAgICAgZWZmZWN0LnJ1bigpO1xuICAgICAgfVxuICAgIH07XG4gICAgdXBkYXRlLmlkID0gaW5zdGFuY2UudWlkO1xuICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBlZmZlY3Qub25UcmFjayA9IGluc3RhbmNlLnJ0YyA/IChlKSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGMsIGUpIDogdm9pZCAwO1xuICAgICAgZWZmZWN0Lm9uVHJpZ2dlciA9IGluc3RhbmNlLnJ0ZyA/IChlKSA9PiBpbnZva2VBcnJheUZucyhpbnN0YW5jZS5ydGcsIGUpIDogdm9pZCAwO1xuICAgICAgdXBkYXRlLm93bmVySW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICB9XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XG4gICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XG4gICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xuICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xuICAgIGNvbnN0IHByZXZTaGFwZUZsYWcgPSBuMSA/IG4xLnNoYXBlRmxhZyA6IDA7XG4gICAgY29uc3QgYzIgPSBuMi5jaGlsZHJlbjtcbiAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCkge1xuICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYpIHtcbiAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGMyICE9PSBjMSkge1xuICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBjMik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgICAgYzEsXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcbiAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcbiAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XG4gICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xuICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGMxW2ldLFxuICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICBjMSxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgYzIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcbiAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxO1xuICAgIGxldCBlMiA9IGwyIC0gMTtcbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2ldO1xuICAgICAgY29uc3QgbjIgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2UxXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbZTJdID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGUxLS07XG4gICAgICBlMi0tO1xuICAgIH1cbiAgICBpZiAoaSA+IGUxKSB7XG4gICAgICBpZiAoaSA8PSBlMikge1xuICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGkgPiBlMikge1xuICAgICAgd2hpbGUgKGkgPD0gZTEpIHtcbiAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgczEgPSBpO1xuICAgICAgY29uc3QgczIgPSBpO1xuICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5VG9OZXdJbmRleE1hcC5oYXMobmV4dENoaWxkLmtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCxcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksXG4gICAgICAgICAgICAgIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleVRvTmV3SW5kZXhNYXAuc2V0KG5leHRDaGlsZC5rZXksIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgajtcbiAgICAgIGxldCBwYXRjaGVkID0gMDtcbiAgICAgIGNvbnN0IHRvQmVQYXRjaGVkID0gZTIgLSBzMiArIDE7XG4gICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBtYXhOZXdJbmRleFNvRmFyID0gMDtcbiAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKylcbiAgICAgICAgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcbiAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XG4gICAgICAgIGlmIChwYXRjaGVkID49IHRvQmVQYXRjaGVkKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdJbmRleDtcbiAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xuICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtqIC0gczJdID09PSAwICYmIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xuICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gbWF4TmV3SW5kZXhTb0Zhcikge1xuICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgcHJldkNoaWxkLFxuICAgICAgICAgICAgYzJbbmV3SW5kZXhdLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXRjaGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWQgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApIDogRU1QVFlfQVJSO1xuICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gYzJbbmV4dEluZGV4ICsgMV0uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPT09IDApIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAobW92ZWQpIHtcbiAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcbiAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSwgcGFyZW50U3VzcGVuc2UgPSBudWxsKSA9PiB7XG4gICAgY29uc3QgeyBlbCwgdHlwZSwgdHJhbnNpdGlvbiwgY2hpbGRyZW4sIHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIG1vdmUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHZub2RlLnN1c3BlbnNlLm1vdmUoY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIH1cbiAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5lZWRUcmFuc2l0aW9uMiA9IG1vdmVUeXBlICE9PSAyICYmIHNoYXBlRmxhZyAmIDEgJiYgdHJhbnNpdGlvbjtcbiAgICBpZiAobmVlZFRyYW5zaXRpb24yKSB7XG4gICAgICBpZiAobW92ZVR5cGUgPT09IDApIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCByZW1vdmUyID0gKCkgPT4gaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgbGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZTIoKTtcbiAgICAgICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZTIsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudCA9ICh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGRpcnNcbiAgICB9ID0gdm5vZGU7XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgMjU2KSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmRlYWN0aXZhdGUodm5vZGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGRJbnZva2VEaXJzID0gc2hhcGVGbGFnICYgMSAmJiBkaXJzO1xuICAgIGNvbnN0IHNob3VsZEludm9rZVZub2RlSG9vayA9ICFpc0FzeW5jV3JhcHBlcih2bm9kZSk7XG4gICAgbGV0IHZub2RlSG9vaztcbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlVW5tb3VudCkpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgdW5tb3VudENvbXBvbmVudCh2bm9kZS5jb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgdm5vZGUuc3VzcGVuc2UudW5tb3VudChwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVW5tb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICB2bm9kZS50eXBlLnJlbW92ZShcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzExNTM6IGZhc3QgcGF0aCBzaG91bGQgbm90IGJlIHRha2VuIGZvciBub24tc3RhYmxlICh2LWZvcikgZnJhZ21lbnRzXG4gICAgICAodHlwZSAhPT0gRnJhZ21lbnQgfHwgcGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCkpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBGcmFnbWVudCAmJiBwYXRjaEZsYWcgJiAoMTI4IHwgMjU2KSB8fCAhb3B0aW1pemVkICYmIHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoZG9SZW1vdmUpIHtcbiAgICAgICAgcmVtb3ZlKHZub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3VsZEludm9rZVZub2RlSG9vayAmJiAodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZVVubW91bnRlZCkgfHwgc2hvdWxkSW52b2tlRGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBzaG91bGRJbnZva2VEaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJ1bm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmUgPSAodm5vZGUpID0+IHtcbiAgICBjb25zdCB7IHR5cGUsIGVsLCBhbmNob3IsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUucGF0Y2hGbGFnID4gMCAmJiB2bm9kZS5wYXRjaEZsYWcgJiAyMDQ4ICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICAgIHZub2RlLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoY2hpbGQuZWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW1vdmUoY2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW1vdmVGcmFnbWVudChlbCwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgcmVtb3ZlU3RhdGljTm9kZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBlcmZvcm1SZW1vdmUgPSAoKSA9PiB7XG4gICAgICBob3N0UmVtb3ZlKGVsKTtcbiAgICAgIGlmICh0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCAmJiB0cmFuc2l0aW9uLmFmdGVyTGVhdmUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5hZnRlckxlYXZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgY29uc3QgeyBsZWF2ZSwgZGVsYXlMZWF2ZSB9ID0gdHJhbnNpdGlvbjtcbiAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IGxlYXZlKGVsLCBwZXJmb3JtUmVtb3ZlKTtcbiAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgIGRlbGF5TGVhdmUodm5vZGUuZWwsIHBlcmZvcm1SZW1vdmUsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVyZm9ybVJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlRnJhZ21lbnQgPSAoY3VyLCBlbmQpID0+IHtcbiAgICBsZXQgbmV4dDtcbiAgICB3aGlsZSAoY3VyICE9PSBlbmQpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoY3VyKTtcbiAgICAgIGhvc3RSZW1vdmUoY3VyKTtcbiAgICAgIGN1ciA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RSZW1vdmUoZW5kKTtcbiAgfTtcbiAgY29uc3QgdW5tb3VudENvbXBvbmVudCA9IChpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgY29uc3QgeyBidW0sIHNjb3BlLCB1cGRhdGUsIHN1YlRyZWUsIHVtIH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoYnVtKSB7XG4gICAgICBpbnZva2VBcnJheUZucyhidW0pO1xuICAgIH1cbiAgICBzY29wZS5zdG9wKCk7XG4gICAgaWYgKHVwZGF0ZSkge1xuICAgICAgdXBkYXRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgdW5tb3VudChzdWJUcmVlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9XG4gICAgaWYgKHVtKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodW0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgIGluc3RhbmNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXBhcmVudFN1c3BlbnNlLmlzVW5tb3VudGVkICYmIGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkICYmIGluc3RhbmNlLnN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgaWYgKHBhcmVudFN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZChpbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlID0gZmFsc2UsIG9wdGltaXplZCA9IGZhbHNlLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdW5tb3VudChjaGlsZHJlbltpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUsIG9wdGltaXplZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXROZXh0SG9zdE5vZGUgPSAodm5vZGUpID0+IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNikge1xuICAgICAgcmV0dXJuIGdldE5leHRIb3N0Tm9kZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHJldHVybiB2bm9kZS5zdXNwZW5zZS5uZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiBob3N0TmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yIHx8IHZub2RlLmVsKTtcbiAgfTtcbiAgbGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgY29uc3QgcmVuZGVyID0gKHZub2RlLCBjb250YWluZXIsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XG4gICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xuICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSB8fCBudWxsLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNGbHVzaGluZykge1xuICAgICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgICBmbHVzaFByZUZsdXNoQ2JzKCk7XG4gICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gIH07XG4gIGNvbnN0IGludGVybmFscyA9IHtcbiAgICBwOiBwYXRjaCxcbiAgICB1bTogdW5tb3VudCxcbiAgICBtOiBtb3ZlLFxuICAgIHI6IHJlbW92ZSxcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxuICAgIG86IG9wdGlvbnNcbiAgfTtcbiAgbGV0IGh5ZHJhdGU7XG4gIGxldCBoeWRyYXRlTm9kZTtcbiAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV0gPSBjcmVhdGVIeWRyYXRpb25GbnMoXG4gICAgICBpbnRlcm5hbHNcbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVuZGVyLFxuICAgIGh5ZHJhdGUsXG4gICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHsgdHlwZSwgcHJvcHMgfSwgY3VycmVudE5hbWVzcGFjZSkge1xuICByZXR1cm4gY3VycmVudE5hbWVzcGFjZSA9PT0gXCJzdmdcIiAmJiB0eXBlID09PSBcImZvcmVpZ25PYmplY3RcIiB8fCBjdXJyZW50TmFtZXNwYWNlID09PSBcIm1hdGhtbFwiICYmIHR5cGUgPT09IFwiYW5ub3RhdGlvbi14bWxcIiAmJiBwcm9wcyAmJiBwcm9wcy5lbmNvZGluZyAmJiBwcm9wcy5lbmNvZGluZy5pbmNsdWRlcyhcImh0bWxcIikgPyB2b2lkIDAgOiBjdXJyZW50TmFtZXNwYWNlO1xufVxuZnVuY3Rpb24gdG9nZ2xlUmVjdXJzZSh7IGVmZmVjdCwgdXBkYXRlIH0sIGFsbG93ZWQpIHtcbiAgZWZmZWN0LmFsbG93UmVjdXJzZSA9IHVwZGF0ZS5hbGxvd1JlY3Vyc2UgPSBhbGxvd2VkO1xufVxuZnVuY3Rpb24gbmVlZFRyYW5zaXRpb24ocGFyZW50U3VzcGVuc2UsIHRyYW5zaXRpb24pIHtcbiAgcmV0dXJuICghcGFyZW50U3VzcGVuc2UgfHwgcGFyZW50U3VzcGVuc2UgJiYgIXBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkO1xufVxuZnVuY3Rpb24gdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHNoYWxsb3cgPSBmYWxzZSkge1xuICBjb25zdCBjaDEgPSBuMS5jaGlsZHJlbjtcbiAgY29uc3QgY2gyID0gbjIuY2hpbGRyZW47XG4gIGlmIChpc0FycmF5KGNoMSkgJiYgaXNBcnJheShjaDIpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaDEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMxID0gY2gxW2ldO1xuICAgICAgbGV0IGMyID0gY2gyW2ldO1xuICAgICAgaWYgKGMyLnNoYXBlRmxhZyAmIDEgJiYgIWMyLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBpZiAoYzIucGF0Y2hGbGFnIDw9IDAgfHwgYzIucGF0Y2hGbGFnID09PSAzMikge1xuICAgICAgICAgIGMyID0gY2gyW2ldID0gY2xvbmVJZk1vdW50ZWQoY2gyW2ldKTtcbiAgICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2hhbGxvdylcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XG4gICAgICB9XG4gICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcbiAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgbGV0IGksIGosIHUsIHYsIGM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSAwO1xuICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgIGMgPSB1ICsgdiA+PiAxO1xuICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHUgPSByZXN1bHQubGVuZ3RoO1xuICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICByZXN1bHRbdV0gPSB2O1xuICAgIHYgPSBwW3ZdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSkge1xuICBjb25zdCBzdWJDb21wb25lbnQgPSBpbnN0YW5jZS5zdWJUcmVlLmNvbXBvbmVudDtcbiAgaWYgKHN1YkNvbXBvbmVudCkge1xuICAgIGlmIChzdWJDb21wb25lbnQuYXN5bmNEZXAgJiYgIXN1YkNvbXBvbmVudC5hc3luY1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm4gc3ViQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3Qoc3ViQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgaXNUZWxlcG9ydCA9ICh0eXBlKSA9PiB0eXBlLl9faXNUZWxlcG9ydDtcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSBcIlwiKTtcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbmNvbnN0IGlzVGFyZ2V0TWF0aE1MID0gKHRhcmdldCkgPT4gdHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50O1xuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChwcm9wcywgc2VsZWN0KSA9PiB7XG4gIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XG4gIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcbiAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHNlbGVjdCh0YXJnZXRTZWxlY3Rvcik7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgICBgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXRTZWxlY3RvciAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIFRlbGVwb3J0IHRhcmdldDogJHt0YXJnZXRTZWxlY3Rvcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xuICB9XG59O1xuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xuICBuYW1lOiBcIlRlbGVwb3J0XCIsXG4gIF9faXNUZWxlcG9ydDogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgICBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9XG4gICAgfSA9IGludGVybmFscztcbiAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XG4gICAgbGV0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuIH0gPSBuMjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlciA9IG4yLmVsID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBzdGFydFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBlbmRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBpbnNlcnQobWFpbkFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChuMi5wcm9wcywgcXVlcnlTZWxlY3Rvcik7XG4gICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSBuMi50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBpbnNlcnQodGFyZ2V0QW5jaG9yLCB0YXJnZXQpO1xuICAgICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCkpIHtcbiAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiB8fCBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFkaXNhYmxlZCkge1xuICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiBtb3VudDpcIiwgdGFyZ2V0LCBgKCR7dHlwZW9mIHRhcmdldH0pYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBtb3VudCA9IChjb250YWluZXIyLCBhbmNob3IyKSA9PiB7XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICBhbmNob3IyLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldCkge1xuICAgICAgICBtb3VudCh0YXJnZXQsIHRhcmdldEFuY2hvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gbjEuYW5jaG9yO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gbjIudGFyZ2V0ID0gbjEudGFyZ2V0O1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gbjEudGFyZ2V0QW5jaG9yO1xuICAgICAgY29uc3Qgd2FzRGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjEucHJvcHMpO1xuICAgICAgY29uc3QgY3VycmVudENvbnRhaW5lciA9IHdhc0Rpc2FibGVkID8gY29udGFpbmVyIDogdGFyZ2V0O1xuICAgICAgY29uc3QgY3VycmVudEFuY2hvciA9IHdhc0Rpc2FibGVkID8gbWFpbkFuY2hvciA6IHRhcmdldEFuY2hvcjtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgfVxuICAgICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGN1cnJlbnRDb250YWluZXIsXG4gICAgICAgICAgY3VycmVudEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG1haW5BbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobjIucHJvcHMgJiYgbjEucHJvcHMgJiYgbjIucHJvcHMudG8gIT09IG4xLnByb3BzLnRvKSB7XG4gICAgICAgICAgICBuMi5wcm9wcy50byA9IG4xLnByb3BzLnRvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICAgICAgICAgIG4yLnByb3BzLFxuICAgICAgICAgICAgcXVlcnlTZWxlY3RvclxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcbiAgICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICAgIG5leHRUYXJnZXQsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6XCIsXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICB0YXJnZXRBbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVDc3NWYXJzKG4yKTtcbiAgfSxcbiAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBvcHRpbWl6ZWQsIHsgdW06IHVubW91bnQsIG86IHsgcmVtb3ZlOiBob3N0UmVtb3ZlIH0gfSwgZG9SZW1vdmUpIHtcbiAgICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGFuY2hvciwgdGFyZ2V0QW5jaG9yLCB0YXJnZXQsIHByb3BzIH0gPSB2bm9kZTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBob3N0UmVtb3ZlKHRhcmdldEFuY2hvcik7XG4gICAgfVxuICAgIGRvUmVtb3ZlICYmIGhvc3RSZW1vdmUoYW5jaG9yKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGNvbnN0IHNob3VsZFJlbW92ZSA9IGRvUmVtb3ZlIHx8ICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICB1bm1vdW50KFxuICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzaG91bGRSZW1vdmUsXG4gICAgICAgICAgISFjaGlsZC5keW5hbWljQ2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG1vdmU6IG1vdmVUZWxlcG9ydCxcbiAgaHlkcmF0ZTogaHlkcmF0ZVRlbGVwb3J0XG59O1xuZnVuY3Rpb24gbW92ZVRlbGVwb3J0KHZub2RlLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgeyBvOiB7IGluc2VydCB9LCBtOiBtb3ZlIH0sIG1vdmVUeXBlID0gMikge1xuICBpZiAobW92ZVR5cGUgPT09IDApIHtcbiAgICBpbnNlcnQodm5vZGUudGFyZ2V0QW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbiAgY29uc3QgeyBlbCwgYW5jaG9yLCBzaGFwZUZsYWcsIGNoaWxkcmVuLCBwcm9wcyB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzUmVvcmRlciA9IG1vdmVUeXBlID09PSAyO1xuICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgaW5zZXJ0KGVsLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbiAgaWYgKCFpc1Jlb3JkZXIgfHwgaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKFxuICAgICAgICAgIGNoaWxkcmVuW2ldLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRBbmNob3IsXG4gICAgICAgICAgMlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaXNSZW9yZGVyKSB7XG4gICAgaW5zZXJ0KGFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG59XG5mdW5jdGlvbiBoeWRyYXRlVGVsZXBvcnQobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCB7XG4gIG86IHsgbmV4dFNpYmxpbmcsIHBhcmVudE5vZGUsIHF1ZXJ5U2VsZWN0b3IgfVxufSwgaHlkcmF0ZUNoaWxkcmVuKSB7XG4gIGNvbnN0IHRhcmdldCA9IHZub2RlLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgdm5vZGUucHJvcHMsXG4gICAgcXVlcnlTZWxlY3RvclxuICApO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgdGFyZ2V0Tm9kZSA9IHRhcmdldC5fbHBhIHx8IHRhcmdldC5maXJzdENoaWxkO1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxNikge1xuICAgICAgaWYgKGlzVGVsZXBvcnREaXNhYmxlZCh2bm9kZS5wcm9wcykpIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIG5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudE5vZGUobm9kZSksXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZub2RlLmFuY2hvciA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICBsZXQgdGFyZ2V0QW5jaG9yID0gdGFyZ2V0Tm9kZTtcbiAgICAgICAgd2hpbGUgKHRhcmdldEFuY2hvcikge1xuICAgICAgICAgIHRhcmdldEFuY2hvciA9IG5leHRTaWJsaW5nKHRhcmdldEFuY2hvcik7XG4gICAgICAgICAgaWYgKHRhcmdldEFuY2hvciAmJiB0YXJnZXRBbmNob3Iubm9kZVR5cGUgPT09IDggJiYgdGFyZ2V0QW5jaG9yLmRhdGEgPT09IFwidGVsZXBvcnQgYW5jaG9yXCIpIHtcbiAgICAgICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldEFuY2hvcjtcbiAgICAgICAgICAgIHRhcmdldC5fbHBhID0gdm5vZGUudGFyZ2V0QW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIHRhcmdldE5vZGUsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUNzc1ZhcnModm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZS5hbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUuYW5jaG9yKTtcbn1cbmNvbnN0IFRlbGVwb3J0ID0gVGVsZXBvcnRJbXBsO1xuZnVuY3Rpb24gdXBkYXRlQ3NzVmFycyh2bm9kZSkge1xuICBjb25zdCBjdHggPSB2bm9kZS5jdHg7XG4gIGlmIChjdHggJiYgY3R4LnV0KSB7XG4gICAgbGV0IG5vZGUgPSB2bm9kZS5jaGlsZHJlblswXS5lbDtcbiAgICB3aGlsZSAobm9kZSAmJiBub2RlICE9PSB2bm9kZS50YXJnZXRBbmNob3IpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKVxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImRhdGEtdi1vd25lclwiLCBjdHgudWlkKTtcbiAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICBjdHgudXQoKTtcbiAgfVxufVxuXG5jb25zdCBGcmFnbWVudCA9IFN5bWJvbC5mb3IoXCJ2LWZndFwiKTtcbmNvbnN0IFRleHQgPSBTeW1ib2wuZm9yKFwidi10eHRcIik7XG5jb25zdCBDb21tZW50ID0gU3ltYm9sLmZvcihcInYtY210XCIpO1xuY29uc3QgU3RhdGljID0gU3ltYm9sLmZvcihcInYtc3RjXCIpO1xuY29uc3QgYmxvY2tTdGFjayA9IFtdO1xubGV0IGN1cnJlbnRCbG9jayA9IG51bGw7XG5mdW5jdGlvbiBvcGVuQmxvY2soZGlzYWJsZVRyYWNraW5nID0gZmFsc2UpIHtcbiAgYmxvY2tTdGFjay5wdXNoKGN1cnJlbnRCbG9jayA9IGRpc2FibGVUcmFja2luZyA/IG51bGwgOiBbXSk7XG59XG5mdW5jdGlvbiBjbG9zZUJsb2NrKCkge1xuICBibG9ja1N0YWNrLnBvcCgpO1xuICBjdXJyZW50QmxvY2sgPSBibG9ja1N0YWNrW2Jsb2NrU3RhY2subGVuZ3RoIC0gMV0gfHwgbnVsbDtcbn1cbmxldCBpc0Jsb2NrVHJlZUVuYWJsZWQgPSAxO1xuZnVuY3Rpb24gc2V0QmxvY2tUcmFja2luZyh2YWx1ZSkge1xuICBpc0Jsb2NrVHJlZUVuYWJsZWQgKz0gdmFsdWU7XG59XG5mdW5jdGlvbiBzZXR1cEJsb2NrKHZub2RlKSB7XG4gIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgPyBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSIDogbnVsbDtcbiAgY2xvc2VCbG9jaygpO1xuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZykge1xuICByZXR1cm4gc2V0dXBCbG9jayhcbiAgICBjcmVhdGVCYXNlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkeW5hbWljUHJvcHMsXG4gICAgICB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuMi5zaGFwZUZsYWcgJiA2ICYmIGhtckRpcnR5Q29tcG9uZW50cy5oYXMobjIudHlwZSkpIHtcbiAgICBuMS5zaGFwZUZsYWcgJj0gfjI1NjtcbiAgICBuMi5zaGFwZUZsYWcgJj0gfjUxMjtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG4xLnR5cGUgPT09IG4yLnR5cGUgJiYgbjEua2V5ID09PSBuMi5rZXk7XG59XG5sZXQgdm5vZGVBcmdzVHJhbnNmb3JtZXI7XG5mdW5jdGlvbiB0cmFuc2Zvcm1WTm9kZUFyZ3ModHJhbnNmb3JtZXIpIHtcbiAgdm5vZGVBcmdzVHJhbnNmb3JtZXIgPSB0cmFuc2Zvcm1lcjtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gPSAoLi4uYXJncykgPT4ge1xuICByZXR1cm4gX2NyZWF0ZVZOb2RlKFxuICAgIC4uLnZub2RlQXJnc1RyYW5zZm9ybWVyID8gdm5vZGVBcmdzVHJhbnNmb3JtZXIoYXJncywgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSA6IGFyZ3NcbiAgKTtcbn07XG5jb25zdCBJbnRlcm5hbE9iamVjdEtleSA9IGBfX3ZJbnRlcm5hbGA7XG5jb25zdCBub3JtYWxpemVLZXkgPSAoeyBrZXkgfSkgPT4ga2V5ICE9IG51bGwgPyBrZXkgOiBudWxsO1xuY29uc3Qgbm9ybWFsaXplUmVmID0gKHtcbiAgcmVmLFxuICByZWZfa2V5LFxuICByZWZfZm9yXG59KSA9PiB7XG4gIGlmICh0eXBlb2YgcmVmID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVmID0gXCJcIiArIHJlZjtcbiAgfVxuICByZXR1cm4gcmVmICE9IG51bGwgPyBpc1N0cmluZyhyZWYpIHx8IGlzUmVmKHJlZikgfHwgaXNGdW5jdGlvbihyZWYpID8geyBpOiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIHI6IHJlZiwgazogcmVmX2tleSwgZjogISFyZWZfZm9yIH0gOiByZWYgOiBudWxsO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgc2hhcGVGbGFnID0gdHlwZSA9PT0gRnJhZ21lbnQgPyAwIDogMSwgaXNCbG9ja05vZGUgPSBmYWxzZSwgbmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24gPSBmYWxzZSkge1xuICBjb25zdCB2bm9kZSA9IHtcbiAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICB0eXBlLFxuICAgIHByb3BzLFxuICAgIGtleTogcHJvcHMgJiYgbm9ybWFsaXplS2V5KHByb3BzKSxcbiAgICByZWY6IHByb3BzICYmIG5vcm1hbGl6ZVJlZihwcm9wcyksXG4gICAgc2NvcGVJZDogY3VycmVudFNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiBudWxsLFxuICAgIGNoaWxkcmVuLFxuICAgIGNvbXBvbmVudDogbnVsbCxcbiAgICBzdXNwZW5zZTogbnVsbCxcbiAgICBzc0NvbnRlbnQ6IG51bGwsXG4gICAgc3NGYWxsYmFjazogbnVsbCxcbiAgICBkaXJzOiBudWxsLFxuICAgIHRyYW5zaXRpb246IG51bGwsXG4gICAgZWw6IG51bGwsXG4gICAgYW5jaG9yOiBudWxsLFxuICAgIHRhcmdldDogbnVsbCxcbiAgICB0YXJnZXRBbmNob3I6IG51bGwsXG4gICAgc3RhdGljQ291bnQ6IDAsXG4gICAgc2hhcGVGbGFnLFxuICAgIHBhdGNoRmxhZyxcbiAgICBkeW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiBudWxsLFxuICAgIGFwcENvbnRleHQ6IG51bGwsXG4gICAgY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VcbiAgfTtcbiAgaWYgKG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uKSB7XG4gICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICB0eXBlLm5vcm1hbGl6ZSh2bm9kZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgdm5vZGUuc2hhcGVGbGFnIHw9IGlzU3RyaW5nKGNoaWxkcmVuKSA/IDggOiAxNjtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5rZXkgIT09IHZub2RlLmtleSkge1xuICAgIHdhcm4kMShgVk5vZGUgY3JlYXRlZCB3aXRoIGludmFsaWQga2V5IChOYU4pLiBWTm9kZSB0eXBlOmAsIHZub2RlLnR5cGUpO1xuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIC8vIGF2b2lkIGEgYmxvY2sgbm9kZSBmcm9tIHRyYWNraW5nIGl0c2VsZlxuICAhaXNCbG9ja05vZGUgJiYgLy8gaGFzIGN1cnJlbnQgcGFyZW50IGJsb2NrXG4gIGN1cnJlbnRCbG9jayAmJiAvLyBwcmVzZW5jZSBvZiBhIHBhdGNoIGZsYWcgaW5kaWNhdGVzIHRoaXMgbm9kZSBuZWVkcyBwYXRjaGluZyBvbiB1cGRhdGVzLlxuICAvLyBjb21wb25lbnQgbm9kZXMgYWxzbyBzaG91bGQgYWx3YXlzIGJlIHBhdGNoZWQsIGJlY2F1c2UgZXZlbiBpZiB0aGVcbiAgLy8gY29tcG9uZW50IGRvZXNuJ3QgbmVlZCB0byB1cGRhdGUsIGl0IG5lZWRzIHRvIHBlcnNpc3QgdGhlIGluc3RhbmNlIG9uIHRvXG4gIC8vIHRoZSBuZXh0IHZub2RlIHNvIHRoYXQgaXQgY2FuIGJlIHByb3Blcmx5IHVubW91bnRlZCBsYXRlci5cbiAgKHZub2RlLnBhdGNoRmxhZyA+IDAgfHwgc2hhcGVGbGFnICYgNikgJiYgLy8gdGhlIEVWRU5UUyBmbGFnIGlzIG9ubHkgZm9yIGh5ZHJhdGlvbiBhbmQgaWYgaXQgaXMgdGhlIG9ubHkgZmxhZywgdGhlXG4gIC8vIHZub2RlIHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBkeW5hbWljIGR1ZSB0byBoYW5kbGVyIGNhY2hpbmcuXG4gIHZub2RlLnBhdGNoRmxhZyAhPT0gMzIpIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuY29uc3QgY3JlYXRlVk5vZGUgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA6IF9jcmVhdGVWTm9kZTtcbmZ1bmN0aW9uIF9jcmVhdGVWTm9kZSh0eXBlLCBwcm9wcyA9IG51bGwsIGNoaWxkcmVuID0gbnVsbCwgcGF0Y2hGbGFnID0gMCwgZHluYW1pY1Byb3BzID0gbnVsbCwgaXNCbG9ja05vZGUgPSBmYWxzZSkge1xuICBpZiAoIXR5cGUgfHwgdHlwZSA9PT0gTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0eXBlKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgdm5vZGUgdHlwZSB3aGVuIGNyZWF0aW5nIHZub2RlOiAke3R5cGV9LmApO1xuICAgIH1cbiAgICB0eXBlID0gQ29tbWVudDtcbiAgfVxuICBpZiAoaXNWTm9kZSh0eXBlKSkge1xuICAgIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICB0cnVlXG4gICAgICAvKiBtZXJnZVJlZjogdHJ1ZSAqL1xuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICBub3JtYWxpemVDaGlsZHJlbihjbG9uZWQsIGNoaWxkcmVuKTtcbiAgICB9XG4gICAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgIWlzQmxvY2tOb2RlICYmIGN1cnJlbnRCbG9jaykge1xuICAgICAgaWYgKGNsb25lZC5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgIGN1cnJlbnRCbG9ja1tjdXJyZW50QmxvY2suaW5kZXhPZih0eXBlKV0gPSBjbG9uZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50QmxvY2sucHVzaChjbG9uZWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjbG9uZWQucGF0Y2hGbGFnIHw9IC0yO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gIH1cbiAgaWYgKHByb3BzKSB7XG4gICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpID8gMSA6IGlzU3VzcGVuc2UodHlwZSkgPyAxMjggOiBpc1RlbGVwb3J0KHR5cGUpID8gNjQgOiBpc09iamVjdCh0eXBlKSA/IDQgOiBpc0Z1bmN0aW9uKHR5cGUpID8gMiA6IDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNoYXBlRmxhZyAmIDQgJiYgaXNQcm94eSh0eXBlKSkge1xuICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICB3YXJuJDEoXG4gICAgICBgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLFxuICAgICAgYFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsXG4gICAgICB0eXBlXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBzaGFwZUZsYWcsXG4gICAgaXNCbG9ja05vZGUsXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpc1Byb3h5KHByb3BzKSB8fCBJbnRlcm5hbE9iamVjdEtleSBpbiBwcm9wcyA/IGV4dGVuZCh7fSwgcHJvcHMpIDogcHJvcHM7XG59XG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlLCBleHRyYVByb3BzLCBtZXJnZVJlZiA9IGZhbHNlKSB7XG4gIGNvbnN0IHsgcHJvcHMsIHJlZiwgcGF0Y2hGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IG1lcmdlZFByb3BzID0gZXh0cmFQcm9wcyA/IG1lcmdlUHJvcHMocHJvcHMgfHwge30sIGV4dHJhUHJvcHMpIDogcHJvcHM7XG4gIGNvbnN0IGNsb25lZCA9IHtcbiAgICBfX3ZfaXNWTm9kZTogdHJ1ZSxcbiAgICBfX3Zfc2tpcDogdHJ1ZSxcbiAgICB0eXBlOiB2bm9kZS50eXBlLFxuICAgIHByb3BzOiBtZXJnZWRQcm9wcyxcbiAgICBrZXk6IG1lcmdlZFByb3BzICYmIG5vcm1hbGl6ZUtleShtZXJnZWRQcm9wcyksXG4gICAgcmVmOiBleHRyYVByb3BzICYmIGV4dHJhUHJvcHMucmVmID8gKFxuICAgICAgLy8gIzIwNzggaW4gdGhlIGNhc2Ugb2YgPGNvbXBvbmVudCA6aXM9XCJ2bm9kZVwiIHJlZj1cImV4dHJhXCIvPlxuICAgICAgLy8gaWYgdGhlIHZub2RlIGl0c2VsZiBhbHJlYWR5IGhhcyBhIHJlZiwgY2xvbmVWTm9kZSB3aWxsIG5lZWQgdG8gbWVyZ2VcbiAgICAgIC8vIHRoZSByZWZzIHNvIHRoZSBzaW5nbGUgdm5vZGUgY2FuIGJlIHNldCBvbiBtdWx0aXBsZSByZWZzXG4gICAgICBtZXJnZVJlZiAmJiByZWYgPyBpc0FycmF5KHJlZikgPyByZWYuY29uY2F0KG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKSkgOiBbcmVmLCBub3JtYWxpemVSZWYoZXh0cmFQcm9wcyldIDogbm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpXG4gICAgKSA6IHJlZixcbiAgICBzY29wZUlkOiB2bm9kZS5zY29wZUlkLFxuICAgIHNsb3RTY29wZUlkczogdm5vZGUuc2xvdFNjb3BlSWRzLFxuICAgIGNoaWxkcmVuOiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHBhdGNoRmxhZyA9PT0gLTEgJiYgaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpIDogY2hpbGRyZW4sXG4gICAgdGFyZ2V0OiB2bm9kZS50YXJnZXQsXG4gICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXG4gICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxuICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXG4gICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cbiAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgLy8gZmFzdCBwYXRocyBvbmx5LlxuICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudCA/IHBhdGNoRmxhZyA9PT0gLTEgPyAxNiA6IHBhdGNoRmxhZyB8IDE2IDogcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxuICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXG4gICAgZGlyczogdm5vZGUuZGlycyxcbiAgICB0cmFuc2l0aW9uOiB2bm9kZS50cmFuc2l0aW9uLFxuICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxuICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcbiAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxuICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcbiAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXG4gICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgIGVsOiB2bm9kZS5lbCxcbiAgICBhbmNob3I6IHZub2RlLmFuY2hvcixcbiAgICBjdHg6IHZub2RlLmN0eCxcbiAgICBjZTogdm5vZGUuY2VcbiAgfTtcbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGRlZXBDbG9uZVZOb2RlKHZub2RlKSB7XG4gIGNvbnN0IGNsb25lZCA9IGNsb25lVk5vZGUodm5vZGUpO1xuICBpZiAoaXNBcnJheSh2bm9kZS5jaGlsZHJlbikpIHtcbiAgICBjbG9uZWQuY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbi5tYXAoZGVlcENsb25lVk5vZGUpO1xuICB9XG4gIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodGV4dCA9IFwiIFwiLCBmbGFnID0gMCkge1xuICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgdGV4dCwgZmxhZyk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNWTm9kZShjb250ZW50LCBudW1iZXJPZk5vZGVzKSB7XG4gIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUoU3RhdGljLCBudWxsLCBjb250ZW50KTtcbiAgdm5vZGUuc3RhdGljQ291bnQgPSBudW1iZXJPZk5vZGVzO1xuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21tZW50Vk5vZGUodGV4dCA9IFwiXCIsIGFzQmxvY2sgPSBmYWxzZSkge1xuICByZXR1cm4gYXNCbG9jayA/IChvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soQ29tbWVudCwgbnVsbCwgdGV4dCkpIDogY3JlYXRlVk5vZGUoQ29tbWVudCwgbnVsbCwgdGV4dCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVWTm9kZShjaGlsZCkge1xuICBpZiAoY2hpbGQgPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGQgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFxuICAgICAgRnJhZ21lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gIzM2NjYsIGF2b2lkIHJlZmVyZW5jZSBwb2xsdXRpb24gd2hlbiByZXVzaW5nIHZub2RlXG4gICAgICBjaGlsZC5zbGljZSgpXG4gICAgKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGQgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gY2xvbmVJZk1vdW50ZWQoY2hpbGQpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCBTdHJpbmcoY2hpbGQpKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xvbmVJZk1vdW50ZWQoY2hpbGQpIHtcbiAgcmV0dXJuIGNoaWxkLmVsID09PSBudWxsICYmIGNoaWxkLnBhdGNoRmxhZyAhPT0gLTEgfHwgY2hpbGQubWVtbyA/IGNoaWxkIDogY2xvbmVWTm9kZShjaGlsZCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pIHtcbiAgbGV0IHR5cGUgPSAwO1xuICBjb25zdCB7IHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgY2hpbGRyZW4gPSBudWxsO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgdHlwZSA9IDE2O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChzaGFwZUZsYWcgJiAoMSB8IDY0KSkge1xuICAgICAgY29uc3Qgc2xvdCA9IGNoaWxkcmVuLmRlZmF1bHQ7XG4gICAgICBpZiAoc2xvdCkge1xuICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gZmFsc2UpO1xuICAgICAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgc2xvdCgpKTtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gMzI7XG4gICAgICBjb25zdCBzbG90RmxhZyA9IGNoaWxkcmVuLl87XG4gICAgICBpZiAoIXNsb3RGbGFnICYmICEoSW50ZXJuYWxPYmplY3RLZXkgaW4gY2hpbGRyZW4pKSB7XG4gICAgICAgIGNoaWxkcmVuLl9jdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gICAgICB9IGVsc2UgaWYgKHNsb3RGbGFnID09PSAzICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnNsb3RzLl8gPT09IDEpIHtcbiAgICAgICAgICBjaGlsZHJlbi5fID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZHJlbi5fID0gMjtcbiAgICAgICAgICB2bm9kZS5wYXRjaEZsYWcgfD0gMTAyNDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGNoaWxkcmVuKSkge1xuICAgIGNoaWxkcmVuID0geyBkZWZhdWx0OiBjaGlsZHJlbiwgX2N0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIH07XG4gICAgdHlwZSA9IDMyO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUgPSAxNjtcbiAgICAgIGNoaWxkcmVuID0gW2NyZWF0ZVRleHRWTm9kZShjaGlsZHJlbildO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gODtcbiAgICB9XG4gIH1cbiAgdm5vZGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgdm5vZGUuc2hhcGVGbGFnIHw9IHR5cGU7XG59XG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLmFyZ3MpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRvTWVyZ2UgPSBhcmdzW2ldO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHRvTWVyZ2UpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgICAgICBpZiAocmV0LmNsYXNzICE9PSB0b01lcmdlLmNsYXNzKSB7XG4gICAgICAgICAgcmV0LmNsYXNzID0gbm9ybWFsaXplQ2xhc3MoW3JldC5jbGFzcywgdG9NZXJnZS5jbGFzc10pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgICAgIHJldC5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKFtyZXQuc3R5bGUsIHRvTWVyZ2Uuc3R5bGVdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmV0W2tleV07XG4gICAgICAgIGNvbnN0IGluY29taW5nID0gdG9NZXJnZVtrZXldO1xuICAgICAgICBpZiAoaW5jb21pbmcgJiYgZXhpc3RpbmcgIT09IGluY29taW5nICYmICEoaXNBcnJheShleGlzdGluZykgJiYgZXhpc3RpbmcuaW5jbHVkZXMoaW5jb21pbmcpKSkge1xuICAgICAgICAgIHJldFtrZXldID0gZXhpc3RpbmcgPyBbXS5jb25jYXQoZXhpc3RpbmcsIGluY29taW5nKSA6IGluY29taW5nO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gXCJcIikge1xuICAgICAgICByZXRba2V5XSA9IHRvTWVyZ2Vba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIGludm9rZVZOb2RlSG9vayhob29rLCBpbnN0YW5jZSwgdm5vZGUsIHByZXZWTm9kZSA9IG51bGwpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDcsIFtcbiAgICB2bm9kZSxcbiAgICBwcmV2Vk5vZGVcbiAgXSk7XG59XG5cbmNvbnN0IGVtcHR5QXBwQ29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbmxldCB1aWQgPSAwO1xuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2Uodm5vZGUsIHBhcmVudCwgc3VzcGVuc2UpIHtcbiAgY29uc3QgdHlwZSA9IHZub2RlLnR5cGU7XG4gIGNvbnN0IGFwcENvbnRleHQgPSAocGFyZW50ID8gcGFyZW50LmFwcENvbnRleHQgOiB2bm9kZS5hcHBDb250ZXh0KSB8fCBlbXB0eUFwcENvbnRleHQ7XG4gIGNvbnN0IGluc3RhbmNlID0ge1xuICAgIHVpZDogdWlkKyssXG4gICAgdm5vZGUsXG4gICAgdHlwZSxcbiAgICBwYXJlbnQsXG4gICAgYXBwQ29udGV4dCxcbiAgICByb290OiBudWxsLFxuICAgIC8vIHRvIGJlIGltbWVkaWF0ZWx5IHNldFxuICAgIG5leHQ6IG51bGwsXG4gICAgc3ViVHJlZTogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCBzeW5jaHJvbm91c2x5IHJpZ2h0IGFmdGVyIGNyZWF0aW9uXG4gICAgZWZmZWN0OiBudWxsLFxuICAgIHVwZGF0ZTogbnVsbCxcbiAgICAvLyB3aWxsIGJlIHNldCBzeW5jaHJvbm91c2x5IHJpZ2h0IGFmdGVyIGNyZWF0aW9uXG4gICAgc2NvcGU6IG5ldyBFZmZlY3RTY29wZShcbiAgICAgIHRydWVcbiAgICAgIC8qIGRldGFjaGVkICovXG4gICAgKSxcbiAgICByZW5kZXI6IG51bGwsXG4gICAgcHJveHk6IG51bGwsXG4gICAgZXhwb3NlZDogbnVsbCxcbiAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICB3aXRoUHJveHk6IG51bGwsXG4gICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXG4gICAgYWNjZXNzQ2FjaGU6IG51bGwsXG4gICAgcmVuZGVyQ2FjaGU6IFtdLFxuICAgIC8vIGxvY2FsIHJlc29sdmVkIGFzc2V0c1xuICAgIGNvbXBvbmVudHM6IG51bGwsXG4gICAgZGlyZWN0aXZlczogbnVsbCxcbiAgICAvLyByZXNvbHZlZCBwcm9wcyBhbmQgZW1pdHMgb3B0aW9uc1xuICAgIHByb3BzT3B0aW9uczogbm9ybWFsaXplUHJvcHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgIGVtaXRzT3B0aW9uczogbm9ybWFsaXplRW1pdHNPcHRpb25zKHR5cGUsIGFwcENvbnRleHQpLFxuICAgIC8vIGVtaXRcbiAgICBlbWl0OiBudWxsLFxuICAgIC8vIHRvIGJlIHNldCBpbW1lZGlhdGVseVxuICAgIGVtaXR0ZWQ6IG51bGwsXG4gICAgLy8gcHJvcHMgZGVmYXVsdCB2YWx1ZVxuICAgIHByb3BzRGVmYXVsdHM6IEVNUFRZX09CSixcbiAgICAvLyBpbmhlcml0QXR0cnNcbiAgICBpbmhlcml0QXR0cnM6IHR5cGUuaW5oZXJpdEF0dHJzLFxuICAgIC8vIHN0YXRlXG4gICAgY3R4OiBFTVBUWV9PQkosXG4gICAgZGF0YTogRU1QVFlfT0JKLFxuICAgIHByb3BzOiBFTVBUWV9PQkosXG4gICAgYXR0cnM6IEVNUFRZX09CSixcbiAgICBzbG90czogRU1QVFlfT0JKLFxuICAgIHJlZnM6IEVNUFRZX09CSixcbiAgICBzZXR1cFN0YXRlOiBFTVBUWV9PQkosXG4gICAgc2V0dXBDb250ZXh0OiBudWxsLFxuICAgIGF0dHJzUHJveHk6IG51bGwsXG4gICAgc2xvdHNQcm94eTogbnVsbCxcbiAgICAvLyBzdXNwZW5zZSByZWxhdGVkXG4gICAgc3VzcGVuc2UsXG4gICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxuICAgIGFzeW5jRGVwOiBudWxsLFxuICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIC8vIGxpZmVjeWNsZSBob29rc1xuICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXG4gICAgYmM6IG51bGwsXG4gICAgYzogbnVsbCxcbiAgICBibTogbnVsbCxcbiAgICBtOiBudWxsLFxuICAgIGJ1OiBudWxsLFxuICAgIHU6IG51bGwsXG4gICAgdW06IG51bGwsXG4gICAgYnVtOiBudWxsLFxuICAgIGRhOiBudWxsLFxuICAgIGE6IG51bGwsXG4gICAgcnRnOiBudWxsLFxuICAgIHJ0YzogbnVsbCxcbiAgICBlYzogbnVsbCxcbiAgICBzcDogbnVsbFxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcbiAgfVxuICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcbiAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gIGlmICh2bm9kZS5jZSkge1xuICAgIHZub2RlLmNlKGluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5sZXQgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG5sZXQgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2U7XG5sZXQgc2V0SW5TU1JTZXR1cFN0YXRlO1xue1xuICBjb25zdCBnID0gZ2V0R2xvYmFsVGhpcygpO1xuICBjb25zdCByZWdpc3Rlckdsb2JhbFNldHRlciA9IChrZXksIHNldHRlcikgPT4ge1xuICAgIGxldCBzZXR0ZXJzO1xuICAgIGlmICghKHNldHRlcnMgPSBnW2tleV0pKVxuICAgICAgc2V0dGVycyA9IGdba2V5XSA9IFtdO1xuICAgIHNldHRlcnMucHVzaChzZXR0ZXIpO1xuICAgIHJldHVybiAodikgPT4ge1xuICAgICAgaWYgKHNldHRlcnMubGVuZ3RoID4gMSlcbiAgICAgICAgc2V0dGVycy5mb3JFYWNoKChzZXQpID0+IHNldCh2KSk7XG4gICAgICBlbHNlXG4gICAgICAgIHNldHRlcnNbMF0odik7XG4gICAgfTtcbiAgfTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UgPSByZWdpc3Rlckdsb2JhbFNldHRlcihcbiAgICBgX19WVUVfSU5TVEFOQ0VfU0VUVEVSU19fYCxcbiAgICAodikgPT4gY3VycmVudEluc3RhbmNlID0gdlxuICApO1xuICBzZXRJblNTUlNldHVwU3RhdGUgPSByZWdpc3Rlckdsb2JhbFNldHRlcihcbiAgICBgX19WVUVfU1NSX1NFVFRFUlNfX2AsXG4gICAgKHYpID0+IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IHZcbiAgKTtcbn1cbmNvbnN0IHNldEN1cnJlbnRJbnN0YW5jZSA9IChpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBwcmV2ID0gY3VycmVudEluc3RhbmNlO1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gIGluc3RhbmNlLnNjb3BlLm9uKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gICAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UocHJldik7XG4gIH07XG59O1xuY29uc3QgdW5zZXRDdXJyZW50SW5zdGFuY2UgPSAoKSA9PiB7XG4gIGN1cnJlbnRJbnN0YW5jZSAmJiBjdXJyZW50SW5zdGFuY2Uuc2NvcGUub2ZmKCk7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKG51bGwpO1xufTtcbmNvbnN0IGlzQnVpbHRJblRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFwic2xvdCxjb21wb25lbnRcIik7XG5mdW5jdGlvbiB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSwgeyBpc05hdGl2ZVRhZyB9KSB7XG4gIGlmIChpc0J1aWx0SW5UYWcobmFtZSkgfHwgaXNOYXRpdmVUYWcobmFtZSkpIHtcbiAgICB3YXJuJDEoXG4gICAgICBcIkRvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgaWQ6IFwiICsgbmFtZVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDQ7XG59XG5sZXQgaXNJblNTUkNvbXBvbmVudFNldHVwID0gZmFsc2U7XG5mdW5jdGlvbiBzZXR1cENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IgPSBmYWxzZSkge1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoaXNTU1IpO1xuICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XG4gIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xuICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgY29uc3Qgc2V0dXBSZXN1bHQgPSBpc1N0YXRlZnVsID8gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIDogdm9pZCAwO1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoZmFsc2UpO1xuICByZXR1cm4gc2V0dXBSZXN1bHQ7XG59XG5mdW5jdGlvbiBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikge1xuICB2YXIgX2E7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaWYgKENvbXBvbmVudC5uYW1lKSB7XG4gICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoQ29tcG9uZW50Lm5hbWUsIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21wb25lbnRzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5jb21wb25lbnRzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWVzW2ldLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuZGlyZWN0aXZlcykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuZGlyZWN0aXZlcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcGlsZXJPcHRpb25zICYmIGlzUnVudGltZU9ubHkoKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgXCJjb21waWxlck9wdGlvbnNcIiBpcyBvbmx5IHN1cHBvcnRlZCB3aGVuIHVzaW5nIGEgYnVpbGQgb2YgVnVlIHRoYXQgaW5jbHVkZXMgdGhlIHJ1bnRpbWUgY29tcGlsZXIuIFNpbmNlIHlvdSBhcmUgdXNpbmcgYSBydW50aW1lLW9ubHkgYnVpbGQsIHRoZSBvcHRpb25zIHNob3VsZCBiZSBwYXNzZWQgdmlhIHlvdXIgYnVpbGQgdG9vbCBjb25maWcgaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpbnN0YW5jZS5hY2Nlc3NDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBpbnN0YW5jZS5wcm94eSA9IG1hcmtSYXcobmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKSk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9XG4gIGNvbnN0IHsgc2V0dXAgfSA9IENvbXBvbmVudDtcbiAgaWYgKHNldHVwKSB7XG4gICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID0gc2V0dXAubGVuZ3RoID4gMSA/IGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkgOiBudWxsO1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgY29uc3Qgc2V0dXBSZXN1bHQgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBzZXR1cCxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMCxcbiAgICAgIFtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpbnN0YW5jZS5wcm9wcykgOiBpbnN0YW5jZS5wcm9wcyxcbiAgICAgICAgc2V0dXBDb250ZXh0XG4gICAgICBdXG4gICAgKTtcbiAgICByZXNldFRyYWNraW5nKCk7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoaXNQcm9taXNlKHNldHVwUmVzdWx0KSkge1xuICAgICAgc2V0dXBSZXN1bHQudGhlbih1bnNldEN1cnJlbnRJbnN0YW5jZSwgdW5zZXRDdXJyZW50SW5zdGFuY2UpO1xuICAgICAgaWYgKGlzU1NSKSB7XG4gICAgICAgIHJldHVybiBzZXR1cFJlc3VsdC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCByZXNvbHZlZFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaW5zdGFuY2Uuc3VzcGVuc2UpIHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gKF9hID0gQ29tcG9uZW50Lm5hbWUpICE9IG51bGwgPyBfYSA6IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCA8JHtuYW1lfT46IHNldHVwIGZ1bmN0aW9uIHJldHVybmVkIGEgcHJvbWlzZSwgYnV0IG5vIDxTdXNwZW5zZT4gYm91bmRhcnkgd2FzIGZvdW5kIGluIHRoZSBwYXJlbnQgY29tcG9uZW50IHRyZWUuIEEgY29tcG9uZW50IHdpdGggYXN5bmMgc2V0dXAoKSBtdXN0IGJlIG5lc3RlZCBpbiBhIDxTdXNwZW5zZT4gaW4gb3JkZXIgdG8gYmUgcmVuZGVyZWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19zc3JJbmxpbmVSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnNzclJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICB3YXJuJDEoXG4gICAgICBgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gXG4gICAgKTtcbiAgfVxuICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xufVxubGV0IGNvbXBpbGU7XG5sZXQgaW5zdGFsbFdpdGhQcm94eTtcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gIGNvbXBpbGUgPSBfY29tcGlsZTtcbiAgaW5zdGFsbFdpdGhQcm94eSA9IChpKSA9PiB7XG4gICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgIGlmICghaXNTU1IgJiYgY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBDb21wb25lbnQudGVtcGxhdGUgfHwgcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpLnRlbXBsYXRlO1xuICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgaXNDdXN0b21FbGVtZW50LCBjb21waWxlck9wdGlvbnMgfSA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnO1xuICAgICAgICBjb25zdCB7IGRlbGltaXRlcnMsIGNvbXBpbGVyT3B0aW9uczogY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIH0gPSBDb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IGZpbmFsQ29tcGlsZXJPcHRpb25zID0gZXh0ZW5kKFxuICAgICAgICAgIGV4dGVuZChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50LFxuICAgICAgICAgICAgICBkZWxpbWl0ZXJzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGlsZXJPcHRpb25zXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjb21wb25lbnRDb21waWxlck9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgICAgQ29tcG9uZW50LnJlbmRlciA9IGNvbXBpbGUodGVtcGxhdGUsIGZpbmFsQ29tcGlsZXJPcHRpb25zKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgY29tcGlsZWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLnJlbmRlciA9IENvbXBvbmVudC5yZW5kZXIgfHwgTk9PUDtcbiAgICBpZiAoaW5zdGFsbFdpdGhQcm94eSkge1xuICAgICAgaW5zdGFsbFdpdGhQcm94eShpbnN0YW5jZSk7XG4gICAgfVxuICB9XG4gIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fICYmIHRydWUpIHtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIHRyeSB7XG4gICAgICBhcHBseU9wdGlvbnMoaW5zdGFuY2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhQ29tcG9uZW50LnJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1AgJiYgIWlzU1NSKSB7XG4gICAgaWYgKCFjb21waWxlICYmIENvbXBvbmVudC50ZW1wbGF0ZSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgQ29tcG9uZW50IHByb3ZpZGVkIHRlbXBsYXRlIG9wdGlvbiBidXQgcnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgKyAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gIClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4kMShgQ29tcG9uZW50IGlzIG1pc3NpbmcgdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uLmApO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0QXR0cnNQcm94eShpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UuYXR0cnNQcm94eSB8fCAoaW5zdGFuY2UuYXR0cnNQcm94eSA9IG5ldyBQcm94eShcbiAgICBpbnN0YW5jZS5hdHRycyxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBcIiRhdHRyc1wiKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICAgICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IDoge1xuICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBcIiRhdHRyc1wiKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgKSk7XG59XG5mdW5jdGlvbiBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS5zbG90c1Byb3h5IHx8IChpbnN0YW5jZS5zbG90c1Byb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLnNsb3RzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgfVxuICB9KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgZXhwb3NlID0gKGV4cG9zZWQpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgd2FybiQxKGBleHBvc2UoKSBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgc2V0dXAoKS5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBvc2VkICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGV4cG9zZWRUeXBlID0gdHlwZW9mIGV4cG9zZWQ7XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVmKGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwicmVmXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBleHBvc2UoKSBzaG91bGQgYmUgcGFzc2VkIGEgcGxhaW4gb2JqZWN0LCByZWNlaXZlZCAke2V4cG9zZWRUeXBlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5leHBvc2VkID0gZXhwb3NlZCB8fCB7fTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgIHJldHVybiBnZXRBdHRyc1Byb3h5KGluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBnZXQgc2xvdHMoKSB7XG4gICAgICAgIHJldHVybiBnZXRTbG90c1Byb3h5KGluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBnZXQgZW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgZXhwb3NlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgcmV0dXJuIGdldEF0dHJzUHJveHkoaW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIHNsb3RzOiBpbnN0YW5jZS5zbG90cyxcbiAgICAgIGVtaXQ6IGluc3RhbmNlLmVtaXQsXG4gICAgICBleHBvc2VcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBnZXRFeHBvc2VQcm94eShpbnN0YW5jZSkge1xuICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgIHJldHVybiBpbnN0YW5jZS5leHBvc2VQcm94eSB8fCAoaW5zdGFuY2UuZXhwb3NlUHJveHkgPSBuZXcgUHJveHkocHJveHlSZWZzKG1hcmtSYXcoaW5zdGFuY2UuZXhwb3NlZCkpLCB7XG4gICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXApIHtcbiAgICAgICAgICByZXR1cm4gcHVibGljUHJvcGVydGllc01hcFtrZXldKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGhhcyh0YXJnZXQsIGtleSkge1xuICAgICAgICByZXR1cm4ga2V5IGluIHRhcmdldCB8fCBrZXkgaW4gcHVibGljUHJvcGVydGllc01hcDtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbn1cbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XG5jb25zdCBjbGFzc2lmeSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKGNsYXNzaWZ5UkUsIChjKSA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgXCJcIik7XG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCwgaW5jbHVkZUluZmVycmVkID0gdHJ1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIDogQ29tcG9uZW50Lm5hbWUgfHwgaW5jbHVkZUluZmVycmVkICYmIENvbXBvbmVudC5fX25hbWU7XG59XG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XG4gIGxldCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xuICBpZiAoIW5hbWUgJiYgQ29tcG9uZW50Ll9fZmlsZSkge1xuICAgIGNvbnN0IG1hdGNoID0gQ29tcG9uZW50Ll9fZmlsZS5tYXRjaCgvKFteL1xcXFxdKylcXC5cXHcrJC8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgbmFtZSA9IG1hdGNoWzFdO1xuICAgIH1cbiAgfVxuICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XG4gICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBuYW1lID0gaW5mZXJGcm9tUmVnaXN0cnkoXG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRzIHx8IGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHNcbiAgICApIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XG4gIH1cbiAgcmV0dXJuIG5hbWUgPyBjbGFzc2lmeShuYW1lKSA6IGlzUm9vdCA/IGBBcHBgIDogYEFub255bW91c2A7XG59XG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiBcIl9fdmNjT3B0c1wiIGluIHZhbHVlO1xufVxuXG5jb25zdCBjb21wdXRlZCA9IChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucykgPT4ge1xuICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNJblNTUkNvbXBvbmVudFNldHVwKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKGkgJiYgaS5hcHBDb250ZXh0LmNvbmZpZy53YXJuUmVjdXJzaXZlQ29tcHV0ZWQpIHtcbiAgICAgIGMuX3dhcm5SZWN1cnNpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYztcbn07XG5cbmZ1bmN0aW9uIHVzZU1vZGVsKHByb3BzLCBuYW1lLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZU1vZGVsKCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaS5wcm9wc09wdGlvbnNbMF1bbmFtZV0pIHtcbiAgICB3YXJuJDEoYHVzZU1vZGVsKCkgY2FsbGVkIHdpdGggcHJvcCBcIiR7bmFtZX1cIiB3aGljaCBpcyBub3QgZGVjbGFyZWQuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGNvbnN0IGNhbWVsaXplZE5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgY29uc3QgaHlwaGVuYXRlZE5hbWUgPSBoeXBoZW5hdGUobmFtZSk7XG4gIGNvbnN0IHJlcyA9IGN1c3RvbVJlZigodHJhY2ssIHRyaWdnZXIpID0+IHtcbiAgICBsZXQgbG9jYWxWYWx1ZTtcbiAgICB3YXRjaFN5bmNFZmZlY3QoKCkgPT4ge1xuICAgICAgY29uc3QgcHJvcFZhbHVlID0gcHJvcHNbbmFtZV07XG4gICAgICBpZiAoaGFzQ2hhbmdlZChsb2NhbFZhbHVlLCBwcm9wVmFsdWUpKSB7XG4gICAgICAgIGxvY2FsVmFsdWUgPSBwcm9wVmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQgPyBvcHRpb25zLmdldChsb2NhbFZhbHVlKSA6IGxvY2FsVmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJhd1Byb3BzID0gaS52bm9kZS5wcm9wcztcbiAgICAgICAgaWYgKCEocmF3UHJvcHMgJiYgLy8gY2hlY2sgaWYgcGFyZW50IGhhcyBwYXNzZWQgdi1tb2RlbFxuICAgICAgICAobmFtZSBpbiByYXdQcm9wcyB8fCBjYW1lbGl6ZWROYW1lIGluIHJhd1Byb3BzIHx8IGh5cGhlbmF0ZWROYW1lIGluIHJhd1Byb3BzKSAmJiAoYG9uVXBkYXRlOiR7bmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2NhbWVsaXplZE5hbWV9YCBpbiByYXdQcm9wcyB8fCBgb25VcGRhdGU6JHtoeXBoZW5hdGVkTmFtZX1gIGluIHJhd1Byb3BzKSkgJiYgaGFzQ2hhbmdlZCh2YWx1ZSwgbG9jYWxWYWx1ZSkpIHtcbiAgICAgICAgICBsb2NhbFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIGkuZW1pdChgdXBkYXRlOiR7bmFtZX1gLCBvcHRpb25zLnNldCA/IG9wdGlvbnMuc2V0KHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgY29uc3QgbW9kaWZpZXJLZXkgPSBuYW1lID09PSBcIm1vZGVsVmFsdWVcIiA/IFwibW9kZWxNb2RpZmllcnNcIiA6IGAke25hbWV9TW9kaWZpZXJzYDtcbiAgcmVzW1N5bWJvbC5pdGVyYXRvcl0gPSAoKSA9PiB7XG4gICAgbGV0IGkyID0gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbmV4dCgpIHtcbiAgICAgICAgaWYgKGkyIDwgMikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBpMisrID8gcHJvcHNbbW9kaWZpZXJLZXldIHx8IHt9IDogcmVzLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xuICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKGwgPT09IDIpIHtcbiAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICBpZiAoaXNWTm9kZShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChsID4gMykge1xuICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIH0gZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMzYmE3NzZcIiB9O1xuICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzE2NzdmZlwiIH07XG4gIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZjUyMjJkXCIgfTtcbiAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZWIyZjk2XCIgfTtcbiAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgIGhlYWRlcihvYmopIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1wiZGl2XCIsIHZ1ZVN0eWxlLCBgVnVlSW5zdGFuY2VgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWYob2JqKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgW1wic3BhblwiLCB2dWVTdHlsZSwgZ2VuUmVmRmxhZyhvYmopXSxcbiAgICAgICAgICBcIjxcIixcbiAgICAgICAgICBmb3JtYXRWYWx1ZShvYmoudmFsdWUpLFxuICAgICAgICAgIGA+YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhY3RpdmVcIiA6IFwiUmVhY3RpdmVcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWRvbmx5XCIgOiBcIlJlYWRvbmx5XCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgXCI+XCJcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgaGFzQm9keShvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgfSxcbiAgICBib2R5KG9iaikge1xuICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwicHJvcHNcIiwgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJzZXR1cFwiLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJkYXRhXCIsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiY29tcHV0ZWRcIik7XG4gICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiY29tcHV0ZWRcIiwgY29tcHV0ZWQpKTtcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJpbmplY3RcIik7XG4gICAgaWYgKGluamVjdGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiaW5qZWN0ZWRcIiwgaW5qZWN0ZWQpKTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHt9LFxuICAgICAgW1xuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyBcIjtvcGFjaXR5OjAuNjZcIlxuICAgICAgICB9LFxuICAgICAgICBcIiQgKGludGVybmFsKTogXCJcbiAgICAgIF0sXG4gICAgICBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgXSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCB7fV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdHlsZTogXCJsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbVwiIH0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJjb2xvcjojNDc2NTgyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcInBhZGRpbmctbGVmdDoxLjI1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCBrZXkgKyBcIjogXCJdLFxuICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgXTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIG51bWJlclN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgIHJldHVybiBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgaWYgKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpIHx8IGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZSgobSkgPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgIH1cbiAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgIH1cbiAgICByZXR1cm4gYFJlZmA7XG4gIH1cbiAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICByZXR1cm4gY2FjaGVbaW5kZXhdID0gcmV0O1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgdmVyc2lvbiA9IFwiMy40LjIxXCI7XG5jb25zdCB3YXJuID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHdhcm4kMSA6IE5PT1A7XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0gRXJyb3JUeXBlU3RyaW5ncyQxIDtcbmNvbnN0IGRldnRvb2xzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gZGV2dG9vbHMkMSA6IHZvaWQgMDtcbmNvbnN0IHNldERldnRvb2xzSG9vayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IHNldERldnRvb2xzSG9vayQxIDogTk9PUDtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gIHNldHVwQ29tcG9uZW50LFxuICByZW5kZXJDb21wb25lbnRSb290LFxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIG5vcm1hbGl6ZVZOb2RlXG59O1xuY29uc3Qgc3NyVXRpbHMgPSBfc3NyVXRpbHMgO1xuY29uc3QgcmVzb2x2ZUZpbHRlciA9IG51bGw7XG5jb25zdCBjb21wYXRVdGlscyA9IG51bGw7XG5jb25zdCBEZXByZWNhdGlvblR5cGVzID0gbnVsbDtcblxuZXhwb3J0IHsgQmFzZVRyYW5zaXRpb24sIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCBDb21tZW50LCBEZXByZWNhdGlvblR5cGVzLCBFcnJvckNvZGVzLCBFcnJvclR5cGVTdHJpbmdzLCBGcmFnbWVudCwgS2VlcEFsaXZlLCBTdGF0aWMsIFN1c3BlbnNlLCBUZWxlcG9ydCwgVGV4dCwgYXNzZXJ0TnVtYmVyLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgY2FsbFdpdGhFcnJvckhhbmRsaW5nLCBjbG9uZVZOb2RlLCBjb21wYXRVdGlscywgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlQmFzZVZOb2RlIGFzIGNyZWF0ZUVsZW1lbnRWTm9kZSwgY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIsIGNyZWF0ZVByb3BzUmVzdFByb3h5LCBjcmVhdGVSZW5kZXJlciwgY3JlYXRlU2xvdHMsIGNyZWF0ZVN0YXRpY1ZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZVZOb2RlLCBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBkZWZpbmVFbWl0cywgZGVmaW5lRXhwb3NlLCBkZWZpbmVNb2RlbCwgZGVmaW5lT3B0aW9ucywgZGVmaW5lUHJvcHMsIGRlZmluZVNsb3RzLCBkZXZ0b29scywgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIGd1YXJkUmVhY3RpdmVQcm9wcywgaCwgaGFuZGxlRXJyb3IsIGhhc0luamVjdGlvbkNvbnRleHQsIGluaXRDdXN0b21Gb3JtYXR0ZXIsIGluamVjdCwgaXNNZW1vU2FtZSwgaXNSdW50aW1lT25seSwgaXNWTm9kZSwgbWVyZ2VEZWZhdWx0cywgbWVyZ2VNb2RlbHMsIG1lcmdlUHJvcHMsIG5leHRUaWNrLCBvbkFjdGl2YXRlZCwgb25CZWZvcmVNb3VudCwgb25CZWZvcmVVbm1vdW50LCBvbkJlZm9yZVVwZGF0ZSwgb25EZWFjdGl2YXRlZCwgb25FcnJvckNhcHR1cmVkLCBvbk1vdW50ZWQsIG9uUmVuZGVyVHJhY2tlZCwgb25SZW5kZXJUcmlnZ2VyZWQsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIG9wZW5CbG9jaywgcG9wU2NvcGVJZCwgcHJvdmlkZSwgcHVzaFNjb3BlSWQsIHF1ZXVlUG9zdEZsdXNoQ2IsIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyLCByZW5kZXJMaXN0LCByZW5kZXJTbG90LCByZXNvbHZlQ29tcG9uZW50LCByZXNvbHZlRGlyZWN0aXZlLCByZXNvbHZlRHluYW1pY0NvbXBvbmVudCwgcmVzb2x2ZUZpbHRlciwgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgc2V0QmxvY2tUcmFja2luZywgc2V0RGV2dG9vbHNIb29rLCBzZXRUcmFuc2l0aW9uSG9va3MsIHNzckNvbnRleHRLZXksIHNzclV0aWxzLCB0b0hhbmRsZXJzLCB0cmFuc2Zvcm1WTm9kZUFyZ3MsIHVzZUF0dHJzLCB1c2VNb2RlbCwgdXNlU1NSQ29udGV4dCwgdXNlU2xvdHMsIHVzZVRyYW5zaXRpb25TdGF0ZSwgdmVyc2lvbiwgd2Fybiwgd2F0Y2gsIHdhdGNoRWZmZWN0LCB3YXRjaFBvc3RFZmZlY3QsIHdhdGNoU3luY0VmZmVjdCwgd2l0aEFzeW5jQ29udGV4dCwgd2l0aEN0eCwgd2l0aERlZmF1bHRzLCB3aXRoRGlyZWN0aXZlcywgd2l0aE1lbW8sIHdpdGhTY29wZUlkIH07XG4iLCIvKipcbiogQHZ1ZS9ydW50aW1lLWRvbSB2My40LjIxXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBoLCBCYXNlVHJhbnNpdGlvbiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIGFzc2VydE51bWJlciwgZ2V0Q3VycmVudEluc3RhbmNlLCB3YXJuLCB3YXRjaFBvc3RFZmZlY3QsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIEZyYWdtZW50LCBTdGF0aWMsIGNhbWVsaXplLCBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZywgZGVmaW5lQ29tcG9uZW50LCBuZXh0VGljaywgY3JlYXRlVk5vZGUsIHVzZVRyYW5zaXRpb25TdGF0ZSwgb25VcGRhdGVkLCB0b1JhdywgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBzZXRUcmFuc2l0aW9uSG9va3MsIHJlc29sdmVUcmFuc2l0aW9uSG9va3MsIGlzUnVudGltZU9ubHksIGNyZWF0ZVJlbmRlcmVyLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciB9IGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0B2dWUvcnVudGltZS1jb3JlJztcbmltcG9ydCB7IGV4dGVuZCwgaXNPYmplY3QsIHRvTnVtYmVyLCBpc0FycmF5LCBpc1N0cmluZywgaHlwaGVuYXRlLCBjYXBpdGFsaXplLCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc09uLCBpc01vZGVsTGlzdGVuZXIsIGlzRnVuY3Rpb24sIGNhbWVsaXplIGFzIGNhbWVsaXplJDEsIEVNUFRZX09CSiwgbG9vc2VUb051bWJlciwgbG9vc2VJbmRleE9mLCBpc1NldCwgbG9vc2VFcXVhbCwgaW52b2tlQXJyYXlGbnMsIGlzSFRNTFRhZywgaXNTVkdUYWcsIGlzTWF0aE1MVGFnIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5jb25zdCBzdmdOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbmNvbnN0IG1hdGhtbE5TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7XG5jb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBkb2N1bWVudCA6IG51bGw7XG5jb25zdCB0ZW1wbGF0ZUNvbnRhaW5lciA9IGRvYyAmJiAvKiBAX19QVVJFX18gKi8gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtcbmNvbnN0IG5vZGVPcHMgPSB7XG4gIGluc2VydDogKGNoaWxkLCBwYXJlbnQsIGFuY2hvcikgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGFuY2hvciB8fCBudWxsKTtcbiAgfSxcbiAgcmVtb3ZlOiAoY2hpbGQpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVFbGVtZW50OiAodGFnLCBuYW1lc3BhY2UsIGlzLCBwcm9wcykgPT4ge1xuICAgIGNvbnN0IGVsID0gbmFtZXNwYWNlID09PSBcInN2Z1wiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhzdmdOUywgdGFnKSA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGRvYy5jcmVhdGVFbGVtZW50TlMobWF0aG1sTlMsIHRhZykgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIGlzID8geyBpcyB9IDogdm9pZCAwKTtcbiAgICBpZiAodGFnID09PSBcInNlbGVjdFwiICYmIHByb3BzICYmIHByb3BzLm11bHRpcGxlICE9IG51bGwpIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIHByb3BzLm11bHRpcGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBjcmVhdGVUZXh0OiAodGV4dCkgPT4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLFxuICBjcmVhdGVDb21tZW50OiAodGV4dCkgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXG4gIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XG4gICAgbm9kZS5ub2RlVmFsdWUgPSB0ZXh0O1xuICB9LFxuICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XG4gICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9LFxuICBwYXJlbnROb2RlOiAobm9kZSkgPT4gbm9kZS5wYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogKG5vZGUpID0+IG5vZGUubmV4dFNpYmxpbmcsXG4gIHF1ZXJ5U2VsZWN0b3I6IChzZWxlY3RvcikgPT4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxuICBzZXRTY29wZUlkKGVsLCBpZCkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gIH0sXG4gIC8vIF9fVU5TQUZFX19cbiAgLy8gUmVhc29uOiBpbm5lckhUTUwuXG4gIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgLy8gQXMgbG9uZyBhcyB0aGUgdXNlciBvbmx5IHVzZXMgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHRoaXMgaXMgc2FmZS5cbiAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgbmFtZXNwYWNlLCBzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XG4gICAgaWYgKHN0YXJ0ICYmIChzdGFydCA9PT0gZW5kIHx8IHN0YXJ0Lm5leHRTaWJsaW5nKSkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzdGFydC5jbG9uZU5vZGUodHJ1ZSksIGFuY2hvcik7XG4gICAgICAgIGlmIChzdGFydCA9PT0gZW5kIHx8ICEoc3RhcnQgPSBzdGFydC5uZXh0U2libGluZykpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBsYXRlQ29udGFpbmVyLmlubmVySFRNTCA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIiA/IGA8c3ZnPiR7Y29udGVudH08L3N2Zz5gIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gYDxtYXRoPiR7Y29udGVudH08L21hdGg+YCA6IGNvbnRlbnQ7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ29udGFpbmVyLmNvbnRlbnQ7XG4gICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIikge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGVtcGxhdGUuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKHdyYXBwZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHRlbXBsYXRlLmFwcGVuZENoaWxkKHdyYXBwZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICB9XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRlbXBsYXRlLCBhbmNob3IpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgLy8gZmlyc3RcbiAgICAgIGJlZm9yZSA/IGJlZm9yZS5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkLFxuICAgICAgLy8gbGFzdFxuICAgICAgYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGRcbiAgICBdO1xuICB9XG59O1xuXG5jb25zdCBUUkFOU0lUSU9OID0gXCJ0cmFuc2l0aW9uXCI7XG5jb25zdCBBTklNQVRJT04gPSBcImFuaW1hdGlvblwiO1xuY29uc3QgdnRjS2V5ID0gU3ltYm9sKFwiX3Z0Y1wiKTtcbmNvbnN0IFRyYW5zaXRpb24gPSAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKTtcblRyYW5zaXRpb24uZGlzcGxheU5hbWUgPSBcIlRyYW5zaXRpb25cIjtcbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG5hbWU6IFN0cmluZyxcbiAgdHlwZTogU3RyaW5nLFxuICBjc3M6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgZHVyYXRpb246IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0XSxcbiAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICBlbnRlclRvQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGFwcGVhclRvQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICBsZWF2ZVRvQ2xhc3M6IFN0cmluZ1xufTtcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSBUcmFuc2l0aW9uLnByb3BzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZChcbiAge30sXG4gIEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLFxuICBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzXG4pO1xuY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncyA9IFtdKSA9PiB7XG4gIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgaG9vay5mb3JFYWNoKChoMikgPT4gaDIoLi4uYXJncykpO1xuICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICBob29rKC4uLmFyZ3MpO1xuICB9XG59O1xuY29uc3QgaGFzRXhwbGljaXRDYWxsYmFjayA9IChob29rKSA9PiB7XG4gIHJldHVybiBob29rID8gaXNBcnJheShob29rKSA/IGhvb2suc29tZSgoaDIpID0+IGgyLmxlbmd0aCA+IDEpIDogaG9vay5sZW5ndGggPiAxIDogZmFsc2U7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcykge1xuICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICBpZiAoIShrZXkgaW4gRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycykpIHtcbiAgICAgIGJhc2VQcm9wc1trZXldID0gcmF3UHJvcHNba2V5XTtcbiAgICB9XG4gIH1cbiAgaWYgKHJhd1Byb3BzLmNzcyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gYmFzZVByb3BzO1xuICB9XG4gIGNvbnN0IHtcbiAgICBuYW1lID0gXCJ2XCIsXG4gICAgdHlwZSxcbiAgICBkdXJhdGlvbixcbiAgICBlbnRlckZyb21DbGFzcyA9IGAke25hbWV9LWVudGVyLWZyb21gLFxuICAgIGVudGVyQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1hY3RpdmVgLFxuICAgIGVudGVyVG9DbGFzcyA9IGAke25hbWV9LWVudGVyLXRvYCxcbiAgICBhcHBlYXJGcm9tQ2xhc3MgPSBlbnRlckZyb21DbGFzcyxcbiAgICBhcHBlYXJBY3RpdmVDbGFzcyA9IGVudGVyQWN0aXZlQ2xhc3MsXG4gICAgYXBwZWFyVG9DbGFzcyA9IGVudGVyVG9DbGFzcyxcbiAgICBsZWF2ZUZyb21DbGFzcyA9IGAke25hbWV9LWxlYXZlLWZyb21gLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1hY3RpdmVgLFxuICAgIGxlYXZlVG9DbGFzcyA9IGAke25hbWV9LWxlYXZlLXRvYFxuICB9ID0gcmF3UHJvcHM7XG4gIGNvbnN0IGR1cmF0aW9ucyA9IG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgY29uc3QgZW50ZXJEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMF07XG4gIGNvbnN0IGxlYXZlRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzFdO1xuICBjb25zdCB7XG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25MZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyID0gb25CZWZvcmVFbnRlcixcbiAgICBvbkFwcGVhciA9IG9uRW50ZXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWQgPSBvbkVudGVyQ2FuY2VsbGVkXG4gIH0gPSBiYXNlUHJvcHM7XG4gIGNvbnN0IGZpbmlzaEVudGVyID0gKGVsLCBpc0FwcGVhciwgZG9uZSkgPT4ge1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICBkb25lICYmIGRvbmUoKTtcbiAgfTtcbiAgY29uc3QgZmluaXNoTGVhdmUgPSAoZWwsIGRvbmUpID0+IHtcbiAgICBlbC5faXNMZWF2aW5nID0gZmFsc2U7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IG1ha2VFbnRlckhvb2sgPSAoaXNBcHBlYXIpID0+IHtcbiAgICByZXR1cm4gKGVsLCBkb25lKSA9PiB7XG4gICAgICBjb25zdCBob29rID0gaXNBcHBlYXIgPyBvbkFwcGVhciA6IG9uRW50ZXI7XG4gICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoRW50ZXIoZWwsIGlzQXBwZWFyLCBkb25lKTtcbiAgICAgIGNhbGxIb29rKGhvb2ssIFtlbCwgcmVzb2x2ZV0pO1xuICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckZyb21DbGFzcyA6IGVudGVyRnJvbUNsYXNzKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2soaG9vaykpIHtcbiAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGVudGVyRHVyYXRpb24sIHJlc29sdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuICByZXR1cm4gZXh0ZW5kKGJhc2VQcm9wcywge1xuICAgIG9uQmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlRW50ZXIsIFtlbF0pO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgIH0sXG4gICAgb25CZWZvcmVBcHBlYXIoZWwpIHtcbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlQXBwZWFyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyRnJvbUNsYXNzKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYXBwZWFyQWN0aXZlQ2xhc3MpO1xuICAgIH0sXG4gICAgb25FbnRlcjogbWFrZUVudGVySG9vayhmYWxzZSksXG4gICAgb25BcHBlYXI6IG1ha2VFbnRlckhvb2sodHJ1ZSksXG4gICAgb25MZWF2ZShlbCwgZG9uZSkge1xuICAgICAgZWwuX2lzTGVhdmluZyA9IHRydWU7XG4gICAgICBjb25zdCByZXNvbHZlID0gKCkgPT4gZmluaXNoTGVhdmUoZWwsIGRvbmUpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIGlmICghZWwuX2lzTGVhdmluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgICBpZiAoIWhhc0V4cGxpY2l0Q2FsbGJhY2sob25MZWF2ZSkpIHtcbiAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGxlYXZlRHVyYXRpb24sIHJlc29sdmUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNhbGxIb29rKG9uTGVhdmUsIFtlbCwgcmVzb2x2ZV0pO1xuICAgIH0sXG4gICAgb25FbnRlckNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoRW50ZXIoZWwsIGZhbHNlKTtcbiAgICAgIGNhbGxIb29rKG9uRW50ZXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25BcHBlYXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uQXBwZWFyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9LFxuICAgIG9uTGVhdmVDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaExlYXZlKGVsKTtcbiAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xuICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGR1cmF0aW9uKSkge1xuICAgIHJldHVybiBbTnVtYmVyT2YoZHVyYXRpb24uZW50ZXIpLCBOdW1iZXJPZihkdXJhdGlvbi5sZWF2ZSldO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XG4gICAgcmV0dXJuIFtuLCBuXTtcbiAgfVxufVxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XG4gIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHJlcywgXCI8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb25cIik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XG4gIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XG4gIChlbFt2dGNLZXldIHx8IChlbFt2dGNLZXldID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpLmFkZChjbHMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgY29uc3QgX3Z0YyA9IGVsW3Z0Y0tleV07XG4gIGlmIChfdnRjKSB7XG4gICAgX3Z0Yy5kZWxldGUoY2xzKTtcbiAgICBpZiAoIV92dGMuc2l6ZSkge1xuICAgICAgZWxbdnRjS2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG5leHRGcmFtZShjYikge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gIH0pO1xufVxubGV0IGVuZElkID0gMDtcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcbiAgY29uc3QgaWQgPSBlbC5fZW5kSWQgPSArK2VuZElkO1xuICBjb25zdCByZXNvbHZlSWZOb3RTdGFsZSA9ICgpID0+IHtcbiAgICBpZiAoaWQgPT09IGVsLl9lbmRJZCkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGV4cGxpY2l0VGltZW91dCkge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KHJlc29sdmVJZk5vdFN0YWxlLCBleHBsaWNpdFRpbWVvdXQpO1xuICB9XG4gIGNvbnN0IHsgdHlwZSwgdGltZW91dCwgcHJvcENvdW50IH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKTtcbiAgaWYgKCF0eXBlKSB7XG4gICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgfVxuICBjb25zdCBlbmRFdmVudCA9IHR5cGUgKyBcImVuZFwiO1xuICBsZXQgZW5kZWQgPSAwO1xuICBjb25zdCBlbmQgPSAoKSA9PiB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xuICAgIHJlc29sdmVJZk5vdFN0YWxlKCk7XG4gIH07XG4gIGNvbnN0IG9uRW5kID0gKGUpID0+IHtcbiAgICBpZiAoZS50YXJnZXQgPT09IGVsICYmICsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH07XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGlmIChlbmRlZCA8IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9LCB0aW1lb3V0ICsgMSk7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpIHtcbiAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICBjb25zdCBnZXRTdHlsZVByb3BlcnRpZXMgPSAoa2V5KSA9PiAoc3R5bGVzW2tleV0gfHwgXCJcIikuc3BsaXQoXCIsIFwiKTtcbiAgY29uc3QgdHJhbnNpdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfURlbGF5YCk7XG4gIGNvbnN0IHRyYW5zaXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EdXJhdGlvbmApO1xuICBjb25zdCB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbkRlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7XG4gIGNvbnN0IGFuaW1hdGlvbkRlbGF5cyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RGVsYXlgKTtcbiAgY29uc3QgYW5pbWF0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke0FOSU1BVElPTn1EdXJhdGlvbmApO1xuICBjb25zdCBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7XG4gIGxldCB0eXBlID0gbnVsbDtcbiAgbGV0IHRpbWVvdXQgPSAwO1xuICBsZXQgcHJvcENvdW50ID0gMDtcbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xuICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG4gICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gQU5JTUFUSU9OO1xuICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xuICAgIHR5cGUgPSB0aW1lb3V0ID4gMCA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dCA/IFRSQU5TSVRJT04gOiBBTklNQVRJT04gOiBudWxsO1xuICAgIHByb3BDb3VudCA9IHR5cGUgPyB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGggOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoIDogMDtcbiAgfVxuICBjb25zdCBoYXNUcmFuc2Zvcm0gPSB0eXBlID09PSBUUkFOU0lUSU9OICYmIC9cXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8udGVzdChcbiAgICBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1Qcm9wZXJ0eWApLnRvU3RyaW5nKClcbiAgKTtcbiAgcmV0dXJuIHtcbiAgICB0eXBlLFxuICAgIHRpbWVvdXQsXG4gICAgcHJvcENvdW50LFxuICAgIGhhc1RyYW5zZm9ybVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0VGltZW91dChkZWxheXMsIGR1cmF0aW9ucykge1xuICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcbiAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XG4gIH1cbiAgcmV0dXJuIE1hdGgubWF4KC4uLmR1cmF0aW9ucy5tYXAoKGQsIGkpID0+IHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkpKTtcbn1cbmZ1bmN0aW9uIHRvTXMocykge1xuICBpZiAocyA9PT0gXCJhdXRvXCIpXG4gICAgcmV0dXJuIDA7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZShcIixcIiwgXCIuXCIpKSAqIDFlMztcbn1cbmZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xuICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsW3Z0Y0tleV07XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgIHZhbHVlID0gKHZhbHVlID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc10gOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKFwiIFwiKTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICB9IGVsc2UgaWYgKGlzU1ZHKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IHZTaG93T3JpZ2luYWxEaXNwbGF5ID0gU3ltYm9sKFwiX3ZvZFwiKTtcbmNvbnN0IHZTaG93SGlkZGVuID0gU3ltYm9sKFwiX3ZzaFwiKTtcbmNvbnN0IHZTaG93ID0ge1xuICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGVsLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGVsLnN0eWxlLmRpc3BsYXk7XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgc2V0RGlzcGxheShlbCwgdHJ1ZSk7XG4gICAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNpdGlvbi5sZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgIHNldERpc3BsYXkoZWwsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGJlZm9yZVVubW91bnQoZWwsIHsgdmFsdWUgfSkge1xuICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgfVxufTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIHZTaG93Lm5hbWUgPSBcInNob3dcIjtcbn1cbmZ1bmN0aW9uIHNldERpc3BsYXkoZWwsIHZhbHVlKSB7XG4gIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA6IFwibm9uZVwiO1xuICBlbFt2U2hvd0hpZGRlbl0gPSAhdmFsdWU7XG59XG5mdW5jdGlvbiBpbml0VlNob3dGb3JTU1IoKSB7XG4gIHZTaG93LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4ge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiB7IHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IENTU19WQVJfVEVYVCA9IFN5bWJvbCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJDU1NfVkFSX1RFWFRcIiA6IFwiXCIpO1xuZnVuY3Rpb24gdXNlQ3NzVmFycyhnZXR0ZXIpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgdXNlQ3NzVmFycyBpcyBjYWxsZWQgd2l0aG91dCBjdXJyZW50IGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHVwZGF0ZVRlbGVwb3J0cyA9IGluc3RhbmNlLnV0ID0gKHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpKSA9PiB7XG4gICAgQXJyYXkuZnJvbShcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXYtb3duZXI9XCIke2luc3RhbmNlLnVpZH1cIl1gKVxuICAgICkuZm9yRWFjaCgobm9kZSkgPT4gc2V0VmFyc09uTm9kZShub2RlLCB2YXJzKSk7XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuZ2V0Q3NzVmFycyA9ICgpID0+IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gIH1cbiAgY29uc3Qgc2V0VmFycyA9ICgpID0+IHtcbiAgICBjb25zdCB2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgICBzZXRWYXJzT25WTm9kZShpbnN0YW5jZS5zdWJUcmVlLCB2YXJzKTtcbiAgICB1cGRhdGVUZWxlcG9ydHModmFycyk7XG4gIH07XG4gIHdhdGNoUG9zdEVmZmVjdChzZXRWYXJzKTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBjb25zdCBvYiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHNldFZhcnMpO1xuICAgIG9iLm9ic2VydmUoaW5zdGFuY2Uuc3ViVHJlZS5lbC5wYXJlbnROb2RlLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICBvblVubW91bnRlZCgoKSA9PiBvYi5kaXNjb25uZWN0KCkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xuICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xuICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcbiAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XG4gICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB2bm9kZS5lbCkge1xuICAgIHNldFZhcnNPbk5vZGUodm5vZGUuZWwsIHZhcnMpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFN0YXRpYykge1xuICAgIGxldCB7IGVsLCBhbmNob3IgfSA9IHZub2RlO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgc2V0VmFyc09uTm9kZShlbCwgdmFycyk7XG4gICAgICBpZiAoZWwgPT09IGFuY2hvcilcbiAgICAgICAgYnJlYWs7XG4gICAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VmFyc09uTm9kZShlbCwgdmFycykge1xuICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgIGxldCBjc3NUZXh0ID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShgLS0ke2tleX1gLCB2YXJzW2tleV0pO1xuICAgICAgY3NzVGV4dCArPSBgLS0ke2tleX06ICR7dmFyc1trZXldfTtgO1xuICAgIH1cbiAgICBzdHlsZVtDU1NfVkFSX1RFWFRdID0gY3NzVGV4dDtcbiAgfVxufVxuXG5jb25zdCBkaXNwbGF5UkUgPSAvKF58OylcXHMqZGlzcGxheVxccyo6LztcbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcbiAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgY29uc3QgaXNDc3NTdHJpbmcgPSBpc1N0cmluZyhuZXh0KTtcbiAgbGV0IGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gZmFsc2U7XG4gIGlmIChuZXh0ICYmICFpc0Nzc1N0cmluZykge1xuICAgIGlmIChwcmV2KSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHByZXYpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmV2U3R5bGUgb2YgcHJldi5zcGxpdChcIjtcIikpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBwcmV2U3R5bGUuc2xpY2UoMCwgcHJldlN0eWxlLmluZGV4T2YoXCI6XCIpKS50cmltKCk7XG4gICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xuICAgICAgaWYgKGtleSA9PT0gXCJkaXNwbGF5XCIpIHtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ3NzU3RyaW5nKSB7XG4gICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xuICAgICAgICBjb25zdCBjc3NWYXJUZXh0ID0gc3R5bGVbQ1NTX1ZBUl9URVhUXTtcbiAgICAgICAgaWYgKGNzc1ZhclRleHQpIHtcbiAgICAgICAgICBuZXh0ICs9IFwiO1wiICsgY3NzVmFyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBkaXNwbGF5UkUudGVzdChuZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXYpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH1cbiAgfVxuICBpZiAodlNob3dPcmlnaW5hbERpc3BsYXkgaW4gZWwpIHtcbiAgICBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gPSBoYXNDb250cm9sbGVkRGlzcGxheSA/IHN0eWxlLmRpc3BsYXkgOiBcIlwiO1xuICAgIGlmIChlbFt2U2hvd0hpZGRlbl0pIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IHNlbWljb2xvblJFID0gL1teXFxcXF07XFxzKiQvO1xuY29uc3QgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcbiAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgIHZhbC5mb3JFYWNoKCh2KSA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgPT0gbnVsbClcbiAgICAgIHZhbCA9IFwiXCI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChzZW1pY29sb25SRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVW5leHBlY3RlZCBzZW1pY29sb24gYXQgdGhlIGVuZCBvZiAnJHtuYW1lfScgc3R5bGUgdmFsdWU6ICcke3ZhbH0nYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmFtZS5zdGFydHNXaXRoKFwiLS1cIikpIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZWZpeGVkID0gYXV0b1ByZWZpeChzdHlsZSwgbmFtZSk7XG4gICAgICBpZiAoaW1wb3J0YW50UkUudGVzdCh2YWwpKSB7XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgICAgIGh5cGhlbmF0ZShwcmVmaXhlZCksXG4gICAgICAgICAgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsIFwiXCIpLFxuICAgICAgICAgIFwiaW1wb3J0YW50XCJcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0eWxlW3ByZWZpeGVkXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNvbnN0IHByZWZpeGVzID0gW1wiV2Via2l0XCIsIFwiTW96XCIsIFwibXNcIl07XG5jb25zdCBwcmVmaXhDYWNoZSA9IHt9O1xuZnVuY3Rpb24gYXV0b1ByZWZpeChzdHlsZSwgcmF3TmFtZSkge1xuICBjb25zdCBjYWNoZWQgPSBwcmVmaXhDYWNoZVtyYXdOYW1lXTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgbGV0IG5hbWUgPSBjYW1lbGl6ZShyYXdOYW1lKTtcbiAgaWYgKG5hbWUgIT09IFwiZmlsdGVyXCIgJiYgbmFtZSBpbiBzdHlsZSkge1xuICAgIHJldHVybiBwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IG5hbWU7XG4gIH1cbiAgbmFtZSA9IGNhcGl0YWxpemUobmFtZSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwcmVmaXhlZCA9IHByZWZpeGVzW2ldICsgbmFtZTtcbiAgICBpZiAocHJlZml4ZWQgaW4gc3R5bGUpIHtcbiAgICAgIHJldHVybiBwcmVmaXhDYWNoZVtyYXdOYW1lXSA9IHByZWZpeGVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmF3TmFtZTtcbn1cblxuY29uc3QgeGxpbmtOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiO1xuZnVuY3Rpb24gcGF0Y2hBdHRyKGVsLCBrZXksIHZhbHVlLCBpc1NWRywgaW5zdGFuY2UpIHtcbiAgaWYgKGlzU1ZHICYmIGtleS5zdGFydHNXaXRoKFwieGxpbms6XCIpKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleS5zbGljZSg2LCBrZXkubGVuZ3RoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpc0Jvb2xlYW4gPSBpc1NwZWNpYWxCb29sZWFuQXR0cihrZXkpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzQm9vbGVhbiAmJiAhaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzQm9vbGVhbiA/IFwiXCIgOiB2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhdGNoRE9NUHJvcChlbCwga2V5LCB2YWx1ZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pIHtcbiAgaWYgKGtleSA9PT0gXCJpbm5lckhUTUxcIiB8fCBrZXkgPT09IFwidGV4dENvbnRlbnRcIikge1xuICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHVubW91bnRDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgICBlbFtrZXldID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGFnID0gZWwudGFnTmFtZTtcbiAgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIHRhZyAhPT0gXCJQUk9HUkVTU1wiICYmIC8vIGN1c3RvbSBlbGVtZW50cyBtYXkgdXNlIF92YWx1ZSBpbnRlcm5hbGx5XG4gICF0YWcuaW5jbHVkZXMoXCItXCIpKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YWcgPT09IFwiT1BUSU9OXCIgPyBlbC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSB8fCBcIlwiIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUgfHwgIShcIl92YWx1ZVwiIGluIGVsKSkge1xuICAgICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH1cbiAgICBlbC5fdmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IG5lZWRSZW1vdmUgPSBmYWxzZTtcbiAgaWYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIGVsW2tleV07XG4gICAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB2YWx1ZSA9IGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsICYmIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdmFsdWUgPSAwO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgZWxba2V5XSA9IHZhbHVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW5lZWRSZW1vdmUpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBGYWlsZWQgc2V0dGluZyBwcm9wIFwiJHtrZXl9XCIgb24gPCR7dGFnLnRvTG93ZXJDYXNlKCl9PjogdmFsdWUgJHt2YWx1ZX0gaXMgaW52YWxpZC5gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBuZWVkUmVtb3ZlICYmIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xufVxuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuY29uc3QgdmVpS2V5ID0gU3ltYm9sKFwiX3ZlaVwiKTtcbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZWwsIHJhd05hbWUsIHByZXZWYWx1ZSwgbmV4dFZhbHVlLCBpbnN0YW5jZSA9IG51bGwpIHtcbiAgY29uc3QgaW52b2tlcnMgPSBlbFt2ZWlLZXldIHx8IChlbFt2ZWlLZXldID0ge30pO1xuICBjb25zdCBleGlzdGluZ0ludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXTtcbiAgaWYgKG5leHRWYWx1ZSAmJiBleGlzdGluZ0ludm9rZXIpIHtcbiAgICBleGlzdGluZ0ludm9rZXIudmFsdWUgPSBuZXh0VmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgW25hbWUsIG9wdGlvbnNdID0gcGFyc2VOYW1lKHJhd05hbWUpO1xuICAgIGlmIChuZXh0VmFsdWUpIHtcbiAgICAgIGNvbnN0IGludm9rZXIgPSBpbnZva2Vyc1tyYXdOYW1lXSA9IGNyZWF0ZUludm9rZXIobmV4dFZhbHVlLCBpbnN0YW5jZSk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBpbnZva2VyLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGV4aXN0aW5nSW52b2tlcikge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgZXhpc3RpbmdJbnZva2VyLCBvcHRpb25zKTtcbiAgICAgIGludm9rZXJzW3Jhd05hbWVdID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgb3B0aW9uc01vZGlmaWVyUkUgPSAvKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87XG5mdW5jdGlvbiBwYXJzZU5hbWUobmFtZSkge1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKG9wdGlvbnNNb2RpZmllclJFLnRlc3QobmFtZSkpIHtcbiAgICBvcHRpb25zID0ge307XG4gICAgbGV0IG07XG4gICAgd2hpbGUgKG0gPSBuYW1lLm1hdGNoKG9wdGlvbnNNb2RpZmllclJFKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMCwgbmFtZS5sZW5ndGggLSBtWzBdLmxlbmd0aCk7XG4gICAgICBvcHRpb25zW21bMF0udG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICBjb25zdCBldmVudCA9IG5hbWVbMl0gPT09IFwiOlwiID8gbmFtZS5zbGljZSgzKSA6IGh5cGhlbmF0ZShuYW1lLnNsaWNlKDIpKTtcbiAgcmV0dXJuIFtldmVudCwgb3B0aW9uc107XG59XG5sZXQgY2FjaGVkTm93ID0gMDtcbmNvbnN0IHAgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5jb25zdCBnZXROb3cgPSAoKSA9PiBjYWNoZWROb3cgfHwgKHAudGhlbigoKSA9PiBjYWNoZWROb3cgPSAwKSwgY2FjaGVkTm93ID0gRGF0ZS5ub3coKSk7XG5mdW5jdGlvbiBjcmVhdGVJbnZva2VyKGluaXRpYWxWYWx1ZSwgaW5zdGFuY2UpIHtcbiAgY29uc3QgaW52b2tlciA9IChlKSA9PiB7XG4gICAgaWYgKCFlLl92dHMpIHtcbiAgICAgIGUuX3Z0cyA9IERhdGUubm93KCk7XG4gICAgfSBlbHNlIGlmIChlLl92dHMgPD0gaW52b2tlci5hdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIGludm9rZXIudmFsdWUpLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA1LFxuICAgICAgW2VdXG4gICAgKTtcbiAgfTtcbiAgaW52b2tlci52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgaW52b2tlci5hdHRhY2hlZCA9IGdldE5vdygpO1xuICByZXR1cm4gaW52b2tlcjtcbn1cbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XG4gICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKGZuKSA9PiAoZTIpID0+ICFlMi5fc3RvcHBlZCAmJiBmbiAmJiBmbihlMikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuXG5jb25zdCBpc05hdGl2ZU9uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIGxvd2VyY2FzZSBsZXR0ZXJcbmtleS5jaGFyQ29kZUF0KDIpID4gOTYgJiYga2V5LmNoYXJDb2RlQXQoMikgPCAxMjM7XG5jb25zdCBwYXRjaFByb3AgPSAoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIG5hbWVzcGFjZSwgcHJldkNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB1bm1vdW50Q2hpbGRyZW4pID0+IHtcbiAgY29uc3QgaXNTVkcgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCI7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgcGF0Y2hTdHlsZShlbCwgcHJldlZhbHVlLCBuZXh0VmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgIHBhdGNoRXZlbnQoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleVswXSA9PT0gXCIuXCIgPyAoa2V5ID0ga2V5LnNsaWNlKDEpLCB0cnVlKSA6IGtleVswXSA9PT0gXCJeXCIgPyAoa2V5ID0ga2V5LnNsaWNlKDEpLCBmYWxzZSkgOiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcbiAgICBwYXRjaERPTVByb3AoXG4gICAgICBlbCxcbiAgICAgIGtleSxcbiAgICAgIG5leHRWYWx1ZSxcbiAgICAgIHByZXZDaGlsZHJlbixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgdW5tb3VudENoaWxkcmVuXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoa2V5ID09PSBcInRydWUtdmFsdWVcIikge1xuICAgICAgZWwuX3RydWVWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJmYWxzZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fZmFsc2VWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICB9XG4gICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcpO1xuICB9XG59O1xuZnVuY3Rpb24gc2hvdWxkU2V0QXNQcm9wKGVsLCBrZXksIHZhbHVlLCBpc1NWRykge1xuICBpZiAoaXNTVkcpIHtcbiAgICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGtleSBpbiBlbCAmJiBpc05hdGl2ZU9uKGtleSkgJiYgaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJzcGVsbGNoZWNrXCIgfHwga2V5ID09PSBcImRyYWdnYWJsZVwiIHx8IGtleSA9PT0gXCJ0cmFuc2xhdGVcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcImZvcm1cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcImxpc3RcIiAmJiBlbC50YWdOYW1lID09PSBcIklOUFVUXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ0eXBlXCIgJiYgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwid2lkdGhcIiB8fCBrZXkgPT09IFwiaGVpZ2h0XCIpIHtcbiAgICBjb25zdCB0YWcgPSBlbC50YWdOYW1lO1xuICAgIGlmICh0YWcgPT09IFwiSU1HXCIgfHwgdGFnID09PSBcIlZJREVPXCIgfHwgdGFnID09PSBcIkNBTlZBU1wiIHx8IHRhZyA9PT0gXCJTT1VSQ0VcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNOYXRpdmVPbihrZXkpICYmIGlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4ga2V5IGluIGVsO1xufVxuXG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGh5ZHJhdGUyKSB7XG4gIGNvbnN0IENvbXAgPSBkZWZpbmVDb21wb25lbnQob3B0aW9ucyk7XG4gIGNsYXNzIFZ1ZUN1c3RvbUVsZW1lbnQgZXh0ZW5kcyBWdWVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsUHJvcHMpIHtcbiAgICAgIHN1cGVyKENvbXAsIGluaXRpYWxQcm9wcywgaHlkcmF0ZTIpO1xuICAgIH1cbiAgfVxuICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gIHJldHVybiBWdWVDdXN0b21FbGVtZW50O1xufVxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBkZWZpbmVTU1JDdXN0b21FbGVtZW50ID0gLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi8gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDdXN0b21FbGVtZW50KG9wdGlvbnMsIGh5ZHJhdGUpO1xufTtcbmNvbnN0IEJhc2VDbGFzcyA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IEhUTUxFbGVtZW50IDogY2xhc3Mge1xufTtcbmNsYXNzIFZ1ZUVsZW1lbnQgZXh0ZW5kcyBCYXNlQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfZGVmLCBfcHJvcHMgPSB7fSwgaHlkcmF0ZTIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2RlZiA9IF9kZWY7XG4gICAgdGhpcy5fcHJvcHMgPSBfcHJvcHM7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3Jlc29sdmVkID0gZmFsc2U7XG4gICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudWxsO1xuICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICBpZiAodGhpcy5zaGFkb3dSb290ICYmIGh5ZHJhdGUyKSB7XG4gICAgICBoeWRyYXRlMih0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgQ3VzdG9tIGVsZW1lbnQgaGFzIHByZS1yZW5kZXJlZCBkZWNsYXJhdGl2ZSBzaGFkb3cgcm9vdCBidXQgaXMgbm90IGRlZmluZWQgYXMgaHlkcmF0YWJsZS4gVXNlIFxcYGRlZmluZVNTUkN1c3RvbUVsZW1lbnRcXGAuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiBcIm9wZW5cIiB9KTtcbiAgICAgIGlmICghdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXIpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZVByb3BzKHRoaXMuX2RlZik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZURlZigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fb2IpIHtcbiAgICAgIHRoaXMuX29iLmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICB9XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgcmVuZGVyKG51bGwsIHRoaXMuc2hhZG93Um9vdCk7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogcmVzb2x2ZSBpbm5lciBjb21wb25lbnQgZGVmaW5pdGlvbiAoaGFuZGxlIHBvc3NpYmxlIGFzeW5jIGNvbXBvbmVudClcbiAgICovXG4gIF9yZXNvbHZlRGVmKCkge1xuICAgIHRoaXMuX3Jlc29sdmVkID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fc2V0QXR0cih0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgfVxuICAgIHRoaXMuX29iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgZm9yIChjb25zdCBtIG9mIG11dGF0aW9ucykge1xuICAgICAgICB0aGlzLl9zZXRBdHRyKG0uYXR0cmlidXRlTmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fb2Iub2JzZXJ2ZSh0aGlzLCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgY29uc3QgcmVzb2x2ZSA9IChkZWYsIGlzQXN5bmMgPSBmYWxzZSkgPT4ge1xuICAgICAgY29uc3QgeyBwcm9wcywgc3R5bGVzIH0gPSBkZWY7XG4gICAgICBsZXQgbnVtYmVyUHJvcHM7XG4gICAgICBpZiAocHJvcHMgJiYgIWlzQXJyYXkocHJvcHMpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgY29uc3Qgb3B0ID0gcHJvcHNba2V5XTtcbiAgICAgICAgICBpZiAob3B0ID09PSBOdW1iZXIgfHwgb3B0ICYmIG9wdC50eXBlID09PSBOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChrZXkgaW4gdGhpcy5fcHJvcHMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcHJvcHNba2V5XSA9IHRvTnVtYmVyKHRoaXMuX3Byb3BzW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKG51bWJlclByb3BzIHx8IChudW1iZXJQcm9wcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKSlbY2FtZWxpemUkMShrZXkpXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bWJlclByb3BzO1xuICAgICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZVByb3BzKGRlZik7XG4gICAgICB9XG4gICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBhc3luY0RlZiA9IHRoaXMuX2RlZi5fX2FzeW5jTG9hZGVyO1xuICAgIGlmIChhc3luY0RlZikge1xuICAgICAgYXN5bmNEZWYoKS50aGVuKChkZWYpID0+IHJlc29sdmUoZGVmLCB0cnVlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUodGhpcy5fZGVmKTtcbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldLCB0cnVlLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGRlY2xhcmVkUHJvcEtleXMubWFwKGNhbWVsaXplJDEpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJvcChrZXkpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsKSB7XG4gICAgICAgICAgdGhpcy5fc2V0UHJvcChrZXksIHZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBfc2V0QXR0cihrZXkpIHtcbiAgICBsZXQgdmFsdWUgPSB0aGlzLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUkMShrZXkpO1xuICAgIGlmICh0aGlzLl9udW1iZXJQcm9wcyAmJiB0aGlzLl9udW1iZXJQcm9wc1tjYW1lbEtleV0pIHtcbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICB0aGlzLl9zZXRQcm9wKGNhbWVsS2V5LCB2YWx1ZSwgZmFsc2UpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRQcm9wKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9wcm9wc1trZXldO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9zZXRQcm9wKGtleSwgdmFsLCBzaG91bGRSZWZsZWN0ID0gdHJ1ZSwgc2hvdWxkVXBkYXRlID0gdHJ1ZSkge1xuICAgIGlmICh2YWwgIT09IHRoaXMuX3Byb3BzW2tleV0pIHtcbiAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlICYmIHRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFJlZmxlY3QpIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBfdXBkYXRlKCkge1xuICAgIHJlbmRlcih0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHRoaXMuX2RlZiwgZXh0ZW5kKHt9LCB0aGlzLl9wcm9wcykpO1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHZub2RlLmNlID0gKGluc3RhbmNlKSA9PiB7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIGluc3RhbmNlLmlzQ0UgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkID0gKG5ld1N0eWxlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlcykge1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMuZm9yRWFjaCgocykgPT4gdGhpcy5zaGFkb3dSb290LnJlbW92ZUNoaWxkKHMpKTtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhuZXdTdHlsZXMpO1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNwYXRjaCA9IChldmVudCwgYXJncykgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudChldmVudCwge1xuICAgICAgICAgICAgICBkZXRhaWw6IGFyZ3NcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5zdGFuY2UuZW1pdCA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoKGV2ZW50LCBhcmdzKTtcbiAgICAgICAgICBpZiAoaHlwaGVuYXRlKGV2ZW50KSAhPT0gZXZlbnQpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGh5cGhlbmF0ZShldmVudCksIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBWdWVFbGVtZW50KSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgICAgICAgaW5zdGFuY2UucHJvdmlkZXMgPSBwYXJlbnQuX2luc3RhbmNlLnByb3ZpZGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgX2FwcGx5U3R5bGVzKHN0eWxlcykge1xuICAgIGlmIChzdHlsZXMpIHtcbiAgICAgIHN0eWxlcy5mb3JFYWNoKChjc3MpID0+IHtcbiAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgcy50ZXh0Q29udGVudCA9IGNzcztcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICh0aGlzLl9zdHlsZXMgfHwgKHRoaXMuX3N0eWxlcyA9IFtdKSkucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gXCIkc3R5bGVcIikge1xuICB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xuICAgIGlmICghbW9kdWxlcykge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xuICAgIGlmICghbW9kKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgcmV0dXJuIG1vZDtcbiAgfVxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbmV3UG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG1vdmVDYktleSA9IFN5bWJvbChcIl9tb3ZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0ge1xuICBuYW1lOiBcIlRyYW5zaXRpb25Hcm91cFwiLFxuICBwcm9wczogLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xuICAgIHRhZzogU3RyaW5nLFxuICAgIG1vdmVDbGFzczogU3RyaW5nXG4gIH0pLFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgIGxldCBwcmV2Q2hpbGRyZW47XG4gICAgbGV0IGNoaWxkcmVuO1xuICAgIG9uVXBkYXRlZCgoKSA9PiB7XG4gICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbW92ZUNsYXNzID0gcHJvcHMubW92ZUNsYXNzIHx8IGAke3Byb3BzLm5hbWUgfHwgXCJ2XCJ9LW1vdmVgO1xuICAgICAgaWYgKCFoYXNDU1NUcmFuc2Zvcm0oXG4gICAgICAgIHByZXZDaGlsZHJlblswXS5lbCxcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUuZWwsXG4gICAgICAgIG1vdmVDbGFzc1xuICAgICAgKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBjLmVsO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGNiID0gZWxbbW92ZUNiS2V5XSA9IChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgICAgICAgIGVsW21vdmVDYktleV0gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgY2IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgPyBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpKSA6IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICBpZiAoY2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4oYDxUcmFuc2l0aW9uR3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IHByZXZDaGlsZHJlbltpXTtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoY2hpbGQsIGNzc1RyYW5zaXRpb25Qcm9wcywgc3RhdGUsIGluc3RhbmNlKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcG9zaXRpb25NYXAuc2V0KGNoaWxkLCBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0YWcsIG51bGwsIGNoaWxkcmVuKTtcbiAgICB9O1xuICB9XG59O1xuY29uc3QgcmVtb3ZlTW9kZSA9IChwcm9wcykgPT4gZGVsZXRlIHByb3BzLm1vZGU7XG4vKiBAX19QVVJFX18gKi8gcmVtb3ZlTW9kZShUcmFuc2l0aW9uR3JvdXBJbXBsLnByb3BzKTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cCA9IFRyYW5zaXRpb25Hcm91cEltcGw7XG5mdW5jdGlvbiBjYWxsUGVuZGluZ0NicyhjKSB7XG4gIGNvbnN0IGVsID0gYy5lbDtcbiAgaWYgKGVsW21vdmVDYktleV0pIHtcbiAgICBlbFttb3ZlQ2JLZXldKCk7XG4gIH1cbiAgaWYgKGVsW2VudGVyQ2JLZXldKSB7XG4gICAgZWxbZW50ZXJDYktleV0oKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xuICBuZXdQb3NpdGlvbk1hcC5zZXQoYywgYy5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG59XG5mdW5jdGlvbiBhcHBseVRyYW5zbGF0aW9uKGMpIHtcbiAgY29uc3Qgb2xkUG9zID0gcG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBuZXdQb3MgPSBuZXdQb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IGR4ID0gb2xkUG9zLmxlZnQgLSBuZXdQb3MubGVmdDtcbiAgY29uc3QgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcbiAgaWYgKGR4IHx8IGR5KSB7XG4gICAgY29uc3QgcyA9IGMuZWwuc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLndlYmtpdFRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkeH1weCwke2R5fXB4KWA7XG4gICAgcy50cmFuc2l0aW9uRHVyYXRpb24gPSBcIjBzXCI7XG4gICAgcmV0dXJuIGM7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhc0NTU1RyYW5zZm9ybShlbCwgcm9vdCwgbW92ZUNsYXNzKSB7XG4gIGNvbnN0IGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZm9yRWFjaCgoY2xzKSA9PiB7XG4gICAgICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICAgIH0pO1xuICB9XG4gIG1vdmVDbGFzcy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LmFkZChjKSk7XG4gIGNsb25lLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgY29uc3QgY29udGFpbmVyID0gcm9vdC5ub2RlVHlwZSA9PT0gMSA/IHJvb3QgOiByb290LnBhcmVudE5vZGU7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIGNvbnN0IHsgaGFzVHJhbnNmb3JtIH0gPSBnZXRUcmFuc2l0aW9uSW5mbyhjbG9uZSk7XG4gIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjbG9uZSk7XG4gIHJldHVybiBoYXNUcmFuc2Zvcm07XG59XG5cbmNvbnN0IGdldE1vZGVsQXNzaWduZXIgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgZm4gPSB2bm9kZS5wcm9wc1tcIm9uVXBkYXRlOm1vZGVsVmFsdWVcIl0gfHwgZmFsc2U7XG4gIHJldHVybiBpc0FycmF5KGZuKSA/ICh2YWx1ZSkgPT4gaW52b2tlQXJyYXlGbnMoZm4sIHZhbHVlKSA6IGZuO1xufTtcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IHRydWU7XG59XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kKGUpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmICh0YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgdGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIpKTtcbiAgfVxufVxuY29uc3QgYXNzaWduS2V5ID0gU3ltYm9sKFwiX2Fzc2lnblwiKTtcbmNvbnN0IHZNb2RlbFRleHQgPSB7XG4gIGNyZWF0ZWQoZWwsIHsgbW9kaWZpZXJzOiB7IGxhenksIHRyaW0sIG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGNvbnN0IGNhc3RUb051bWJlciA9IG51bWJlciB8fCB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlID09PSBcIm51bWJlclwiO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGxhenkgPyBcImNoYW5nZVwiIDogXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNvbXBvc2luZylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbGV0IGRvbVZhbHVlID0gZWwudmFsdWU7XG4gICAgICBpZiAodHJpbSkge1xuICAgICAgICBkb21WYWx1ZSA9IGRvbVZhbHVlLnRyaW0oKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYXN0VG9OdW1iZXIpIHtcbiAgICAgICAgZG9tVmFsdWUgPSBsb29zZVRvTnVtYmVyKGRvbVZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGVsW2Fzc2lnbktleV0oZG9tVmFsdWUpO1xuICAgIH0pO1xuICAgIGlmICh0cmltKSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICAgIGVsLnZhbHVlID0gZWwudmFsdWUudHJpbSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGF6eSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIG9uQ29tcG9zaXRpb25TdGFydCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uZW5kXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgfVxuICB9LFxuICAvLyBzZXQgdmFsdWUgb24gbW91bnRlZCBzbyBpdCdzIGFmdGVyIG1pbi9tYXggZm9yIHR5cGU9XCJyYW5nZVwiXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIGVsLnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgaWYgKGVsLmNvbXBvc2luZylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlbFZhbHVlID0gbnVtYmVyIHx8IGVsLnR5cGUgPT09IFwibnVtYmVyXCIgPyBsb29zZVRvTnVtYmVyKGVsLnZhbHVlKSA6IGVsLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgICBpZiAoZWxWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsICYmIGVsLnR5cGUgIT09IFwicmFuZ2VcIikge1xuICAgICAgaWYgKGxhenkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyaW0gJiYgZWwudmFsdWUudHJpbSgpID09PSBuZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gIH1cbn07XG5jb25zdCB2TW9kZWxDaGVja2JveCA9IHtcbiAgLy8gIzQwOTYgYXJyYXkgY2hlY2tib3hlcyBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIF8sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vZGVsVmFsdWUgPSBlbC5fbW9kZWxWYWx1ZTtcbiAgICAgIGNvbnN0IGVsZW1lbnRWYWx1ZSA9IGdldFZhbHVlKGVsKTtcbiAgICAgIGNvbnN0IGNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgY29uc3QgYXNzaWduID0gZWxbYXNzaWduS2V5XTtcbiAgICAgIGlmIChpc0FycmF5KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbG9vc2VJbmRleE9mKG1vZGVsVmFsdWUsIGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIGNvbnN0IGZvdW5kID0gaW5kZXggIT09IC0xO1xuICAgICAgICBpZiAoY2hlY2tlZCAmJiAhZm91bmQpIHtcbiAgICAgICAgICBhc3NpZ24obW9kZWxWYWx1ZS5jb25jYXQoZWxlbWVudFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWNoZWNrZWQgJiYgZm91bmQpIHtcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5tb2RlbFZhbHVlXTtcbiAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGFzc2lnbihmaWx0ZXJlZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNTZXQobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgY2xvbmVkID0gbmV3IFNldChtb2RlbFZhbHVlKTtcbiAgICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgICBjbG9uZWQuYWRkKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvbmVkLmRlbGV0ZShlbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2lnbihjbG9uZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduKGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgLy8gc2V0IGluaXRpYWwgY2hlY2tlZCBvbiBtb3VudCB0byB3YWl0IGZvciB0cnVlLXZhbHVlL2ZhbHNlLXZhbHVlXG4gIG1vdW50ZWQ6IHNldENoZWNrZWQsXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgc2V0Q2hlY2tlZChlbCwgYmluZGluZywgdm5vZGUpO1xuICB9XG59O1xuZnVuY3Rpb24gc2V0Q2hlY2tlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgZWwuX21vZGVsVmFsdWUgPSB2YWx1ZTtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTE7XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgZWwuY2hlY2tlZCA9IHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSk7XG4gIH0gZWxzZSBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIGdldENoZWNrYm94VmFsdWUoZWwsIHRydWUpKTtcbiAgfVxufVxuY29uc3Qgdk1vZGVsUmFkaW8gPSB7XG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUgfSwgdm5vZGUpIHtcbiAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBlbFthc3NpZ25LZXldKGdldFZhbHVlKGVsKSk7XG4gICAgfSk7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCB2TW9kZWxTZWxlY3QgPSB7XG4gIC8vIDxzZWxlY3QgbXVsdGlwbGU+IHZhbHVlIG5lZWQgdG8gYmUgZGVlcCB0cmF2ZXJzZWRcbiAgZGVlcDogdHJ1ZSxcbiAgY3JlYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0sIHZub2RlKSB7XG4gICAgY29uc3QgaXNTZXRNb2RlbCA9IGlzU2V0KHZhbHVlKTtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbC5vcHRpb25zLCAobykgPT4gby5zZWxlY3RlZCkubWFwKFxuICAgICAgICAobykgPT4gbnVtYmVyID8gbG9vc2VUb051bWJlcihnZXRWYWx1ZShvKSkgOiBnZXRWYWx1ZShvKVxuICAgICAgKTtcbiAgICAgIGVsW2Fzc2lnbktleV0oXG4gICAgICAgIGVsLm11bHRpcGxlID8gaXNTZXRNb2RlbCA/IG5ldyBTZXQoc2VsZWN0ZWRWYWwpIDogc2VsZWN0ZWRWYWwgOiBzZWxlY3RlZFZhbFswXVxuICAgICAgKTtcbiAgICAgIGVsLl9hc3NpZ25pbmcgPSB0cnVlO1xuICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICBlbC5fYXNzaWduaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIC8vIHNldCB2YWx1ZSBpbiBtb3VudGVkICYgdXBkYXRlZCBiZWNhdXNlIDxzZWxlY3Q+IHJlbGllcyBvbiBpdHMgY2hpbGRyZW5cbiAgLy8gPG9wdGlvbj5zLlxuICBtb3VudGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSkge1xuICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSwgbnVtYmVyKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBfYmluZGluZywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9KSB7XG4gICAgaWYgKCFlbC5fYXNzaWduaW5nKSB7XG4gICAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUsIG51bWJlcik7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlLCBudW1iZXIpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmluY2x1ZGVzKFxuICAgICAgICAgICAgbnVtYmVyID8gbG9vc2VUb051bWJlcihvcHRpb25WYWx1ZSkgOiBvcHRpb25WYWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSlcbiAgICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XG4gICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcbiAgfSk7XG59O1xuY29uc3Qga2V5TmFtZXMgPSB7XG4gIGVzYzogXCJlc2NhcGVcIixcbiAgc3BhY2U6IFwiIFwiLFxuICB1cDogXCJhcnJvdy11cFwiLFxuICBsZWZ0OiBcImFycm93LWxlZnRcIixcbiAgcmlnaHQ6IFwiYXJyb3ctcmlnaHRcIixcbiAgZG93bjogXCJhcnJvdy1kb3duXCIsXG4gIGRlbGV0ZTogXCJiYWNrc3BhY2VcIlxufTtcbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aEtleXMgfHwgKGZuLl93aXRoS2V5cyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKChrKSA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXkpKSB7XG4gICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XG59O1xuY29uc3QgaHlkcmF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn07XG5jb25zdCBjcmVhdGVBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoIWNvbnRhaW5lcilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBjb21wb25lbnQgPSBhcHAuX2NvbXBvbmVudDtcbiAgICBpZiAoIWlzRnVuY3Rpb24oY29tcG9uZW50KSAmJiAhY29tcG9uZW50LnJlbmRlciAmJiAhY29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICBjb21wb25lbnQudGVtcGxhdGUgPSBjb250YWluZXIuaW5uZXJIVE1MO1xuICAgIH1cbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCBwcm94eSA9IG1vdW50KGNvbnRhaW5lciwgZmFsc2UsIHJlc29sdmVSb290TmFtZXNwYWNlKGNvbnRhaW5lcikpO1xuICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFwidi1jbG9ha1wiKTtcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXYtYXBwXCIsIFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcHJveHk7XG4gIH07XG4gIHJldHVybiBhcHA7XG59O1xuY29uc3QgY3JlYXRlU1NSQXBwID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgYXBwID0gZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5jcmVhdGVBcHAoLi4uYXJncyk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKTtcbiAgICBpbmplY3RDb21waWxlck9wdGlvbnNDaGVjayhhcHApO1xuICB9XG4gIGNvbnN0IHsgbW91bnQgfSA9IGFwcDtcbiAgYXBwLm1vdW50ID0gKGNvbnRhaW5lck9yU2VsZWN0b3IpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBub3JtYWxpemVDb250YWluZXIoY29udGFpbmVyT3JTZWxlY3Rvcik7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG1vdW50KGNvbnRhaW5lciwgdHJ1ZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gYXBwO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVSb290TmFtZXNwYWNlKGNvbnRhaW5lcikge1xuICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgU1ZHRWxlbWVudCkge1xuICAgIHJldHVybiBcInN2Z1wiO1xuICB9XG4gIGlmICh0eXBlb2YgTWF0aE1MRWxlbWVudCA9PT0gXCJmdW5jdGlvblwiICYmIGNvbnRhaW5lciBpbnN0YW5jZW9mIE1hdGhNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJtYXRobWxcIjtcbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0TmF0aXZlVGFnQ2hlY2soYXBwKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImlzTmF0aXZlVGFnXCIsIHtcbiAgICB2YWx1ZTogKHRhZykgPT4gaXNIVE1MVGFnKHRhZykgfHwgaXNTVkdUYWcodGFnKSB8fCBpc01hdGhNTFRhZyh0YWcpLFxuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbn1cbmZ1bmN0aW9uIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCkge1xuICBpZiAoaXNSdW50aW1lT25seSgpKSB7XG4gICAgY29uc3QgaXNDdXN0b21FbGVtZW50ID0gYXBwLmNvbmZpZy5pc0N1c3RvbUVsZW1lbnQ7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiaXNDdXN0b21FbGVtZW50XCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGlzQ3VzdG9tRWxlbWVudDtcbiAgICAgIH0sXG4gICAgICBzZXQoKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYFRoZSBcXGBpc0N1c3RvbUVsZW1lbnRcXGAgY29uZmlnIG9wdGlvbiBpcyBkZXByZWNhdGVkLiBVc2UgXFxgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudFxcYCBpbnN0ZWFkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBjb21waWxlck9wdGlvbnMgPSBhcHAuY29uZmlnLmNvbXBpbGVyT3B0aW9ucztcbiAgICBjb25zdCBtc2cgPSBgVGhlIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBjb25maWcgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUuanMgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlciAoYWthIFwiZnVsbCBidWlsZFwiKS4gU2luY2UgeW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkLCBcXGBjb21waWxlck9wdGlvbnNcXGAgbXVzdCBiZSBwYXNzZWQgdG8gXFxgQHZ1ZS9jb21waWxlci1kb21cXGAgaW4gdGhlIGJ1aWxkIHNldHVwIGluc3RlYWQuXG4tIEZvciB2dWUtbG9hZGVyOiBwYXNzIGl0IHZpYSB2dWUtbG9hZGVyJ3MgXFxgY29tcGlsZXJPcHRpb25zXFxgIGxvYWRlciBvcHRpb24uXG4tIEZvciB2dWUtY2xpOiBzZWUgaHR0cHM6Ly9jbGkudnVlanMub3JnL2d1aWRlL3dlYnBhY2suaHRtbCNtb2RpZnlpbmctb3B0aW9ucy1vZi1hLWxvYWRlclxuLSBGb3Igdml0ZTogcGFzcyBpdCB2aWEgQHZpdGVqcy9wbHVnaW4tdnVlIG9wdGlvbnMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdml0ZWpzL3ZpdGUtcGx1Z2luLXZ1ZS90cmVlL21haW4vcGFja2FnZXMvcGx1Z2luLXZ1ZSNleGFtcGxlLWZvci1wYXNzaW5nLW9wdGlvbnMtdG8tdnVlY29tcGlsZXItc2ZjYDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJjb21waWxlck9wdGlvbnNcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgIHJldHVybiBjb21waWxlck9wdGlvbnM7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuKG1zZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgaWYgKGlzU3RyaW5nKGNvbnRhaW5lcikpIHtcbiAgICBjb25zdCByZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXJlcykge1xuICAgICAgd2FybihcbiAgICAgICAgYEZhaWxlZCB0byBtb3VudCBhcHA6IG1vdW50IHRhcmdldCBzZWxlY3RvciBcIiR7Y29udGFpbmVyfVwiIHJldHVybmVkIG51bGwuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3aW5kb3cuU2hhZG93Um9vdCAmJiBjb250YWluZXIgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCAmJiBjb250YWluZXIubW9kZSA9PT0gXCJjbG9zZWRcIikge1xuICAgIHdhcm4oXG4gICAgICBgbW91bnRpbmcgb24gYSBTaGFkb3dSb290IHdpdGggXFxge21vZGU6IFwiY2xvc2VkXCJ9XFxgIG1heSBsZWFkIHRvIHVucHJlZGljdGFibGUgYnVnc2BcbiAgICApO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG5sZXQgc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbmNvbnN0IGluaXREaXJlY3RpdmVzRm9yU1NSID0gKCkgPT4ge1xuICBpZiAoIXNzckRpcmVjdGl2ZUluaXRpYWxpemVkKSB7XG4gICAgc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIGluaXRWTW9kZWxGb3JTU1IoKTtcbiAgICBpbml0VlNob3dGb3JTU1IoKTtcbiAgfVxufSA7XG5cbmV4cG9ydCB7IFRyYW5zaXRpb24sIFRyYW5zaXRpb25Hcm91cCwgVnVlRWxlbWVudCwgY3JlYXRlQXBwLCBjcmVhdGVTU1JBcHAsIGRlZmluZUN1c3RvbUVsZW1lbnQsIGRlZmluZVNTUkN1c3RvbUVsZW1lbnQsIGh5ZHJhdGUsIGluaXREaXJlY3RpdmVzRm9yU1NSLCByZW5kZXIsIHVzZUNzc01vZHVsZSwgdXNlQ3NzVmFycywgdk1vZGVsQ2hlY2tib3gsIHZNb2RlbER5bmFtaWMsIHZNb2RlbFJhZGlvLCB2TW9kZWxTZWxlY3QsIHZNb2RlbFRleHQsIHZTaG93LCB3aXRoS2V5cywgd2l0aE1vZGlmaWVycyB9O1xuIiwiLyoqXG4qIHZ1ZSB2My40LjIxXG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBpbml0Q3VzdG9tRm9ybWF0dGVyLCB3YXJuIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWRvbSc7XG5leHBvcnQgKiBmcm9tICdAdnVlL3J1bnRpbWUtZG9tJztcblxuZnVuY3Rpb24gaW5pdERldigpIHtcbiAge1xuICAgIGluaXRDdXN0b21Gb3JtYXR0ZXIoKTtcbiAgfVxufVxuXG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICBpbml0RGV2KCk7XG59XG5jb25zdCBjb21waWxlID0gKCkgPT4ge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4oXG4gICAgICBgUnVudGltZSBjb21waWxhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnVpbGQgb2YgVnVlLmAgKyAoYCBDb25maWd1cmUgeW91ciBidW5kbGVyIHRvIGFsaWFzIFwidnVlXCIgdG8gXCJ2dWUvZGlzdC92dWUuZXNtLWJ1bmRsZXIuanNcIi5gIClcbiAgICApO1xuICB9XG59O1xuXG5leHBvcnQgeyBjb21waWxlIH07XG4iLCJpbXBvcnQgKiBhcyBWdWUgZnJvbSAndnVlJ1xuXG52YXIgaXNWdWUyID0gZmFsc2VcbnZhciBpc1Z1ZTMgPSB0cnVlXG52YXIgVnVlMiA9IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBpbnN0YWxsKCkge31cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KVxuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpXG4gICAgcmV0dXJuIHZhbFxuICB9XG4gIHRhcmdldFtrZXldID0gdmFsXG4gIHJldHVybiB2YWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbCh0YXJnZXQsIGtleSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEpXG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIHRhcmdldFtrZXldXG59XG5cbmV4cG9ydCAqIGZyb20gJ3Z1ZSdcbmV4cG9ydCB7XG4gIFZ1ZSxcbiAgVnVlMixcbiAgaXNWdWUyLFxuICBpc1Z1ZTMsXG4gIGluc3RhbGwsXG59XG4iLCIvKiFcbiAqIHBpbmlhIHYyLjEuN1xuICogKGMpIDIwMjMgRWR1YXJkbyBTYW4gTWFydGluIE1vcm90ZVxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbmltcG9ydCB7IGhhc0luamVjdGlvbkNvbnRleHQsIGluamVjdCwgdG9SYXcsIHdhdGNoLCB1bnJlZiwgbWFya1JhdywgZWZmZWN0U2NvcGUsIHJlZiwgaXNWdWUyLCBpc1JlZiwgaXNSZWFjdGl2ZSwgc2V0LCBnZXRDdXJyZW50U2NvcGUsIG9uU2NvcGVEaXNwb3NlLCBnZXRDdXJyZW50SW5zdGFuY2UsIHJlYWN0aXZlLCB0b1JlZiwgZGVsLCBuZXh0VGljaywgY29tcHV0ZWQsIHRvUmVmcyB9IGZyb20gJ3Z1ZS1kZW1pJztcbmltcG9ydCB7IHNldHVwRGV2dG9vbHNQbHVnaW4gfSBmcm9tICdAdnVlL2RldnRvb2xzLWFwaSc7XG5cbi8qKlxuICogc2V0QWN0aXZlUGluaWEgbXVzdCBiZSBjYWxsZWQgdG8gaGFuZGxlIFNTUiBhdCB0aGUgdG9wIG9mIGZ1bmN0aW9ucyBsaWtlXG4gKiBgZmV0Y2hgLCBgc2V0dXBgLCBgc2VydmVyUHJlZmV0Y2hgIGFuZCBvdGhlcnNcbiAqL1xubGV0IGFjdGl2ZVBpbmlhO1xuLyoqXG4gKiBTZXRzIG9yIHVuc2V0cyB0aGUgYWN0aXZlIHBpbmlhLiBVc2VkIGluIFNTUiBhbmQgaW50ZXJuYWxseSB3aGVuIGNhbGxpbmdcbiAqIGFjdGlvbnMgYW5kIGdldHRlcnNcbiAqXG4gKiBAcGFyYW0gcGluaWEgLSBQaW5pYSBpbnN0YW5jZVxuICovXG4vLyBAdHMtZXhwZWN0LWVycm9yOiBjYW5ub3QgY29uc3RyYWluIHRoZSB0eXBlIG9mIHRoZSByZXR1cm5cbmNvbnN0IHNldEFjdGl2ZVBpbmlhID0gKHBpbmlhKSA9PiAoYWN0aXZlUGluaWEgPSBwaW5pYSk7XG4vKipcbiAqIEdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBwaW5pYSBpZiB0aGVyZSBpcyBhbnkuXG4gKi9cbmNvbnN0IGdldEFjdGl2ZVBpbmlhID0gKCkgPT4gKGhhc0luamVjdGlvbkNvbnRleHQoKSAmJiBpbmplY3QocGluaWFTeW1ib2wpKSB8fCBhY3RpdmVQaW5pYTtcbmNvbnN0IHBpbmlhU3ltYm9sID0gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IFN5bWJvbCgncGluaWEnKSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpKTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5vKSB7XG4gICAgcmV0dXJuIChvICYmXG4gICAgICAgIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IE9iamVjdF0nICYmXG4gICAgICAgIHR5cGVvZiBvLnRvSlNPTiAhPT0gJ2Z1bmN0aW9uJyk7XG59XG4vLyB0eXBlIERlZXBSZWFkb25seTxUPiA9IHsgcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IERlZXBSZWFkb25seTxUW1BdPiB9XG4vLyBUT0RPOiBjYW4gd2UgY2hhbmdlIHRoZXNlIHRvIG51bWJlcnM/XG4vKipcbiAqIFBvc3NpYmxlIHR5cGVzIGZvciBTdWJzY3JpcHRpb25DYWxsYmFja1xuICovXG52YXIgTXV0YXRpb25UeXBlO1xuKGZ1bmN0aW9uIChNdXRhdGlvblR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBEaXJlY3QgbXV0YXRpb24gb2YgdGhlIHN0YXRlOlxuICAgICAqXG4gICAgICogLSBgc3RvcmUubmFtZSA9ICduZXcgbmFtZSdgXG4gICAgICogLSBgc3RvcmUuJHN0YXRlLm5hbWUgPSAnbmV3IG5hbWUnYFxuICAgICAqIC0gYHN0b3JlLmxpc3QucHVzaCgnbmV3IGl0ZW0nKWBcbiAgICAgKi9cbiAgICBNdXRhdGlvblR5cGVbXCJkaXJlY3RcIl0gPSBcImRpcmVjdFwiO1xuICAgIC8qKlxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogLSBgc3RvcmUuJHBhdGNoKHsgbmFtZTogJ25ld05hbWUnIH0pYFxuICAgICAqL1xuICAgIE11dGF0aW9uVHlwZVtcInBhdGNoT2JqZWN0XCJdID0gXCJwYXRjaCBvYmplY3RcIjtcbiAgICAvKipcbiAgICAgKiBNdXRhdGVkIHRoZSBzdGF0ZSB3aXRoIGAkcGF0Y2hgIGFuZCBhIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS4kcGF0Y2goc3RhdGUgPT4gc3RhdGUubmFtZSA9ICduZXdOYW1lJylgXG4gICAgICovXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hGdW5jdGlvblwiXSA9IFwicGF0Y2ggZnVuY3Rpb25cIjtcbiAgICAvLyBtYXliZSByZXNldD8gZm9yICRzdGF0ZSA9IHt9IGFuZCAkcmVzZXRcbn0pKE11dGF0aW9uVHlwZSB8fCAoTXV0YXRpb25UeXBlID0ge30pKTtcblxuY29uc3QgSVNfQ0xJRU5UID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4vKipcbiAqIFNob3VsZCB3ZSBhZGQgdGhlIGRldnRvb2xzIHBsdWdpbnMuXG4gKiAtIG9ubHkgaWYgZGV2IG1vZGUgb3IgZm9yY2VkIHRocm91Z2ggdGhlIHByb2QgZGV2dG9vbHMgZmxhZ1xuICogLSBub3QgaW4gdGVzdFxuICogLSBvbmx5IGlmIHdpbmRvdyBleGlzdHMgKGNvdWxkIGNoYW5nZSBpbiB0aGUgZnV0dXJlKVxuICovXG5jb25zdCBVU0VfREVWVE9PTFMgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICh0eXBlb2YgX19WVUVfUFJPRF9ERVZUT09MU19fICE9PSAndW5kZWZpbmVkJyAmJiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pKSAmJiAhKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpICYmIElTX0NMSUVOVDtcblxuLypcbiAqIEZpbGVTYXZlci5qcyBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBPcmlnaW5hbGx5IGJ5IEVsaSBHcmV5LCBhZGFwdGVkIGFzIGFuIEVTTSBtb2R1bGUgYnkgRWR1YXJkbyBTYW4gTWFydGluXG4gKiBNb3JvdGUuXG4gKlxuICogTGljZW5zZSA6IE1JVFxuICovXG4vLyBUaGUgb25lIGFuZCBvbmx5IHdheSBvZiBnZXR0aW5nIGdsb2JhbCBzY29wZSBpbiBhbGwgZW52aXJvbm1lbnRzXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3EvMzI3NzE4Mi8xMDA4OTk5XG5jb25zdCBfZ2xvYmFsID0gLyojX19QVVJFX18qLyAoKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LndpbmRvdyA9PT0gd2luZG93XG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmLnNlbGYgPT09IHNlbGZcbiAgICAgICAgPyBzZWxmXG4gICAgICAgIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgJiYgZ2xvYmFsLmdsb2JhbCA9PT0gZ2xvYmFsXG4gICAgICAgICAgICA/IGdsb2JhbFxuICAgICAgICAgICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICA/IGdsb2JhbFRoaXNcbiAgICAgICAgICAgICAgICA6IHsgSFRNTEVsZW1lbnQ6IG51bGwgfSkoKTtcbmZ1bmN0aW9uIGJvbShibG9iLCB7IGF1dG9Cb20gPSBmYWxzZSB9ID0ge30pIHtcbiAgICAvLyBwcmVwZW5kIEJPTSBmb3IgVVRGLTggWE1MIGFuZCB0ZXh0LyogdHlwZXMgKGluY2x1ZGluZyBIVE1MKVxuICAgIC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXG4gICAgaWYgKGF1dG9Cb20gJiZcbiAgICAgICAgL15cXHMqKD86dGV4dFxcL1xcUyp8YXBwbGljYXRpb25cXC94bWx8XFxTKlxcL1xcUypcXCt4bWwpXFxzKjsuKmNoYXJzZXRcXHMqPVxccyp1dGYtOC9pLnRlc3QoYmxvYi50eXBlKSkge1xuICAgICAgICByZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhmZWZmKSwgYmxvYl0sIHsgdHlwZTogYmxvYi50eXBlIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvYjtcbn1cbmZ1bmN0aW9uIGRvd25sb2FkKHVybCwgbmFtZSwgb3B0cykge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG4gICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2F2ZUFzKHhoci5yZXNwb25zZSwgbmFtZSwgb3B0cyk7XG4gICAgfTtcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignY291bGQgbm90IGRvd25sb2FkIGZpbGUnKTtcbiAgICB9O1xuICAgIHhoci5zZW5kKCk7XG59XG5mdW5jdGlvbiBjb3JzRW5hYmxlZCh1cmwpIHtcbiAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAvLyB1c2Ugc3luYyB0byBhdm9pZCBwb3B1cCBibG9ja2VyXG4gICAgeGhyLm9wZW4oJ0hFQUQnLCB1cmwsIGZhbHNlKTtcbiAgICB0cnkge1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgcmV0dXJuIHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPD0gMjk5O1xufVxuLy8gYGEuY2xpY2soKWAgZG9lc24ndCB3b3JrIGZvciBhbGwgYnJvd3NlcnMgKCM0NjUpXG5mdW5jdGlvbiBjbGljayhub2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XG4gICAgICAgIGV2dC5pbml0TW91c2VFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlLCB3aW5kb3csIDAsIDAsIDAsIDgwLCAyMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG59XG5jb25zdCBfbmF2aWdhdG9yID0gXG4gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgPyBuYXZpZ2F0b3IgOiB7IHVzZXJBZ2VudDogJycgfTtcbi8vIERldGVjdCBXZWJWaWV3IGluc2lkZSBhIG5hdGl2ZSBtYWNPUyBhcHAgYnkgcnVsaW5nIG91dCBhbGwgYnJvd3NlcnNcbi8vIFdlIGp1c3QgbmVlZCB0byBjaGVjayBmb3IgJ1NhZmFyaScgYmVjYXVzZSBhbGwgb3RoZXIgYnJvd3NlcnMgKGJlc2lkZXMgRmlyZWZveCkgaW5jbHVkZSB0aGF0IHRvb1xuLy8gaHR0cHM6Ly93d3cud2hhdGlzbXlicm93c2VyLmNvbS9ndWlkZXMvdGhlLWxhdGVzdC11c2VyLWFnZW50L21hY29zXG5jb25zdCBpc01hY09TV2ViVmlldyA9IC8qI19fUFVSRV9fKi8gKCgpID0+IC9NYWNpbnRvc2gvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgL0FwcGxlV2ViS2l0Ly50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICEvU2FmYXJpLy50ZXN0KF9uYXZpZ2F0b3IudXNlckFnZW50KSkoKTtcbmNvbnN0IHNhdmVBcyA9ICFJU19DTElFTlRcbiAgICA/ICgpID0+IHsgfSAvLyBub29wXG4gICAgOiAvLyBVc2UgZG93bmxvYWQgYXR0cmlidXRlIGZpcnN0IGlmIHBvc3NpYmxlICgjMTkzIEx1bWlhIG1vYmlsZSkgdW5sZXNzIHRoaXMgaXMgYSBtYWNPUyBXZWJWaWV3IG9yIG1pbmkgcHJvZ3JhbVxuICAgICAgICB0eXBlb2YgSFRNTEFuY2hvckVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAnZG93bmxvYWQnIGluIEhUTUxBbmNob3JFbGVtZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgIWlzTWFjT1NXZWJWaWV3XG4gICAgICAgICAgICA/IGRvd25sb2FkU2F2ZUFzXG4gICAgICAgICAgICA6IC8vIFVzZSBtc1NhdmVPck9wZW5CbG9iIGFzIGEgc2Vjb25kIGFwcHJvYWNoXG4gICAgICAgICAgICAgICAgJ21zU2F2ZU9yT3BlbkJsb2InIGluIF9uYXZpZ2F0b3JcbiAgICAgICAgICAgICAgICAgICAgPyBtc1NhdmVBc1xuICAgICAgICAgICAgICAgICAgICA6IC8vIEZhbGxiYWNrIHRvIHVzaW5nIEZpbGVSZWFkZXIgYW5kIGEgcG9wdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTYXZlclNhdmVBcztcbmZ1bmN0aW9uIGRvd25sb2FkU2F2ZUFzKGJsb2IsIG5hbWUgPSAnZG93bmxvYWQnLCBvcHRzKSB7XG4gICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBhLmRvd25sb2FkID0gbmFtZTtcbiAgICBhLnJlbCA9ICdub29wZW5lcic7IC8vIHRhYm5hYmJpbmdcbiAgICAvLyBUT0RPOiBkZXRlY3QgY2hyb21lIGV4dGVuc2lvbnMgJiBwYWNrYWdlZCBhcHBzXG4gICAgLy8gYS50YXJnZXQgPSAnX2JsYW5rJ1xuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gU3VwcG9ydCByZWd1bGFyIGxpbmtzXG4gICAgICAgIGEuaHJlZiA9IGJsb2I7XG4gICAgICAgIGlmIChhLm9yaWdpbiAhPT0gbG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICBpZiAoY29yc0VuYWJsZWQoYS5ocmVmKSkge1xuICAgICAgICAgICAgICAgIGRvd25sb2FkKGJsb2IsIG5hbWUsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTdXBwb3J0IGJsb2JzXG4gICAgICAgIGEuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpO1xuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbXNTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmIChjb3JzRW5hYmxlZChibG9iKSkge1xuICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGljayhhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBAdHMtaWdub3JlOiB3b3JrcyBvbiB3aW5kb3dzXG4gICAgICAgIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJvbShibG9iLCBvcHRzKSwgbmFtZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmlsZVNhdmVyU2F2ZUFzKGJsb2IsIG5hbWUsIG9wdHMsIHBvcHVwKSB7XG4gICAgLy8gT3BlbiBhIHBvcHVwIGltbWVkaWF0ZWx5IGRvIGdvIGFyb3VuZCBwb3B1cCBibG9ja2VyXG4gICAgLy8gTW9zdGx5IG9ubHkgYXZhaWxhYmxlIG9uIHVzZXIgaW50ZXJhY3Rpb24gYW5kIHRoZSBmaWxlUmVhZGVyIGlzIGFzeW5jIHNvLi4uXG4gICAgcG9wdXAgPSBwb3B1cCB8fCBvcGVuKCcnLCAnX2JsYW5rJyk7XG4gICAgaWYgKHBvcHVwKSB7XG4gICAgICAgIHBvcHVwLmRvY3VtZW50LnRpdGxlID0gcG9wdXAuZG9jdW1lbnQuYm9keS5pbm5lclRleHQgPSAnZG93bmxvYWRpbmcuLi4nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgY29uc3QgZm9yY2UgPSBibG9iLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIGNvbnN0IGlzU2FmYXJpID0gL2NvbnN0cnVjdG9yL2kudGVzdChTdHJpbmcoX2dsb2JhbC5IVE1MRWxlbWVudCkpIHx8ICdzYWZhcmknIGluIF9nbG9iYWw7XG4gICAgY29uc3QgaXNDaHJvbWVJT1MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKChpc0Nocm9tZUlPUyB8fCAoZm9yY2UgJiYgaXNTYWZhcmkpIHx8IGlzTWFjT1NXZWJWaWV3KSAmJlxuICAgICAgICB0eXBlb2YgRmlsZVJlYWRlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3QgYWxsb3cgZG93bmxvYWRpbmcgb2YgYmxvYiBVUkxzXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgdXJsID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHBvcHVwID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dyb25nIHJlYWRlci5yZXN1bHQgdHlwZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsID0gaXNDaHJvbWVJT1NcbiAgICAgICAgICAgICAgICA/IHVybFxuICAgICAgICAgICAgICAgIDogdXJsLnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcbiAgICAgICAgICAgIGlmIChwb3B1cCkge1xuICAgICAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcHVwID0gbnVsbDsgLy8gcmV2ZXJzZS10YWJuYWJiaW5nICM0NjBcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICBpZiAocG9wdXApXG4gICAgICAgICAgICBwb3B1cC5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfSwgNGU0KTsgLy8gNDBzXG4gICAgfVxufVxuXG4vKipcbiAqIFNob3dzIGEgdG9hc3Qgb3IgY29uc29sZS5sb2dcbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSAtIG1lc3NhZ2UgdG8gbG9nXG4gKiBAcGFyYW0gdHlwZSAtIGRpZmZlcmVudCBjb2xvciBvZiB0aGUgdG9vbHRpcFxuICovXG5mdW5jdGlvbiB0b2FzdE1lc3NhZ2UobWVzc2FnZSwgdHlwZSkge1xuICAgIGNvbnN0IHBpbmlhTWVzc2FnZSA9ICfwn42NICcgKyBtZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgX19WVUVfREVWVE9PTFNfVE9BU1RfXyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBObyBsb25nZXIgYXZhaWxhYmxlIDooXG4gICAgICAgIF9fVlVFX0RFVlRPT0xTX1RPQVNUX18ocGluaWFNZXNzYWdlLCB0eXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICd3YXJuJykge1xuICAgICAgICBjb25zb2xlLndhcm4ocGluaWFNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBpbmlhTWVzc2FnZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQaW5pYShvKSB7XG4gICAgcmV0dXJuICdfYScgaW4gbyAmJiAnaW5zdGFsbCcgaW4gbztcbn1cblxuLyoqXG4gKiBUaGlzIGZpbGUgY29udGFpbiBkZXZ0b29scyBhY3Rpb25zLCB0aGV5IGFyZSBub3QgUGluaWEgYWN0aW9ucy5cbiAqL1xuLy8gLS0tXG5mdW5jdGlvbiBjaGVja0NsaXBib2FyZEFjY2VzcygpIHtcbiAgICBpZiAoISgnY2xpcGJvYXJkJyBpbiBuYXZpZ2F0b3IpKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZShgWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgQ2xpcGJvYXJkIEFQSWAsICdlcnJvcicpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnZG9jdW1lbnQgaXMgbm90IGZvY3VzZWQnKSkge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoJ1lvdSBuZWVkIHRvIGFjdGl2YXRlIHRoZSBcIkVtdWxhdGUgYSBmb2N1c2VkIHBhZ2VcIiBzZXR0aW5nIGluIHRoZSBcIlJlbmRlcmluZ1wiIHBhbmVsIG9mIGRldnRvb2xzLicsICd3YXJuJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpIHtcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KEpTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIGNvcGllZCB0byBjbGlwYm9hcmQuJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoY2hlY2tOb3RGb2N1c2VkRXJyb3IoZXJyb3IpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBzZXJpYWxpemUgdGhlIHN0YXRlLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlKHBpbmlhKSB7XG4gICAgaWYgKGNoZWNrQ2xpcGJvYXJkQWNjZXNzKCkpXG4gICAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgICBsb2FkU3RvcmVzU3RhdGUocGluaWEsIEpTT04ucGFyc2UoYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpKSk7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnR2xvYmFsIHN0YXRlIHBhc3RlZCBmcm9tIGNsaXBib2FyZC4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGRlc2VyaWFsaXplIHRoZSBzdGF0ZSBmcm9tIGNsaXBib2FyZC4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgc2F2ZUFzKG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShwaW5pYS5zdGF0ZS52YWx1ZSldLCB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04JyxcbiAgICAgICAgfSksICdwaW5pYS1zdGF0ZS5qc29uJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBleHBvcnQgdGhlIHN0YXRlIGFzIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmxldCBmaWxlSW5wdXQ7XG5mdW5jdGlvbiBnZXRGaWxlT3BlbmVyKCkge1xuICAgIGlmICghZmlsZUlucHV0KSB7XG4gICAgICAgIGZpbGVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGZpbGVJbnB1dC50eXBlID0gJ2ZpbGUnO1xuICAgICAgICBmaWxlSW5wdXQuYWNjZXB0ID0gJy5qc29uJztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbkZpbGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBmaWxlSW5wdXQuZmlsZXM7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzLml0ZW0oMCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmaWxlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7IHRleHQ6IGF3YWl0IGZpbGUudGV4dCgpLCBmaWxlIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IFRPRE86IGNoYW5nZWQgZnJvbSA0LjMgdG8gNC40XG4gICAgICAgICAgICBmaWxlSW5wdXQub25jYW5jZWwgPSAoKSA9PiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgZmlsZUlucHV0Lm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICBmaWxlSW5wdXQuY2xpY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBvcGVuRmlsZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUocGluaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBvcGVuID0gZ2V0RmlsZU9wZW5lcigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVuKCk7XG4gICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHRleHQsIGZpbGUgfSA9IHJlc3VsdDtcbiAgICAgICAgbG9hZFN0b3Jlc1N0YXRlKHBpbmlhLCBKU09OLnBhcnNlKHRleHQpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBHbG9iYWwgc3RhdGUgaW1wb3J0ZWQgZnJvbSBcIiR7ZmlsZS5uYW1lfVwiLmApO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gaW1wb3J0IHRoZSBzdGF0ZSBmcm9tIEpTT04uIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvYWRTdG9yZXNTdGF0ZShwaW5pYSwgc3RhdGUpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzdGF0ZSkge1xuICAgICAgICBjb25zdCBzdG9yZVN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVba2V5XTtcbiAgICAgICAgLy8gc3RvcmUgaXMgYWxyZWFkeSBpbnN0YW50aWF0ZWQsIHBhdGNoIGl0XG4gICAgICAgIGlmIChzdG9yZVN0YXRlKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0b3JlU3RhdGUsIHN0YXRlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gc3RvcmUgaXMgbm90IGluc3RhbnRpYXRlZCwgc2V0IHRoZSBpbml0aWFsIHN0YXRlXG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtrZXldID0gc3RhdGVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuY29uc3QgUElOSUFfUk9PVF9MQUJFTCA9ICfwn42NIFBpbmlhIChyb290KSc7XG5jb25zdCBQSU5JQV9ST09UX0lEID0gJ19yb290JztcbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShzdG9yZSkge1xuICAgIHJldHVybiBpc1BpbmlhKHN0b3JlKVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGlkOiBQSU5JQV9ST09UX0lELFxuICAgICAgICAgICAgbGFiZWw6IFBJTklBX1JPT1RfTEFCRUwsXG4gICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBpZDogc3RvcmUuJGlkLFxuICAgICAgICAgICAgbGFiZWw6IHN0b3JlLiRpZCxcbiAgICAgICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoc3RvcmUpIHtcbiAgICBpZiAoaXNQaW5pYShzdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVOYW1lcyA9IEFycmF5LmZyb20oc3RvcmUuX3Mua2V5cygpKTtcbiAgICAgICAgY29uc3Qgc3RvcmVNYXAgPSBzdG9yZS5fcztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0ZTogc3RvcmVOYW1lcy5tYXAoKHN0b3JlSWQpID0+ICh7XG4gICAgICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAga2V5OiBzdG9yZUlkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5zdGF0ZS52YWx1ZVtzdG9yZUlkXSxcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGdldHRlcnM6IHN0b3JlTmFtZXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChpZCkgPT4gc3RvcmVNYXAuZ2V0KGlkKS5fZ2V0dGVycylcbiAgICAgICAgICAgICAgICAubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gc3RvcmVNYXAuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGtleTogaWQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0ge1xuICAgICAgICBzdGF0ZTogT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlLiRzdGF0ZVtrZXldLFxuICAgICAgICB9KSksXG4gICAgfTtcbiAgICAvLyBhdm9pZCBhZGRpbmcgZW1wdHkgZ2V0dGVyc1xuICAgIGlmIChzdG9yZS5fZ2V0dGVycyAmJiBzdG9yZS5fZ2V0dGVycy5sZW5ndGgpIHtcbiAgICAgICAgc3RhdGUuZ2V0dGVycyA9IHN0b3JlLl9nZXR0ZXJzLm1hcCgoZ2V0dGVyTmFtZSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogZ2V0dGVyTmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtnZXR0ZXJOYW1lXSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpZiAoc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuc2l6ZSkge1xuICAgICAgICBzdGF0ZS5jdXN0b21Qcm9wZXJ0aWVzID0gQXJyYXkuZnJvbShzdG9yZS5fY3VzdG9tUHJvcGVydGllcykubWFwKChrZXkpID0+ICh7XG4gICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHZhbHVlOiBzdG9yZVtrZXldLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdEV2ZW50RGF0YShldmVudHMpIHtcbiAgICBpZiAoIWV2ZW50cylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgLy8gVE9ETzogaGFuZGxlIGFkZCBhbmQgZGVsZXRlIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgICAgICAgcmV0dXJuIGV2ZW50cy5yZWR1Y2UoKGRhdGEsIGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBkYXRhLmtleXMucHVzaChldmVudC5rZXkpO1xuICAgICAgICAgICAgZGF0YS5vcGVyYXRpb25zLnB1c2goZXZlbnQudHlwZSk7XG4gICAgICAgICAgICBkYXRhLm9sZFZhbHVlW2V2ZW50LmtleV0gPSBldmVudC5vbGRWYWx1ZTtcbiAgICAgICAgICAgIGRhdGEubmV3VmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm5ld1ZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG9sZFZhbHVlOiB7fSxcbiAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgb3BlcmF0aW9uczogW10sXG4gICAgICAgICAgICBuZXdWYWx1ZToge30sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogZm9ybWF0RGlzcGxheShldmVudHMudHlwZSksXG4gICAgICAgICAgICBrZXk6IGZvcm1hdERpc3BsYXkoZXZlbnRzLmtleSksXG4gICAgICAgICAgICBvbGRWYWx1ZTogZXZlbnRzLm9sZFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWU6IGV2ZW50cy5uZXdWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBmb3JtYXRNdXRhdGlvblR5cGUodHlwZSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5kaXJlY3Q6XG4gICAgICAgICAgICByZXR1cm4gJ211dGF0aW9uJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbjpcbiAgICAgICAgICAgIHJldHVybiAnJHBhdGNoJztcbiAgICAgICAgY2FzZSBNdXRhdGlvblR5cGUucGF0Y2hPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gJyRwYXRjaCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xuICAgIH1cbn1cblxuLy8gdGltZWxpbmUgY2FuIGJlIHBhdXNlZCB3aGVuIGRpcmVjdGx5IGNoYW5naW5nIHRoZSBzdGF0ZVxubGV0IGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuY29uc3QgY29tcG9uZW50U3RhdGVUeXBlcyA9IFtdO1xuY29uc3QgTVVUQVRJT05TX0xBWUVSX0lEID0gJ3BpbmlhOm11dGF0aW9ucyc7XG5jb25zdCBJTlNQRUNUT1JfSUQgPSAncGluaWEnO1xuY29uc3QgeyBhc3NpZ246IGFzc2lnbiQxIH0gPSBPYmplY3Q7XG4vKipcbiAqIEdldHMgdGhlIGRpc3BsYXllZCBuYW1lIG9mIGEgc3RvcmUgaW4gZGV2dG9vbHNcbiAqXG4gKiBAcGFyYW0gaWQgLSBpZCBvZiB0aGUgc3RvcmVcbiAqIEByZXR1cm5zIGEgZm9ybWF0dGVkIHN0cmluZ1xuICovXG5jb25zdCBnZXRTdG9yZVR5cGUgPSAoaWQpID0+ICfwn42NICcgKyBpZDtcbi8qKlxuICogQWRkIHRoZSBwaW5pYSBwbHVnaW4gd2l0aG91dCBhbnkgc3RvcmUuIEFsbG93cyBkaXNwbGF5aW5nIGEgUGluaWEgcGx1Z2luIHRhYlxuICogYXMgc29vbiBhcyBpdCBpcyBhZGRlZCB0byB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHBhcmFtIGFwcCAtIFZ1ZSBhcHBsaWNhdGlvblxuICogQHBhcmFtIHBpbmlhIC0gcGluaWEgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpIHtcbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLFxuICAgICAgICBhcHAsXG4gICAgfSwgKGFwaSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFwaS5ub3cgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUxheWVyKHtcbiAgICAgICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICBsYWJlbDogYFBpbmlhIPCfjY1gLFxuICAgICAgICAgICAgY29sb3I6IDB4ZTVkZjg4LFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLmFkZEluc3BlY3Rvcih7XG4gICAgICAgICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgICAgIGljb246ICdzdG9yYWdlJyxcbiAgICAgICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogJ1NlYXJjaCBzdG9yZXMnLFxuICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2NvbnRlbnRfY29weScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsQ29weVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NlcmlhbGl6ZSBhbmQgY29weSB0aGUgc3RhdGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9wYXN0ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYWN0aW9uR2xvYmFsUGFzdGVTdGF0ZShwaW5pYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1JlcGxhY2UgdGhlIHN0YXRlIHdpdGggdGhlIGNvbnRlbnQgb2YgeW91ciBjbGlwYm9hcmQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnc2F2ZScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uR2xvYmFsU2F2ZVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1NhdmUgdGhlIHN0YXRlIGFzIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZvbGRlcl9vcGVuJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxPcGVuU3RhdGVGaWxlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnSW1wb3J0IHRoZSBzdGF0ZSBmcm9tIGEgSlNPTiBmaWxlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5vZGVBY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgKHdpdGggXCIkcmVzZXRcIiknLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IChub2RlSWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KG5vZGVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IHdhc24ndCBmb3VuZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHN0b3JlLiRyZXNldCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgQ2Fubm90IHJlc2V0IFwiJHtub2RlSWR9XCIgc3RvcmUgYmVjYXVzZSBpdCBkb2Vzbid0IGhhdmUgYSBcIiRyZXNldFwiIG1ldGhvZCBpbXBsZW1lbnRlZC5gLCAnd2FybicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuJHJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBTdG9yZSBcIiR7bm9kZUlkfVwiIHJlc2V0LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmluc3BlY3RDb21wb25lbnQoKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJveHkgPSAocGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIHBheWxvYWQuY29tcG9uZW50SW5zdGFuY2UucHJveHkpO1xuICAgICAgICAgICAgaWYgKHByb3h5ICYmIHByb3h5Ll9wU3RvcmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWFTdG9yZXMgPSBwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlLnByb3h5Ll9wU3RvcmVzO1xuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMocGluaWFTdG9yZXMpLmZvckVhY2goKHN0b3JlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5faXNPcHRpb25zQVBJXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1JhdyhzdG9yZS4kc3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3Jlc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUmVzZXQgdGhlIHN0YXRlIG9mIHRoaXMgc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICgpID0+IHN0b3JlLiRyZXNldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IC8vIE5PVEU6IHdvcmthcm91bmQgdG8gdW53cmFwIHRyYW5zZmVycmVkIHJlZnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuJHN0YXRlKS5yZWR1Y2UoKHN0YXRlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlW2tleV0gPSBzdG9yZS4kc3RhdGVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge30pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnZ2V0dGVycycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZS5fZ2V0dGVycy5yZWR1Y2UoKGdldHRlcnMsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0dGVyc1trZXldID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHdlIGp1c3Qgd2FudCB0byBzaG93IGl0IGluIGRldnRvb2xzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGxldCBzdG9yZXMgPSBbcGluaWFdO1xuICAgICAgICAgICAgICAgIHN0b3JlcyA9IHN0b3Jlcy5jb25jYXQoQXJyYXkuZnJvbShwaW5pYS5fcy52YWx1ZXMoKSkpO1xuICAgICAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gKHBheWxvYWQuZmlsdGVyXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVzLmZpbHRlcigoc3RvcmUpID0+ICckaWQnIGluIHN0b3JlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHN0b3JlLiRpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluY2x1ZGVzKHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBJTklBX1JPT1RfTEFCRUwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXlsb2FkLmZpbHRlci50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdG9yZXMpLm1hcChmb3JtYXRTdG9yZUZvckluc3BlY3RvclRyZWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSBJTlNQRUNUT1JfSUQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRTdG9yZSA9IHBheWxvYWQubm9kZUlkID09PSBQSU5JQV9ST09UX0lEXG4gICAgICAgICAgICAgICAgICAgID8gcGluaWFcbiAgICAgICAgICAgICAgICAgICAgOiBwaW5pYS5fcy5nZXQocGF5bG9hZC5ub2RlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb3VsZCBiZSB0aGUgc2VsZWN0ZWQgc3RvcmUgcmVzdG9yZWQgZm9yIGEgZGlmZmVyZW50IHByb2plY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gaXQncyBiZXR0ZXIgbm90IHRvIHNheSBhbnl0aGluZyBoZXJlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSBmb3JtYXRTdG9yZUZvckluc3BlY3RvclN0YXRlKGluc3BlY3RlZFN0b3JlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uZWRpdEluc3BlY3RvclN0YXRlKChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxuICAgICAgICAgICAgICAgICAgICA6IHBpbmlhLl9zLmdldChwYXlsb2FkLm5vZGVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBzdG9yZSBcIiR7cGF5bG9hZC5ub2RlSWR9XCIgbm90IGZvdW5kYCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcbiAgICAgICAgICAgICAgICBpZiAoIWlzUGluaWEoaW5zcGVjdGVkU3RvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VzcyBvbmx5IHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDEgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFpbnNwZWN0ZWRTdG9yZS5fY3VzdG9tUHJvcGVydGllcy5oYXMocGF0aFswXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhbMF0gaW4gaW5zcGVjdGVkU3RvcmUuJHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJyRzdGF0ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBSb290IGFjY2Vzcywgd2UgY2FuIG9taXQgdGhlIGAudmFsdWVgIGJlY2F1c2UgdGhlIGRldnRvb2xzIEFQSSBkb2VzIGl0IGZvciB1c1xuICAgICAgICAgICAgICAgICAgICBwYXRoLnVuc2hpZnQoJ3N0YXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnNldChpbnNwZWN0ZWRTdG9yZSwgcGF0aCwgcGF5bG9hZC5zdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uZWRpdENvbXBvbmVudFN0YXRlKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC50eXBlLnN0YXJ0c1dpdGgoJ/CfjY0nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlSWQgPSBwYXlsb2FkLnR5cGUucmVwbGFjZSgvXvCfjY1cXHMqLywgJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KHN0b3JlSWQpO1xuICAgICAgICAgICAgICAgIGlmICghc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0TWVzc2FnZShgc3RvcmUgXCIke3N0b3JlSWR9XCIgbm90IGZvdW5kYCwgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcGF5bG9hZDtcbiAgICAgICAgICAgICAgICBpZiAocGF0aFswXSAhPT0gJ3N0YXRlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBJbnZhbGlkIHBhdGggZm9yIHN0b3JlIFwiJHtzdG9yZUlkfVwiOlxcbiR7cGF0aH1cXG5Pbmx5IHN0YXRlIGNhbiBiZSBtb2RpZmllZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmV3cml0ZSB0aGUgZmlyc3QgZW50cnkgdG8gYmUgYWJsZSB0byBkaXJlY3RseSBzZXQgdGhlIHN0YXRlIGFzXG4gICAgICAgICAgICAgICAgLy8gd2VsbCBhcyBhbnkgb3RoZXIgcGF0aFxuICAgICAgICAgICAgICAgIHBhdGhbMF0gPSAnJHN0YXRlJztcbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIHN0b3JlKSB7XG4gICAgaWYgKCFjb21wb25lbnRTdGF0ZVR5cGVzLmluY2x1ZGVzKGdldFN0b3JlVHlwZShzdG9yZS4kaWQpKSkge1xuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLnB1c2goZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpO1xuICAgIH1cbiAgICBzZXR1cERldnRvb2xzUGx1Z2luKHtcbiAgICAgICAgaWQ6ICdkZXYuZXNtLnBpbmlhJyxcbiAgICAgICAgbGFiZWw6ICdQaW5pYSDwn42NJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcGluaWEudnVlanMub3JnL2xvZ28uc3ZnJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICdwaW5pYScsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcnLFxuICAgICAgICBjb21wb25lbnRTdGF0ZVR5cGVzLFxuICAgICAgICBhcHAsXG4gICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICBsb2dTdG9yZUNoYW5nZXM6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ05vdGlmeSBhYm91dCBuZXcvZGVsZXRlZCBzdG9yZXMnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gdXNlRW1vamlzOiB7XG4gICAgICAgICAgICAvLyAgIGxhYmVsOiAnVXNlIGVtb2ppcyBpbiBtZXNzYWdlcyDimqHvuI8nLFxuICAgICAgICAgICAgLy8gICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAvLyAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgIH0sXG4gICAgfSwgKGFwaSkgPT4ge1xuICAgICAgICAvLyBncmFjZWZ1bGx5IGhhbmRsZSBlcnJvcnNcbiAgICAgICAgY29uc3Qgbm93ID0gdHlwZW9mIGFwaS5ub3cgPT09ICdmdW5jdGlvbicgPyBhcGkubm93LmJpbmQoYXBpKSA6IERhdGUubm93O1xuICAgICAgICBzdG9yZS4kb25BY3Rpb24oKHsgYWZ0ZXIsIG9uRXJyb3IsIG5hbWUsIGFyZ3MgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBJZCA9IHJ1bm5pbmdBY3Rpb25JZCsrO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5urICcgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogZm9ybWF0RGlzcGxheShuYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWZ0ZXIoKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5usICcgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9uRXJyb3IoKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dUeXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5KlICcgKyBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgc3RvcmUuX2N1c3RvbVByb3BlcnRpZXMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgd2F0Y2goKCkgPT4gdW5yZWYoc3RvcmVbbmFtZV0pLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNUaW1lbGluZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHsgZGVlcDogdHJ1ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0b3JlLiRzdWJzY3JpYmUoKHsgZXZlbnRzLCB0eXBlIH0sIHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICBpZiAoIWlzVGltZWxpbmVBY3RpdmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gcm9vdFN0b3JlLnN0YXRlW3N0b3JlLmlkXSA9IHN0YXRlXG4gICAgICAgICAgICBjb25zdCBldmVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgdGl0bGU6IGZvcm1hdE11dGF0aW9uVHlwZSh0eXBlKSxcbiAgICAgICAgICAgICAgICBkYXRhOiBhc3NpZ24kMSh7IHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCkgfSwgZm9ybWF0RXZlbnREYXRhKGV2ZW50cykpLFxuICAgICAgICAgICAgICAgIGdyb3VwSWQ6IGFjdGl2ZUFjdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSAn4qS177iPJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9ICfwn6epJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50cyAmJiAhQXJyYXkuaXNBcnJheShldmVudHMpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gZXZlbnRzLnR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLmRhdGFbJ3Jhd0V2ZW50KHMpJ10gPSB7XG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdEZWJ1Z2dlckV2ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ3JhdyBEZWJ1Z2dlckV2ZW50W10nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnREYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHsgZGV0YWNoZWQ6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XG4gICAgICAgIGNvbnN0IGhvdFVwZGF0ZSA9IHN0b3JlLl9ob3RVcGRhdGU7XG4gICAgICAgIHN0b3JlLl9ob3RVcGRhdGUgPSBtYXJrUmF3KChuZXdTdG9yZSkgPT4ge1xuICAgICAgICAgICAgaG90VXBkYXRlKG5ld1N0b3JlKTtcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+UpSAnICsgc3RvcmUuJGlkLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0hNUiB1cGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5mbzogZm9ybWF0RGlzcGxheShgSE1SIHVwZGF0ZWApLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZGV2dG9vbHMgdG9vXG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHsgJGRpc3Bvc2UgfSA9IHN0b3JlO1xuICAgICAgICBzdG9yZS4kZGlzcG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgICRkaXNwb3NlKCk7XG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxuICAgICAgICAgICAgICAgIHRvYXN0TWVzc2FnZShgRGlzcG9zZWQgXCIke3N0b3JlLiRpZH1cIiBzdG9yZSDwn5eRYCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIHRyaWdnZXIgYW4gdXBkYXRlIHNvIGl0IGNhbiBkaXNwbGF5IG5ldyByZWdpc3RlcmVkIHN0b3Jlc1xuICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgIGFwaS5nZXRTZXR0aW5ncygpLmxvZ1N0b3JlQ2hhbmdlcyAmJlxuICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIGluc3RhbGxlZCDwn4aVYCk7XG4gICAgfSk7XG59XG5sZXQgcnVubmluZ0FjdGlvbklkID0gMDtcbmxldCBhY3RpdmVBY3Rpb247XG4vKipcbiAqIFBhdGNoZXMgYSBzdG9yZSB0byBlbmFibGUgYWN0aW9uIGdyb3VwaW5nIGluIGRldnRvb2xzIGJ5IHdyYXBwaW5nIHRoZSBzdG9yZSB3aXRoIGEgUHJveHkgdGhhdCBpcyBwYXNzZWQgYXMgdGhlXG4gKiBjb250ZXh0IG9mIGFsbCBhY3Rpb25zLCBhbGxvd2luZyB1cyB0byBzZXQgYHJ1bm5pbmdBY3Rpb25gIG9uIGVhY2ggYWNjZXNzIGFuZCBlZmZlY3RpdmVseSBhc3NvY2lhdGluZyBhbnkgc3RhdGVcbiAqIG11dGF0aW9uIHRvIHRoZSBhY3Rpb24uXG4gKlxuICogQHBhcmFtIHN0b3JlIC0gc3RvcmUgdG8gcGF0Y2hcbiAqIEBwYXJhbSBhY3Rpb25OYW1lcyAtIGxpc3Qgb2YgYWN0aW9uc3QgdG8gcGF0Y2hcbiAqL1xuZnVuY3Rpb24gcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgYWN0aW9uTmFtZXMsIHdyYXBXaXRoUHJveHkpIHtcbiAgICAvLyBvcmlnaW5hbCBhY3Rpb25zIG9mIHRoZSBzdG9yZSBhcyB0aGV5IGFyZSBnaXZlbiBieSBwaW5pYS4gV2UgYXJlIGdvaW5nIHRvIG92ZXJyaWRlIHRoZW1cbiAgICBjb25zdCBhY3Rpb25zID0gYWN0aW9uTmFtZXMucmVkdWNlKChzdG9yZUFjdGlvbnMsIGFjdGlvbk5hbWUpID0+IHtcbiAgICAgICAgLy8gdXNlIHRvUmF3IHRvIGF2b2lkIHRyYWNraW5nICM1NDFcbiAgICAgICAgc3RvcmVBY3Rpb25zW2FjdGlvbk5hbWVdID0gdG9SYXcoc3RvcmUpW2FjdGlvbk5hbWVdO1xuICAgICAgICByZXR1cm4gc3RvcmVBY3Rpb25zO1xuICAgIH0sIHt9KTtcbiAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgaW4gYWN0aW9ucykge1xuICAgICAgICBzdG9yZVthY3Rpb25OYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIHRoZSBydW5uaW5nIGFjdGlvbiBpZCBpcyBpbmNyZW1lbnRlZCBpbiBhIGJlZm9yZSBhY3Rpb24gaG9va1xuICAgICAgICAgICAgY29uc3QgX2FjdGlvbklkID0gcnVubmluZ0FjdGlvbklkO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tlZFN0b3JlID0gd3JhcFdpdGhQcm94eVxuICAgICAgICAgICAgICAgID8gbmV3IFByb3h5KHN0b3JlLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSBfYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldCguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSBfYWN0aW9uSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5zZXQoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICA6IHN0b3JlO1xuICAgICAgICAgICAgLy8gRm9yIFNldHVwIFN0b3JlcyB3ZSBuZWVkIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFzeW5jLWNvbnRleHRcbiAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcbiAgICAgICAgICAgIGNvbnN0IHJldFZhbHVlID0gYWN0aW9uc1thY3Rpb25OYW1lXS5hcHBseSh0cmFja2VkU3RvcmUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHNhZmVyIGFzIGFzeW5jIGFjdGlvbnMgaW4gU2V0dXAgU3RvcmVzIHdvdWxkIGFzc29jaWF0ZSBtdXRhdGlvbnMgZG9uZSBvdXRzaWRlIG9mIHRoZSBhY3Rpb25cbiAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiByZXRWYWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIHBpbmlhLnVzZShkZXZ0b29sc1BsdWdpbilcbiAqL1xuZnVuY3Rpb24gZGV2dG9vbHNQbHVnaW4oeyBhcHAsIHN0b3JlLCBvcHRpb25zIH0pIHtcbiAgICAvLyBITVIgbW9kdWxlXG4gICAgaWYgKHN0b3JlLiRpZC5zdGFydHNXaXRoKCdfX2hvdDonKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGRldGVjdCBvcHRpb24gYXBpIHZzIHNldHVwIGFwaVxuICAgIHN0b3JlLl9pc09wdGlvbnNBUEkgPSAhIW9wdGlvbnMuc3RhdGU7XG4gICAgcGF0Y2hBY3Rpb25Gb3JHcm91cGluZyhzdG9yZSwgT2JqZWN0LmtleXMob3B0aW9ucy5hY3Rpb25zKSwgc3RvcmUuX2lzT3B0aW9uc0FQSSk7XG4gICAgLy8gVXBncmFkZSB0aGUgSE1SIHRvIGFsc28gdXBkYXRlIHRoZSBuZXcgYWN0aW9uc1xuICAgIGNvbnN0IG9yaWdpbmFsSG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcbiAgICB0b1JhdyhzdG9yZSkuX2hvdFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXdTdG9yZSkge1xuICAgICAgICBvcmlnaW5hbEhvdFVwZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBwYXRjaEFjdGlvbkZvckdyb3VwaW5nKHN0b3JlLCBPYmplY3Qua2V5cyhuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSwgISFzdG9yZS5faXNPcHRpb25zQVBJKTtcbiAgICB9O1xuICAgIGFkZFN0b3JlVG9EZXZ0b29scyhhcHAsIFxuICAgIC8vIEZJWE1FOiBpcyB0aGVyZSBhIHdheSB0byBhbGxvdyB0aGUgYXNzaWdubWVudCBmcm9tIFN0b3JlPElkLCBTLCBHLCBBPiB0byBTdG9yZUdlbmVyaWM/XG4gICAgc3RvcmUpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBQaW5pYSBpbnN0YW5jZSB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvblxuICovXG5mdW5jdGlvbiBjcmVhdGVQaW5pYSgpIHtcbiAgICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xuICAgIC8vIE5PVEU6IGhlcmUgd2UgY291bGQgY2hlY2sgdGhlIHdpbmRvdyBvYmplY3QgZm9yIGEgc3RhdGUgYW5kIGRpcmVjdGx5IHNldCBpdFxuICAgIC8vIGlmIHRoZXJlIGlzIGFueXRoaW5nIGxpa2UgaXQgd2l0aCBWdWUgMyBTU1JcbiAgICBjb25zdCBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiByZWYoe30pKTtcbiAgICBsZXQgX3AgPSBbXTtcbiAgICAvLyBwbHVnaW5zIGFkZGVkIGJlZm9yZSBjYWxsaW5nIGFwcC51c2UocGluaWEpXG4gICAgbGV0IHRvQmVJbnN0YWxsZWQgPSBbXTtcbiAgICBjb25zdCBwaW5pYSA9IG1hcmtSYXcoe1xuICAgICAgICBpbnN0YWxsKGFwcCkge1xuICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgIGlmICghaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgcGluaWEuX2EgPSBhcHA7XG4gICAgICAgICAgICAgICAgYXBwLnByb3ZpZGUocGluaWFTeW1ib2wsIHBpbmlhKTtcbiAgICAgICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWE7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhhcHAsIHBpbmlhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZC5mb3JFYWNoKChwbHVnaW4pID0+IF9wLnB1c2gocGx1Z2luKSk7XG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZCA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB1c2UocGx1Z2luKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2EgJiYgIWlzVnVlMikge1xuICAgICAgICAgICAgICAgIHRvQmVJbnN0YWxsZWQucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3AucHVzaChwbHVnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIF9wLFxuICAgICAgICAvLyBpdCdzIGFjdHVhbGx5IHVuZGVmaW5lZCBoZXJlXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgX2E6IG51bGwsXG4gICAgICAgIF9lOiBzY29wZSxcbiAgICAgICAgX3M6IG5ldyBNYXAoKSxcbiAgICAgICAgc3RhdGUsXG4gICAgfSk7XG4gICAgLy8gcGluaWEgZGV2dG9vbHMgcmVseSBvbiBkZXYgb25seSBmZWF0dXJlcyBzbyB0aGV5IGNhbm5vdCBiZSBmb3JjZWQgdW5sZXNzXG4gICAgLy8gdGhlIGRldiBidWlsZCBvZiBWdWUgaXMgdXNlZC4gQXZvaWQgb2xkIGJyb3dzZXJzIGxpa2UgSUUxMS5cbiAgICBpZiAoVVNFX0RFVlRPT0xTICYmIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcGluaWEudXNlKGRldnRvb2xzUGx1Z2luKTtcbiAgICB9XG4gICAgcmV0dXJuIHBpbmlhO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGZ1bmN0aW9uIGlzIGEgYFN0b3JlRGVmaW5pdGlvbmAuXG4gKlxuICogQHBhcmFtIGZuIC0gb2JqZWN0IHRvIHRlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgYGZuYCBpcyBhIFN0b3JlRGVmaW5pdGlvblxuICovXG5jb25zdCBpc1VzZVN0b3JlID0gKGZuKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZm4uJGlkID09PSAnc3RyaW5nJztcbn07XG4vKipcbiAqIE11dGF0ZXMgaW4gcGxhY2UgYG5ld1N0YXRlYCB3aXRoIGBvbGRTdGF0ZWAgdG8gX2hvdCB1cGRhdGVfIGl0LiBJdCB3aWxsXG4gKiByZW1vdmUgYW55IGtleSBub3QgZXhpc3RpbmcgaW4gYG5ld1N0YXRlYCBhbmQgcmVjdXJzaXZlbHkgbWVyZ2UgcGxhaW5cbiAqIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIG5ld1N0YXRlIC0gbmV3IHN0YXRlIG9iamVjdCB0byBiZSBwYXRjaGVkXG4gKiBAcGFyYW0gb2xkU3RhdGUgLSBvbGQgc3RhdGUgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBwYXRjaCBuZXdTdGF0ZVxuICogQHJldHVybnMgLSBuZXdTdGF0ZVxuICovXG5mdW5jdGlvbiBwYXRjaE9iamVjdChuZXdTdGF0ZSwgb2xkU3RhdGUpIHtcbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkU3RhdGUpIHtcbiAgICAgICAgY29uc3Qgc3ViUGF0Y2ggPSBvbGRTdGF0ZVtrZXldO1xuICAgICAgICAvLyBza2lwIHRoZSB3aG9sZSBzdWIgdHJlZVxuICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RhdGUpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXRWYWx1ZSA9IG5ld1N0YXRlW2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFZhbHVlKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgICFpc1JlZihzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgICFpc1JlYWN0aXZlKHN1YlBhdGNoKSkge1xuICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHBhdGNoT2JqZWN0KHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvYmplY3RzIGFyZSBlaXRoZXIgYSBiaXQgbW9yZSBjb21wbGV4IChlLmcuIHJlZnMpIG9yIHByaW1pdGl2ZXMsIHNvIHdlXG4gICAgICAgICAgICAvLyBqdXN0IHNldCB0aGUgd2hvbGUgdGhpbmdcbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBzZXQobmV3U3RhdGUsIGtleSwgc3ViUGF0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHN1YlBhdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdTdGF0ZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBfYWNjZXB0XyBmdW5jdGlvbiB0byBwYXNzIHRvIGBpbXBvcnQubWV0YS5ob3RgIGluIFZpdGUgYXBwbGljYXRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogY29uc3QgdXNlVXNlciA9IGRlZmluZVN0b3JlKC4uLilcbiAqIGlmIChpbXBvcnQubWV0YS5ob3QpIHtcbiAqICAgaW1wb3J0Lm1ldGEuaG90LmFjY2VwdChhY2NlcHRITVJVcGRhdGUodXNlVXNlciwgaW1wb3J0Lm1ldGEuaG90KSlcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBpbml0aWFsVXNlU3RvcmUgLSByZXR1cm4gb2YgdGhlIGRlZmluZVN0b3JlIHRvIGhvdCB1cGRhdGVcbiAqIEBwYXJhbSBob3QgLSBgaW1wb3J0Lm1ldGEuaG90YFxuICovXG5mdW5jdGlvbiBhY2NlcHRITVJVcGRhdGUoaW5pdGlhbFVzZVN0b3JlLCBob3QpIHtcbiAgICAvLyBzdHJpcCBhcyBtdWNoIGFzIHBvc3NpYmxlIGZyb20gaWlmZS5wcm9kXG4gICAgaWYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcbiAgICB9XG4gICAgcmV0dXJuIChuZXdNb2R1bGUpID0+IHtcbiAgICAgICAgY29uc3QgcGluaWEgPSBob3QuZGF0YS5waW5pYSB8fCBpbml0aWFsVXNlU3RvcmUuX3BpbmlhO1xuICAgICAgICBpZiAoIXBpbmlhKSB7XG4gICAgICAgICAgICAvLyB0aGlzIHN0b3JlIGlzIHN0aWxsIG5vdCB1c2VkXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcHJlc2VydmUgdGhlIHBpbmlhIGluc3RhbmNlIGFjcm9zcyBsb2Fkc1xuICAgICAgICBob3QuZGF0YS5waW5pYSA9IHBpbmlhO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ290IGRhdGEnLCBuZXdTdG9yZSlcbiAgICAgICAgZm9yIChjb25zdCBleHBvcnROYW1lIGluIG5ld01vZHVsZSkge1xuICAgICAgICAgICAgY29uc3QgdXNlU3RvcmUgPSBuZXdNb2R1bGVbZXhwb3J0TmFtZV07XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hlY2tpbmcgZm9yJywgZXhwb3J0TmFtZSlcbiAgICAgICAgICAgIGlmIChpc1VzZVN0b3JlKHVzZVN0b3JlKSAmJiBwaW5pYS5fcy5oYXModXNlU3RvcmUuJGlkKSkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdBY2NlcHRpbmcgdXBkYXRlIGZvcicsIHVzZVN0b3JlLiRpZClcbiAgICAgICAgICAgICAgICBjb25zdCBpZCA9IHVzZVN0b3JlLiRpZDtcbiAgICAgICAgICAgICAgICBpZiAoaWQgIT09IGluaXRpYWxVc2VTdG9yZS4kaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUaGUgaWQgb2YgdGhlIHN0b3JlIGNoYW5nZWQgZnJvbSBcIiR7aW5pdGlhbFVzZVN0b3JlLiRpZH1cIiB0byBcIiR7aWR9XCIuIFJlbG9hZGluZy5gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGltcG9ydC5tZXRhLmhvdC5pbnZhbGlkYXRlKClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhvdC5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RpbmdTdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1BpbmlhXTogc2tpcHBpbmcgaG1yIGJlY2F1c2Ugc3RvcmUgZG9lc24ndCBleGlzdCB5ZXRgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1c2VTdG9yZShwaW5pYSwgZXhpc3RpbmdTdG9yZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5jb25zdCBub29wID0gKCkgPT4geyB9O1xuZnVuY3Rpb24gYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbnMsIGNhbGxiYWNrLCBkZXRhY2hlZCwgb25DbGVhbnVwID0gbm9vcCkge1xuICAgIHN1YnNjcmlwdGlvbnMucHVzaChjYWxsYmFjayk7XG4gICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpZHggPSBzdWJzY3JpcHRpb25zLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICBpZiAoaWR4ID4gLTEpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICBvbkNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFkZXRhY2hlZCAmJiBnZXRDdXJyZW50U2NvcGUoKSkge1xuICAgICAgICBvblNjb3BlRGlzcG9zZShyZW1vdmVTdWJzY3JpcHRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xufVxuZnVuY3Rpb24gdHJpZ2dlclN1YnNjcmlwdGlvbnMoc3Vic2NyaXB0aW9ucywgLi4uYXJncykge1xuICAgIHN1YnNjcmlwdGlvbnMuc2xpY2UoKS5mb3JFYWNoKChjYWxsYmFjaykgPT4ge1xuICAgICAgICBjYWxsYmFjayguLi5hcmdzKTtcbiAgICB9KTtcbn1cblxuY29uc3QgZmFsbGJhY2tSdW5XaXRoQ29udGV4dCA9IChmbikgPT4gZm4oKTtcbmZ1bmN0aW9uIG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldCwgcGF0Y2hUb0FwcGx5KSB7XG4gICAgLy8gSGFuZGxlIE1hcCBpbnN0YW5jZXNcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTWFwICYmIHBhdGNoVG9BcHBseSBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICBwYXRjaFRvQXBwbHkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4gdGFyZ2V0LnNldChrZXksIHZhbHVlKSk7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBTZXQgaW5zdGFuY2VzXG4gICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFNldCAmJiBwYXRjaFRvQXBwbHkgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICAgICAgcGF0Y2hUb0FwcGx5LmZvckVhY2godGFyZ2V0LmFkZCwgdGFyZ2V0KTtcbiAgICB9XG4gICAgLy8gbm8gbmVlZCB0byBnbyB0aHJvdWdoIHN5bWJvbHMgYmVjYXVzZSB0aGV5IGNhbm5vdCBiZSBzZXJpYWxpemVkIGFueXdheVxuICAgIGZvciAoY29uc3Qga2V5IGluIHBhdGNoVG9BcHBseSkge1xuICAgICAgICBpZiAoIXBhdGNoVG9BcHBseS5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IHN1YlBhdGNoID0gcGF0Y2hUb0FwcGx5W2tleV07XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KHRhcmdldFZhbHVlKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdChzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgIHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAhaXNSZWYoc3ViUGF0Y2gpICYmXG4gICAgICAgICAgICAhaXNSZWFjdGl2ZShzdWJQYXRjaCkpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGhlcmUgSSB3YW50ZWQgdG8gd2FybiBhYm91dCBpbmNvbnNpc3RlbnQgdHlwZXMgYnV0IGl0J3Mgbm90IHBvc3NpYmxlIGJlY2F1c2UgaW4gc2V0dXAgc3RvcmVzIG9uZSBtaWdodFxuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgYXMgYSBjZXJ0YWluIHR5cGUgZS5nLiBhIE1hcCwgYW5kIHRoZW4gZm9yIHNvbWUgcmVhc29uLCBkdXJpbmcgU1NSLCBjaGFuZ2UgdGhhdFxuICAgICAgICAgICAgLy8gdG8gYHVuZGVmaW5lZGAuIFdoZW4gdHJ5aW5nIHRvIGh5ZHJhdGUsIHdlIHdhbnQgdG8gb3ZlcnJpZGUgdGhlIE1hcCB3aXRoIGB1bmRlZmluZWRgLlxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBtZXJnZVJlYWN0aXZlT2JqZWN0cyh0YXJnZXRWYWx1ZSwgc3ViUGF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogc3ViUGF0Y2ggaXMgYSB2YWxpZCB2YWx1ZVxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzdWJQYXRjaDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuY29uc3Qgc2tpcEh5ZHJhdGVTeW1ib2wgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICA/IFN5bWJvbCgncGluaWE6c2tpcEh5ZHJhdGlvbicpXG4gICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBTeW1ib2woKTtcbmNvbnN0IHNraXBIeWRyYXRlTWFwID0gLyojX19QVVJFX18qLyBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBUZWxscyBQaW5pYSB0byBza2lwIHRoZSBoeWRyYXRpb24gcHJvY2VzcyBvZiBhIGdpdmVuIG9iamVjdC4gVGhpcyBpcyB1c2VmdWwgaW4gc2V0dXAgc3RvcmVzIChvbmx5KSB3aGVuIHlvdSByZXR1cm4gYVxuICogc3RhdGVmdWwgb2JqZWN0IGluIHRoZSBzdG9yZSBidXQgaXQgaXNuJ3QgcmVhbGx5IHN0YXRlLiBlLmcuIHJldHVybmluZyBhIHJvdXRlciBpbnN0YW5jZSBpbiBhIHNldHVwIHN0b3JlLlxuICpcbiAqIEBwYXJhbSBvYmogLSB0YXJnZXQgb2JqZWN0XG4gKiBAcmV0dXJucyBvYmpcbiAqL1xuZnVuY3Rpb24gc2tpcEh5ZHJhdGUob2JqKSB7XG4gICAgcmV0dXJuIGlzVnVlMlxuICAgICAgICA/IC8vIGluIEB2dWUvY29tcG9zaXRpb24tYXBpLCB0aGUgcmVmcyBhcmUgc2VhbGVkIHNvIGRlZmluZVByb3BlcnR5IGRvZXNuJ3Qgd29yay4uLlxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gc2tpcEh5ZHJhdGVNYXAuc2V0KG9iaiwgMSkgJiYgb2JqXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc2tpcEh5ZHJhdGVTeW1ib2wsIHt9KTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGEgdmFsdWUgc2hvdWxkIGJlIGh5ZHJhdGVkXG4gKlxuICogQHBhcmFtIG9iaiAtIHRhcmdldCB2YXJpYWJsZVxuICogQHJldHVybnMgdHJ1ZSBpZiBgb2JqYCBzaG91bGQgYmUgaHlkcmF0ZWRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZShvYmopIHtcbiAgICByZXR1cm4gaXNWdWUyXG4gICAgICAgID8gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gIXNraXBIeWRyYXRlTWFwLmhhcyhvYmopXG4gICAgICAgIDogIWlzUGxhaW5PYmplY3Qob2JqKSB8fCAhb2JqLmhhc093blByb3BlcnR5KHNraXBIeWRyYXRlU3ltYm9sKTtcbn1cbmNvbnN0IHsgYXNzaWduIH0gPSBPYmplY3Q7XG5mdW5jdGlvbiBpc0NvbXB1dGVkKG8pIHtcbiAgICByZXR1cm4gISEoaXNSZWYobykgJiYgby5lZmZlY3QpO1xufVxuZnVuY3Rpb24gY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSwgaG90KSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgYWN0aW9ucywgZ2V0dGVycyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVtpZF07XG4gICAgbGV0IHN0b3JlO1xuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICAgICBpZiAoIWluaXRpYWxTdGF0ZSAmJiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhaG90KSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgc2V0KHBpbmlhLnN0YXRlLnZhbHVlLCBpZCwgc3RhdGUgPyBzdGF0ZSgpIDoge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGluaWEuc3RhdGUudmFsdWVbaWRdID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXZvaWQgY3JlYXRpbmcgYSBzdGF0ZSBpbiBwaW5pYS5zdGF0ZS52YWx1ZVxuICAgICAgICBjb25zdCBsb2NhbFN0YXRlID0gKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdFxuICAgICAgICAgICAgPyAvLyB1c2UgcmVmKCkgdG8gdW53cmFwIHJlZnMgaW5zaWRlIHN0YXRlIFRPRE86IGNoZWNrIGlmIHRoaXMgaXMgc3RpbGwgbmVjZXNzYXJ5XG4gICAgICAgICAgICAgICAgdG9SZWZzKHJlZihzdGF0ZSA/IHN0YXRlKCkgOiB7fSkudmFsdWUpXG4gICAgICAgICAgICA6IHRvUmVmcyhwaW5pYS5zdGF0ZS52YWx1ZVtpZF0pO1xuICAgICAgICByZXR1cm4gYXNzaWduKGxvY2FsU3RhdGUsIGFjdGlvbnMsIE9iamVjdC5rZXlzKGdldHRlcnMgfHwge30pLnJlZHVjZSgoY29tcHV0ZWRHZXR0ZXJzLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5hbWUgaW4gbG9jYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBBIGdldHRlciBjYW5ub3QgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgc3RhdGUgcHJvcGVydHkuIFJlbmFtZSBvbmUgb2YgdGhlbS4gRm91bmQgd2l0aCBcIiR7bmFtZX1cIiBpbiBzdG9yZSBcIiR7aWR9XCIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wdXRlZEdldHRlcnNbbmFtZV0gPSBtYXJrUmF3KGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgICAgICAgICAgLy8gaXQgd2FzIGNyZWF0ZWQganVzdCBiZWZvcmVcbiAgICAgICAgICAgICAgICBjb25zdCBzdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgICAgICAgICAgLy8gYWxsb3cgY3Jvc3MgdXNpbmcgc3RvcmVzXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXNWdWUyICYmICFzdG9yZS5fcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gZ2V0dGVycyFbbmFtZV0uY2FsbChjb250ZXh0LCBjb250ZXh0KVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGF2b2lkIHJlYWRpbmcgdGhlIGdldHRlciB3aGlsZSBhc3NpZ25pbmcgd2l0aCBhIGdsb2JhbCB2YXJpYWJsZVxuICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzW25hbWVdLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBjb21wdXRlZEdldHRlcnM7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgfVxuICAgIHN0b3JlID0gY3JlYXRlU2V0dXBTdG9yZShpZCwgc2V0dXAsIG9wdGlvbnMsIHBpbmlhLCBob3QsIHRydWUpO1xuICAgIHJldHVybiBzdG9yZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwU3RvcmUoJGlkLCBzZXR1cCwgb3B0aW9ucyA9IHt9LCBwaW5pYSwgaG90LCBpc09wdGlvbnNTdG9yZSkge1xuICAgIGxldCBzY29wZTtcbiAgICBjb25zdCBvcHRpb25zRm9yUGx1Z2luID0gYXNzaWduKHsgYWN0aW9uczoge30gfSwgb3B0aW9ucyk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcGluaWEuX2UuYWN0aXZlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGluaWEgZGVzdHJveWVkJyk7XG4gICAgfVxuICAgIC8vIHdhdGNoZXIgb3B0aW9ucyBmb3IgJHN1YnNjcmliZVxuICAgIGNvbnN0ICRzdWJzY3JpYmVPcHRpb25zID0ge1xuICAgICAgICBkZWVwOiB0cnVlLFxuICAgICAgICAvLyBmbHVzaDogJ3Bvc3QnLFxuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFpc1Z1ZTIpIHtcbiAgICAgICAgJHN1YnNjcmliZU9wdGlvbnMub25UcmlnZ2VyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBldmVudDtcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB0cmlnZ2VyaW5nIHRoaXMgd2hpbGUgdGhlIHN0b3JlIGlzIGJlaW5nIGJ1aWx0IGFuZCB0aGUgc3RhdGUgaXMgYmVpbmcgc2V0IGluIHBpbmlhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0xpc3RlbmluZyA9PSBmYWxzZSAmJiAhc3RvcmUuX2hvdFVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHBhdGNoIHNlbmQgYWxsIHRoZSBldmVudHMgdG9nZXRoZXIgbGF0ZXJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRlYnVnZ2VyRXZlbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfjY0gZGVidWdnZXJFdmVudHMgc2hvdWxkIGJlIGFuIGFycmF5LiBUaGlzIGlzIG1vc3QgbGlrZWx5IGFuIGludGVybmFsIFBpbmlhIGJ1Zy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGludGVybmFsIHN0YXRlXG4gICAgbGV0IGlzTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXG4gICAgbGV0IGlzU3luY0xpc3RlbmluZzsgLy8gc2V0IHRvIHRydWUgYXQgdGhlIGVuZFxuICAgIGxldCBzdWJzY3JpcHRpb25zID0gW107XG4gICAgbGV0IGFjdGlvblN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICBsZXQgZGVidWdnZXJFdmVudHM7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gcGluaWEuc3RhdGUudmFsdWVbJGlkXTtcbiAgICAvLyBhdm9pZCBzZXR0aW5nIHRoZSBzdGF0ZSBmb3Igb3B0aW9uIHN0b3JlcyBpZiBpdCBpcyBzZXRcbiAgICAvLyBieSB0aGUgc2V0dXBcbiAgICBpZiAoIWlzT3B0aW9uc1N0b3JlICYmICFpbml0aWFsU3RhdGUgJiYgKCEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIWhvdCkpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgIHNldChwaW5pYS5zdGF0ZS52YWx1ZSwgJGlkLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0ge307XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaG90U3RhdGUgPSByZWYoe30pO1xuICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdG9vIG1hbnkgbGlzdGVuZXJzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy8xMTI5XG4gICAgbGV0IGFjdGl2ZUxpc3RlbmVyO1xuICAgIGZ1bmN0aW9uICRwYXRjaChwYXJ0aWFsU3RhdGVPck11dGF0b3IpIHtcbiAgICAgICAgbGV0IHN1YnNjcmlwdGlvbk11dGF0aW9uO1xuICAgICAgICBpc0xpc3RlbmluZyA9IGlzU3luY0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAvLyByZXNldCB0aGUgZGVidWdnZXIgZXZlbnRzIHNpbmNlIHBhdGNoZXMgYXJlIHN5bmNcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgZGVidWdnZXJFdmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhcnRpYWxTdGF0ZU9yTXV0YXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGFydGlhbFN0YXRlT3JNdXRhdG9yKHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uTXV0YXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocGluaWEuc3RhdGUudmFsdWVbJGlkXSwgcGFydGlhbFN0YXRlT3JNdXRhdG9yKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbk11dGF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXJ0aWFsU3RhdGVPck11dGF0b3IsXG4gICAgICAgICAgICAgICAgc3RvcmVJZDogJGlkLFxuICAgICAgICAgICAgICAgIGV2ZW50czogZGVidWdnZXJFdmVudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG15TGlzdGVuZXJJZCA9IChhY3RpdmVMaXN0ZW5lciA9IFN5bWJvbCgpKTtcbiAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVMaXN0ZW5lciA9PT0gbXlMaXN0ZW5lcklkKSB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgLy8gYmVjYXVzZSB3ZSBwYXVzZWQgdGhlIHdhdGNoZXIsIHdlIG5lZWQgdG8gbWFudWFsbHkgY2FsbCB0aGUgc3Vic2NyaXB0aW9uc1xuICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCBzdWJzY3JpcHRpb25NdXRhdGlvbiwgcGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XG4gICAgfVxuICAgIGNvbnN0ICRyZXNldCA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgID8gZnVuY3Rpb24gJHJlc2V0KCkge1xuICAgICAgICAgICAgY29uc3QgeyBzdGF0ZSB9ID0gb3B0aW9ucztcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUgPyBzdGF0ZSgpIDoge307XG4gICAgICAgICAgICAvLyB3ZSB1c2UgYSBwYXRjaCB0byBncm91cCBhbGwgY2hhbmdlcyBpbnRvIG9uZSBzaW5nbGUgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgICB0aGlzLiRwYXRjaCgoJHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgbmV3U3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg8J+NjTogU3RvcmUgXCIkeyRpZH1cIiBpcyBidWlsdCB1c2luZyB0aGUgc2V0dXAgc3ludGF4IGFuZCBkb2VzIG5vdCBpbXBsZW1lbnQgJHJlc2V0KCkuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogbm9vcDtcbiAgICBmdW5jdGlvbiAkZGlzcG9zZSgpIHtcbiAgICAgICAgc2NvcGUuc3RvcCgpO1xuICAgICAgICBzdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIGFjdGlvblN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgcGluaWEuX3MuZGVsZXRlKCRpZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXBzIGFuIGFjdGlvbiB0byBoYW5kbGUgc3Vic2NyaXB0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lIC0gbmFtZSBvZiB0aGUgYWN0aW9uXG4gICAgICogQHBhcmFtIGFjdGlvbiAtIGFjdGlvbiB0byB3cmFwXG4gICAgICogQHJldHVybnMgYSB3cmFwcGVkIGFjdGlvbiB0byBoYW5kbGUgc3Vic2NyaXB0aW9uc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBBY3Rpb24obmFtZSwgYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpO1xuICAgICAgICAgICAgY29uc3QgYWZ0ZXJDYWxsYmFja0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IG9uRXJyb3JDYWxsYmFja0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFmdGVyKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja0xpc3QucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgb25FcnJvckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFjdGlvblN1YnNjcmlwdGlvbnMsIHtcbiAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICAgICAgYWZ0ZXIsXG4gICAgICAgICAgICAgICAgb25FcnJvcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHJldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0ID0gYWN0aW9uLmFwcGx5KHRoaXMgJiYgdGhpcy4kaWQgPT09ICRpZCA/IHRoaXMgOiBzdG9yZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIHN5bmMgZXJyb3JzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhvbkVycm9yQ2FsbGJhY2tMaXN0LCBlcnJvcik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXRcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFmdGVyQ2FsbGJhY2tMaXN0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRyaWdnZXIgYWZ0ZXIgY2FsbGJhY2tzXG4gICAgICAgICAgICB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhhZnRlckNhbGxiYWNrTGlzdCwgcmV0KTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IF9obXJQYXlsb2FkID0gLyojX19QVVJFX18qLyBtYXJrUmF3KHtcbiAgICAgICAgYWN0aW9uczoge30sXG4gICAgICAgIGdldHRlcnM6IHt9LFxuICAgICAgICBzdGF0ZTogW10sXG4gICAgICAgIGhvdFN0YXRlLFxuICAgIH0pO1xuICAgIGNvbnN0IHBhcnRpYWxTdG9yZSA9IHtcbiAgICAgICAgX3A6IHBpbmlhLFxuICAgICAgICAvLyBfczogc2NvcGUsXG4gICAgICAgICRpZCxcbiAgICAgICAgJG9uQWN0aW9uOiBhZGRTdWJzY3JpcHRpb24uYmluZChudWxsLCBhY3Rpb25TdWJzY3JpcHRpb25zKSxcbiAgICAgICAgJHBhdGNoLFxuICAgICAgICAkcmVzZXQsXG4gICAgICAgICRzdWJzY3JpYmUoY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlU3Vic2NyaXB0aW9uID0gYWRkU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbnMsIGNhbGxiYWNrLCBvcHRpb25zLmRldGFjaGVkLCAoKSA9PiBzdG9wV2F0Y2hlcigpKTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3BXYXRjaGVyID0gc2NvcGUucnVuKCgpID0+IHdhdGNoKCgpID0+IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmZsdXNoID09PSAnc3luYycgPyBpc1N5bmNMaXN0ZW5pbmcgOiBpc0xpc3RlbmluZykge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBNdXRhdGlvblR5cGUuZGlyZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgfSwgc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGFzc2lnbih7fSwgJHN1YnNjcmliZU9wdGlvbnMsIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlU3Vic2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICAkZGlzcG9zZSxcbiAgICB9O1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgLy8gc3RhcnQgYXMgbm9uIHJlYWR5XG4gICAgICAgIHBhcnRpYWxTdG9yZS5fciA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBzdG9yZSA9IHJlYWN0aXZlKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBVU0VfREVWVE9PTFNcbiAgICAgICAgPyBhc3NpZ24oe1xuICAgICAgICAgICAgX2htclBheWxvYWQsXG4gICAgICAgICAgICBfY3VzdG9tUHJvcGVydGllczogbWFya1JhdyhuZXcgU2V0KCkpLCAvLyBkZXZ0b29scyBjdXN0b20gcHJvcGVydGllc1xuICAgICAgICB9LCBwYXJ0aWFsU3RvcmVcbiAgICAgICAgLy8gbXVzdCBiZSBhZGRlZCBsYXRlclxuICAgICAgICAvLyBzZXR1cFN0b3JlXG4gICAgICAgIClcbiAgICAgICAgOiBwYXJ0aWFsU3RvcmUpO1xuICAgIC8vIHN0b3JlIHRoZSBwYXJ0aWFsIHN0b3JlIG5vdyBzbyB0aGUgc2V0dXAgb2Ygc3RvcmVzIGNhbiBpbnN0YW50aWF0ZSBlYWNoIG90aGVyIGJlZm9yZSB0aGV5IGFyZSBmaW5pc2hlZCB3aXRob3V0XG4gICAgLy8gY3JlYXRpbmcgaW5maW5pdGUgbG9vcHMuXG4gICAgcGluaWEuX3Muc2V0KCRpZCwgc3RvcmUpO1xuICAgIGNvbnN0IHJ1bldpdGhDb250ZXh0ID0gKHBpbmlhLl9hICYmIHBpbmlhLl9hLnJ1bldpdGhDb250ZXh0KSB8fCBmYWxsYmFja1J1bldpdGhDb250ZXh0O1xuICAgIC8vIFRPRE86IGlkZWEgY3JlYXRlIHNraXBTZXJpYWxpemUgdGhhdCBtYXJrcyBwcm9wZXJ0aWVzIGFzIG5vbiBzZXJpYWxpemFibGUgYW5kIHRoZXkgYXJlIHNraXBwZWRcbiAgICBjb25zdCBzZXR1cFN0b3JlID0gcnVuV2l0aENvbnRleHQoKCkgPT4gcGluaWEuX2UucnVuKCgpID0+IChzY29wZSA9IGVmZmVjdFNjb3BlKCkpLnJ1bihzZXR1cCkpKTtcbiAgICAvLyBvdmVyd3JpdGUgZXhpc3RpbmcgYWN0aW9ucyB0byBzdXBwb3J0ICRvbkFjdGlvblxuICAgIGZvciAoY29uc3Qga2V5IGluIHNldHVwU3RvcmUpIHtcbiAgICAgICAgY29uc3QgcHJvcCA9IHNldHVwU3RvcmVba2V5XTtcbiAgICAgICAgaWYgKChpc1JlZihwcm9wKSAmJiAhaXNDb21wdXRlZChwcm9wKSkgfHwgaXNSZWFjdGl2ZShwcm9wKSkge1xuICAgICAgICAgICAgLy8gbWFyayBpdCBhcyBhIHBpZWNlIG9mIHN0YXRlIHRvIGJlIHNlcmlhbGl6ZWRcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90KSB7XG4gICAgICAgICAgICAgICAgc2V0KGhvdFN0YXRlLnZhbHVlLCBrZXksIHRvUmVmKHNldHVwU3RvcmUsIGtleSkpO1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZU9wdGlvblN0b3JlIGRpcmVjdGx5IHNldHMgdGhlIHN0YXRlIGluIHBpbmlhLnN0YXRlLnZhbHVlIHNvIHdlXG4gICAgICAgICAgICAgICAgLy8gY2FuIGp1c3Qgc2tpcCB0aGF0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghaXNPcHRpb25zU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAvLyBpbiBzZXR1cCBzdG9yZXMgd2UgbXVzdCBoeWRyYXRlIHRoZSBzdGF0ZSBhbmQgc3luYyBwaW5pYSBzdGF0ZSB0cmVlIHdpdGggdGhlIHJlZnMgdGhlIHVzZXIganVzdCBjcmVhdGVkXG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxTdGF0ZSAmJiBzaG91bGRIeWRyYXRlKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1JlZihwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC52YWx1ZSA9IGluaXRpYWxTdGF0ZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvYmFibHkgYSByZWFjdGl2ZSBvYmplY3QsIGxldHMgcmVjdXJzaXZlbHkgYXNzaWduXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBwcm9wIGlzIHVua25vd25cbiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlUmVhY3RpdmVPYmplY3RzKHByb3AsIGluaXRpYWxTdGF0ZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmIHRvIHRoZSBwaW5pYSBzdGF0ZSB0byBrZWVwIGV2ZXJ5dGhpbmcgaW4gc3luY1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0KHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0sIGtleSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdW2tleV0gPSBwcm9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuc3RhdGUucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWN0aW9uXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHByb3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHdlIGFyZSBvdmVycmlkaW5nIHRoZSBmdW5jdGlvbiB3ZSBhdm9pZCB3cmFwcGluZyBpZlxuICAgICAgICAgICAgY29uc3QgYWN0aW9uVmFsdWUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gcHJvcCA6IHdyYXBBY3Rpb24oa2V5LCBwcm9wKTtcbiAgICAgICAgICAgIC8vIHRoaXMgYSBob3QgbW9kdWxlIHJlcGxhY2VtZW50IHN0b3JlIGJlY2F1c2UgdGhlIGhvdFVwZGF0ZSBtZXRob2QgbmVlZHNcbiAgICAgICAgICAgIC8vIHRvIGRvIGl0IHdpdGggdGhlIHJpZ2h0IGNvbnRleHRcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKGlzVnVlMikge1xuICAgICAgICAgICAgICAgIHNldChzZXR1cFN0b3JlLCBrZXksIGFjdGlvblZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICBzZXR1cFN0b3JlW2tleV0gPSBhY3Rpb25WYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgX2htclBheWxvYWQuYWN0aW9uc1trZXldID0gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxpc3QgYWN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIGluIHBsdWdpbnNcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIG9wdGlvbnNGb3JQbHVnaW4uYWN0aW9uc1trZXldID0gcHJvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIC8vIGFkZCBnZXR0ZXJzIGZvciBkZXZ0b29sc1xuICAgICAgICAgICAgaWYgKGlzQ29tcHV0ZWQocHJvcCkpIHtcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5nZXR0ZXJzW2tleV0gPSBpc09wdGlvbnNTdG9yZVxuICAgICAgICAgICAgICAgICAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZ2V0dGVyc1trZXldXG4gICAgICAgICAgICAgICAgICAgIDogcHJvcDtcbiAgICAgICAgICAgICAgICBpZiAoSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlcnMgPSBzZXR1cFN0b3JlLl9nZXR0ZXJzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2V0dXBTdG9yZS5fZ2V0dGVycyA9IG1hcmtSYXcoW10pKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0dGVycy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCB0aGUgc3RhdGUsIGdldHRlcnMsIGFuZCBhY3Rpb24gcHJvcGVydGllc1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc2V0dXBTdG9yZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBzZXQoc3RvcmUsIGtleSwgc2V0dXBTdG9yZVtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhc3NpZ24oc3RvcmUsIHNldHVwU3RvcmUpO1xuICAgICAgICAvLyBhbGxvd3MgcmV0cmlldmluZyByZWFjdGl2ZSBvYmplY3RzIHdpdGggYHN0b3JlVG9SZWZzKClgLiBNdXN0IGJlIGNhbGxlZCBhZnRlciBhc3NpZ25pbmcgdG8gdGhlIHJlYWN0aXZlIG9iamVjdC5cbiAgICAgICAgLy8gTWFrZSBgc3RvcmVUb1JlZnMoKWAgd29yayB3aXRoIGByZWFjdGl2ZSgpYCAjNzk5XG4gICAgICAgIGFzc2lnbih0b1JhdyhzdG9yZSksIHNldHVwU3RvcmUpO1xuICAgIH1cbiAgICAvLyB1c2UgdGhpcyBpbnN0ZWFkIG9mIGEgY29tcHV0ZWQgd2l0aCBzZXR0ZXIgdG8gYmUgYWJsZSB0byBjcmVhdGUgaXQgYW55d2hlcmVcbiAgICAvLyB3aXRob3V0IGxpbmtpbmcgdGhlIGNvbXB1dGVkIGxpZmVzcGFuIHRvIHdoZXJldmVyIHRoZSBzdG9yZSBpcyBmaXJzdFxuICAgIC8vIGNyZWF0ZWQuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCAnJHN0YXRlJywge1xuICAgICAgICBnZXQ6ICgpID0+ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90ID8gaG90U3RhdGUudmFsdWUgOiBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdKSxcbiAgICAgICAgc2V0OiAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Nhbm5vdCBzZXQgaG90U3RhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRwYXRjaCgoJHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgYXNzaWduKCRzdGF0ZSwgc3RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gYWRkIHRoZSBob3RVcGRhdGUgYmVmb3JlIHBsdWdpbnMgdG8gYWxsb3cgdGhlbSB0byBvdmVycmlkZSBpdFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBzdG9yZS5faG90VXBkYXRlID0gbWFya1JhdygobmV3U3RvcmUpID0+IHtcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICBuZXdTdG9yZS5faG1yUGF5bG9hZC5zdGF0ZS5mb3JFYWNoKChzdGF0ZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUtleSBpbiBzdG9yZS4kc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGVUYXJnZXQgPSBuZXdTdG9yZS4kc3RhdGVbc3RhdGVLZXldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRTdGF0ZVNvdXJjZSA9IHN0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U3RhdGVUYXJnZXQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KG5ld1N0YXRlVGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChvbGRTdGF0ZVNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoT2JqZWN0KG5ld1N0YXRlVGFyZ2V0LCBvbGRTdGF0ZVNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2ZlciB0aGUgcmVmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdG9yZS4kc3RhdGVbc3RhdGVLZXldID0gb2xkU3RhdGVTb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcGF0Y2ggZGlyZWN0IGFjY2VzcyBwcm9wZXJ0aWVzIHRvIGFsbG93IHN0b3JlLnN0YXRlUHJvcGVydHkgdG8gd29yayBhc1xuICAgICAgICAgICAgICAgIC8vIHN0b3JlLiRzdGF0ZS5zdGF0ZVByb3BlcnR5XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBzdGF0ZUtleSwgdG9SZWYobmV3U3RvcmUuJHN0YXRlLCBzdGF0ZUtleSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBzdGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoc3RhdGVLZXkgaW4gbmV3U3RvcmUuJHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWwoc3RvcmUsIHN0YXRlS2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGF2b2lkIGRldnRvb2xzIGxvZ2dpbmcgdGhpcyBhcyBhIG11dGF0aW9uXG4gICAgICAgICAgICBpc0xpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdID0gdG9SZWYobmV3U3RvcmUuX2htclBheWxvYWQsICdob3RTdGF0ZScpO1xuICAgICAgICAgICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG5leHRUaWNrKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbk5hbWUgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IG5ld1N0b3JlW2FjdGlvbk5hbWVdO1xuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgYWN0aW9uTmFtZSwgd3JhcEFjdGlvbihhY3Rpb25OYW1lLCBhY3Rpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRPRE86IGRvZXMgdGhpcyB3b3JrIGluIGJvdGggc2V0dXAgYW5kIG9wdGlvbiBzdG9yZT9cbiAgICAgICAgICAgIGZvciAoY29uc3QgZ2V0dGVyTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVyID0gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVyc1tnZXR0ZXJOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXJWYWx1ZSA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgID8gLy8gc3BlY2lhbCBoYW5kbGluZyBvZiBvcHRpb25zIGFwaVxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dGVyLmNhbGwoc3RvcmUsIHN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0dGVyO1xuICAgICAgICAgICAgICAgIHNldChzdG9yZSwgZ2V0dGVyTmFtZSwgZ2V0dGVyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmVtb3ZlIGRlbGV0ZWQgZ2V0dGVyc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBvbGQgYWN0aW9uc1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwga2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdmFsdWVzIHVzZWQgaW4gZGV2dG9vbHMgYW5kIHRvIGFsbG93IGRlbGV0aW5nIG5ldyBwcm9wZXJ0aWVzIGxhdGVyIG9uXG4gICAgICAgICAgICBzdG9yZS5faG1yUGF5bG9hZCA9IG5ld1N0b3JlLl9obXJQYXlsb2FkO1xuICAgICAgICAgICAgc3RvcmUuX2dldHRlcnMgPSBuZXdTdG9yZS5fZ2V0dGVycztcbiAgICAgICAgICAgIHN0b3JlLl9ob3RVcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKFVTRV9ERVZUT09MUykge1xuICAgICAgICBjb25zdCBub25FbnVtZXJhYmxlID0ge1xuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5nIG9uIGRldnRvb2xzIHRyeWluZyB0byBkaXNwbGF5IHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9O1xuICAgICAgICBbJ19wJywgJ19obXJQYXlsb2FkJywgJ19nZXR0ZXJzJywgJ19jdXN0b21Qcm9wZXJ0aWVzJ10uZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN0b3JlLCBwLCBhc3NpZ24oeyB2YWx1ZTogc3RvcmVbcF0gfSwgbm9uRW51bWVyYWJsZSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzVnVlMikge1xuICAgICAgICAvLyBtYXJrIHRoZSBzdG9yZSBhcyByZWFkeSBiZWZvcmUgcGx1Z2luc1xuICAgICAgICBzdG9yZS5fciA9IHRydWU7XG4gICAgfVxuICAgIC8vIGFwcGx5IGFsbCBwbHVnaW5zXG4gICAgcGluaWEuX3AuZm9yRWFjaCgoZXh0ZW5kZXIpID0+IHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKFVTRV9ERVZUT09MUykge1xuICAgICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XG4gICAgICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICAgICAgYXBwOiBwaW5pYS5fYSxcbiAgICAgICAgICAgICAgICBwaW5pYSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zRm9yUGx1Z2luLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZW5zaW9ucyB8fCB7fSkuZm9yRWFjaCgoa2V5KSA9PiBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5hZGQoa2V5KSk7XG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIGV4dGVuc2lvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXNzaWduKHN0b3JlLCBzY29wZS5ydW4oKCkgPT4gZXh0ZW5kZXIoe1xuICAgICAgICAgICAgICAgIHN0b3JlLFxuICAgICAgICAgICAgICAgIGFwcDogcGluaWEuX2EsXG4gICAgICAgICAgICAgICAgcGluaWEsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc0ZvclBsdWdpbixcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgIHN0b3JlLiRzdGF0ZSAmJlxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2Ygc3RvcmUuJHN0YXRlLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICFzdG9yZS4kc3RhdGUuY29uc3RydWN0b3IudG9TdHJpbmcoKS5pbmNsdWRlcygnW25hdGl2ZSBjb2RlXScpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW/CfjY1dOiBUaGUgXCJzdGF0ZVwiIG11c3QgYmUgYSBwbGFpbiBvYmplY3QuIEl0IGNhbm5vdCBiZVxcbmAgK1xuICAgICAgICAgICAgYFxcdHN0YXRlOiAoKSA9PiBuZXcgTXlDbGFzcygpXFxuYCArXG4gICAgICAgICAgICBgRm91bmQgaW4gc3RvcmUgXCIke3N0b3JlLiRpZH1cIi5gKTtcbiAgICB9XG4gICAgLy8gb25seSBhcHBseSBoeWRyYXRlIHRvIG9wdGlvbiBzdG9yZXMgd2l0aCBhbiBpbml0aWFsIHN0YXRlIGluIHBpbmlhXG4gICAgaWYgKGluaXRpYWxTdGF0ZSAmJlxuICAgICAgICBpc09wdGlvbnNTdG9yZSAmJlxuICAgICAgICBvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgb3B0aW9ucy5oeWRyYXRlKHN0b3JlLiRzdGF0ZSwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gICAgaXNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgIGlzU3luY0xpc3RlbmluZyA9IHRydWU7XG4gICAgcmV0dXJuIHN0b3JlO1xufVxuZnVuY3Rpb24gZGVmaW5lU3RvcmUoXG4vLyBUT0RPOiBhZGQgcHJvcGVyIHR5cGVzIGZyb20gYWJvdmVcbmlkT3JPcHRpb25zLCBzZXR1cCwgc2V0dXBPcHRpb25zKSB7XG4gICAgbGV0IGlkO1xuICAgIGxldCBvcHRpb25zO1xuICAgIGNvbnN0IGlzU2V0dXBTdG9yZSA9IHR5cGVvZiBzZXR1cCA9PT0gJ2Z1bmN0aW9uJztcbiAgICBpZiAodHlwZW9mIGlkT3JPcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZCA9IGlkT3JPcHRpb25zO1xuICAgICAgICAvLyB0aGUgb3B0aW9uIHN0b3JlIHNldHVwIHdpbGwgY29udGFpbiB0aGUgYWN0dWFsIG9wdGlvbnMgaW4gdGhpcyBjYXNlXG4gICAgICAgIG9wdGlvbnMgPSBpc1NldHVwU3RvcmUgPyBzZXR1cE9wdGlvbnMgOiBzZXR1cDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgPSBpZE9yT3B0aW9ucztcbiAgICAgICAgaWQgPSBpZE9yT3B0aW9ucy5pZDtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFvwn42NXTogXCJkZWZpbmVTdG9yZSgpXCIgbXVzdCBiZSBwYXNzZWQgYSBzdG9yZSBpZCBhcyBpdHMgZmlyc3QgYXJndW1lbnQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlU3RvcmUocGluaWEsIGhvdCkge1xuICAgICAgICBjb25zdCBoYXNDb250ZXh0ID0gaGFzSW5qZWN0aW9uQ29udGV4dCgpO1xuICAgICAgICBwaW5pYSA9XG4gICAgICAgICAgICAvLyBpbiB0ZXN0IG1vZGUsIGlnbm9yZSB0aGUgYXJndW1lbnQgcHJvdmlkZWQgYXMgd2UgY2FuIGFsd2F5cyByZXRyaWV2ZSBhXG4gICAgICAgICAgICAvLyBwaW5pYSBpbnN0YW5jZSB3aXRoIGdldEFjdGl2ZVBpbmlhKClcbiAgICAgICAgICAgICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgYWN0aXZlUGluaWEgJiYgYWN0aXZlUGluaWEuX3Rlc3RpbmcgPyBudWxsIDogcGluaWEpIHx8XG4gICAgICAgICAgICAgICAgKGhhc0NvbnRleHQgPyBpbmplY3QocGluaWFTeW1ib2wsIG51bGwpIDogbnVsbCk7XG4gICAgICAgIGlmIChwaW5pYSlcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhYWN0aXZlUGluaWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW/CfjY1dOiBcImdldEFjdGl2ZVBpbmlhKClcIiB3YXMgY2FsbGVkIGJ1dCB0aGVyZSB3YXMgbm8gYWN0aXZlIFBpbmlhLiBBcmUgeW91IHRyeWluZyB0byB1c2UgYSBzdG9yZSBiZWZvcmUgY2FsbGluZyBcImFwcC51c2UocGluaWEpXCI/XFxuYCArXG4gICAgICAgICAgICAgICAgYFNlZSBodHRwczovL3BpbmlhLnZ1ZWpzLm9yZy9jb3JlLWNvbmNlcHRzL291dHNpZGUtY29tcG9uZW50LXVzYWdlLmh0bWwgZm9yIGhlbHAuXFxuYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcGluaWEgPSBhY3RpdmVQaW5pYTtcbiAgICAgICAgaWYgKCFwaW5pYS5fcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGluZyB0aGUgc3RvcmUgcmVnaXN0ZXJzIGl0IGluIGBwaW5pYS5fc2BcbiAgICAgICAgICAgIGlmIChpc1NldHVwU3RvcmUpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlT3B0aW9uc1N0b3JlKGlkLCBvcHRpb25zLCBwaW5pYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IG5vdCB0aGUgcmlnaHQgaW5mZXJyZWQgdHlwZVxuICAgICAgICAgICAgICAgIHVzZVN0b3JlLl9waW5pYSA9IHBpbmlhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvdElkID0gJ19faG90OicgKyBpZDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0b3JlID0gaXNTZXR1cFN0b3JlXG4gICAgICAgICAgICAgICAgPyBjcmVhdGVTZXR1cFN0b3JlKGhvdElkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIHRydWUpXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVPcHRpb25zU3RvcmUoaG90SWQsIGFzc2lnbih7fSwgb3B0aW9ucyksIHBpbmlhLCB0cnVlKTtcbiAgICAgICAgICAgIGhvdC5faG90VXBkYXRlKG5ld1N0b3JlKTtcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIHN0YXRlIHByb3BlcnRpZXMgYW5kIHRoZSBzdG9yZSBmcm9tIHRoZSBjYWNoZVxuICAgICAgICAgICAgZGVsZXRlIHBpbmlhLnN0YXRlLnZhbHVlW2hvdElkXTtcbiAgICAgICAgICAgIHBpbmlhLl9zLmRlbGV0ZShob3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBJU19DTElFTlQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgLy8gc2F2ZSBzdG9yZXMgaW4gaW5zdGFuY2VzIHRvIGFjY2VzcyB0aGVtIGRldnRvb2xzXG4gICAgICAgICAgICBpZiAoY3VycmVudEluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLnByb3h5ICYmXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIHN0b3JlcyB0aGF0IGFyZSBqdXN0IGJ1aWx0IGZvciBob3QgbW9kdWxlIHJlcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgIWhvdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZtID0gY3VycmVudEluc3RhbmNlLnByb3h5O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhY2hlID0gJ19wU3RvcmVzJyBpbiB2bSA/IHZtLl9wU3RvcmVzIDogKHZtLl9wU3RvcmVzID0ge30pO1xuICAgICAgICAgICAgICAgIGNhY2hlW2lkXSA9IHN0b3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlR2VuZXJpYyBjYW5ub3QgYmUgY2FzdGVkIHRvd2FyZHMgU3RvcmVcbiAgICAgICAgcmV0dXJuIHN0b3JlO1xuICAgIH1cbiAgICB1c2VTdG9yZS4kaWQgPSBpZDtcbiAgICByZXR1cm4gdXNlU3RvcmU7XG59XG5cbmxldCBtYXBTdG9yZVN1ZmZpeCA9ICdTdG9yZSc7XG4vKipcbiAqIENoYW5nZXMgdGhlIHN1ZmZpeCBhZGRlZCBieSBgbWFwU3RvcmVzKClgLiBDYW4gYmUgc2V0IHRvIGFuIGVtcHR5IHN0cmluZy5cbiAqIERlZmF1bHRzIHRvIGBcIlN0b3JlXCJgLiBNYWtlIHN1cmUgdG8gZXh0ZW5kIHRoZSBNYXBTdG9yZXNDdXN0b21pemF0aW9uXG4gKiBpbnRlcmZhY2UgaWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LlxuICpcbiAqIEBwYXJhbSBzdWZmaXggLSBuZXcgc3VmZml4XG4gKi9cbmZ1bmN0aW9uIHNldE1hcFN0b3JlU3VmZml4KHN1ZmZpeCAvLyBjb3VsZCBiZSAnU3RvcmUnIGJ1dCB0aGF0IHdvdWxkIGJlIGFubm95aW5nIGZvciBKU1xuKSB7XG4gICAgbWFwU3RvcmVTdWZmaXggPSBzdWZmaXg7XG59XG4vKipcbiAqIEFsbG93cyB1c2luZyBzdG9yZXMgd2l0aG91dCB0aGUgY29tcG9zaXRpb24gQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW5cbiAqIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGQgb2YgYSBjb21wb25lbnQuIEl0IGFjY2VwdHMgYSBsaXN0XG4gKiBvZiBzdG9yZSBkZWZpbml0aW9ucy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGV4cG9ydCBkZWZhdWx0IHtcbiAqICAgY29tcHV0ZWQ6IHtcbiAqICAgICAvLyBvdGhlciBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gKiAgICAgLi4ubWFwU3RvcmVzKHVzZVVzZXJTdG9yZSwgdXNlQ2FydFN0b3JlKVxuICogICB9LFxuICpcbiAqICAgY3JlYXRlZCgpIHtcbiAqICAgICB0aGlzLnVzZXJTdG9yZSAvLyBzdG9yZSB3aXRoIGlkIFwidXNlclwiXG4gKiAgICAgdGhpcy5jYXJ0U3RvcmUgLy8gc3RvcmUgd2l0aCBpZCBcImNhcnRcIlxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gc3RvcmVzIC0gbGlzdCBvZiBzdG9yZXMgdG8gbWFwIHRvIGFuIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBTdG9yZXMoLi4uc3RvcmVzKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBBcnJheS5pc0FycmF5KHN0b3Jlc1swXSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IERpcmVjdGx5IHBhc3MgYWxsIHN0b3JlcyB0byBcIm1hcFN0b3JlcygpXCIgd2l0aG91dCBwdXR0aW5nIHRoZW0gaW4gYW4gYXJyYXk6XFxuYCArXG4gICAgICAgICAgICBgUmVwbGFjZVxcbmAgK1xuICAgICAgICAgICAgYFxcdG1hcFN0b3JlcyhbdXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmVdKVxcbmAgK1xuICAgICAgICAgICAgYHdpdGhcXG5gICtcbiAgICAgICAgICAgIGBcXHRtYXBTdG9yZXModXNlQXV0aFN0b3JlLCB1c2VDYXJ0U3RvcmUpXFxuYCArXG4gICAgICAgICAgICBgVGhpcyB3aWxsIGZhaWwgaW4gcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XG4gICAgICAgIHN0b3JlcyA9IHN0b3Jlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3Jlcy5yZWR1Y2UoKHJlZHVjZWQsIHVzZVN0b3JlKSA9PiB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6ICRpZCBpcyBhZGRlZCBieSBkZWZpbmVTdG9yZVxuICAgICAgICByZWR1Y2VkW3VzZVN0b3JlLiRpZCArIG1hcFN0b3JlU3VmZml4XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgIH0sIHt9KTtcbn1cbi8qKlxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXG4gKiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkXG4gKiBvZiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gdXNlU3RvcmUgLSBzdG9yZSB0byBtYXAgZnJvbVxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBTdGF0ZSh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pXG4gICAgICAgIDogT2JqZWN0LmtleXMoa2V5c09yTWFwcGVyKS5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUodGhpcy4kcGluaWEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlS2V5ID0ga2V5c09yTWFwcGVyW2tleV07XG4gICAgICAgICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIFRTIGlzIHVuYWJsZSB0byBpbmZlciB0aGUgdHlwZSBvZiBzdG9yZUtleSB0byBiZSBhXG4gICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25cbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHN0b3JlS2V5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gc3RvcmVLZXkuY2FsbCh0aGlzLCBzdG9yZSlcbiAgICAgICAgICAgICAgICAgICAgOiBzdG9yZVtzdG9yZUtleV07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIGBtYXBTdGF0ZSgpYC4gWW91IHNob3VsZCB1c2UgYG1hcFN0YXRlKClgIGluc3RlYWQuXG4gKiBAZGVwcmVjYXRlZCB1c2UgYG1hcFN0YXRlKClgIGluc3RlYWQuXG4gKi9cbmNvbnN0IG1hcEdldHRlcnMgPSBtYXBTdGF0ZTtcbi8qKlxuICogQWxsb3dzIGRpcmVjdGx5IHVzaW5nIGFjdGlvbnMgZnJvbSB5b3VyIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXG4gKiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgbWV0aG9kc2AgZmllbGRcbiAqIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXG4gKiBAcGFyYW0ga2V5c09yTWFwcGVyIC0gYXJyYXkgb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcEFjdGlvbnModXNlU3RvcmUsIGtleXNPck1hcHBlcikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleXNPck1hcHBlcilcbiAgICAgICAgPyBrZXlzT3JNYXBwZXIucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSk7XG59XG4vKipcbiAqIEFsbG93cyB1c2luZyBzdGF0ZSBhbmQgZ2V0dGVycyBmcm9tIG9uZSBzdG9yZSB3aXRob3V0IHVzaW5nIHRoZSBjb21wb3NpdGlvblxuICogQVBJIChgc2V0dXAoKWApIGJ5IGdlbmVyYXRpbmcgYW4gb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwV3JpdGFibGVTdGF0ZSh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0ge1xuICAgICAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgZWFzaWVyIHRvIHR5cGUgaXQgaGVyZSBhcyBhbnlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5XSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGVhc2llciB0byB0eXBlIGl0IGhlcmUgYXMgYW55XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodXNlU3RvcmUodGhpcy4kcGluaWEpW2tleXNPck1hcHBlcltrZXldXSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYmplY3Qgb2YgcmVmZXJlbmNlcyB3aXRoIGFsbCB0aGUgc3RhdGUsIGdldHRlcnMsIGFuZCBwbHVnaW4tYWRkZWRcbiAqIHN0YXRlIHByb3BlcnRpZXMgb2YgdGhlIHN0b3JlLiBTaW1pbGFyIHRvIGB0b1JlZnMoKWAgYnV0IHNwZWNpZmljYWxseVxuICogZGVzaWduZWQgZm9yIFBpbmlhIHN0b3JlcyBzbyBtZXRob2RzIGFuZCBub24gcmVhY3RpdmUgcHJvcGVydGllcyBhcmVcbiAqIGNvbXBsZXRlbHkgaWdub3JlZC5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBleHRyYWN0IHRoZSByZWZzIGZyb21cbiAqL1xuZnVuY3Rpb24gc3RvcmVUb1JlZnMoc3RvcmUpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3BpbmlhL2lzc3Vlcy84NTJcbiAgICAvLyBJdCdzIGVhc2llciB0byBqdXN0IHVzZSB0b1JlZnMoKSBldmVuIGlmIGl0IGluY2x1ZGVzIG1vcmUgc3R1ZmZcbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRvUmVmcyBpbmNsdWRlIG1ldGhvZHMgYW5kIG90aGVyc1xuICAgICAgICByZXR1cm4gdG9SZWZzKHN0b3JlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0b3JlID0gdG9SYXcoc3RvcmUpO1xuICAgICAgICBjb25zdCByZWZzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHN0b3JlKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHN0b3JlW2tleV07XG4gICAgICAgICAgICBpZiAoaXNSZWYodmFsdWUpIHx8IGlzUmVhY3RpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIGtleSBpcyBzdGF0ZSBvciBnZXR0ZXJcbiAgICAgICAgICAgICAgICByZWZzW2tleV0gPVxuICAgICAgICAgICAgICAgICAgICAvLyAtLS1cbiAgICAgICAgICAgICAgICAgICAgdG9SZWYoc3RvcmUsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZnM7XG4gICAgfVxufVxuXG4vKipcbiAqIFZ1ZSAyIFBsdWdpbiB0aGF0IG11c3QgYmUgaW5zdGFsbGVkIGZvciBwaW5pYSB0byB3b3JrLiBOb3RlICoqeW91IGRvbid0IG5lZWRcbiAqIHRoaXMgcGx1Z2luIGlmIHlvdSBhcmUgdXNpbmcgTnV4dC5qcyoqLiBVc2UgdGhlIGBidWlsZE1vZHVsZWAgaW5zdGVhZDpcbiAqIGh0dHBzOi8vcGluaWEudnVlanMub3JnL3Nzci9udXh0Lmh0bWwuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbiAqIGltcG9ydCB7IFBpbmlhVnVlUGx1Z2luLCBjcmVhdGVQaW5pYSB9IGZyb20gJ3BpbmlhJ1xuICpcbiAqIFZ1ZS51c2UoUGluaWFWdWVQbHVnaW4pXG4gKiBjb25zdCBwaW5pYSA9IGNyZWF0ZVBpbmlhKClcbiAqXG4gKiBuZXcgVnVlKHtcbiAqICAgZWw6ICcjYXBwJyxcbiAqICAgLy8gLi4uXG4gKiAgIHBpbmlhLFxuICogfSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBfVnVlIC0gYFZ1ZWAgaW1wb3J0ZWQgZnJvbSAndnVlJy5cbiAqL1xuY29uc3QgUGluaWFWdWVQbHVnaW4gPSBmdW5jdGlvbiAoX1Z1ZSkge1xuICAgIC8vIEVxdWl2YWxlbnQgb2ZcbiAgICAvLyBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHBpbmlhID0gcGluaWFcbiAgICBfVnVlLm1peGluKHtcbiAgICAgICAgYmVmb3JlQ3JlYXRlKCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5waW5pYSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBpbmlhID0gb3B0aW9ucy5waW5pYTtcbiAgICAgICAgICAgICAgICAvLyBIQUNLOiB0YWtlbiBmcm9tIHByb3ZpZGUoKTogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL2NvbXBvc2l0aW9uLWFwaS9ibG9iL21haW4vc3JjL2FwaXMvaW5qZWN0LnRzI0wzMVxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9wcm92aWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm92aWRlQ2FjaGUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdfcHJvdmlkZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHByb3ZpZGVDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogKHYpID0+IE9iamVjdC5hc3NpZ24ocHJvdmlkZUNhY2hlLCB2KSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3ZpZGVkW3BpbmlhU3ltYm9sXSA9IHBpbmlhO1xuICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0aGUgcGluaWEgaW5zdGFuY2UgaW4gYW4gU1NSIGZyaWVuZGx5IHdheVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFkZGluZyBpdCB0byBudXh0IHR3aWNlXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuJHBpbmlhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHBpbmlhID0gcGluaWE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBpbmlhLl9hID0gdGhpcztcbiAgICAgICAgICAgICAgICBpZiAoSVNfQ0xJRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgYWxsb3dzIGNhbGxpbmcgdXNlU3RvcmUoKSBvdXRzaWRlIG9mIGEgY29tcG9uZW50IHNldHVwIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RhbGxpbmcgcGluaWEncyBwbHVnaW5cbiAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUGluaWFEZXZ0b29scyhwaW5pYS5fYSwgcGluaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLiRwaW5pYSAmJiBvcHRpb25zLnBhcmVudCAmJiBvcHRpb25zLnBhcmVudC4kcGluaWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRwaW5pYSA9IG9wdGlvbnMucGFyZW50LiRwaW5pYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveWVkKCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BTdG9yZXM7XG4gICAgICAgIH0sXG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBNdXRhdGlvblR5cGUsIFBpbmlhVnVlUGx1Z2luLCBhY2NlcHRITVJVcGRhdGUsIGNyZWF0ZVBpbmlhLCBkZWZpbmVTdG9yZSwgZ2V0QWN0aXZlUGluaWEsIG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlLCBtYXBTdG9yZXMsIG1hcFdyaXRhYmxlU3RhdGUsIHNldEFjdGl2ZVBpbmlhLCBzZXRNYXBTdG9yZVN1ZmZpeCwgc2tpcEh5ZHJhdGUsIHN0b3JlVG9SZWZzIH07XG4iLCIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJ2dWVcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJWdWVUb2FzdFwiLCBbXCJ2dWVcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiVnVlVG9hc3RcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJ2dWVcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlZ1ZVRvYXN0XCJdID0gZmFjdG9yeShyb290W1wiVnVlXCJdKTtcbn0pKHRoaXMsIChfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NzZfXykgPT4ge1xucmV0dXJuIC8qKioqKiovICgoKSA9PiB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0XCJ1c2Ugc3RyaWN0XCI7XG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfbW9kdWxlc19fID0gKHtcblxuLyoqKi8gNzcyOlxuLyoqKi8gKChfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykgPT4ge1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHsgdmFsdWU6IHRydWUgfSkpO1xuLy8gcnVudGltZSBoZWxwZXIgZm9yIHNldHRpbmcgcHJvcGVydGllcyBvbiBjb21wb25lbnRzXG4vLyBpbiBhIHRyZWUtc2hha2FibGUgd2F5XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IChzZmMsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gc2ZjLl9fdmNjT3B0cyB8fCBzZmM7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIHByb3BzKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gOTc2OlxuLyoqKi8gKChtb2R1bGUpID0+IHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NzZfXztcblxuLyoqKi8gfSlcblxuLyoqKioqKi8gXHR9KTtcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuLyoqKioqKi8gXHRcdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuLyoqKioqKi8gXHRcdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqLyBcdFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzICovXG4vKioqKioqLyBcdCgoKSA9PiB7XG4vKioqKioqLyBcdFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG4vKioqKioqLyBcdFx0XHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG4vKioqKioqLyBcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuLyoqKioqKi8gXHRcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG4vKioqKioqLyBcdFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHR9KSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCAqL1xuLyoqKioqKi8gXHQoKCkgPT4ge1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSlcbi8qKioqKiovIFx0fSkoKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8qIHdlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QgKi9cbi8qKioqKiovIFx0KCgpID0+IHtcbi8qKioqKiovIFx0XHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcbi8qKioqKiovIFx0XHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHRcdH1cbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0fSkoKTtcbi8qKioqKiovIFx0XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xudmFyIF9fd2VicGFja19leHBvcnRzX18gPSB7fTtcbi8vIFRoaXMgZW50cnkgbmVlZCB0byBiZSB3cmFwcGVkIGluIGFuIElJRkUgYmVjYXVzZSBpdCBuZWVkIHRvIGJlIGlzb2xhdGVkIGFnYWluc3Qgb3RoZXIgbW9kdWxlcyBpbiB0aGUgY2h1bmsuXG4oKCkgPT4ge1xuLy8gRVNNIENPTVBBVCBGTEFHXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cbi8vIEVYUE9SVFNcbl9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCB7XG4gIFRvYXN0Q29tcG9uZW50OiAoKSA9PiAoLyogcmVleHBvcnQgKi8gQ29tcG9uZW50KSxcbiAgVG9hc3RQbHVnaW46ICgpID0+ICgvKiBiaW5kaW5nICovIFRvYXN0UGx1Z2luKSxcbiAgVG9hc3RQb3NpdGlvbnM6ICgpID0+ICgvKiByZWV4cG9ydCAqLyBwb3NpdGlvbnMpLFxuICBcImRlZmF1bHRcIjogKCkgPT4gKC8qIGJpbmRpbmcgKi8gc3JjKSxcbiAgdXNlVG9hc3Q6ICgpID0+ICgvKiByZWV4cG9ydCAqLyB1c2VUb2FzdClcbn0pO1xuXG4vLyBFWFRFUk5BTCBNT0RVTEU6IGV4dGVybmFsIHtcImNvbW1vbmpzXCI6XCJ2dWVcIixcImNvbW1vbmpzMlwiOlwidnVlXCIsXCJhbWRcIjpcInZ1ZVwiLFwicm9vdFwiOlwiVnVlXCJ9XG52YXIgZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk3Nik7XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvLnBucG0vYmFiZWwtbG9hZGVyQDkuMS4yX0BiYWJlbCtjb3JlQDcuMjIuMV93ZWJwYWNrQDUuODQuMS9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE3LjEuMV9AdnVlK2NvbXBpbGVyLXNmY0AzLjMuNF92dWVAMy4zLjRfd2VicGFja0A1Ljg0LjEvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC90ZW1wbGF0ZUxvYWRlci5qcz8/cnVsZVNldFsxXS5ydWxlc1syXSEuL25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE3LjEuMV9AdnVlK2NvbXBpbGVyLXNmY0AzLjMuNF92dWVAMy4zLjRfd2VicGFja0A1Ljg0LjEvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMF0hLi9zcmMvanMvQ29tcG9uZW50LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mNzNjOGI0ZVxuXG5jb25zdCBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qLygwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLmNyZWF0ZUVsZW1lbnRWTm9kZSkoXCJkaXZcIiwge1xuICBjbGFzczogXCJ2LXRvYXN0X19pY29uXCJcbn0sIG51bGwsIC0xKTtcbmNvbnN0IF9ob2lzdGVkXzIgPSBbXCJpbm5lckhUTUxcIl07XG5mdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7XG4gIHJldHVybiAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5vcGVuQmxvY2spKCksICgwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLmNyZWF0ZUJsb2NrKShleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5UcmFuc2l0aW9uLCB7XG4gICAgXCJlbnRlci1hY3RpdmUtY2xhc3NcIjogX2N0eC50cmFuc2l0aW9uLmVudGVyLFxuICAgIFwibGVhdmUtYWN0aXZlLWNsYXNzXCI6IF9jdHgudHJhbnNpdGlvbi5sZWF2ZVxuICB9LCB7XG4gICAgZGVmYXVsdDogKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8ud2l0aEN0eCkoKCkgPT4gWygwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLndpdGhEaXJlY3RpdmVzKSgoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5jcmVhdGVFbGVtZW50Vk5vZGUpKFwiZGl2XCIsIHtcbiAgICAgIHJlZjogXCJyb290XCIsXG4gICAgICByb2xlOiBcImFsZXJ0XCIsXG4gICAgICBjbGFzczogKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8ubm9ybWFsaXplQ2xhc3MpKFtcInYtdG9hc3RfX2l0ZW1cIiwgW2B2LXRvYXN0X19pdGVtLS0ke19jdHgudHlwZX1gLCBgdi10b2FzdF9faXRlbS0tJHtfY3R4LnBvc2l0aW9ufWBdXSksXG4gICAgICBvbk1vdXNlb3ZlcjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gX2N0eC50b2dnbGVUaW1lcih0cnVlKSksXG4gICAgICBvbk1vdXNlbGVhdmU6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+IF9jdHgudG9nZ2xlVGltZXIoZmFsc2UpKSxcbiAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX2N0eC53aGVuQ2xpY2tlZCAmJiBfY3R4LndoZW5DbGlja2VkKC4uLmFyZ3VtZW50cyk7XG4gICAgICB9KVxuICAgIH0sIFtfaG9pc3RlZF8xLCAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5jcmVhdGVFbGVtZW50Vk5vZGUpKFwicFwiLCB7XG4gICAgICBjbGFzczogXCJ2LXRvYXN0X190ZXh0XCIsXG4gICAgICBpbm5lckhUTUw6IF9jdHgubWVzc2FnZVxuICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzIpXSwgMzQpLCBbW2V4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLnZTaG93LCBfY3R4LmlzQWN0aXZlXV0pXSksXG4gICAgXzogMVxuICB9LCA4LCBbXCJlbnRlci1hY3RpdmUtY2xhc3NcIiwgXCJsZWF2ZS1hY3RpdmUtY2xhc3NcIl0pO1xufVxuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL0NvbXBvbmVudC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZjczYzhiNGVcblxuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2hlbHBlcnMuanNcblxuZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xuICBpZiAodHlwZW9mIGVsLnJlbW92ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbC5yZW1vdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBlbC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChlbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChjb21wb25lbnQsIHByb3BzLCBwYXJlbnRDb250YWluZXIpIHtcbiAgbGV0IHNsb3RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgY29uc3Qgdk5vZGUgPSAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5oKShjb21wb25lbnQsIHByb3BzLCBzbG90cyk7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgndi10b2FzdC0tcGVuZGluZycpO1xuICBwYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8ucmVuZGVyKSh2Tm9kZSwgY29udGFpbmVyKTtcbiAgcmV0dXJuIHZOb2RlLmNvbXBvbmVudDtcbn1cbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy90aW1lci5qc1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5Njk3NjBcbmNsYXNzIFRpbWVyIHtcbiAgY29uc3RydWN0b3IoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgdGhpcy5zdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbiAgfVxuICBwYXVzZSgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLmRlbGF5IC09IERhdGUubm93KCkgLSB0aGlzLnN0YXJ0ZWRBdDtcbiAgfVxuICByZXN1bWUoKSB7XG4gICAgdGhpcy5zdG9wKCk7XG4gICAgdGhpcy5zdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuY2FsbGJhY2ssIHRoaXMuZGVsYXkpO1xuICB9XG4gIHN0b3AoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICB9XG59XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvcG9zaXRpb25zLmpzXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIGNvbnN0IHBvc2l0aW9ucyA9IChPYmplY3QuZnJlZXplKHtcbiAgVE9QX1JJR0hUOiAndG9wLXJpZ2h0JyxcbiAgVE9QOiAndG9wJyxcbiAgVE9QX0xFRlQ6ICd0b3AtbGVmdCcsXG4gIEJPVFRPTV9SSUdIVDogJ2JvdHRvbS1yaWdodCcsXG4gIEJPVFRPTTogJ2JvdHRvbScsXG4gIEJPVFRPTV9MRUZUOiAnYm90dG9tLWxlZnQnXG59KSk7XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvLnBucG0vbWl0dEAzLjAuMC9ub2RlX21vZHVsZXMvbWl0dC9kaXN0L21pdHQubWpzXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIGZ1bmN0aW9uIG1pdHQobil7cmV0dXJue2FsbDpuPW58fG5ldyBNYXAsb246ZnVuY3Rpb24odCxlKXt2YXIgaT1uLmdldCh0KTtpP2kucHVzaChlKTpuLnNldCh0LFtlXSl9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0KHQpO2kmJihlP2kuc3BsaWNlKGkuaW5kZXhPZihlKT4+PjAsMSk6bi5zZXQodCxbXSkpfSxlbWl0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXQodCk7aSYmaS5zbGljZSgpLm1hcChmdW5jdGlvbihuKXtuKGUpfSksKGk9bi5nZXQoXCIqXCIpKSYmaS5zbGljZSgpLm1hcChmdW5jdGlvbihuKXtuKHQsZSl9KX19fVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl0dC5tanMubWFwXG5cbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9idXMuanNcblxuY29uc3QgZXZlbnRCdXMgPSBtaXR0KCk7XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIGNvbnN0IGJ1cyA9IChldmVudEJ1cyk7XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvLnBucG0vYmFiZWwtbG9hZGVyQDkuMS4yX0BiYWJlbCtjb3JlQDcuMjIuMV93ZWJwYWNrQDUuODQuMS9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuL25vZGVfbW9kdWxlcy8ucG5wbS92dWUtbG9hZGVyQDE3LjEuMV9AdnVlK2NvbXBpbGVyLXNmY0AzLjMuNF92dWVAMy4zLjRfd2VicGFja0A1Ljg0LjEvbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s2XS51c2VbMF0hLi9zcmMvanMvQ29tcG9uZW50LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1xuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gY29uc3QgQ29tcG9uZW50dnVlX3R5cGVfc2NyaXB0X2xhbmdfanMgPSAoKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8uZGVmaW5lQ29tcG9uZW50KSh7XG4gIG5hbWU6ICdUb2FzdCcsXG4gIHByb3BzOiB7XG4gICAgbWVzc2FnZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIHR5cGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICdzdWNjZXNzJ1xuICAgIH0sXG4gICAgcG9zaXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IHBvc2l0aW9ucy5CT1RUT01fUklHSFQsXG4gICAgICB2YWxpZGF0b3IodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocG9zaXRpb25zKS5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkdXJhdGlvbjoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMzAwMFxuICAgIH0sXG4gICAgZGlzbWlzc2libGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICBkZWZhdWx0OiB0cnVlXG4gICAgfSxcbiAgICBvbkRpc21pc3M6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgZGVmYXVsdDogKCkgPT4ge31cbiAgICB9LFxuICAgIG9uQ2xpY2s6IHtcbiAgICAgIHR5cGU6IEZ1bmN0aW9uLFxuICAgICAgZGVmYXVsdDogKCkgPT4ge31cbiAgICB9LFxuICAgIHF1ZXVlOiBCb29sZWFuLFxuICAgIHBhdXNlT25Ib3Zlcjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9XG4gIH0sXG4gIGRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgIHBhcmVudFRvcDogbnVsbCxcbiAgICAgIHBhcmVudEJvdHRvbTogbnVsbCxcbiAgICAgIGlzSG92ZXJlZDogZmFsc2VcbiAgICB9O1xuICB9LFxuICBiZWZvcmVNb3VudCgpIHtcbiAgICB0aGlzLnNldHVwQ29udGFpbmVyKCk7XG4gIH0sXG4gIG1vdW50ZWQoKSB7XG4gICAgdGhpcy5zaG93Tm90aWNlKCk7XG4gICAgYnVzLm9uKCd0b2FzdC1jbGVhcicsIHRoaXMuZGlzbWlzcyk7XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBzZXR1cENvbnRhaW5lcigpIHtcbiAgICAgIHRoaXMucGFyZW50VG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnYtdG9hc3Qudi10b2FzdC0tdG9wJyk7XG4gICAgICB0aGlzLnBhcmVudEJvdHRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52LXRvYXN0LnYtdG9hc3QtLWJvdHRvbScpO1xuICAgICAgLy8gTm8gbmVlZCB0byBjcmVhdGUgdGhlbSwgdGhleSBhbHJlYWR5IGV4aXN0c1xuICAgICAgaWYgKHRoaXMucGFyZW50VG9wICYmIHRoaXMucGFyZW50Qm90dG9tKSByZXR1cm47XG4gICAgICBpZiAoIXRoaXMucGFyZW50VG9wKSB7XG4gICAgICAgIHRoaXMucGFyZW50VG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMucGFyZW50VG9wLmNsYXNzTmFtZSA9ICd2LXRvYXN0IHYtdG9hc3QtLXRvcCc7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMucGFyZW50Qm90dG9tKSB7XG4gICAgICAgIHRoaXMucGFyZW50Qm90dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMucGFyZW50Qm90dG9tLmNsYXNzTmFtZSA9ICd2LXRvYXN0IHYtdG9hc3QtLWJvdHRvbSc7XG4gICAgICB9XG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucGFyZW50VG9wKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnBhcmVudEJvdHRvbSk7XG4gICAgfSxcbiAgICBzaG91bGRRdWV1ZSgpIHtcbiAgICAgIGlmICghdGhpcy5xdWV1ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50VG9wLmNoaWxkRWxlbWVudENvdW50ID4gMCB8fCB0aGlzLnBhcmVudEJvdHRvbS5jaGlsZEVsZW1lbnRDb3VudCA+IDA7XG4gICAgfSxcbiAgICBkaXNtaXNzKCkge1xuICAgICAgaWYgKHRoaXMudGltZXIpIHRoaXMudGltZXIuc3RvcCgpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucXVldWVUaW1lcik7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgIC8vIFRpbWVvdXQgZm9yIHRoZSBhbmltYXRpb24gY29tcGxldGUgYmVmb3JlIGRlc3Ryb3lpbmdcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLm9uRGlzbWlzcy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy4kcmVmcy5yb290O1xuICAgICAgICAvLyB1bm1vdW50IHRoZSBjb21wb25lbnRcbiAgICAgICAgKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8ucmVuZGVyKShudWxsLCB3cmFwcGVyKTtcbiAgICAgICAgcmVtb3ZlRWxlbWVudCh3cmFwcGVyKTtcbiAgICAgIH0sIDE1MCk7XG4gICAgfSxcbiAgICBzaG93Tm90aWNlKCkge1xuICAgICAgaWYgKHRoaXMuc2hvdWxkUXVldWUoKSkge1xuICAgICAgICAvLyBDYWxsIHJlY3Vyc2l2ZWx5IGlmIGl0IHNob3VsZCBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlVGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuc2hvd05vdGljZSwgMjUwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgd3JhcHBlciA9IHRoaXMuJHJlZnMucm9vdC5wYXJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5jb3JyZWN0UGFyZW50Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIHRoaXMuJHJlZnMucm9vdCk7XG4gICAgICByZW1vdmVFbGVtZW50KHdyYXBwZXIpO1xuICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG4gICAgICBpZiAodGhpcy5kdXJhdGlvbikge1xuICAgICAgICB0aGlzLnRpbWVyID0gbmV3IFRpbWVyKHRoaXMuZGlzbWlzcywgdGhpcy5kdXJhdGlvbik7XG4gICAgICB9XG4gICAgfSxcbiAgICB3aGVuQ2xpY2tlZCgpIHtcbiAgICAgIGlmICghdGhpcy5kaXNtaXNzaWJsZSkgcmV0dXJuO1xuICAgICAgdGhpcy5vbkNsaWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICB9LFxuICAgIHRvZ2dsZVRpbWVyKG5ld1ZhbCkge1xuICAgICAgaWYgKCF0aGlzLnBhdXNlT25Ib3ZlciB8fCAhdGhpcy50aW1lcikgcmV0dXJuO1xuICAgICAgbmV3VmFsID8gdGhpcy50aW1lci5wYXVzZSgpIDogdGhpcy50aW1lci5yZXN1bWUoKTtcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgY29ycmVjdFBhcmVudCgpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5wb3NpdGlvbikge1xuICAgICAgICBjYXNlIHBvc2l0aW9ucy5UT1A6XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLlRPUF9SSUdIVDpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuVE9QX0xFRlQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50VG9wO1xuICAgICAgICBjYXNlIHBvc2l0aW9ucy5CT1RUT006XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLkJPVFRPTV9SSUdIVDpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuQk9UVE9NX0xFRlQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50Qm90dG9tO1xuICAgICAgfVxuICAgIH0sXG4gICAgdHJhbnNpdGlvbigpIHtcbiAgICAgIHN3aXRjaCAodGhpcy5wb3NpdGlvbikge1xuICAgICAgICBjYXNlIHBvc2l0aW9ucy5UT1A6XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLlRPUF9SSUdIVDpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuVE9QX0xFRlQ6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVudGVyOiAndi10b2FzdC0tZmFkZS1pbi1kb3duJyxcbiAgICAgICAgICAgIGxlYXZlOiAndi10b2FzdC0tZmFkZS1vdXQnXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuQk9UVE9NOlxuICAgICAgICBjYXNlIHBvc2l0aW9ucy5CT1RUT01fUklHSFQ6XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLkJPVFRPTV9MRUZUOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbnRlcjogJ3YtdG9hc3QtLWZhZGUtaW4tdXAnLFxuICAgICAgICAgICAgbGVhdmU6ICd2LXRvYXN0LS1mYWRlLW91dCdcbiAgICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgYmVmb3JlVW5tb3VudCgpIHtcbiAgICBidXMub2ZmKCd0b2FzdC1jbGVhcicsIHRoaXMuZGlzbWlzcyk7XG4gIH1cbn0pKTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9Db21wb25lbnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG4gXG4vLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTcuMS4xX0B2dWUrY29tcGlsZXItc2ZjQDMuMy40X3Z1ZUAzLjMuNF93ZWJwYWNrQDUuODQuMS9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1xudmFyIGV4cG9ydEhlbHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oNzcyKTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9Db21wb25lbnQudnVlXG5cblxuXG5cbjtcbmNvbnN0IF9fZXhwb3J0c19fID0gLyojX19QVVJFX18qLygwLGV4cG9ydEhlbHBlcltcImRlZmF1bHRcIl0pKENvbXBvbmVudHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzLCBbWydyZW5kZXInLHJlbmRlcl1dKVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIGNvbnN0IENvbXBvbmVudCA9IChfX2V4cG9ydHNfXyk7XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvYXBpLmpzXG5cblxuXG5jb25zdCB1c2VUb2FzdCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IGdsb2JhbFByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgcmV0dXJuIHtcbiAgICBvcGVuKG9wdGlvbnMpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gbnVsbDtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIG1lc3NhZ2UgPSBvcHRpb25zO1xuICAgICAgY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBtZXNzYWdlXG4gICAgICB9O1xuICAgICAgY29uc3QgcHJvcHNEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFByb3BzLCBnbG9iYWxQcm9wcywgb3B0aW9ucyk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGNyZWF0ZUNvbXBvbmVudChDb21wb25lbnQsIHByb3BzRGF0YSwgZG9jdW1lbnQuYm9keSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXNtaXNzOiBpbnN0YW5jZS5jdHguZGlzbWlzc1xuICAgICAgfTtcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgYnVzLmVtaXQoJ3RvYXN0LWNsZWFyJyk7XG4gICAgfSxcbiAgICBzdWNjZXNzKG1lc3NhZ2UpIHtcbiAgICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLm9wZW4oT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB0eXBlOiAnc3VjY2VzcydcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9LFxuICAgIGVycm9yKG1lc3NhZ2UpIHtcbiAgICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLm9wZW4oT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB0eXBlOiAnZXJyb3InXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfSxcbiAgICBpbmZvKG1lc3NhZ2UpIHtcbiAgICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLm9wZW4oT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB0eXBlOiAnaW5mbydcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9LFxuICAgIHdhcm5pbmcobWVzc2FnZSkge1xuICAgICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMub3BlbihPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHR5cGU6ICd3YXJuaW5nJ1xuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH0sXG4gICAgZGVmYXVsdChtZXNzYWdlKSB7XG4gICAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5vcGVuKE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgdHlwZTogJ2RlZmF1bHQnXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfVxuICB9O1xufTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9pbmRleC5qc1xuXG5cblxuY29uc3QgVG9hc3RQbHVnaW4gPSB7XG4gIGluc3RhbGw6IGZ1bmN0aW9uIChhcHApIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgbGV0IGluc3RhbmNlID0gdXNlVG9hc3Qob3B0aW9ucyk7XG4gICAgYXBwLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLiR0b2FzdCA9IGluc3RhbmNlO1xuICAgIGFwcC5wcm92aWRlKCckdG9hc3QnLCBpbnN0YW5jZSk7XG4gIH1cbn07XG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIGNvbnN0IHNyYyA9IChUb2FzdFBsdWdpbik7XG5cbn0pKCk7XG5cbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19leHBvcnRzX187XG4vKioqKioqLyB9KSgpXG47XG59KTsiLCIvKiFcbiAgKiB2dWUtcm91dGVyIHY0LjMuMFxuICAqIChjKSAyMDI0IEVkdWFyZG8gU2FuIE1hcnRpbiBNb3JvdGVcbiAgKiBAbGljZW5zZSBNSVRcbiAgKi9cbmltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0LCBvblVubW91bnRlZCwgb25EZWFjdGl2YXRlZCwgb25BY3RpdmF0ZWQsIGNvbXB1dGVkLCB1bnJlZiwgd2F0Y2hFZmZlY3QsIGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIGgsIHByb3ZpZGUsIHJlZiwgd2F0Y2gsIHNoYWxsb3dSZWYsIHNoYWxsb3dSZWFjdGl2ZSwgbmV4dFRpY2sgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuZnVuY3Rpb24gaXNFU01vZHVsZShvYmopIHtcbiAgICByZXR1cm4gb2JqLl9fZXNNb2R1bGUgfHwgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnO1xufVxuY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbmZ1bmN0aW9uIGFwcGx5VG9QYXJhbXMoZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IG5ld1BhcmFtcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHBhcmFtcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1trZXldO1xuICAgICAgICBuZXdQYXJhbXNba2V5XSA9IGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IHZhbHVlLm1hcChmbilcbiAgICAgICAgICAgIDogZm4odmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3UGFyYW1zO1xufVxuY29uc3Qgbm9vcCA9ICgpID0+IHsgfTtcbi8qKlxuICogVHlwZXNhZmUgYWx0ZXJuYXRpdmUgdG8gQXJyYXkuaXNBcnJheVxuICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L3B1bGwvNDgyMjhcbiAqL1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgLy8gYXZvaWQgdXNpbmcgLi4uYXJncyBhcyBpdCBicmVha3MgaW4gb2xkZXIgRWRnZSBidWlsZHNcbiAgICBjb25zdCBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpO1xuICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBbJ1tWdWUgUm91dGVyIHdhcm5dOiAnICsgbXNnXS5jb25jYXQoYXJncykpO1xufVxuXG4vKipcbiAqIEVuY29kaW5nIFJ1bGVzIOKQoyA9IFNwYWNlIFBhdGg6IOKQoyBcIiA8ID4gIyA/IHsgfSBRdWVyeTog4pCjIFwiIDwgPiAjICYgPSBIYXNoOiDikKMgXCJcbiAqIDwgPiBgXG4gKlxuICogT24gdG9wIG9mIHRoYXQsIHRoZSBSRkMzOTg2IChodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTIuMilcbiAqIGRlZmluZXMgc29tZSBleHRyYSBjaGFyYWN0ZXJzIHRvIGJlIGVuY29kZWQuIE1vc3QgYnJvd3NlcnMgZG8gbm90IGVuY29kZSB0aGVtXG4gKiBpbiBlbmNvZGVVUkkgaHR0cHM6Ly9naXRodWIuY29tL3doYXR3Zy91cmwvaXNzdWVzLzM2OSwgc28gaXQgbWF5IGJlIHNhZmVyIHRvXG4gKiBhbHNvIGVuY29kZSBgIScoKSpgLiBMZWF2aW5nIHVuLWVuY29kZWQgb25seSBBU0NJSSBhbHBoYW51bWVyaWMoYGEtekEtWjAtOWApXG4gKiBwbHVzIGAtLl9+YC4gVGhpcyBleHRyYSBzYWZldHkgc2hvdWxkIGJlIGFwcGxpZWQgdG8gcXVlcnkgYnkgcGF0Y2hpbmcgdGhlXG4gKiBzdHJpbmcgcmV0dXJuZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50IGVuY29kZVVSSSBhbHNvIGVuY29kZXMgYFtcXF1eYC4gYFxcYFxuICogc2hvdWxkIGJlIGVuY29kZWQgdG8gYXZvaWQgYW1iaWd1aXR5LiBCcm93c2VycyAoSUUsIEZGLCBDKSB0cmFuc2Zvcm0gYSBgXFxgXG4gKiBpbnRvIGEgYC9gIGlmIGRpcmVjdGx5IHR5cGVkIGluLiBUaGUgX2JhY2t0aWNrXyAoYGBgYGApIHNob3VsZCBhbHNvIGJlXG4gKiBlbmNvZGVkIGV2ZXJ5d2hlcmUgYmVjYXVzZSBzb21lIGJyb3dzZXJzIGxpa2UgRkYgZW5jb2RlIGl0IHdoZW4gZGlyZWN0bHlcbiAqIHdyaXR0ZW4gd2hpbGUgb3RoZXJzIGRvbid0LiBTYWZhcmkgYW5kIElFIGRvbid0IGVuY29kZSBgYFwiPD57fWBgYCBpbiBoYXNoLlxuICovXG4vLyBjb25zdCBFWFRSQV9SRVNFUlZFRF9SRSA9IC9bIScoKSpdL2dcbi8vIGNvbnN0IGVuY29kZVJlc2VydmVkUmVwbGFjZXIgPSAoYzogc3RyaW5nKSA9PiAnJScgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpXG5jb25zdCBIQVNIX1JFID0gLyMvZzsgLy8gJTIzXG5jb25zdCBBTVBFUlNBTkRfUkUgPSAvJi9nOyAvLyAlMjZcbmNvbnN0IFNMQVNIX1JFID0gL1xcLy9nOyAvLyAlMkZcbmNvbnN0IEVRVUFMX1JFID0gLz0vZzsgLy8gJTNEXG5jb25zdCBJTV9SRSA9IC9cXD8vZzsgLy8gJTNGXG5jb25zdCBQTFVTX1JFID0gL1xcKy9nOyAvLyAlMkJcbi8qKlxuICogTk9URTogSXQncyBub3QgY2xlYXIgdG8gbWUgaWYgd2Ugc2hvdWxkIGVuY29kZSB0aGUgKyBzeW1ib2wgaW4gcXVlcmllcywgaXRcbiAqIHNlZW1zIHRvIGJlIGxlc3MgZmxleGlibGUgdGhhbiBub3QgZG9pbmcgc28gYW5kIEkgY2FuJ3QgZmluZCBvdXQgdGhlIGxlZ2FjeVxuICogc3lzdGVtcyByZXF1aXJpbmcgdGhpcyBmb3IgcmVndWxhciByZXF1ZXN0cyBsaWtlIHRleHQvaHRtbC4gSW4gdGhlIHN0YW5kYXJkLFxuICogdGhlIGVuY29kaW5nIG9mIHRoZSBwbHVzIGNoYXJhY3RlciBpcyBvbmx5IG1lbnRpb25lZCBmb3JcbiAqIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxuICogKGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nKSBhbmQgbW9zdCBicm93c2VycyBzZWVtcyBsb1xuICogbGVhdmUgdGhlIHBsdXMgY2hhcmFjdGVyIGFzIGlzIGluIHF1ZXJpZXMuIFRvIGJlIG1vcmUgZmxleGlibGUsIHdlIGFsbG93IHRoZVxuICogcGx1cyBjaGFyYWN0ZXIgb24gdGhlIHF1ZXJ5LCBidXQgaXQgY2FuIGFsc28gYmUgbWFudWFsbHkgZW5jb2RlZCBieSB0aGUgdXNlci5cbiAqXG4gKiBSZXNvdXJjZXM6XG4gKiAtIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsZW5jb2RlZC1wYXJzaW5nXG4gKiAtIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MzQyNzEvdXJsLWVuY29kaW5nLXRoZS1zcGFjZS1jaGFyYWN0ZXItb3ItMjBcbiAqL1xuY29uc3QgRU5DX0JSQUNLRVRfT1BFTl9SRSA9IC8lNUIvZzsgLy8gW1xuY29uc3QgRU5DX0JSQUNLRVRfQ0xPU0VfUkUgPSAvJTVEL2c7IC8vIF1cbmNvbnN0IEVOQ19DQVJFVF9SRSA9IC8lNUUvZzsgLy8gXlxuY29uc3QgRU5DX0JBQ0tUSUNLX1JFID0gLyU2MC9nOyAvLyBgXG5jb25zdCBFTkNfQ1VSTFlfT1BFTl9SRSA9IC8lN0IvZzsgLy8ge1xuY29uc3QgRU5DX1BJUEVfUkUgPSAvJTdDL2c7IC8vIHxcbmNvbnN0IEVOQ19DVVJMWV9DTE9TRV9SRSA9IC8lN0QvZzsgLy8gfVxuY29uc3QgRU5DX1NQQUNFX1JFID0gLyUyMC9nOyAvLyB9XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2hcbiAqIHNlY3Rpb25zIG9mIHRoZSBVUkwuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGNvbW1vbkVuY29kZSh0ZXh0KSB7XG4gICAgcmV0dXJuIGVuY29kZVVSSSgnJyArIHRleHQpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19QSVBFX1JFLCAnfCcpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19CUkFDS0VUX09QRU5fUkUsICdbJylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0JSQUNLRVRfQ0xPU0VfUkUsICddJyk7XG59XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBoYXNoIHNlY3Rpb24gb2YgdGhlIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUhhc2godGV4dCkge1xuICAgIHJldHVybiBjb21tb25FbmNvZGUodGV4dClcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX09QRU5fUkUsICd7JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX0NMT1NFX1JFLCAnfScpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgJ14nKTtcbn1cbi8qKlxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgcXVlcnkgdmFsdWVzIG9uIHRoZSBxdWVyeVxuICogc2VjdGlvbiBvZiB0aGUgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZW5jb2RlUXVlcnlWYWx1ZSh0ZXh0KSB7XG4gICAgcmV0dXJuIChjb21tb25FbmNvZGUodGV4dClcbiAgICAgICAgLy8gRW5jb2RlIHRoZSBzcGFjZSBhcyArLCBlbmNvZGUgdGhlICsgdG8gZGlmZmVyZW50aWF0ZSBpdCBmcm9tIHRoZSBzcGFjZVxuICAgICAgICAucmVwbGFjZShQTFVTX1JFLCAnJTJCJylcbiAgICAgICAgLnJlcGxhY2UoRU5DX1NQQUNFX1JFLCAnKycpXG4gICAgICAgIC5yZXBsYWNlKEhBU0hfUkUsICclMjMnKVxuICAgICAgICAucmVwbGFjZShBTVBFUlNBTkRfUkUsICclMjYnKVxuICAgICAgICAucmVwbGFjZShFTkNfQkFDS1RJQ0tfUkUsICdgJylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX09QRU5fUkUsICd7JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NVUkxZX0NMT1NFX1JFLCAnfScpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DQVJFVF9SRSwgJ14nKSk7XG59XG4vKipcbiAqIExpa2UgYGVuY29kZVF1ZXJ5VmFsdWVgIGJ1dCBhbHNvIGVuY29kZXMgdGhlIGA9YCBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5S2V5KHRleHQpIHtcbiAgICByZXR1cm4gZW5jb2RlUXVlcnlWYWx1ZSh0ZXh0KS5yZXBsYWNlKEVRVUFMX1JFLCAnJTNEJyk7XG59XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoIHNlY3Rpb24gb2YgdGhlIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVBhdGgodGV4dCkge1xuICAgIHJldHVybiBjb21tb25FbmNvZGUodGV4dCkucmVwbGFjZShIQVNIX1JFLCAnJTIzJykucmVwbGFjZShJTV9SRSwgJyUzRicpO1xufVxuLyoqXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgcGF0aCBzZWN0aW9uIG9mIHRoZSBVUkwgYXMgYVxuICogcGFyYW0uIFRoaXMgZnVuY3Rpb24gZW5jb2RlcyBldmVyeXRoaW5nIHtAbGluayBlbmNvZGVQYXRofSBkb2VzIHBsdXMgdGhlXG4gKiBzbGFzaCAoYC9gKSBjaGFyYWN0ZXIuIElmIGB0ZXh0YCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAsIHJldHVybnMgYW4gZW1wdHlcbiAqIHN0cmluZyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZW5jb2RlUGFyYW0odGV4dCkge1xuICAgIHJldHVybiB0ZXh0ID09IG51bGwgPyAnJyA6IGVuY29kZVBhdGgodGV4dCkucmVwbGFjZShTTEFTSF9SRSwgJyUyRicpO1xufVxuLyoqXG4gKiBEZWNvZGUgdGV4dCB1c2luZyBgZGVjb2RlVVJJQ29tcG9uZW50YC4gUmV0dXJucyB0aGUgb3JpZ2luYWwgdGV4dCBpZiBpdFxuICogZmFpbHMuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZGVjb2RlXG4gKiBAcmV0dXJucyBkZWNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBkZWNvZGUodGV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoJycgKyB0ZXh0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgd2FybihgRXJyb3IgZGVjb2RpbmcgXCIke3RleHR9XCIuIFVzaW5nIG9yaWdpbmFsIHZhbHVlYCk7XG4gICAgfVxuICAgIHJldHVybiAnJyArIHRleHQ7XG59XG5cbmNvbnN0IFRSQUlMSU5HX1NMQVNIX1JFID0gL1xcLyQvO1xuY29uc3QgcmVtb3ZlVHJhaWxpbmdTbGFzaCA9IChwYXRoKSA9PiBwYXRoLnJlcGxhY2UoVFJBSUxJTkdfU0xBU0hfUkUsICcnKTtcbi8qKlxuICogVHJhbnNmb3JtcyBhIFVSSSBpbnRvIGEgbm9ybWFsaXplZCBoaXN0b3J5IGxvY2F0aW9uXG4gKlxuICogQHBhcmFtIHBhcnNlUXVlcnlcbiAqIEBwYXJhbSBsb2NhdGlvbiAtIFVSSSB0byBub3JtYWxpemVcbiAqIEBwYXJhbSBjdXJyZW50TG9jYXRpb24gLSBjdXJyZW50IGFic29sdXRlIGxvY2F0aW9uLiBBbGxvd3MgcmVzb2x2aW5nIHJlbGF0aXZlXG4gKiBwYXRocy4gTXVzdCBzdGFydCB3aXRoIGAvYC4gRGVmYXVsdHMgdG8gYC9gXG4gKiBAcmV0dXJucyBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZVVSTChwYXJzZVF1ZXJ5LCBsb2NhdGlvbiwgY3VycmVudExvY2F0aW9uID0gJy8nKSB7XG4gICAgbGV0IHBhdGgsIHF1ZXJ5ID0ge30sIHNlYXJjaFN0cmluZyA9ICcnLCBoYXNoID0gJyc7XG4gICAgLy8gQ291bGQgdXNlIFVSTCBhbmQgVVJMU2VhcmNoUGFyYW1zIGJ1dCBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgaXRcbiAgICAvLyBUT0RPOiBtb3ZlIHRvIG5ldyBVUkwoKVxuICAgIGNvbnN0IGhhc2hQb3MgPSBsb2NhdGlvbi5pbmRleE9mKCcjJyk7XG4gICAgbGV0IHNlYXJjaFBvcyA9IGxvY2F0aW9uLmluZGV4T2YoJz8nKTtcbiAgICAvLyB0aGUgaGFzaCBhcHBlYXJzIGJlZm9yZSB0aGUgc2VhcmNoLCBzbyBpdCdzIG5vdCBwYXJ0IG9mIHRoZSBzZWFyY2ggc3RyaW5nXG4gICAgaWYgKGhhc2hQb3MgPCBzZWFyY2hQb3MgJiYgaGFzaFBvcyA+PSAwKSB7XG4gICAgICAgIHNlYXJjaFBvcyA9IC0xO1xuICAgIH1cbiAgICBpZiAoc2VhcmNoUG9zID4gLTEpIHtcbiAgICAgICAgcGF0aCA9IGxvY2F0aW9uLnNsaWNlKDAsIHNlYXJjaFBvcyk7XG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGxvY2F0aW9uLnNsaWNlKHNlYXJjaFBvcyArIDEsIGhhc2hQb3MgPiAtMSA/IGhhc2hQb3MgOiBsb2NhdGlvbi5sZW5ndGgpO1xuICAgICAgICBxdWVyeSA9IHBhcnNlUXVlcnkoc2VhcmNoU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKGhhc2hQb3MgPiAtMSkge1xuICAgICAgICBwYXRoID0gcGF0aCB8fCBsb2NhdGlvbi5zbGljZSgwLCBoYXNoUG9zKTtcbiAgICAgICAgLy8ga2VlcCB0aGUgIyBjaGFyYWN0ZXJcbiAgICAgICAgaGFzaCA9IGxvY2F0aW9uLnNsaWNlKGhhc2hQb3MsIGxvY2F0aW9uLmxlbmd0aCk7XG4gICAgfVxuICAgIC8vIG5vIHNlYXJjaCBhbmQgbm8gcXVlcnlcbiAgICBwYXRoID0gcmVzb2x2ZVJlbGF0aXZlUGF0aChwYXRoICE9IG51bGwgPyBwYXRoIDogbG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbik7XG4gICAgLy8gZW1wdHkgcGF0aCBtZWFucyBhIHJlbGF0aXZlIHF1ZXJ5IG9yIGhhc2ggYD9mb289ZmAsIGAjdGhpbmdgXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnVsbFBhdGg6IHBhdGggKyAoc2VhcmNoU3RyaW5nICYmICc/JykgKyBzZWFyY2hTdHJpbmcgKyBoYXNoLFxuICAgICAgICBwYXRoLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgaGFzaDogZGVjb2RlKGhhc2gpLFxuICAgIH07XG59XG4vKipcbiAqIFN0cmluZ2lmaWVzIGEgVVJMIG9iamVjdFxuICpcbiAqIEBwYXJhbSBzdHJpbmdpZnlRdWVyeVxuICogQHBhcmFtIGxvY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVVSTChzdHJpbmdpZnlRdWVyeSwgbG9jYXRpb24pIHtcbiAgICBjb25zdCBxdWVyeSA9IGxvY2F0aW9uLnF1ZXJ5ID8gc3RyaW5naWZ5UXVlcnkobG9jYXRpb24ucXVlcnkpIDogJyc7XG4gICAgcmV0dXJuIGxvY2F0aW9uLnBhdGggKyAocXVlcnkgJiYgJz8nKSArIHF1ZXJ5ICsgKGxvY2F0aW9uLmhhc2ggfHwgJycpO1xufVxuLyoqXG4gKiBTdHJpcHMgb2ZmIHRoZSBiYXNlIGZyb20gdGhlIGJlZ2lubmluZyBvZiBhIGxvY2F0aW9uLnBhdGhuYW1lIGluIGEgbm9uLWNhc2Utc2Vuc2l0aXZlIHdheS5cbiAqXG4gKiBAcGFyYW0gcGF0aG5hbWUgLSBsb2NhdGlvbi5wYXRobmFtZVxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIHN0cmlwIG9mZlxuICovXG5mdW5jdGlvbiBzdHJpcEJhc2UocGF0aG5hbWUsIGJhc2UpIHtcbiAgICAvLyBubyBiYXNlIG9yIGJhc2UgaXMgbm90IGZvdW5kIGF0IHRoZSBiZWdpbm5pbmdcbiAgICBpZiAoIWJhc2UgfHwgIXBhdGhuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChiYXNlLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICByZXR1cm4gcGF0aG5hbWU7XG4gICAgcmV0dXJuIHBhdGhuYW1lLnNsaWNlKGJhc2UubGVuZ3RoKSB8fCAnLyc7XG59XG4vKipcbiAqIENoZWNrcyBpZiB0d28gUm91dGVMb2NhdGlvbiBhcmUgZXF1YWwuIFRoaXMgbWVhbnMgdGhhdCBib3RoIGxvY2F0aW9ucyBhcmVcbiAqIHBvaW50aW5nIHRvd2FyZHMgdGhlIHNhbWUge0BsaW5rIFJvdXRlUmVjb3JkfSBhbmQgdGhhdCBhbGwgYHBhcmFtc2AsIGBxdWVyeWBcbiAqIHBhcmFtZXRlcnMgYW5kIGBoYXNoYCBhcmUgdGhlIHNhbWVcbiAqXG4gKiBAcGFyYW0gc3RyaW5naWZ5UXVlcnkgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBxdWVyeSBvYmplY3Qgb2YgdHlwZSBMb2NhdGlvblF1ZXJ5UmF3IGFuZCByZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGl0LlxuICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgUm91dGVMb2NhdGlvbn1cbiAqIEBwYXJhbSBiIC0gc2Vjb25kIHtAbGluayBSb3V0ZUxvY2F0aW9ufVxuICovXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uKHN0cmluZ2lmeVF1ZXJ5LCBhLCBiKSB7XG4gICAgY29uc3QgYUxhc3RJbmRleCA9IGEubWF0Y2hlZC5sZW5ndGggLSAxO1xuICAgIGNvbnN0IGJMYXN0SW5kZXggPSBiLm1hdGNoZWQubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gKGFMYXN0SW5kZXggPiAtMSAmJlxuICAgICAgICBhTGFzdEluZGV4ID09PSBiTGFzdEluZGV4ICYmXG4gICAgICAgIGlzU2FtZVJvdXRlUmVjb3JkKGEubWF0Y2hlZFthTGFzdEluZGV4XSwgYi5tYXRjaGVkW2JMYXN0SW5kZXhdKSAmJlxuICAgICAgICBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zKGEucGFyYW1zLCBiLnBhcmFtcykgJiZcbiAgICAgICAgc3RyaW5naWZ5UXVlcnkoYS5xdWVyeSkgPT09IHN0cmluZ2lmeVF1ZXJ5KGIucXVlcnkpICYmXG4gICAgICAgIGEuaGFzaCA9PT0gYi5oYXNoKTtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdHdvIGBSb3V0ZVJlY29yZHNgIGFyZSBlcXVhbC4gVGFrZXMgaW50byBhY2NvdW50IGFsaWFzZXM6IHRoZXkgYXJlXG4gKiBjb25zaWRlcmVkIGVxdWFsIHRvIHRoZSBgUm91dGVSZWNvcmRgIHRoZXkgYXJlIGFsaWFzaW5nLlxuICpcbiAqIEBwYXJhbSBhIC0gZmlyc3Qge0BsaW5rIFJvdXRlUmVjb3JkfVxuICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFJvdXRlUmVjb3JkfVxuICovXG5mdW5jdGlvbiBpc1NhbWVSb3V0ZVJlY29yZChhLCBiKSB7XG4gICAgLy8gc2luY2UgdGhlIG9yaWdpbmFsIHJlY29yZCBoYXMgYW4gdW5kZWZpbmVkIHZhbHVlIGZvciBhbGlhc09mXG4gICAgLy8gYnV0IGFsbCBhbGlhc2VzIHBvaW50IHRvIHRoZSBvcmlnaW5hbCByZWNvcmQsIHRoaXMgd2lsbCBhbHdheXMgY29tcGFyZVxuICAgIC8vIHRoZSBvcmlnaW5hbCByZWNvcmRcbiAgICByZXR1cm4gKGEuYWxpYXNPZiB8fCBhKSA9PT0gKGIuYWxpYXNPZiB8fCBiKTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYSwgYikge1xuICAgIGlmIChPYmplY3Qua2V5cyhhKS5sZW5ndGggIT09IE9iamVjdC5rZXlzKGIpLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgICAgaWYgKCFpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYVtrZXldLCBiW2tleV0pKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXNWYWx1ZShhLCBiKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYSlcbiAgICAgICAgPyBpc0VxdWl2YWxlbnRBcnJheShhLCBiKVxuICAgICAgICA6IGlzQXJyYXkoYilcbiAgICAgICAgICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYiwgYSlcbiAgICAgICAgICAgIDogYSA9PT0gYjtcbn1cbi8qKlxuICogQ2hlY2sgaWYgdHdvIGFycmF5cyBhcmUgdGhlIHNhbWUgb3IgaWYgYW4gYXJyYXkgd2l0aCBvbmUgc2luZ2xlIGVudHJ5IGlzIHRoZVxuICogc2FtZSBhcyBhbm90aGVyIHByaW1pdGl2ZSB2YWx1ZS4gVXNlZCB0byBjaGVjayBxdWVyeSBhbmQgcGFyYW1ldGVyc1xuICpcbiAqIEBwYXJhbSBhIC0gYXJyYXkgb2YgdmFsdWVzXG4gKiBAcGFyYW0gYiAtIGFycmF5IG9mIHZhbHVlcyBvciBhIHNpbmdsZSB2YWx1ZVxuICovXG5mdW5jdGlvbiBpc0VxdWl2YWxlbnRBcnJheShhLCBiKSB7XG4gICAgcmV0dXJuIGlzQXJyYXkoYilcbiAgICAgICAgPyBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5ldmVyeSgodmFsdWUsIGkpID0+IHZhbHVlID09PSBiW2ldKVxuICAgICAgICA6IGEubGVuZ3RoID09PSAxICYmIGFbMF0gPT09IGI7XG59XG4vKipcbiAqIFJlc29sdmVzIGEgcmVsYXRpdmUgcGF0aCB0aGF0IHN0YXJ0cyB3aXRoIGAuYC5cbiAqXG4gKiBAcGFyYW0gdG8gLSBwYXRoIGxvY2F0aW9uIHdlIGFyZSByZXNvbHZpbmdcbiAqIEBwYXJhbSBmcm9tIC0gY3VycmVudExvY2F0aW9uLnBhdGgsIHNob3VsZCBzdGFydCB3aXRoIGAvYFxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVsYXRpdmVQYXRoKHRvLCBmcm9tKSB7XG4gICAgaWYgKHRvLnN0YXJ0c1dpdGgoJy8nKSlcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWZyb20uc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgIHdhcm4oYENhbm5vdCByZXNvbHZlIGEgcmVsYXRpdmUgbG9jYXRpb24gd2l0aG91dCBhbiBhYnNvbHV0ZSBwYXRoLiBUcnlpbmcgdG8gcmVzb2x2ZSBcIiR7dG99XCIgZnJvbSBcIiR7ZnJvbX1cIi4gSXQgc2hvdWxkIGxvb2sgbGlrZSBcIi8ke2Zyb219XCIuYCk7XG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG4gICAgaWYgKCF0bylcbiAgICAgICAgcmV0dXJuIGZyb207XG4gICAgY29uc3QgZnJvbVNlZ21lbnRzID0gZnJvbS5zcGxpdCgnLycpO1xuICAgIGNvbnN0IHRvU2VnbWVudHMgPSB0by5zcGxpdCgnLycpO1xuICAgIGNvbnN0IGxhc3RUb1NlZ21lbnQgPSB0b1NlZ21lbnRzW3RvU2VnbWVudHMubGVuZ3RoIC0gMV07XG4gICAgLy8gbWFrZSAuIGFuZCAuLyB0aGUgc2FtZSAoLi4vID09PSAuLiwgLi4vLi4vID09PSAuLi8uLilcbiAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGJlaGF2aW9yIGFzIG5ldyBVUkwoKVxuICAgIGlmIChsYXN0VG9TZWdtZW50ID09PSAnLi4nIHx8IGxhc3RUb1NlZ21lbnQgPT09ICcuJykge1xuICAgICAgICB0b1NlZ21lbnRzLnB1c2goJycpO1xuICAgIH1cbiAgICBsZXQgcG9zaXRpb24gPSBmcm9tU2VnbWVudHMubGVuZ3RoIC0gMTtcbiAgICBsZXQgdG9Qb3NpdGlvbjtcbiAgICBsZXQgc2VnbWVudDtcbiAgICBmb3IgKHRvUG9zaXRpb24gPSAwOyB0b1Bvc2l0aW9uIDwgdG9TZWdtZW50cy5sZW5ndGg7IHRvUG9zaXRpb24rKykge1xuICAgICAgICBzZWdtZW50ID0gdG9TZWdtZW50c1t0b1Bvc2l0aW9uXTtcbiAgICAgICAgLy8gd2Ugc3RheSBvbiB0aGUgc2FtZSBwb3NpdGlvblxuICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy4nKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIC8vIGdvIHVwIGluIHRoZSBmcm9tIGFycmF5XG4gICAgICAgIGlmIChzZWdtZW50ID09PSAnLi4nKSB7XG4gICAgICAgICAgICAvLyB3ZSBjYW4ndCBnbyBiZWxvdyB6ZXJvLCBidXQgd2Ugc3RpbGwgbmVlZCB0byBpbmNyZW1lbnQgdG9Qb3NpdGlvblxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID4gMSlcbiAgICAgICAgICAgICAgICBwb3NpdGlvbi0tO1xuICAgICAgICAgICAgLy8gY29udGludWVcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSByZWFjaGVkIGEgbm9uLXJlbGF0aXZlIHBhdGgsIHdlIHN0b3AgaGVyZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIChmcm9tU2VnbWVudHMuc2xpY2UoMCwgcG9zaXRpb24pLmpvaW4oJy8nKSArXG4gICAgICAgICcvJyArXG4gICAgICAgIHRvU2VnbWVudHMuc2xpY2UodG9Qb3NpdGlvbikuam9pbignLycpKTtcbn1cblxudmFyIE5hdmlnYXRpb25UeXBlO1xuKGZ1bmN0aW9uIChOYXZpZ2F0aW9uVHlwZSkge1xuICAgIE5hdmlnYXRpb25UeXBlW1wicG9wXCJdID0gXCJwb3BcIjtcbiAgICBOYXZpZ2F0aW9uVHlwZVtcInB1c2hcIl0gPSBcInB1c2hcIjtcbn0pKE5hdmlnYXRpb25UeXBlIHx8IChOYXZpZ2F0aW9uVHlwZSA9IHt9KSk7XG52YXIgTmF2aWdhdGlvbkRpcmVjdGlvbjtcbihmdW5jdGlvbiAoTmF2aWdhdGlvbkRpcmVjdGlvbikge1xuICAgIE5hdmlnYXRpb25EaXJlY3Rpb25bXCJiYWNrXCJdID0gXCJiYWNrXCI7XG4gICAgTmF2aWdhdGlvbkRpcmVjdGlvbltcImZvcndhcmRcIl0gPSBcImZvcndhcmRcIjtcbiAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uW1widW5rbm93blwiXSA9IFwiXCI7XG59KShOYXZpZ2F0aW9uRGlyZWN0aW9uIHx8IChOYXZpZ2F0aW9uRGlyZWN0aW9uID0ge30pKTtcbi8qKlxuICogU3RhcnRpbmcgbG9jYXRpb24gZm9yIEhpc3Rvcmllc1xuICovXG5jb25zdCBTVEFSVCA9ICcnO1xuLy8gR2VuZXJpYyB1dGlsc1xuLyoqXG4gKiBOb3JtYWxpemVzIGEgYmFzZSBieSByZW1vdmluZyBhbnkgdHJhaWxpbmcgc2xhc2ggYW5kIHJlYWRpbmcgdGhlIGJhc2UgdGFnIGlmXG4gKiBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSBiYXNlIC0gYmFzZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplQmFzZShiYXNlKSB7XG4gICAgaWYgKCFiYXNlKSB7XG4gICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgIC8vIHJlc3BlY3QgPGJhc2U+IHRhZ1xuICAgICAgICAgICAgY29uc3QgYmFzZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpO1xuICAgICAgICAgICAgYmFzZSA9IChiYXNlRWwgJiYgYmFzZUVsLmdldEF0dHJpYnV0ZSgnaHJlZicpKSB8fCAnLyc7XG4gICAgICAgICAgICAvLyBzdHJpcCBmdWxsIFVSTCBvcmlnaW5cbiAgICAgICAgICAgIGJhc2UgPSBiYXNlLnJlcGxhY2UoL15cXHcrOlxcL1xcL1teXFwvXSsvLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXNlID0gJy8nO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVuc3VyZSBsZWFkaW5nIHNsYXNoIHdoZW4gaXQgd2FzIHJlbW92ZWQgYnkgdGhlIHJlZ2V4IGFib3ZlIGF2b2lkIGxlYWRpbmdcbiAgICAvLyBzbGFzaCB3aXRoIGhhc2ggYmVjYXVzZSB0aGUgZmlsZSBjb3VsZCBiZSByZWFkIGZyb20gdGhlIGRpc2sgbGlrZSBmaWxlOi8vXG4gICAgLy8gYW5kIHRoZSBsZWFkaW5nIHNsYXNoIHdvdWxkIGNhdXNlIHByb2JsZW1zXG4gICAgaWYgKGJhc2VbMF0gIT09ICcvJyAmJiBiYXNlWzBdICE9PSAnIycpXG4gICAgICAgIGJhc2UgPSAnLycgKyBiYXNlO1xuICAgIC8vIHJlbW92ZSB0aGUgdHJhaWxpbmcgc2xhc2ggc28gYWxsIG90aGVyIG1ldGhvZCBjYW4ganVzdCBkbyBgYmFzZSArIGZ1bGxQYXRoYFxuICAgIC8vIHRvIGJ1aWxkIGFuIGhyZWZcbiAgICByZXR1cm4gcmVtb3ZlVHJhaWxpbmdTbGFzaChiYXNlKTtcbn1cbi8vIHJlbW92ZSBhbnkgY2hhcmFjdGVyIGJlZm9yZSB0aGUgaGFzaFxuY29uc3QgQkVGT1JFX0hBU0hfUkUgPSAvXlteI10rIy87XG5mdW5jdGlvbiBjcmVhdGVIcmVmKGJhc2UsIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGJhc2UucmVwbGFjZShCRUZPUkVfSEFTSF9SRSwgJyMnKSArIGxvY2F0aW9uO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50UG9zaXRpb24oZWwsIG9mZnNldCkge1xuICAgIGNvbnN0IGRvY1JlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZWxSZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmVoYXZpb3I6IG9mZnNldC5iZWhhdmlvcixcbiAgICAgICAgbGVmdDogZWxSZWN0LmxlZnQgLSBkb2NSZWN0LmxlZnQgLSAob2Zmc2V0LmxlZnQgfHwgMCksXG4gICAgICAgIHRvcDogZWxSZWN0LnRvcCAtIGRvY1JlY3QudG9wIC0gKG9mZnNldC50b3AgfHwgMCksXG4gICAgfTtcbn1cbmNvbnN0IGNvbXB1dGVTY3JvbGxQb3NpdGlvbiA9ICgpID0+ICh7XG4gICAgbGVmdDogd2luZG93LnNjcm9sbFgsXG4gICAgdG9wOiB3aW5kb3cuc2Nyb2xsWSxcbn0pO1xuZnVuY3Rpb24gc2Nyb2xsVG9Qb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGxldCBzY3JvbGxUb09wdGlvbnM7XG4gICAgaWYgKCdlbCcgaW4gcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb25FbCA9IHBvc2l0aW9uLmVsO1xuICAgICAgICBjb25zdCBpc0lkU2VsZWN0b3IgPSB0eXBlb2YgcG9zaXRpb25FbCA9PT0gJ3N0cmluZycgJiYgcG9zaXRpb25FbC5zdGFydHNXaXRoKCcjJyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgaWRgcyBjYW4gYWNjZXB0IHByZXR0eSBtdWNoIGFueSBjaGFyYWN0ZXJzLCBpbmNsdWRpbmcgQ1NTIGNvbWJpbmF0b3JzXG4gICAgICAgICAqIGxpa2UgYD5gIG9yIGB+YC4gSXQncyBzdGlsbCBwb3NzaWJsZSB0byByZXRyaWV2ZSBlbGVtZW50cyB1c2luZ1xuICAgICAgICAgKiBgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ34nKWAgYnV0IGl0IG5lZWRzIHRvIGJlIGVzY2FwZWQgd2hlbiB1c2luZ1xuICAgICAgICAgKiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1xcXFx+JylgIGZvciBpdCB0byBiZSB2YWxpZC4gVGhlIG9ubHlcbiAgICAgICAgICogcmVxdWlyZW1lbnRzIGZvciBgaWRgcyBhcmUgdGhlbSB0byBiZSB1bmlxdWUgb24gdGhlIHBhZ2UgYW5kIHRvIG5vdCBiZVxuICAgICAgICAgKiBlbXB0eSAoYGlkPVwiXCJgKS4gQmVjYXVzZSBvZiB0aGF0LCB3aGVuIHBhc3NpbmcgYW4gaWQgc2VsZWN0b3IsIGl0IHNob3VsZFxuICAgICAgICAgKiBiZSBwcm9wZXJseSBlc2NhcGVkIGZvciBpdCB0byB3b3JrIHdpdGggYHF1ZXJ5U2VsZWN0b3JgLiBXZSBjb3VsZCBjaGVja1xuICAgICAgICAgKiBmb3IgdGhlIGlkIHNlbGVjdG9yIHRvIGJlIHNpbXBsZSAobm8gQ1NTIGNvbWJpbmF0b3JzIGArID5+YCkgYnV0IHRoYXRcbiAgICAgICAgICogd291bGQgbWFrZSB0aGluZ3MgaW5jb25zaXN0ZW50IHNpbmNlIHRoZXkgYXJlIHZhbGlkIGNoYXJhY3RlcnMgZm9yIGFuXG4gICAgICAgICAqIGBpZGAgYnV0IHdvdWxkIG5lZWQgdG8gYmUgZXNjYXBlZCB3aGVuIHVzaW5nIGBxdWVyeVNlbGVjdG9yYCwgYnJlYWtpbmdcbiAgICAgICAgICogdGhlaXIgdXNhZ2UgYW5kIGVuZGluZyB1cCBpbiBubyBzZWxlY3RvciByZXR1cm5lZC4gU2VsZWN0b3JzIG5lZWQgdG8gYmVcbiAgICAgICAgICogZXNjYXBlZDpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgIzEtdGhpbmdgIGJlY29tZXMgYCNcXDMxIC10aGluZ2BcbiAgICAgICAgICogLSBgI3dpdGh+c3ltYm9sc2AgYmVjb21lcyBgI3dpdGhcXFxcfnN5bWJvbHNgXG4gICAgICAgICAqXG4gICAgICAgICAqIC0gTW9yZSBpbmZvcm1hdGlvbiBhYm91dCAgdGhlIHRvcGljIGNhbiBiZSBmb3VuZCBhdFxuICAgICAgICAgKiAgIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9odG1sNS1pZC1jbGFzcy5cbiAgICAgICAgICogLSBQcmFjdGljYWwgZXhhbXBsZTogaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vaHRtbDUtaWRcbiAgICAgICAgICovXG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgdHlwZW9mIHBvc2l0aW9uLmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKCFpc0lkU2VsZWN0b3IgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uLmVsLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvc2l0aW9uLmVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRTZWxlY3RvciAmJiBmb3VuZEVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBUaGUgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHNob3VsZCBiZSBwYXNzZWQgYXMgXCJlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignJHtwb3NpdGlvbi5lbH0nKVwiIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggXCIjXCIuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdG8gYXZvaWQgb3RoZXIgd2FybmluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBzZWxlY3RvciBcIiR7cG9zaXRpb24uZWx9XCIgaXMgaW52YWxpZC4gSWYgeW91IGFyZSB1c2luZyBhbiBpZCBzZWxlY3RvciwgbWFrZSBzdXJlIHRvIGVzY2FwZSBpdC4gWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgZXNjYXBpbmcgY2hhcmFjdGVycyBpbiBzZWxlY3RvcnMgYXQgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2Nzcy1lc2NhcGVzIG9yIHVzZSBDU1MuZXNjYXBlIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ1NTL2VzY2FwZSkuYCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0byBhdm9pZCBvdGhlciB3YXJuaW5nc1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsID0gdHlwZW9mIHBvc2l0aW9uRWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IGlzSWRTZWxlY3RvclxuICAgICAgICAgICAgICAgID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb25FbC5zbGljZSgxKSlcbiAgICAgICAgICAgICAgICA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb25FbClcbiAgICAgICAgICAgIDogcG9zaXRpb25FbDtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgd2FybihgQ291bGRuJ3QgZmluZCBlbGVtZW50IHVzaW5nIHNlbGVjdG9yIFwiJHtwb3NpdGlvbi5lbH1cIiByZXR1cm5lZCBieSBzY3JvbGxCZWhhdmlvci5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY3JvbGxUb09wdGlvbnMgPSBnZXRFbGVtZW50UG9zaXRpb24oZWwsIHBvc2l0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjcm9sbFRvT3B0aW9ucyA9IHBvc2l0aW9uO1xuICAgIH1cbiAgICBpZiAoJ3Njcm9sbEJlaGF2aW9yJyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxUb09wdGlvbnMpO1xuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsVG9PcHRpb25zLmxlZnQgIT0gbnVsbCA/IHNjcm9sbFRvT3B0aW9ucy5sZWZ0IDogd2luZG93LnNjcm9sbFgsIHNjcm9sbFRvT3B0aW9ucy50b3AgIT0gbnVsbCA/IHNjcm9sbFRvT3B0aW9ucy50b3AgOiB3aW5kb3cuc2Nyb2xsWSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0U2Nyb2xsS2V5KHBhdGgsIGRlbHRhKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBoaXN0b3J5LnN0YXRlID8gaGlzdG9yeS5zdGF0ZS5wb3NpdGlvbiAtIGRlbHRhIDogLTE7XG4gICAgcmV0dXJuIHBvc2l0aW9uICsgcGF0aDtcbn1cbmNvbnN0IHNjcm9sbFBvc2l0aW9ucyA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihrZXksIHNjcm9sbFBvc2l0aW9uKSB7XG4gICAgc2Nyb2xsUG9zaXRpb25zLnNldChrZXksIHNjcm9sbFBvc2l0aW9uKTtcbn1cbmZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oa2V5KSB7XG4gICAgY29uc3Qgc2Nyb2xsID0gc2Nyb2xsUG9zaXRpb25zLmdldChrZXkpO1xuICAgIC8vIGNvbnN1bWUgaXQgc28gaXQncyBub3QgdXNlZCBhZ2FpblxuICAgIHNjcm9sbFBvc2l0aW9ucy5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gc2Nyb2xsO1xufVxuLy8gVE9ETzogUkZDIGFib3V0IGhvdyB0byBzYXZlIHNjcm9sbCBwb3NpdGlvblxuLyoqXG4gKiBTY3JvbGxCZWhhdmlvciBpbnN0YW5jZSB1c2VkIGJ5IHRoZSByb3V0ZXIgdG8gY29tcHV0ZSBhbmQgcmVzdG9yZSB0aGUgc2Nyb2xsXG4gKiBwb3NpdGlvbiB3aGVuIG5hdmlnYXRpbmcuXG4gKi9cbi8vIGV4cG9ydCBpbnRlcmZhY2UgU2Nyb2xsSGFuZGxlcjxTY3JvbGxQb3NpdGlvbkVudHJ5IGV4dGVuZHMgSGlzdG9yeVN0YXRlVmFsdWUsIFNjcm9sbFBvc2l0aW9uIGV4dGVuZHMgU2Nyb2xsUG9zaXRpb25FbnRyeT4ge1xuLy8gICAvLyByZXR1cm5zIGEgc2Nyb2xsIHBvc2l0aW9uIHRoYXQgY2FuIGJlIHNhdmVkIGluIGhpc3Rvcnlcbi8vICAgY29tcHV0ZSgpOiBTY3JvbGxQb3NpdGlvbkVudHJ5XG4vLyAgIC8vIGNhbiB0YWtlIGFuIGV4dGVuZGVkIFNjcm9sbFBvc2l0aW9uRW50cnlcbi8vICAgc2Nyb2xsKHBvc2l0aW9uOiBTY3JvbGxQb3NpdGlvbik6IHZvaWRcbi8vIH1cbi8vIGV4cG9ydCBjb25zdCBzY3JvbGxIYW5kbGVyOiBTY3JvbGxIYW5kbGVyPFNjcm9sbFBvc2l0aW9uPiA9IHtcbi8vICAgY29tcHV0ZTogY29tcHV0ZVNjcm9sbCxcbi8vICAgc2Nyb2xsOiBzY3JvbGxUb1Bvc2l0aW9uLFxuLy8gfVxuXG5sZXQgY3JlYXRlQmFzZUxvY2F0aW9uID0gKCkgPT4gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdDtcbi8qKlxuICogQ3JlYXRlcyBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvbiBmcm9tIGEgd2luZG93LmxvY2F0aW9uIG9iamVjdFxuICogQHBhcmFtIGJhc2UgLSBUaGUgYmFzZSBwYXRoXG4gKiBAcGFyYW0gbG9jYXRpb24gLSBUaGUgd2luZG93LmxvY2F0aW9uIG9iamVjdFxuICovXG5mdW5jdGlvbiBjcmVhdGVDdXJyZW50TG9jYXRpb24oYmFzZSwgbG9jYXRpb24pIHtcbiAgICBjb25zdCB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSA9IGxvY2F0aW9uO1xuICAgIC8vIGFsbG93cyBoYXNoIGJhc2VzIGxpa2UgIywgLyMsICMvLCAjISwgIyEvLCAvIyEvLCBvciBldmVuIC9mb2xkZXIjZW5kXG4gICAgY29uc3QgaGFzaFBvcyA9IGJhc2UuaW5kZXhPZignIycpO1xuICAgIGlmIChoYXNoUG9zID4gLTEpIHtcbiAgICAgICAgbGV0IHNsaWNlUG9zID0gaGFzaC5pbmNsdWRlcyhiYXNlLnNsaWNlKGhhc2hQb3MpKVxuICAgICAgICAgICAgPyBiYXNlLnNsaWNlKGhhc2hQb3MpLmxlbmd0aFxuICAgICAgICAgICAgOiAxO1xuICAgICAgICBsZXQgcGF0aEZyb21IYXNoID0gaGFzaC5zbGljZShzbGljZVBvcyk7XG4gICAgICAgIC8vIHByZXBlbmQgdGhlIHN0YXJ0aW5nIHNsYXNoIHRvIGhhc2ggc28gdGhlIHVybCBzdGFydHMgd2l0aCAvI1xuICAgICAgICBpZiAocGF0aEZyb21IYXNoWzBdICE9PSAnLycpXG4gICAgICAgICAgICBwYXRoRnJvbUhhc2ggPSAnLycgKyBwYXRoRnJvbUhhc2g7XG4gICAgICAgIHJldHVybiBzdHJpcEJhc2UocGF0aEZyb21IYXNoLCAnJyk7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBzdHJpcEJhc2UocGF0aG5hbWUsIGJhc2UpO1xuICAgIHJldHVybiBwYXRoICsgc2VhcmNoICsgaGFzaDtcbn1cbmZ1bmN0aW9uIHVzZUhpc3RvcnlMaXN0ZW5lcnMoYmFzZSwgaGlzdG9yeVN0YXRlLCBjdXJyZW50TG9jYXRpb24sIHJlcGxhY2UpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gW107XG4gICAgbGV0IHRlYXJkb3ducyA9IFtdO1xuICAgIC8vIFRPRE86IHNob3VsZCBpdCBiZSBhIHN0YWNrPyBhIERpY3QuIENoZWNrIGlmIHRoZSBwb3BzdGF0ZSBsaXN0ZW5lclxuICAgIC8vIGNhbiB0cmlnZ2VyIHR3aWNlXG4gICAgbGV0IHBhdXNlU3RhdGUgPSBudWxsO1xuICAgIGNvbnN0IHBvcFN0YXRlSGFuZGxlciA9ICh7IHN0YXRlLCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvID0gY3JlYXRlQ3VycmVudExvY2F0aW9uKGJhc2UsIGxvY2F0aW9uKTtcbiAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRMb2NhdGlvbi52YWx1ZTtcbiAgICAgICAgY29uc3QgZnJvbVN0YXRlID0gaGlzdG9yeVN0YXRlLnZhbHVlO1xuICAgICAgICBsZXQgZGVsdGEgPSAwO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xuICAgICAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlID0gc3RhdGU7XG4gICAgICAgICAgICAvLyBpZ25vcmUgdGhlIHBvcHN0YXRlIGFuZCByZXNldCB0aGUgcGF1c2VTdGF0ZVxuICAgICAgICAgICAgaWYgKHBhdXNlU3RhdGUgJiYgcGF1c2VTdGF0ZSA9PT0gZnJvbSkge1xuICAgICAgICAgICAgICAgIHBhdXNlU3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhID0gZnJvbVN0YXRlID8gc3RhdGUucG9zaXRpb24gLSBmcm9tU3RhdGUucG9zaXRpb24gOiAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVwbGFjZSh0byk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGVyZSB3ZSBjb3VsZCBhbHNvIHJldmVydCB0aGUgbmF2aWdhdGlvbiBieSBjYWxsaW5nIGhpc3RvcnkuZ28oLWRlbHRhKVxuICAgICAgICAvLyB0aGlzIGxpc3RlbmVyIHdpbGwgaGF2ZSB0byBiZSBhZGFwdGVkIHRvIG5vdCB0cmlnZ2VyIGFnYWluIGFuZCB0byB3YWl0IGZvciB0aGUgdXJsXG4gICAgICAgIC8vIHRvIGJlIHVwZGF0ZWQgYmVmb3JlIHRyaWdnZXJpbmcgdGhlIGxpc3RlbmVycy4gU29tZSBraW5kIG9mIHZhbGlkYXRpb24gZnVuY3Rpb24gd291bGQgYWxzb1xuICAgICAgICAvLyBuZWVkIHRvIGJlIHBhc3NlZCB0byB0aGUgbGlzdGVuZXJzIHNvIHRoZSBuYXZpZ2F0aW9uIGNhbiBiZSBhY2NlcHRlZFxuICAgICAgICAvLyBjYWxsIGFsbCBsaXN0ZW5lcnNcbiAgICAgICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4ge1xuICAgICAgICAgICAgbGlzdGVuZXIoY3VycmVudExvY2F0aW9uLnZhbHVlLCBmcm9tLCB7XG4gICAgICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICAgICAgdHlwZTogTmF2aWdhdGlvblR5cGUucG9wLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgPyBkZWx0YSA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gTmF2aWdhdGlvbkRpcmVjdGlvbi5mb3J3YXJkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IE5hdmlnYXRpb25EaXJlY3Rpb24uYmFja1xuICAgICAgICAgICAgICAgICAgICA6IE5hdmlnYXRpb25EaXJlY3Rpb24udW5rbm93bixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHBhdXNlTGlzdGVuZXJzKCkge1xuICAgICAgICBwYXVzZVN0YXRlID0gY3VycmVudExvY2F0aW9uLnZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0ZW4oY2FsbGJhY2spIHtcbiAgICAgICAgLy8gc2V0IHVwIHRoZSBsaXN0ZW5lciBhbmQgcHJlcGFyZSB0ZWFyZG93biBjYWxsYmFja3NcbiAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICBjb25zdCB0ZWFyZG93biA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH07XG4gICAgICAgIHRlYXJkb3ducy5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgcmV0dXJuIHRlYXJkb3duO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZWZvcmVVbmxvYWRMaXN0ZW5lcigpIHtcbiAgICAgICAgY29uc3QgeyBoaXN0b3J5IH0gPSB3aW5kb3c7XG4gICAgICAgIGlmICghaGlzdG9yeS5zdGF0ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoYXNzaWduKHt9LCBoaXN0b3J5LnN0YXRlLCB7IHNjcm9sbDogY29tcHV0ZVNjcm9sbFBvc2l0aW9uKCkgfSksICcnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChjb25zdCB0ZWFyZG93biBvZiB0ZWFyZG93bnMpXG4gICAgICAgICAgICB0ZWFyZG93bigpO1xuICAgICAgICB0ZWFyZG93bnMgPSBbXTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wU3RhdGVIYW5kbGVyKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGJlZm9yZVVubG9hZExpc3RlbmVyKTtcbiAgICB9XG4gICAgLy8gc2V0IHVwIHRoZSBsaXN0ZW5lcnMgYW5kIHByZXBhcmUgdGVhcmRvd24gY2FsbGJhY2tzXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgcG9wU3RhdGVIYW5kbGVyKTtcbiAgICAvLyBUT0RPOiBjb3VsZCB3ZSB1c2UgJ3BhZ2VoaWRlJyBvciAndmlzaWJpbGl0eWNoYW5nZScgaW5zdGVhZD9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2Jsb2cvcGFnZS1saWZlY3ljbGUtYXBpL1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lciwge1xuICAgICAgICBwYXNzaXZlOiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhdXNlTGlzdGVuZXJzLFxuICAgICAgICBsaXN0ZW4sXG4gICAgICAgIGRlc3Ryb3ksXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIHN0YXRlIG9iamVjdFxuICovXG5mdW5jdGlvbiBidWlsZFN0YXRlKGJhY2ssIGN1cnJlbnQsIGZvcndhcmQsIHJlcGxhY2VkID0gZmFsc2UsIGNvbXB1dGVTY3JvbGwgPSBmYWxzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhY2ssXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIGZvcndhcmQsXG4gICAgICAgIHJlcGxhY2VkLFxuICAgICAgICBwb3NpdGlvbjogd2luZG93Lmhpc3RvcnkubGVuZ3RoLFxuICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGwgPyBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSA6IG51bGwsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSkge1xuICAgIGNvbnN0IHsgaGlzdG9yeSwgbG9jYXRpb24gfSA9IHdpbmRvdztcbiAgICAvLyBwcml2YXRlIHZhcmlhYmxlc1xuICAgIGNvbnN0IGN1cnJlbnRMb2NhdGlvbiA9IHtcbiAgICAgICAgdmFsdWU6IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbiksXG4gICAgfTtcbiAgICBjb25zdCBoaXN0b3J5U3RhdGUgPSB7IHZhbHVlOiBoaXN0b3J5LnN0YXRlIH07XG4gICAgLy8gYnVpbGQgY3VycmVudCBoaXN0b3J5IGVudHJ5IGFzIHRoaXMgaXMgYSBmcmVzaCBuYXZpZ2F0aW9uXG4gICAgaWYgKCFoaXN0b3J5U3RhdGUudmFsdWUpIHtcbiAgICAgICAgY2hhbmdlTG9jYXRpb24oY3VycmVudExvY2F0aW9uLnZhbHVlLCB7XG4gICAgICAgICAgICBiYWNrOiBudWxsLFxuICAgICAgICAgICAgY3VycmVudDogY3VycmVudExvY2F0aW9uLnZhbHVlLFxuICAgICAgICAgICAgZm9yd2FyZDogbnVsbCxcbiAgICAgICAgICAgIC8vIHRoZSBsZW5ndGggaXMgb2ZmIGJ5IG9uZSwgd2UgbmVlZCB0byBkZWNyZWFzZSBpdFxuICAgICAgICAgICAgcG9zaXRpb246IGhpc3RvcnkubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIHJlcGxhY2VkOiB0cnVlLFxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIGEgc2Nyb2xsIGFzIHRoZSB1c2VyIG1heSBoYXZlIGFuIGFuY2hvciwgYW5kIHdlIHdhbnRcbiAgICAgICAgICAgIC8vIHNjcm9sbEJlaGF2aW9yIHRvIGJlIHRyaWdnZXJlZCB3aXRob3V0IGEgc2F2ZWQgcG9zaXRpb25cbiAgICAgICAgICAgIHNjcm9sbDogbnVsbCxcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgcmVwbGFjZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogaWYgYSBiYXNlIHRhZyBpcyBwcm92aWRlZCwgYW5kIHdlIGFyZSBvbiBhIG5vcm1hbCBkb21haW4sIHdlIGhhdmUgdG9cbiAgICAgICAgICogcmVzcGVjdCB0aGUgcHJvdmlkZWQgYGJhc2VgIGF0dHJpYnV0ZSBiZWNhdXNlIHB1c2hTdGF0ZSgpIHdpbGwgdXNlIGl0IGFuZFxuICAgICAgICAgKiBwb3RlbnRpYWxseSBlcmFzZSBhbnl0aGluZyBiZWZvcmUgdGhlIGAjYCBsaWtlIGF0XG4gICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzY4NSB3aGVyZSBhIGJhc2Ugb2ZcbiAgICAgICAgICogYC9mb2xkZXIvI2AgYnV0IGEgYmFzZSBvZiBgL2Agd291bGQgZXJhc2UgdGhlIGAvZm9sZGVyL2Agc2VjdGlvbi4gSWZcbiAgICAgICAgICogdGhlcmUgaXMgbm8gaG9zdCwgdGhlIGA8YmFzZT5gIHRhZyBtYWtlcyBubyBzZW5zZSBhbmQgaWYgdGhlcmUgaXNuJ3QgYVxuICAgICAgICAgKiBiYXNlIHRhZyB3ZSBjYW4ganVzdCB1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgYCNgLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgaGFzaEluZGV4ID0gYmFzZS5pbmRleE9mKCcjJyk7XG4gICAgICAgIGNvbnN0IHVybCA9IGhhc2hJbmRleCA+IC0xXG4gICAgICAgICAgICA/IChsb2NhdGlvbi5ob3N0ICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKVxuICAgICAgICAgICAgICAgID8gYmFzZVxuICAgICAgICAgICAgICAgIDogYmFzZS5zbGljZShoYXNoSW5kZXgpKSArIHRvXG4gICAgICAgICAgICA6IGNyZWF0ZUJhc2VMb2NhdGlvbigpICsgYmFzZSArIHRvO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQlJPV1NFUiBRVUlSS1xuICAgICAgICAgICAgLy8gTk9URTogU2FmYXJpIHRocm93cyBhIFNlY3VyaXR5RXJyb3Igd2hlbiBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gMTAwIHRpbWVzIGluIDMwIHNlY29uZHNcbiAgICAgICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcbiAgICAgICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSA9IHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdFcnJvciB3aXRoIHB1c2gvcmVwbGFjZSBTdGF0ZScsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3JjZSB0aGUgbmF2aWdhdGlvbiwgdGhpcyBhbHNvIHJlc2V0cyB0aGUgY2FsbCBjb3VudFxuICAgICAgICAgICAgbG9jYXRpb25bcmVwbGFjZSA/ICdyZXBsYWNlJyA6ICdhc3NpZ24nXSh1cmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxhY2UodG8sIGRhdGEpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIGJ1aWxkU3RhdGUoaGlzdG9yeVN0YXRlLnZhbHVlLmJhY2ssIFxuICAgICAgICAvLyBrZWVwIGJhY2sgYW5kIGZvcndhcmQgZW50cmllcyBidXQgb3ZlcnJpZGUgY3VycmVudCBwb3NpdGlvblxuICAgICAgICB0bywgaGlzdG9yeVN0YXRlLnZhbHVlLmZvcndhcmQsIHRydWUpLCBkYXRhLCB7IHBvc2l0aW9uOiBoaXN0b3J5U3RhdGUudmFsdWUucG9zaXRpb24gfSk7XG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKHRvLCBkYXRhKSB7XG4gICAgICAgIC8vIEFkZCB0byBjdXJyZW50IGVudHJ5IHRoZSBpbmZvcm1hdGlvbiBvZiB3aGVyZSB3ZSBhcmUgZ29pbmdcbiAgICAgICAgLy8gYXMgd2VsbCBhcyBzYXZpbmcgdGhlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gYXNzaWduKHt9LCBcbiAgICAgICAgLy8gdXNlIGN1cnJlbnQgaGlzdG9yeSBzdGF0ZSB0byBncmFjZWZ1bGx5IGhhbmRsZSBhIHdyb25nIGNhbGwgdG9cbiAgICAgICAgLy8gaGlzdG9yeS5yZXBsYWNlU3RhdGVcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvMzY2XG4gICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSwgaGlzdG9yeS5zdGF0ZSwge1xuICAgICAgICAgICAgZm9yd2FyZDogdG8sXG4gICAgICAgICAgICBzY3JvbGw6IGNvbXB1dGVTY3JvbGxQb3NpdGlvbigpLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaGlzdG9yeS5zdGF0ZSkge1xuICAgICAgICAgICAgd2FybihgaGlzdG9yeS5zdGF0ZSBzZWVtcyB0byBoYXZlIGJlZW4gbWFudWFsbHkgcmVwbGFjZWQgd2l0aG91dCBwcmVzZXJ2aW5nIHRoZSBuZWNlc3NhcnkgdmFsdWVzLiBNYWtlIHN1cmUgdG8gcHJlc2VydmUgZXhpc3RpbmcgaGlzdG9yeSBzdGF0ZSBpZiB5b3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgaGlzdG9yeS5yZXBsYWNlU3RhdGU6XFxuXFxuYCArXG4gICAgICAgICAgICAgICAgYGhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3Rvcnkuc3RhdGUsICcnLCB1cmwpXFxuXFxuYCArXG4gICAgICAgICAgICAgICAgYFlvdSBjYW4gZmluZCBtb3JlIGluZm9ybWF0aW9uIGF0IGh0dHBzOi8vbmV4dC5yb3V0ZXIudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi8jdXNhZ2Utb2YtaGlzdG9yeS1zdGF0ZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2VMb2NhdGlvbihjdXJyZW50U3RhdGUuY3VycmVudCwgY3VycmVudFN0YXRlLCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhc3NpZ24oe30sIGJ1aWxkU3RhdGUoY3VycmVudExvY2F0aW9uLnZhbHVlLCB0bywgbnVsbCksIHsgcG9zaXRpb246IGN1cnJlbnRTdGF0ZS5wb3NpdGlvbiArIDEgfSwgZGF0YSk7XG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKHRvLCBzdGF0ZSwgZmFsc2UpO1xuICAgICAgICBjdXJyZW50TG9jYXRpb24udmFsdWUgPSB0bztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYXRpb246IGN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgc3RhdGU6IGhpc3RvcnlTdGF0ZSxcbiAgICAgICAgcHVzaCxcbiAgICAgICAgcmVwbGFjZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIEhUTUw1IGhpc3RvcnkuIE1vc3QgY29tbW9uIGhpc3RvcnkgZm9yIHNpbmdsZSBwYWdlIGFwcGxpY2F0aW9ucy5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYkhpc3RvcnkoYmFzZSkge1xuICAgIGJhc2UgPSBub3JtYWxpemVCYXNlKGJhc2UpO1xuICAgIGNvbnN0IGhpc3RvcnlOYXZpZ2F0aW9uID0gdXNlSGlzdG9yeVN0YXRlTmF2aWdhdGlvbihiYXNlKTtcbiAgICBjb25zdCBoaXN0b3J5TGlzdGVuZXJzID0gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZSwgaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24sIGhpc3RvcnlOYXZpZ2F0aW9uLnJlcGxhY2UpO1xuICAgIGZ1bmN0aW9uIGdvKGRlbHRhLCB0cmlnZ2VyTGlzdGVuZXJzID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXRyaWdnZXJMaXN0ZW5lcnMpXG4gICAgICAgICAgICBoaXN0b3J5TGlzdGVuZXJzLnBhdXNlTGlzdGVuZXJzKCk7XG4gICAgICAgIGhpc3RvcnkuZ28oZGVsdGEpO1xuICAgIH1cbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0gYXNzaWduKHtcbiAgICAgICAgLy8gaXQncyBvdmVycmlkZGVuIHJpZ2h0IGFmdGVyXG4gICAgICAgIGxvY2F0aW9uOiAnJyxcbiAgICAgICAgYmFzZSxcbiAgICAgICAgZ28sXG4gICAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYuYmluZChudWxsLCBiYXNlKSxcbiAgICB9LCBoaXN0b3J5TmF2aWdhdGlvbiwgaGlzdG9yeUxpc3RlbmVycyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdXRlckhpc3RvcnksICdsb2NhdGlvbicsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBoaXN0b3J5TmF2aWdhdGlvbi5sb2NhdGlvbi52YWx1ZSxcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm91dGVySGlzdG9yeSwgJ3N0YXRlJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGhpc3RvcnlOYXZpZ2F0aW9uLnN0YXRlLnZhbHVlLFxuICAgIH0pO1xuICAgIHJldHVybiByb3V0ZXJIaXN0b3J5O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW4tbWVtb3J5IGJhc2VkIGhpc3RvcnkuIFRoZSBtYWluIHB1cnBvc2Ugb2YgdGhpcyBoaXN0b3J5IGlzIHRvIGhhbmRsZSBTU1IuIEl0IHN0YXJ0cyBpbiBhIHNwZWNpYWwgbG9jYXRpb24gdGhhdCBpcyBub3doZXJlLlxuICogSXQncyB1cCB0byB0aGUgdXNlciB0byByZXBsYWNlIHRoYXQgbG9jYXRpb24gd2l0aCB0aGUgc3RhcnRlciBsb2NhdGlvbiBieSBlaXRoZXIgY2FsbGluZyBgcm91dGVyLnB1c2hgIG9yIGByb3V0ZXIucmVwbGFjZWAuXG4gKlxuICogQHBhcmFtIGJhc2UgLSBCYXNlIGFwcGxpZWQgdG8gYWxsIHVybHMsIGRlZmF1bHRzIHRvICcvJ1xuICogQHJldHVybnMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIHJvdXRlciBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KGJhc2UgPSAnJykge1xuICAgIGxldCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBsZXQgcXVldWUgPSBbU1RBUlRdO1xuICAgIGxldCBwb3NpdGlvbiA9IDA7XG4gICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoYmFzZSk7XG4gICAgZnVuY3Rpb24gc2V0TG9jYXRpb24obG9jYXRpb24pIHtcbiAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHdlIGFyZSBpbiB0aGUgbWlkZGxlLCB3ZSByZW1vdmUgZXZlcnl0aGluZyBmcm9tIGhlcmUgaW4gdGhlIHF1ZXVlXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHF1ZXVlLnB1c2gobG9jYXRpb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmlnZ2VyTGlzdGVuZXJzKHRvLCBmcm9tLCB7IGRpcmVjdGlvbiwgZGVsdGEgfSkge1xuICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICB0eXBlOiBOYXZpZ2F0aW9uVHlwZS5wb3AsXG4gICAgICAgIH07XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh0bywgZnJvbSwgaW5mbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgcm91dGVySGlzdG9yeSA9IHtcbiAgICAgICAgLy8gcmV3cml0dGVuIGJ5IE9iamVjdC5kZWZpbmVQcm9wZXJ0eVxuICAgICAgICBsb2NhdGlvbjogU1RBUlQsXG4gICAgICAgIC8vIFRPRE86IHNob3VsZCBiZSBrZXB0IGluIHF1ZXVlXG4gICAgICAgIHN0YXRlOiB7fSxcbiAgICAgICAgYmFzZSxcbiAgICAgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZi5iaW5kKG51bGwsIGJhc2UpLFxuICAgICAgICByZXBsYWNlKHRvKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgY3VycmVudCBlbnRyeSBhbmQgZGVjcmVtZW50IHBvc2l0aW9uXG4gICAgICAgICAgICBxdWV1ZS5zcGxpY2UocG9zaXRpb24tLSwgMSk7XG4gICAgICAgICAgICBzZXRMb2NhdGlvbih0byk7XG4gICAgICAgIH0sXG4gICAgICAgIHB1c2godG8sIGRhdGEpIHtcbiAgICAgICAgICAgIHNldExvY2F0aW9uKHRvKTtcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdGVuKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgICAgIHF1ZXVlID0gW1NUQVJUXTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZ28oZGVsdGEsIHNob3VsZFRyaWdnZXIgPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tID0gdGhpcy5sb2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IFxuICAgICAgICAgICAgLy8gd2UgYXJlIGNvbnNpZGVyaW5nIGRlbHRhID09PSAwIGdvaW5nIGZvcndhcmQsIGJ1dCBpbiBhYnN0cmFjdCBtb2RlXG4gICAgICAgICAgICAvLyB1c2luZyAwIGZvciB0aGUgZGVsdGEgZG9lc24ndCBtYWtlIHNlbnNlIGxpa2UgaXQgZG9lcyBpbiBodG1sNSB3aGVyZVxuICAgICAgICAgICAgLy8gaXQgcmVsb2FkcyB0aGUgcGFnZVxuICAgICAgICAgICAgZGVsdGEgPCAwID8gTmF2aWdhdGlvbkRpcmVjdGlvbi5iYWNrIDogTmF2aWdhdGlvbkRpcmVjdGlvbi5mb3J3YXJkO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihwb3NpdGlvbiArIGRlbHRhLCBxdWV1ZS5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkVHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJMaXN0ZW5lcnModGhpcy5sb2NhdGlvbiwgZnJvbSwge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdXRlckhpc3RvcnksICdsb2NhdGlvbicsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBxdWV1ZVtwb3NpdGlvbl0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHJvdXRlckhpc3Rvcnk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggaGlzdG9yeS4gVXNlZnVsIGZvciB3ZWIgYXBwbGljYXRpb25zIHdpdGggbm8gaG9zdCAoZS5nLiBgZmlsZTovL2ApIG9yIHdoZW4gY29uZmlndXJpbmcgYSBzZXJ2ZXIgdG9cbiAqIGhhbmRsZSBhbnkgVVJMIGlzIG5vdCBwb3NzaWJsZS5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtIG9wdGlvbmFsIGJhc2UgdG8gcHJvdmlkZS4gRGVmYXVsdHMgdG8gYGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoYCBJZiB0aGVyZSBpcyBhIGA8YmFzZT5gIHRhZ1xuICogaW4gdGhlIGBoZWFkYCwgaXRzIHZhbHVlIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvciBvZiB0aGlzIHBhcmFtZXRlciAqKmJ1dCBub3RlIGl0IGFmZmVjdHMgYWxsIHRoZSBoaXN0b3J5LnB1c2hTdGF0ZSgpXG4gKiBjYWxscyoqLCBtZWFuaW5nIHRoYXQgaWYgeW91IHVzZSBhIGA8YmFzZT5gIHRhZywgaXQncyBgaHJlZmAgdmFsdWUgKipoYXMgdG8gbWF0Y2ggdGhpcyBwYXJhbWV0ZXIqKiAoaWdub3JpbmcgYW55dGhpbmdcbiAqIGFmdGVyIHRoZSBgI2ApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogLy8gYXQgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXJcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCkgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vZm9sZGVyI2BcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvZm9sZGVyLycpIC8vIGdpdmVzIGEgdXJsIG9mIGBodHRwczovL2V4YW1wbGUuY29tL2ZvbGRlci8jYFxuICogLy8gaWYgdGhlIGAjYCBpcyBwcm92aWRlZCBpbiB0aGUgYmFzZSwgaXQgd29uJ3QgYmUgYWRkZWQgYnkgYGNyZWF0ZVdlYkhhc2hIaXN0b3J5YFxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9mb2xkZXIvIy9hcHAvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vZm9sZGVyLyMvYXBwL2BcbiAqIC8vIHlvdSBzaG91bGQgYXZvaWQgZG9pbmcgdGhpcyBiZWNhdXNlIGl0IGNoYW5nZXMgdGhlIG9yaWdpbmFsIHVybCBhbmQgYnJlYWtzIGNvcHlpbmcgdXJsc1xuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9vdGhlci1mb2xkZXIvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vb3RoZXItZm9sZGVyLyNgXG4gKlxuICogLy8gYXQgZmlsZTovLy91c3IvZXRjL2ZvbGRlci9pbmRleC5odG1sXG4gKiAvLyBmb3IgbG9jYXRpb25zIHdpdGggbm8gYGhvc3RgLCB0aGUgYmFzZSBpcyBpZ25vcmVkXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2lBbUlnbm9yZWQnKSAvLyBnaXZlcyBhIHVybCBvZiBgZmlsZTovLy91c3IvZXRjL2ZvbGRlci9pbmRleC5odG1sI2BcbiAqIGBgYFxuICovXG5mdW5jdGlvbiBjcmVhdGVXZWJIYXNoSGlzdG9yeShiYXNlKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgZmluZSBpbiB0ZXJtcyBvZiBlbmNvZGluZywgc3BlY2lhbGx5IGZvciBJRTExXG4gICAgLy8gZm9yIGBmaWxlOi8vYCwgZGlyZWN0bHkgdXNlIHRoZSBwYXRobmFtZSBhbmQgaWdub3JlIHRoZSBiYXNlXG4gICAgLy8gbG9jYXRpb24ucGF0aG5hbWUgY29udGFpbnMgYW4gaW5pdGlhbCBgL2AgZXZlbiBhdCB0aGUgcm9vdDogYGh0dHBzOi8vZXhhbXBsZS5jb21gXG4gICAgYmFzZSA9IGxvY2F0aW9uLmhvc3QgPyBiYXNlIHx8IGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoIDogJyc7XG4gICAgLy8gYWxsb3cgdGhlIHVzZXIgdG8gcHJvdmlkZSBhIGAjYCBpbiB0aGUgbWlkZGxlOiBgL2Jhc2UvIy9hcHBgXG4gICAgaWYgKCFiYXNlLmluY2x1ZGVzKCcjJykpXG4gICAgICAgIGJhc2UgKz0gJyMnO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWJhc2UuZW5kc1dpdGgoJyMvJykgJiYgIWJhc2UuZW5kc1dpdGgoJyMnKSkge1xuICAgICAgICB3YXJuKGBBIGhhc2ggYmFzZSBtdXN0IGVuZCB3aXRoIGEgXCIjXCI6XFxuXCIke2Jhc2V9XCIgc2hvdWxkIGJlIFwiJHtiYXNlLnJlcGxhY2UoLyMuKiQvLCAnIycpfVwiLmApO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlV2ViSGlzdG9yeShiYXNlKTtcbn1cblxuZnVuY3Rpb24gaXNSb3V0ZUxvY2F0aW9uKHJvdXRlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiByb3V0ZSA9PT0gJ3N0cmluZycgfHwgKHJvdXRlICYmIHR5cGVvZiByb3V0ZSA9PT0gJ29iamVjdCcpO1xufVxuZnVuY3Rpb24gaXNSb3V0ZU5hbWUobmFtZSkge1xuICAgIHJldHVybiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnO1xufVxuXG4vKipcbiAqIEluaXRpYWwgcm91dGUgbG9jYXRpb24gd2hlcmUgdGhlIHJvdXRlciBpcy4gQ2FuIGJlIHVzZWQgaW4gbmF2aWdhdGlvbiBndWFyZHNcbiAqIHRvIGRpZmZlcmVudGlhdGUgdGhlIGluaXRpYWwgbmF2aWdhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCB7IFNUQVJUX0xPQ0FUSU9OIH0gZnJvbSAndnVlLXJvdXRlcidcbiAqXG4gKiByb3V0ZXIuYmVmb3JlRWFjaCgodG8sIGZyb20pID0+IHtcbiAqICAgaWYgKGZyb20gPT09IFNUQVJUX0xPQ0FUSU9OKSB7XG4gKiAgICAgLy8gaW5pdGlhbCBuYXZpZ2F0aW9uXG4gKiAgIH1cbiAqIH0pXG4gKiBgYGBcbiAqL1xuY29uc3QgU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCA9IHtcbiAgICBwYXRoOiAnLycsXG4gICAgbmFtZTogdW5kZWZpbmVkLFxuICAgIHBhcmFtczoge30sXG4gICAgcXVlcnk6IHt9LFxuICAgIGhhc2g6ICcnLFxuICAgIGZ1bGxQYXRoOiAnLycsXG4gICAgbWF0Y2hlZDogW10sXG4gICAgbWV0YToge30sXG4gICAgcmVkaXJlY3RlZEZyb206IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IE5hdmlnYXRpb25GYWlsdXJlU3ltYm9sID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICduYXZpZ2F0aW9uIGZhaWx1cmUnIDogJycpO1xuLyoqXG4gKiBFbnVtZXJhdGlvbiB3aXRoIGFsbCBwb3NzaWJsZSB0eXBlcyBmb3IgbmF2aWdhdGlvbiBmYWlsdXJlcy4gQ2FuIGJlIHBhc3NlZCB0b1xuICoge0BsaW5rIGlzTmF2aWdhdGlvbkZhaWx1cmV9IHRvIGNoZWNrIGZvciBzcGVjaWZpYyBmYWlsdXJlcy5cbiAqL1xudmFyIE5hdmlnYXRpb25GYWlsdXJlVHlwZTtcbihmdW5jdGlvbiAoTmF2aWdhdGlvbkZhaWx1cmVUeXBlKSB7XG4gICAgLyoqXG4gICAgICogQW4gYWJvcnRlZCBuYXZpZ2F0aW9uIGlzIGEgbmF2aWdhdGlvbiB0aGF0IGZhaWxlZCBiZWNhdXNlIGEgbmF2aWdhdGlvblxuICAgICAqIGd1YXJkIHJldHVybmVkIGBmYWxzZWAgb3IgY2FsbGVkIGBuZXh0KGZhbHNlKWBcbiAgICAgKi9cbiAgICBOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbTmF2aWdhdGlvbkZhaWx1cmVUeXBlW1wiYWJvcnRlZFwiXSA9IDRdID0gXCJhYm9ydGVkXCI7XG4gICAgLyoqXG4gICAgICogQSBjYW5jZWxsZWQgbmF2aWdhdGlvbiBpcyBhIG5hdmlnYXRpb24gdGhhdCBmYWlsZWQgYmVjYXVzZSBhIG1vcmUgcmVjZW50XG4gICAgICogbmF2aWdhdGlvbiBmaW5pc2hlZCBzdGFydGVkIChub3QgbmVjZXNzYXJpbHkgZmluaXNoZWQpLlxuICAgICAqL1xuICAgIE5hdmlnYXRpb25GYWlsdXJlVHlwZVtOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbXCJjYW5jZWxsZWRcIl0gPSA4XSA9IFwiY2FuY2VsbGVkXCI7XG4gICAgLyoqXG4gICAgICogQSBkdXBsaWNhdGVkIG5hdmlnYXRpb24gaXMgYSBuYXZpZ2F0aW9uIHRoYXQgZmFpbGVkIGJlY2F1c2UgaXQgd2FzXG4gICAgICogaW5pdGlhdGVkIHdoaWxlIGFscmVhZHkgYmVpbmcgYXQgdGhlIGV4YWN0IHNhbWUgbG9jYXRpb24uXG4gICAgICovXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImR1cGxpY2F0ZWRcIl0gPSAxNl0gPSBcImR1cGxpY2F0ZWRcIjtcbn0pKE5hdmlnYXRpb25GYWlsdXJlVHlwZSB8fCAoTmF2aWdhdGlvbkZhaWx1cmVUeXBlID0ge30pKTtcbi8vIERFViBvbmx5IGRlYnVnIG1lc3NhZ2VzXG5jb25zdCBFcnJvclR5cGVNZXNzYWdlcyA9IHtcbiAgICBbMSAvKiBFcnJvclR5cGVzLk1BVENIRVJfTk9UX0ZPVU5EICovXSh7IGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gfSkge1xuICAgICAgICByZXR1cm4gYE5vIG1hdGNoIGZvclxcbiAke0pTT04uc3RyaW5naWZ5KGxvY2F0aW9uKX0ke2N1cnJlbnRMb2NhdGlvblxuICAgICAgICAgICAgPyAnXFxud2hpbGUgYmVpbmcgYXRcXG4nICsgSlNPTi5zdHJpbmdpZnkoY3VycmVudExvY2F0aW9uKVxuICAgICAgICAgICAgOiAnJ31gO1xuICAgIH0sXG4gICAgWzIgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovXSh7IGZyb20sIHRvLCB9KSB7XG4gICAgICAgIHJldHVybiBgUmVkaXJlY3RlZCBmcm9tIFwiJHtmcm9tLmZ1bGxQYXRofVwiIHRvIFwiJHtzdHJpbmdpZnlSb3V0ZSh0byl9XCIgdmlhIGEgbmF2aWdhdGlvbiBndWFyZC5gO1xuICAgIH0sXG4gICAgWzQgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0FCT1JURUQgKi9dKHsgZnJvbSwgdG8gfSkge1xuICAgICAgICByZXR1cm4gYE5hdmlnYXRpb24gYWJvcnRlZCBmcm9tIFwiJHtmcm9tLmZ1bGxQYXRofVwiIHRvIFwiJHt0by5mdWxsUGF0aH1cIiB2aWEgYSBuYXZpZ2F0aW9uIGd1YXJkLmA7XG4gICAgfSxcbiAgICBbOCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQ0FOQ0VMTEVEICovXSh7IGZyb20sIHRvIH0pIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uIGNhbmNlbGxlZCBmcm9tIFwiJHtmcm9tLmZ1bGxQYXRofVwiIHRvIFwiJHt0by5mdWxsUGF0aH1cIiB3aXRoIGEgbmV3IG5hdmlnYXRpb24uYDtcbiAgICB9LFxuICAgIFsxNiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fRFVQTElDQVRFRCAqL10oeyBmcm9tLCB0byB9KSB7XG4gICAgICAgIHJldHVybiBgQXZvaWRlZCByZWR1bmRhbnQgbmF2aWdhdGlvbiB0byBjdXJyZW50IGxvY2F0aW9uOiBcIiR7ZnJvbS5mdWxsUGF0aH1cIi5gO1xuICAgIH0sXG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgdHlwZWQgTmF2aWdhdGlvbkZhaWx1cmUgb2JqZWN0LlxuICogQGludGVybmFsXG4gKiBAcGFyYW0gdHlwZSAtIE5hdmlnYXRpb25GYWlsdXJlVHlwZVxuICogQHBhcmFtIHBhcmFtcyAtIHsgZnJvbSwgdG8gfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXJFcnJvcih0eXBlLCBwYXJhbXMpIHtcbiAgICAvLyBrZWVwIGZ1bGwgZXJyb3IgbWVzc2FnZXMgaW4gY2pzIHZlcnNpb25zXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhdHJ1ZSkge1xuICAgICAgICByZXR1cm4gYXNzaWduKG5ldyBFcnJvcihFcnJvclR5cGVNZXNzYWdlc1t0eXBlXShwYXJhbXMpKSwge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIFtOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbF06IHRydWUsXG4gICAgICAgIH0sIHBhcmFtcyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYXNzaWduKG5ldyBFcnJvcigpLCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgW05hdmlnYXRpb25GYWlsdXJlU3ltYm9sXTogdHJ1ZSxcbiAgICAgICAgfSwgcGFyYW1zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yLCB0eXBlKSB7XG4gICAgcmV0dXJuIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmXG4gICAgICAgIE5hdmlnYXRpb25GYWlsdXJlU3ltYm9sIGluIGVycm9yICYmXG4gICAgICAgICh0eXBlID09IG51bGwgfHwgISEoZXJyb3IudHlwZSAmIHR5cGUpKSk7XG59XG5jb25zdCBwcm9wZXJ0aWVzVG9Mb2cgPSBbJ3BhcmFtcycsICdxdWVyeScsICdoYXNoJ107XG5mdW5jdGlvbiBzdHJpbmdpZnlSb3V0ZSh0bykge1xuICAgIGlmICh0eXBlb2YgdG8gPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gdG87XG4gICAgaWYgKHRvLnBhdGggIT0gbnVsbClcbiAgICAgICAgcmV0dXJuIHRvLnBhdGg7XG4gICAgY29uc3QgbG9jYXRpb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwcm9wZXJ0aWVzVG9Mb2cpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0bylcbiAgICAgICAgICAgIGxvY2F0aW9uW2tleV0gPSB0b1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobG9jYXRpb24sIG51bGwsIDIpO1xufVxuXG4vLyBkZWZhdWx0IHBhdHRlcm4gZm9yIGEgcGFyYW06IG5vbi1ncmVlZHkgZXZlcnl0aGluZyBidXQgL1xuY29uc3QgQkFTRV9QQVJBTV9QQVRURVJOID0gJ1teL10rPyc7XG5jb25zdCBCQVNFX1BBVEhfUEFSU0VSX09QVElPTlMgPSB7XG4gICAgc2Vuc2l0aXZlOiBmYWxzZSxcbiAgICBzdHJpY3Q6IGZhbHNlLFxuICAgIHN0YXJ0OiB0cnVlLFxuICAgIGVuZDogdHJ1ZSxcbn07XG4vLyBTcGVjaWFsIFJlZ2V4IGNoYXJhY3RlcnMgdGhhdCBtdXN0IGJlIGVzY2FwZWQgaW4gc3RhdGljIHRva2Vuc1xuY29uc3QgUkVHRVhfQ0hBUlNfUkUgPSAvWy4rKj9eJHt9KClbXFxdL1xcXFxdL2c7XG4vKipcbiAqIENyZWF0ZXMgYSBwYXRoIHBhcnNlciBmcm9tIGFuIGFycmF5IG9mIFNlZ21lbnRzIChhIHNlZ21lbnQgaXMgYW4gYXJyYXkgb2YgVG9rZW5zKVxuICpcbiAqIEBwYXJhbSBzZWdtZW50cyAtIGFycmF5IG9mIHNlZ21lbnRzIHJldHVybmVkIGJ5IHRva2VuaXplUGF0aFxuICogQHBhcmFtIGV4dHJhT3B0aW9ucyAtIG9wdGlvbmFsIG9wdGlvbnMgZm9yIHRoZSByZWdleHBcbiAqIEByZXR1cm5zIGEgUGF0aFBhcnNlclxuICovXG5mdW5jdGlvbiB0b2tlbnNUb1BhcnNlcihzZWdtZW50cywgZXh0cmFPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGFzc2lnbih7fSwgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TLCBleHRyYU9wdGlvbnMpO1xuICAgIC8vIHRoZSBhbW91bnQgb2Ygc2NvcmVzIGlzIHRoZSBzYW1lIGFzIHRoZSBsZW5ndGggb2Ygc2VnbWVudHMgZXhjZXB0IGZvciB0aGUgcm9vdCBzZWdtZW50IFwiL1wiXG4gICAgY29uc3Qgc2NvcmUgPSBbXTtcbiAgICAvLyB0aGUgcmVnZXhwIGFzIGEgc3RyaW5nXG4gICAgbGV0IHBhdHRlcm4gPSBvcHRpb25zLnN0YXJ0ID8gJ14nIDogJyc7XG4gICAgLy8gZXh0cmFjdGVkIGtleXNcbiAgICBjb25zdCBrZXlzID0gW107XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgIC8vIHRoZSByb290IHNlZ21lbnQgbmVlZHMgc3BlY2lhbCB0cmVhdG1lbnRcbiAgICAgICAgY29uc3Qgc2VnbWVudFNjb3JlcyA9IHNlZ21lbnQubGVuZ3RoID8gW10gOiBbOTAgLyogUGF0aFNjb3JlLlJvb3QgKi9dO1xuICAgICAgICAvLyBhbGxvdyB0cmFpbGluZyBzbGFzaFxuICAgICAgICBpZiAob3B0aW9ucy5zdHJpY3QgJiYgIXNlZ21lbnQubGVuZ3RoKVxuICAgICAgICAgICAgcGF0dGVybiArPSAnLyc7XG4gICAgICAgIGZvciAobGV0IHRva2VuSW5kZXggPSAwOyB0b2tlbkluZGV4IDwgc2VnbWVudC5sZW5ndGg7IHRva2VuSW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBzZWdtZW50W3Rva2VuSW5kZXhdO1xuICAgICAgICAgICAgLy8gcmVzZXRzIHRoZSBzY29yZSBpZiB3ZSBhcmUgaW5zaWRlIGEgc3ViLXNlZ21lbnQgLzphLW90aGVyLTpiXG4gICAgICAgICAgICBsZXQgc3ViU2VnbWVudFNjb3JlID0gNDAgLyogUGF0aFNjb3JlLlNlZ21lbnQgKi8gK1xuICAgICAgICAgICAgICAgIChvcHRpb25zLnNlbnNpdGl2ZSA/IDAuMjUgLyogUGF0aFNjb3JlLkJvbnVzQ2FzZVNlbnNpdGl2ZSAqLyA6IDApO1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDAgLyogVG9rZW5UeXBlLlN0YXRpYyAqLykge1xuICAgICAgICAgICAgICAgIC8vIHByZXBlbmQgdGhlIHNsYXNoIGlmIHdlIGFyZSBzdGFydGluZyBhIG5ldyBzZWdtZW50XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbkluZGV4KVxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9ICcvJztcbiAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IHRva2VuLnZhbHVlLnJlcGxhY2UoUkVHRVhfQ0hBUlNfUkUsICdcXFxcJCYnKTtcbiAgICAgICAgICAgICAgICBzdWJTZWdtZW50U2NvcmUgKz0gNDAgLyogUGF0aFNjb3JlLlN0YXRpYyAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IDEgLyogVG9rZW5UeXBlLlBhcmFtICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgcmVwZWF0YWJsZSwgb3B0aW9uYWwsIHJlZ2V4cCB9ID0gdG9rZW47XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJlcGVhdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlID0gcmVnZXhwID8gcmVnZXhwIDogQkFTRV9QQVJBTV9QQVRURVJOO1xuICAgICAgICAgICAgICAgIC8vIHRoZSB1c2VyIHByb3ZpZGVkIGEgY3VzdG9tIHJlZ2V4cCAvOmlkKFxcXFxkKylcbiAgICAgICAgICAgICAgICBpZiAocmUgIT09IEJBU0VfUEFSQU1fUEFUVEVSTikge1xuICAgICAgICAgICAgICAgICAgICBzdWJTZWdtZW50U2NvcmUgKz0gMTAgLyogUGF0aFNjb3JlLkJvbnVzQ3VzdG9tUmVnRXhwICovO1xuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhlIHJlZ2V4cCBpcyB2YWxpZCBiZWZvcmUgdXNpbmcgaXRcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoYCgke3JlfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY3VzdG9tIFJlZ0V4cCBmb3IgcGFyYW0gXCIke3ZhbHVlfVwiICgke3JlfSk6IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB3aGVuIHdlIHJlcGVhdCB3ZSBtdXN0IHRha2UgY2FyZSBvZiB0aGUgcmVwZWF0aW5nIGxlYWRpbmcgc2xhc2hcbiAgICAgICAgICAgICAgICBsZXQgc3ViUGF0dGVybiA9IHJlcGVhdGFibGUgPyBgKCg/OiR7cmV9KSg/Oi8oPzoke3JlfSkpKilgIDogYCgke3JlfSlgO1xuICAgICAgICAgICAgICAgIC8vIHByZXBlbmQgdGhlIHNsYXNoIGlmIHdlIGFyZSBzdGFydGluZyBhIG5ldyBzZWdtZW50XG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbkluZGV4KVxuICAgICAgICAgICAgICAgICAgICBzdWJQYXR0ZXJuID1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFuIG9wdGlvbmFsIC8gaWYgdGhlcmUgYXJlIG1vcmUgc2VnbWVudHMgZS5nLiAvOnA/LXN0YXRpY1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3IgLzpwPy06cDJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsICYmIHNlZ21lbnQubGVuZ3RoIDwgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYCg/Oi8ke3N1YlBhdHRlcm59KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcvJyArIHN1YlBhdHRlcm47XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKVxuICAgICAgICAgICAgICAgICAgICBzdWJQYXR0ZXJuICs9ICc/JztcbiAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IHN1YlBhdHRlcm47XG4gICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDIwIC8qIFBhdGhTY29yZS5EeW5hbWljICovO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbClcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC04IC8qIFBhdGhTY29yZS5Cb251c09wdGlvbmFsICovO1xuICAgICAgICAgICAgICAgIGlmIChyZXBlYXRhYmxlKVxuICAgICAgICAgICAgICAgICAgICBzdWJTZWdtZW50U2NvcmUgKz0gLTIwIC8qIFBhdGhTY29yZS5Cb251c1JlcGVhdGFibGUgKi87XG4gICAgICAgICAgICAgICAgaWYgKHJlID09PSAnLionKVxuICAgICAgICAgICAgICAgICAgICBzdWJTZWdtZW50U2NvcmUgKz0gLTUwIC8qIFBhdGhTY29yZS5Cb251c1dpbGRjYXJkICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VnbWVudFNjb3Jlcy5wdXNoKHN1YlNlZ21lbnRTY29yZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYW4gZW1wdHkgYXJyYXkgbGlrZSAvaG9tZS8gLT4gW1t7aG9tZX1dLCBbXV1cbiAgICAgICAgLy8gaWYgKCFzZWdtZW50Lmxlbmd0aCkgcGF0dGVybiArPSAnLydcbiAgICAgICAgc2NvcmUucHVzaChzZWdtZW50U2NvcmVzKTtcbiAgICB9XG4gICAgLy8gb25seSBhcHBseSB0aGUgc3RyaWN0IGJvbnVzIHRvIHRoZSBsYXN0IHNjb3JlXG4gICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmIG9wdGlvbnMuZW5kKSB7XG4gICAgICAgIGNvbnN0IGkgPSBzY29yZS5sZW5ndGggLSAxO1xuICAgICAgICBzY29yZVtpXVtzY29yZVtpXS5sZW5ndGggLSAxXSArPSAwLjcwMDAwMDAwMDAwMDAwMDEgLyogUGF0aFNjb3JlLkJvbnVzU3RyaWN0ICovO1xuICAgIH1cbiAgICAvLyBUT0RPOiBkZXYgb25seSB3YXJuIGRvdWJsZSB0cmFpbGluZyBzbGFzaFxuICAgIGlmICghb3B0aW9ucy5zdHJpY3QpXG4gICAgICAgIHBhdHRlcm4gKz0gJy8/JztcbiAgICBpZiAob3B0aW9ucy5lbmQpXG4gICAgICAgIHBhdHRlcm4gKz0gJyQnO1xuICAgIC8vIGFsbG93IHBhdGhzIGxpa2UgL2R5bmFtaWMgdG8gb25seSBtYXRjaCBkeW5hbWljIG9yIGR5bmFtaWMvLi4uIGJ1dCBub3QgZHluYW1pY19zb21ldGhpbmdfZWxzZVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuc3RyaWN0KVxuICAgICAgICBwYXR0ZXJuICs9ICcoPzovfCQpJztcbiAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAocGF0dGVybiwgb3B0aW9ucy5zZW5zaXRpdmUgPyAnJyA6ICdpJyk7XG4gICAgZnVuY3Rpb24gcGFyc2UocGF0aCkge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHBhdGgubWF0Y2gocmUpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IG1hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1hdGNoW2ldIHx8ICcnO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpIC0gMV07XG4gICAgICAgICAgICBwYXJhbXNba2V5Lm5hbWVdID0gdmFsdWUgJiYga2V5LnJlcGVhdGFibGUgPyB2YWx1ZS5zcGxpdCgnLycpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5KHBhcmFtcykge1xuICAgICAgICBsZXQgcGF0aCA9ICcnO1xuICAgICAgICAvLyBmb3Igb3B0aW9uYWwgcGFyYW1ldGVycyB0byBhbGxvdyB0byBiZSBlbXB0eVxuICAgICAgICBsZXQgYXZvaWREdXBsaWNhdGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKSB7XG4gICAgICAgICAgICBpZiAoIWF2b2lkRHVwbGljYXRlZFNsYXNoIHx8ICFwYXRoLmVuZHNXaXRoKCcvJykpXG4gICAgICAgICAgICAgICAgcGF0aCArPSAnLyc7XG4gICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiBzZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IDAgLyogVG9rZW5UeXBlLlN0YXRpYyAqLykge1xuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IHRva2VuLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFRva2VuVHlwZS5QYXJhbSAqLykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCByZXBlYXRhYmxlLCBvcHRpb25hbCB9ID0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gdmFsdWUgaW4gcGFyYW1zID8gcGFyYW1zW3ZhbHVlXSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShwYXJhbSkgJiYgIXJlcGVhdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvdmlkZWQgcGFyYW0gXCIke3ZhbHVlfVwiIGlzIGFuIGFycmF5IGJ1dCBpdCBpcyBub3QgcmVwZWF0YWJsZSAoKiBvciArIG1vZGlmaWVycylgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gaXNBcnJheShwYXJhbSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyYW0uam9pbignLycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHBhcmFtO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBvcHRpb25hbCBwYXJhbSBsaWtlIC86YT8tc3RhdGljIHdlIGRvbid0IG5lZWQgdG8gY2FyZSBhYm91dCB0aGUgb3B0aW9uYWwgcGFyYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBzbGFzaCBhcyB3ZSBjb3VsZCBiZSBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmVuZHNXaXRoKCcvJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhcHBlbmQgYSBzbGFzaCBvbiB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZvaWREdXBsaWNhdGVkU2xhc2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgcGFyYW0gXCIke3ZhbHVlfVwiYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSB0ZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBlbXB0eSBwYXRoIHdoZW4gd2UgaGF2ZSBtdWx0aXBsZSBvcHRpb25hbCBwYXJhbXNcbiAgICAgICAgcmV0dXJuIHBhdGggfHwgJy8nO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZSxcbiAgICAgICAgc2NvcmUsXG4gICAgICAgIGtleXMsXG4gICAgICAgIHBhcnNlLFxuICAgICAgICBzdHJpbmdpZnksXG4gICAgfTtcbn1cbi8qKlxuICogQ29tcGFyZXMgYW4gYXJyYXkgb2YgbnVtYmVycyBhcyB1c2VkIGluIFBhdGhQYXJzZXIuc2NvcmUgYW5kIHJldHVybnMgYVxuICogbnVtYmVyLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGBzb3J0YCBhbiBhcnJheVxuICpcbiAqIEBwYXJhbSBhIC0gZmlyc3QgYXJyYXkgb2YgbnVtYmVyc1xuICogQHBhcmFtIGIgLSBzZWNvbmQgYXJyYXkgb2YgbnVtYmVyc1xuICogQHJldHVybnMgMCBpZiBib3RoIGFyZSBlcXVhbCwgPCAwIGlmIGEgc2hvdWxkIGJlIHNvcnRlZCBmaXJzdCwgPiAwIGlmIGJcbiAqIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3RcbiAqL1xuZnVuY3Rpb24gY29tcGFyZVNjb3JlQXJyYXkoYSwgYikge1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGEubGVuZ3RoICYmIGkgPCBiLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBkaWZmID0gYltpXSAtIGFbaV07XG4gICAgICAgIC8vIG9ubHkga2VlcCBnb2luZyBpZiBkaWZmID09PSAwXG4gICAgICAgIGlmIChkaWZmKVxuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxhc3Qgc3Vic2VnbWVudCB3YXMgU3RhdGljLCB0aGUgc2hvcnRlciBzZWdtZW50cyBzaG91bGQgYmUgc29ydGVkIGZpcnN0XG4gICAgLy8gb3RoZXJ3aXNlIHNvcnQgdGhlIGxvbmdlc3Qgc2VnbWVudCBmaXJzdFxuICAgIGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aCA9PT0gMSAmJiBhWzBdID09PSA0MCAvKiBQYXRoU2NvcmUuU3RhdGljICovICsgNDAgLyogUGF0aFNjb3JlLlNlZ21lbnQgKi9cbiAgICAgICAgICAgID8gLTFcbiAgICAgICAgICAgIDogMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggPT09IDEgJiYgYlswXSA9PT0gNDAgLyogUGF0aFNjb3JlLlN0YXRpYyAqLyArIDQwIC8qIFBhdGhTY29yZS5TZWdtZW50ICovXG4gICAgICAgICAgICA/IDFcbiAgICAgICAgICAgIDogLTE7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuLyoqXG4gKiBDb21wYXJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCBgc29ydGAgdG8gc29ydCBhbiBhcnJheSBvZiBQYXRoUGFyc2VyXG4gKlxuICogQHBhcmFtIGEgLSBmaXJzdCBQYXRoUGFyc2VyXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBQYXRoUGFyc2VyXG4gKiBAcmV0dXJucyAwIGlmIGJvdGggYXJlIGVxdWFsLCA8IDAgaWYgYSBzaG91bGQgYmUgc29ydGVkIGZpcnN0LCA+IDAgaWYgYlxuICovXG5mdW5jdGlvbiBjb21wYXJlUGF0aFBhcnNlclNjb3JlKGEsIGIpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgYVNjb3JlID0gYS5zY29yZTtcbiAgICBjb25zdCBiU2NvcmUgPSBiLnNjb3JlO1xuICAgIHdoaWxlIChpIDwgYVNjb3JlLmxlbmd0aCAmJiBpIDwgYlNjb3JlLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjb21wID0gY29tcGFyZVNjb3JlQXJyYXkoYVNjb3JlW2ldLCBiU2NvcmVbaV0pO1xuICAgICAgICAvLyBkbyBub3QgcmV0dXJuIGlmIGJvdGggYXJlIGVxdWFsXG4gICAgICAgIGlmIChjb21wKVxuICAgICAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKGJTY29yZS5sZW5ndGggLSBhU2NvcmUubGVuZ3RoKSA9PT0gMSkge1xuICAgICAgICBpZiAoaXNMYXN0U2NvcmVOZWdhdGl2ZShhU2NvcmUpKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChpc0xhc3RTY29yZU5lZ2F0aXZlKGJTY29yZSkpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8vIGlmIGEgYW5kIGIgc2hhcmUgdGhlIHNhbWUgc2NvcmUgZW50cmllcyBidXQgYiBoYXMgbW9yZSwgc29ydCBiIGZpcnN0XG4gICAgcmV0dXJuIGJTY29yZS5sZW5ndGggLSBhU2NvcmUubGVuZ3RoO1xuICAgIC8vIHRoaXMgaXMgdGhlIHRlcm5hcnkgdmVyc2lvblxuICAgIC8vIHJldHVybiBhU2NvcmUubGVuZ3RoIDwgYlNjb3JlLmxlbmd0aFxuICAgIC8vICAgPyAxXG4gICAgLy8gICA6IGFTY29yZS5sZW5ndGggPiBiU2NvcmUubGVuZ3RoXG4gICAgLy8gICA/IC0xXG4gICAgLy8gICA6IDBcbn1cbi8qKlxuICogVGhpcyBhbGxvd3MgZGV0ZWN0aW5nIHNwbGF0cyBhdCB0aGUgZW5kIG9mIGEgcGF0aDogL2hvbWUvOmlkKC4qKSpcbiAqXG4gKiBAcGFyYW0gc2NvcmUgLSBzY29yZSB0byBjaGVja1xuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbGFzdCBlbnRyeSBpcyBuZWdhdGl2ZVxuICovXG5mdW5jdGlvbiBpc0xhc3RTY29yZU5lZ2F0aXZlKHNjb3JlKSB7XG4gICAgY29uc3QgbGFzdCA9IHNjb3JlW3Njb3JlLmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBzY29yZS5sZW5ndGggPiAwICYmIGxhc3RbbGFzdC5sZW5ndGggLSAxXSA8IDA7XG59XG5cbmNvbnN0IFJPT1RfVE9LRU4gPSB7XG4gICAgdHlwZTogMCAvKiBUb2tlblR5cGUuU3RhdGljICovLFxuICAgIHZhbHVlOiAnJyxcbn07XG5jb25zdCBWQUxJRF9QQVJBTV9SRSA9IC9bYS16QS1aMC05X10vO1xuLy8gQWZ0ZXIgc29tZSBwcm9maWxpbmcsIHRoZSBjYWNoZSBzZWVtcyB0byBiZSB1bm5lY2Vzc2FyeSBiZWNhdXNlIHRva2VuaXplUGF0aFxuLy8gKHRoZSBzbG93ZXN0IHBhcnQgb2YgYWRkaW5nIGEgcm91dGUpIGlzIHZlcnkgZmFzdFxuLy8gY29uc3QgdG9rZW5DYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBUb2tlbltdW10+KClcbmZ1bmN0aW9uIHRva2VuaXplUGF0aChwYXRoKSB7XG4gICAgaWYgKCFwYXRoKVxuICAgICAgICByZXR1cm4gW1tdXTtcbiAgICBpZiAocGF0aCA9PT0gJy8nKVxuICAgICAgICByZXR1cm4gW1tST09UX1RPS0VOXV07XG4gICAgaWYgKCFwYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpXG4gICAgICAgICAgICA/IGBSb3V0ZSBwYXRocyBzaG91bGQgc3RhcnQgd2l0aCBhIFwiL1wiOiBcIiR7cGF0aH1cIiBzaG91bGQgYmUgXCIvJHtwYXRofVwiLmBcbiAgICAgICAgICAgIDogYEludmFsaWQgcGF0aCBcIiR7cGF0aH1cImApO1xuICAgIH1cbiAgICAvLyBpZiAodG9rZW5DYWNoZS5oYXMocGF0aCkpIHJldHVybiB0b2tlbkNhY2hlLmdldChwYXRoKSFcbiAgICBmdW5jdGlvbiBjcmFzaChtZXNzYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRVJSICgke3N0YXRlfSkvXCIke2J1ZmZlcn1cIjogJHttZXNzYWdlfWApO1xuICAgIH1cbiAgICBsZXQgc3RhdGUgPSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLztcbiAgICBsZXQgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgIC8vIHRoZSBzZWdtZW50IHdpbGwgYWx3YXlzIGJlIHZhbGlkIGJlY2F1c2Ugd2UgZ2V0IGludG8gdGhlIGluaXRpYWwgc3RhdGVcbiAgICAvLyB3aXRoIHRoZSBsZWFkaW5nIC9cbiAgICBsZXQgc2VnbWVudDtcbiAgICBmdW5jdGlvbiBmaW5hbGl6ZVNlZ21lbnQoKSB7XG4gICAgICAgIGlmIChzZWdtZW50KVxuICAgICAgICAgICAgdG9rZW5zLnB1c2goc2VnbWVudCk7XG4gICAgICAgIHNlZ21lbnQgPSBbXTtcbiAgICB9XG4gICAgLy8gaW5kZXggb24gdGhlIHBhdGhcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gY2hhciBhdCBpbmRleFxuICAgIGxldCBjaGFyO1xuICAgIC8vIGJ1ZmZlciBvZiB0aGUgdmFsdWUgcmVhZFxuICAgIGxldCBidWZmZXIgPSAnJztcbiAgICAvLyBjdXN0b20gcmVnZXhwIGZvciBhIHBhcmFtXG4gICAgbGV0IGN1c3RvbVJlID0gJyc7XG4gICAgZnVuY3Rpb24gY29uc3VtZUJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi8pIHtcbiAgICAgICAgICAgIHNlZ21lbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogMCAvKiBUb2tlblR5cGUuU3RhdGljICovLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBidWZmZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMSAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbSAqLyB8fFxuICAgICAgICAgICAgc3RhdGUgPT09IDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi8gfHxcbiAgICAgICAgICAgIHN0YXRlID09PSAzIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwRW5kICovKSB7XG4gICAgICAgICAgICBpZiAoc2VnbWVudC5sZW5ndGggPiAxICYmIChjaGFyID09PSAnKicgfHwgY2hhciA9PT0gJysnKSlcbiAgICAgICAgICAgICAgICBjcmFzaChgQSByZXBlYXRhYmxlIHBhcmFtICgke2J1ZmZlcn0pIG11c3QgYmUgYWxvbmUgaW4gaXRzIHNlZ21lbnQuIGVnOiAnLzppZHMrLmApO1xuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAxIC8qIFRva2VuVHlwZS5QYXJhbSAqLyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYnVmZmVyLFxuICAgICAgICAgICAgICAgIHJlZ2V4cDogY3VzdG9tUmUsXG4gICAgICAgICAgICAgICAgcmVwZWF0YWJsZTogY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICcrJyxcbiAgICAgICAgICAgICAgICBvcHRpb25hbDogY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICc/JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3Jhc2goJ0ludmFsaWQgc3RhdGUgdG8gY29uc3VtZSBidWZmZXInKTtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXIgPSAnJztcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkQ2hhclRvQnVmZmVyKCkge1xuICAgICAgICBidWZmZXIgKz0gY2hhcjtcbiAgICB9XG4gICAgd2hpbGUgKGkgPCBwYXRoLmxlbmd0aCkge1xuICAgICAgICBjaGFyID0gcGF0aFtpKytdO1xuICAgICAgICBpZiAoY2hhciA9PT0gJ1xcXFwnICYmIHN0YXRlICE9PSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovKSB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICBzdGF0ZSA9IDQgLyogVG9rZW5pemVyU3RhdGUuRXNjYXBlTmV4dCAqLztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxpemVTZWdtZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPT09ICc6Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMSAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbSAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENoYXJUb0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNCAvKiBUb2tlbml6ZXJTdGF0ZS5Fc2NhcGVOZXh0ICovOlxuICAgICAgICAgICAgICAgIGFkZENoYXJUb0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gcHJldmlvdXNTdGF0ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMSAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbSAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJygnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMiAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cCAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoVkFMSURfUEFSQU1fUkUudGVzdChjaGFyKSkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDaGFyVG9CdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gZ28gYmFjayBvbmUgY2hhcmFjdGVyIGlmIHdlIHdlcmUgbm90IG1vZGlmeWluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhciAhPT0gJyonICYmIGNoYXIgIT09ICc/JyAmJiBjaGFyICE9PSAnKycpXG4gICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovOlxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGlzIGl0IHdvcnRoIGhhbmRsaW5nIG5lc3RlZCByZWdleHA/IGxpa2UgOnAoPzpwcmVmaXhfKFteL10rKV9zdWZmaXgpXG4gICAgICAgICAgICAgICAgLy8gaXQgYWxyZWFkeSB3b3JrcyBieSBlc2NhcGluZyB0aGUgY2xvc2luZyApXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9wYXRocy5lc20uZGV2Lz9wPUFBTWVKYmlBd1FFY0RLYkFvQUFrUDYwUEcyUjZRQXZnTmFBNkFGQUNNMkFCdVFCQiNcbiAgICAgICAgICAgICAgICAvLyBpcyB0aGlzIHJlYWxseSBzb21ldGhpbmcgcGVvcGxlIG5lZWQgc2luY2UgeW91IGNhbiBhbHNvIHdyaXRlXG4gICAgICAgICAgICAgICAgLy8gL3ByZWZpeF86cCgpX3N1ZmZpeFxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnKScpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRoZSBlc2NhcGVkIClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbVJlW2N1c3RvbVJlLmxlbmd0aCAtIDFdID09ICdcXFxcJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gY3VzdG9tUmUuc2xpY2UoMCwgLTEpICsgY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAzIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwRW5kICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDMgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHBFbmQgKi86XG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhcyBmaW5hbGl6aW5nIGEgcGFyYW1cbiAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLztcbiAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgIT09ICcqJyAmJiBjaGFyICE9PSAnPycgJiYgY2hhciAhPT0gJysnKVxuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY3VzdG9tUmUgPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY3Jhc2goJ1Vua25vd24gc3RhdGUnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3RhdGUgPT09IDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi8pXG4gICAgICAgIGNyYXNoKGBVbmZpbmlzaGVkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHtidWZmZXJ9XCJgKTtcbiAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgZmluYWxpemVTZWdtZW50KCk7XG4gICAgLy8gdG9rZW5DYWNoZS5zZXQocGF0aCwgdG9rZW5zKVxuICAgIHJldHVybiB0b2tlbnM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlUmVjb3JkTWF0Y2hlcihyZWNvcmQsIHBhcmVudCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHBhcnNlciA9IHRva2Vuc1RvUGFyc2VyKHRva2VuaXplUGF0aChyZWNvcmQucGF0aCksIG9wdGlvbnMpO1xuICAgIC8vIHdhcm4gYWdhaW5zdCBwYXJhbXMgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICBjb25zdCBleGlzdGluZ0tleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHBhcnNlci5rZXlzKSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdLZXlzLmhhcyhrZXkubmFtZSkpXG4gICAgICAgICAgICAgICAgd2FybihgRm91bmQgZHVwbGljYXRlZCBwYXJhbXMgd2l0aCBuYW1lIFwiJHtrZXkubmFtZX1cIiBmb3IgcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIuIE9ubHkgdGhlIGxhc3Qgb25lIHdpbGwgYmUgYXZhaWxhYmxlIG9uIFwiJHJvdXRlLnBhcmFtc1wiLmApO1xuICAgICAgICAgICAgZXhpc3RpbmdLZXlzLmFkZChrZXkubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlciA9IGFzc2lnbihwYXJzZXIsIHtcbiAgICAgICAgcmVjb3JkLFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIC8vIHRoZXNlIG5lZWRzIHRvIGJlIHBvcHVsYXRlZCBieSB0aGUgcGFyZW50XG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgYWxpYXM6IFtdLFxuICAgIH0pO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgLy8gYm90aCBhcmUgYWxpYXNlcyBvciBib3RoIGFyZSBub3QgYWxpYXNlc1xuICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIG1peCB0aGVtIGJlY2F1c2UgdGhlIG9yZGVyIGlzIHVzZWQgd2hlblxuICAgICAgICAvLyBwYXNzaW5nIG9yaWdpbmFsUmVjb3JkIGluIE1hdGNoZXIuYWRkUm91dGVcbiAgICAgICAgaWYgKCFtYXRjaGVyLnJlY29yZC5hbGlhc09mID09PSAhcGFyZW50LnJlY29yZC5hbGlhc09mKVxuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2gobWF0Y2hlcik7XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSb3V0ZXIgTWF0Y2hlci5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSByb3V0ZXMgLSBhcnJheSBvZiBpbml0aWFsIHJvdXRlc1xuICogQHBhcmFtIGdsb2JhbE9wdGlvbnMgLSBnbG9iYWwgcm91dGUgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXJNYXRjaGVyKHJvdXRlcywgZ2xvYmFsT3B0aW9ucykge1xuICAgIC8vIG5vcm1hbGl6ZWQgb3JkZXJlZCBhcnJheSBvZiBtYXRjaGVyc1xuICAgIGNvbnN0IG1hdGNoZXJzID0gW107XG4gICAgY29uc3QgbWF0Y2hlck1hcCA9IG5ldyBNYXAoKTtcbiAgICBnbG9iYWxPcHRpb25zID0gbWVyZ2VPcHRpb25zKHsgc3RyaWN0OiBmYWxzZSwgZW5kOiB0cnVlLCBzZW5zaXRpdmU6IGZhbHNlIH0sIGdsb2JhbE9wdGlvbnMpO1xuICAgIGZ1bmN0aW9uIGdldFJlY29yZE1hdGNoZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlck1hcC5nZXQobmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFJvdXRlKHJlY29yZCwgcGFyZW50LCBvcmlnaW5hbFJlY29yZCkge1xuICAgICAgICAvLyB1c2VkIGxhdGVyIG9uIHRvIHJlbW92ZSBieSBuYW1lXG4gICAgICAgIGNvbnN0IGlzUm9vdEFkZCA9ICFvcmlnaW5hbFJlY29yZDtcbiAgICAgICAgY29uc3QgbWFpbk5vcm1hbGl6ZWRSZWNvcmQgPSBub3JtYWxpemVSb3V0ZVJlY29yZChyZWNvcmQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBjaGVja0NoaWxkTWlzc2luZ05hbWVXaXRoRW1wdHlQYXRoKG1haW5Ob3JtYWxpemVkUmVjb3JkLCBwYXJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIG1pZ2h0IGJlIHRoZSBjaGlsZCBvZiBhbiBhbGlhc1xuICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZC5hbGlhc09mID0gb3JpZ2luYWxSZWNvcmQgJiYgb3JpZ2luYWxSZWNvcmQucmVjb3JkO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gbWVyZ2VPcHRpb25zKGdsb2JhbE9wdGlvbnMsIHJlY29yZCk7XG4gICAgICAgIC8vIGdlbmVyYXRlIGFuIGFycmF5IG9mIHJlY29yZHMgdG8gY29ycmVjdGx5IGhhbmRsZSBhbGlhc2VzXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRSZWNvcmRzID0gW1xuICAgICAgICAgICAgbWFpbk5vcm1hbGl6ZWRSZWNvcmQsXG4gICAgICAgIF07XG4gICAgICAgIGlmICgnYWxpYXMnIGluIHJlY29yZCkge1xuICAgICAgICAgICAgY29uc3QgYWxpYXNlcyA9IHR5cGVvZiByZWNvcmQuYWxpYXMgPT09ICdzdHJpbmcnID8gW3JlY29yZC5hbGlhc10gOiByZWNvcmQuYWxpYXM7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIGFsaWFzZXMpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3Jkcy5wdXNoKGFzc2lnbih7fSwgbWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgdXMgdG8gaG9sZCBhIGNvcHkgb2YgdGhlIGBjb21wb25lbnRzYCBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gc28gdGhhdCBhc3luYyBjb21wb25lbnRzIGNhY2hlIGlzIGhvbGQgb24gdGhlIG9yaWdpbmFsIHJlY29yZFxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzOiBvcmlnaW5hbFJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcmlnaW5hbFJlY29yZC5yZWNvcmQuY29tcG9uZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBtYWluTm9ybWFsaXplZFJlY29yZC5jb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBhbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgbWlnaHQgYmUgdGhlIGNoaWxkIG9mIGFuIGFsaWFzXG4gICAgICAgICAgICAgICAgICAgIGFsaWFzT2Y6IG9yaWdpbmFsUmVjb3JkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBtYWluTm9ybWFsaXplZFJlY29yZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGFsaWFzZXMgYXJlIGFsd2F5cyBvZiB0aGUgc2FtZSBraW5kIGFzIHRoZSBvcmlnaW5hbCBzaW5jZSB0aGV5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFyZSBkZWZpbmVkIG9uIHRoZSBzYW1lIHJlY29yZFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgbWF0Y2hlcjtcbiAgICAgICAgbGV0IG9yaWdpbmFsTWF0Y2hlcjtcbiAgICAgICAgZm9yIChjb25zdCBub3JtYWxpemVkUmVjb3JkIG9mIG5vcm1hbGl6ZWRSZWNvcmRzKSB7XG4gICAgICAgICAgICBjb25zdCB7IHBhdGggfSA9IG5vcm1hbGl6ZWRSZWNvcmQ7XG4gICAgICAgICAgICAvLyBCdWlsZCB1cCB0aGUgcGF0aCBmb3IgbmVzdGVkIHJvdXRlcyBpZiB0aGUgY2hpbGQgaXNuJ3QgYW4gYWJzb2x1dGVcbiAgICAgICAgICAgIC8vIHJvdXRlLiBPbmx5IGFkZCB0aGUgLyBkZWxpbWl0ZXIgaWYgdGhlIGNoaWxkIHBhdGggaXNuJ3QgZW1wdHkgYW5kIGlmIHRoZVxuICAgICAgICAgICAgLy8gcGFyZW50IHBhdGggZG9lc24ndCBoYXZlIGEgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGF0aFswXSAhPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50UGF0aCA9IHBhcmVudC5yZWNvcmQucGF0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW5nU2xhc2ggPSBwYXJlbnRQYXRoW3BhcmVudFBhdGgubGVuZ3RoIC0gMV0gPT09ICcvJyA/ICcnIDogJy8nO1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRSZWNvcmQucGF0aCA9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZWNvcmQucGF0aCArIChwYXRoICYmIGNvbm5lY3RpbmdTbGFzaCArIHBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBub3JtYWxpemVkUmVjb3JkLnBhdGggPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2F0Y2ggYWxsIHJvdXRlcyAoXCIqXCIpIG11c3Qgbm93IGJlIGRlZmluZWQgdXNpbmcgYSBwYXJhbSB3aXRoIGEgY3VzdG9tIHJlZ2V4cC5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ1NlZSBtb3JlIGF0IGh0dHBzOi8vbmV4dC5yb3V0ZXIudnVlanMub3JnL2d1aWRlL21pZ3JhdGlvbi8jcmVtb3ZlZC1zdGFyLW9yLWNhdGNoLWFsbC1yb3V0ZXMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG9iamVjdCBiZWZvcmVoYW5kLCBzbyBpdCBjYW4gYmUgcGFzc2VkIHRvIGNoaWxkcmVuXG4gICAgICAgICAgICBtYXRjaGVyID0gY3JlYXRlUm91dGVSZWNvcmRNYXRjaGVyKG5vcm1hbGl6ZWRSZWNvcmQsIHBhcmVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHBhcmVudCAmJiBwYXRoWzBdID09PSAnLycpXG4gICAgICAgICAgICAgICAgY2hlY2tNaXNzaW5nUGFyYW1zSW5BYnNvbHV0ZVBhdGgobWF0Y2hlciwgcGFyZW50KTtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBhbiBhbGlhcyB3ZSBtdXN0IHRlbGwgdGhlIG9yaWdpbmFsIHJlY29yZCB0aGF0IHdlIGV4aXN0LFxuICAgICAgICAgICAgLy8gc28gd2UgY2FuIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbFJlY29yZCkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsUmVjb3JkLmFsaWFzLnB1c2gobWF0Y2hlcik7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja1NhbWVQYXJhbXMob3JpZ2luYWxSZWNvcmQsIG1hdGNoZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgdGhlIGZpcnN0IHJlY29yZCBpcyB0aGUgb3JpZ2luYWwgYW5kIG90aGVycyBhcmUgYWxpYXNlc1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsTWF0Y2hlciA9IG9yaWdpbmFsTWF0Y2hlciB8fCBtYXRjaGVyO1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbE1hdGNoZXIgIT09IG1hdGNoZXIpXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTWF0Y2hlci5hbGlhcy5wdXNoKG1hdGNoZXIpO1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgcm91dGUgaWYgbmFtZWQgYW5kIG9ubHkgZm9yIHRoZSB0b3AgcmVjb3JkIChhdm9pZCBpbiBuZXN0ZWQgY2FsbHMpXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3b3JrcyBiZWNhdXNlIHRoZSBvcmlnaW5hbCByZWNvcmQgaXMgdGhlIGZpcnN0IG9uZVxuICAgICAgICAgICAgICAgIGlmIChpc1Jvb3RBZGQgJiYgcmVjb3JkLm5hbWUgJiYgIWlzQWxpYXNSZWNvcmQobWF0Y2hlcikpXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVJvdXRlKHJlY29yZC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYWluTm9ybWFsaXplZFJlY29yZC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhZGRSb3V0ZShjaGlsZHJlbltpXSwgbWF0Y2hlciwgb3JpZ2luYWxSZWNvcmQgJiYgb3JpZ2luYWxSZWNvcmQuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdhcyBubyBvcmlnaW5hbCByZWNvcmQsIHRoZW4gdGhlIGZpcnN0IG9uZSB3YXMgbm90IGFuIGFsaWFzIGFuZCBhbGxcbiAgICAgICAgICAgIC8vIG90aGVyIGFsaWFzZXMgKGlmIGFueSkgbmVlZCB0byByZWZlcmVuY2UgdGhpcyByZWNvcmQgd2hlbiBhZGRpbmcgY2hpbGRyZW5cbiAgICAgICAgICAgIG9yaWdpbmFsUmVjb3JkID0gb3JpZ2luYWxSZWNvcmQgfHwgbWF0Y2hlcjtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBub3JtYWxpemVkIHJlY29yZHMgZm9yIG1vcmUgZmxleGliaWxpdHlcbiAgICAgICAgICAgIC8vIGlmIChwYXJlbnQgJiYgaXNBbGlhc1JlY29yZChvcmlnaW5hbFJlY29yZCkpIHtcbiAgICAgICAgICAgIC8vICAgcGFyZW50LmNoaWxkcmVuLnB1c2gob3JpZ2luYWxSZWNvcmQpXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBBdm9pZCBhZGRpbmcgYSByZWNvcmQgdGhhdCBkb2Vzbid0IGRpc3BsYXkgYW55dGhpbmcuIFRoaXMgYWxsb3dzIHBhc3NpbmcgdGhyb3VnaCByZWNvcmRzIHdpdGhvdXQgYSBjb21wb25lbnQgdG9cbiAgICAgICAgICAgIC8vIG5vdCBiZSByZWFjaGVkIGFuZCBwYXNzIHRocm91Z2ggdGhlIGNhdGNoIGFsbCByb3V0ZVxuICAgICAgICAgICAgaWYgKChtYXRjaGVyLnJlY29yZC5jb21wb25lbnRzICYmXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlci5yZWNvcmQuY29tcG9uZW50cykubGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoZXIucmVjb3JkLm5hbWUgfHxcbiAgICAgICAgICAgICAgICBtYXRjaGVyLnJlY29yZC5yZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgIGluc2VydE1hdGNoZXIobWF0Y2hlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWF0Y2hlclxuICAgICAgICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2Ugb3RoZXIgbWF0Y2hlcnMgYXJlIGFsaWFzZXMsIHRoZXkgc2hvdWxkIGJlIHJlbW92ZWQgYnkgdGhlIG9yaWdpbmFsIG1hdGNoZXJcbiAgICAgICAgICAgICAgICByZW1vdmVSb3V0ZShvcmlnaW5hbE1hdGNoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBub29wO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVSb3V0ZShtYXRjaGVyUmVmKSB7XG4gICAgICAgIGlmIChpc1JvdXRlTmFtZShtYXRjaGVyUmVmKSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlciA9IG1hdGNoZXJNYXAuZ2V0KG1hdGNoZXJSZWYpO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXIpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVyTWFwLmRlbGV0ZShtYXRjaGVyUmVmKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVycy5zcGxpY2UobWF0Y2hlcnMuaW5kZXhPZihtYXRjaGVyKSwgMSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hlci5jaGlsZHJlbi5mb3JFYWNoKHJlbW92ZVJvdXRlKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVyLmFsaWFzLmZvckVhY2gocmVtb3ZlUm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBtYXRjaGVycy5pbmRleE9mKG1hdGNoZXJSZWYpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyUmVmLnJlY29yZC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVyTWFwLmRlbGV0ZShtYXRjaGVyUmVmLnJlY29yZC5uYW1lKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVyUmVmLmNoaWxkcmVuLmZvckVhY2gocmVtb3ZlUm91dGUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXJSZWYuYWxpYXMuZm9yRWFjaChyZW1vdmVSb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Um91dGVzKCkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydE1hdGNoZXIobWF0Y2hlcikge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgbWF0Y2hlcnMubGVuZ3RoICYmXG4gICAgICAgICAgICBjb21wYXJlUGF0aFBhcnNlclNjb3JlKG1hdGNoZXIsIG1hdGNoZXJzW2ldKSA+PSAwICYmXG4gICAgICAgICAgICAvLyBBZGRpbmcgY2hpbGRyZW4gd2l0aCBlbXB0eSBwYXRoIHNob3VsZCBzdGlsbCBhcHBlYXIgYmVmb3JlIHRoZSBwYXJlbnRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzExMjRcbiAgICAgICAgICAgIChtYXRjaGVyLnJlY29yZC5wYXRoICE9PSBtYXRjaGVyc1tpXS5yZWNvcmQucGF0aCB8fFxuICAgICAgICAgICAgICAgICFpc1JlY29yZENoaWxkT2YobWF0Y2hlciwgbWF0Y2hlcnNbaV0pKSlcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgbWF0Y2hlcnMuc3BsaWNlKGksIDAsIG1hdGNoZXIpO1xuICAgICAgICAvLyBvbmx5IGFkZCB0aGUgb3JpZ2luYWwgcmVjb3JkIHRvIHRoZSBuYW1lIG1hcFxuICAgICAgICBpZiAobWF0Y2hlci5yZWNvcmQubmFtZSAmJiAhaXNBbGlhc1JlY29yZChtYXRjaGVyKSlcbiAgICAgICAgICAgIG1hdGNoZXJNYXAuc2V0KG1hdGNoZXIucmVjb3JkLm5hbWUsIG1hdGNoZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlKGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgbGV0IG1hdGNoZXI7XG4gICAgICAgIGxldCBwYXJhbXMgPSB7fTtcbiAgICAgICAgbGV0IHBhdGg7XG4gICAgICAgIGxldCBuYW1lO1xuICAgICAgICBpZiAoJ25hbWUnIGluIGxvY2F0aW9uICYmIGxvY2F0aW9uLm5hbWUpIHtcbiAgICAgICAgICAgIG1hdGNoZXIgPSBtYXRjaGVyTWFwLmdldChsb2NhdGlvbi5uYW1lKTtcbiAgICAgICAgICAgIGlmICghbWF0Y2hlcilcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVSb3V0ZXJFcnJvcigxIC8qIEVycm9yVHlwZXMuTUFUQ0hFUl9OT1RfRk9VTkQgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3YXJuIGlmIHRoZSB1c2VyIGlzIHBhc3NpbmcgaW52YWxpZCBwYXJhbXMgc28gdGhleSBjYW4gZGVidWcgaXQgYmV0dGVyIHdoZW4gdGhleSBnZXQgcmVtb3ZlZFxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludmFsaWRQYXJhbXMgPSBPYmplY3Qua2V5cyhsb2NhdGlvbi5wYXJhbXMgfHwge30pLmZpbHRlcihwYXJhbU5hbWUgPT4gIW1hdGNoZXIua2V5cy5maW5kKGsgPT4gay5uYW1lID09PSBwYXJhbU5hbWUpKTtcbiAgICAgICAgICAgICAgICBpZiAoaW52YWxpZFBhcmFtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgRGlzY2FyZGVkIGludmFsaWQgcGFyYW0ocykgXCIke2ludmFsaWRQYXJhbXMuam9pbignXCIsIFwiJyl9XCIgd2hlbiBuYXZpZ2F0aW5nLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9ibG9iL21haW4vcGFja2FnZXMvcm91dGVyL0NIQU5HRUxPRy5tZCM0MTQtMjAyMi0wOC0yMiBmb3IgbW9yZSBkZXRhaWxzLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaGVyLnJlY29yZC5uYW1lO1xuICAgICAgICAgICAgcGFyYW1zID0gYXNzaWduKFxuICAgICAgICAgICAgLy8gcGFyYW1zRnJvbUxvY2F0aW9uIGlzIGEgbmV3IG9iamVjdFxuICAgICAgICAgICAgcGFyYW1zRnJvbUxvY2F0aW9uKGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMsIFxuICAgICAgICAgICAgLy8gb25seSBrZWVwIHBhcmFtcyB0aGF0IGV4aXN0IGluIHRoZSByZXNvbHZlZCBsb2NhdGlvblxuICAgICAgICAgICAgLy8gb25seSBrZWVwIG9wdGlvbmFsIHBhcmFtcyBjb21pbmcgZnJvbSBhIHBhcmVudCByZWNvcmRcbiAgICAgICAgICAgIG1hdGNoZXIua2V5c1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoayA9PiAhay5vcHRpb25hbClcbiAgICAgICAgICAgICAgICAuY29uY2F0KG1hdGNoZXIucGFyZW50ID8gbWF0Y2hlci5wYXJlbnQua2V5cy5maWx0ZXIoayA9PiBrLm9wdGlvbmFsKSA6IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoayA9PiBrLm5hbWUpKSwgXG4gICAgICAgICAgICAvLyBkaXNjYXJkIGFueSBleGlzdGluZyBwYXJhbXMgaW4gdGhlIGN1cnJlbnQgbG9jYXRpb24gdGhhdCBkbyBub3QgZXhpc3QgaGVyZVxuICAgICAgICAgICAgLy8gIzE0OTcgdGhpcyBlbnN1cmVzIGJldHRlciBhY3RpdmUvZXhhY3QgbWF0Y2hpbmdcbiAgICAgICAgICAgIGxvY2F0aW9uLnBhcmFtcyAmJlxuICAgICAgICAgICAgICAgIHBhcmFtc0Zyb21Mb2NhdGlvbihsb2NhdGlvbi5wYXJhbXMsIG1hdGNoZXIua2V5cy5tYXAoayA9PiBrLm5hbWUpKSk7XG4gICAgICAgICAgICAvLyB0aHJvd3MgaWYgY2Fubm90IGJlIHN0cmluZ2lmaWVkXG4gICAgICAgICAgICBwYXRoID0gbWF0Y2hlci5zdHJpbmdpZnkocGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsb2NhdGlvbi5wYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gcmVzb2x2ZSB0aGUgcGF0aCB3aXRoIHRoZSBtYXRjaGVyIGFzIGl0IHdhcyBwcm92aWRlZFxuICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGFsbG93cyB0aGUgdXNlciB0byBjb250cm9sIHRoZSBlbmNvZGluZ1xuICAgICAgICAgICAgcGF0aCA9IGxvY2F0aW9uLnBhdGg7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBNYXRjaGVyIGNhbm5vdCByZXNvbHZlIHJlbGF0aXZlIHBhdGhzIGJ1dCByZWNlaXZlZCBcIiR7cGF0aH1cIi4gVW5sZXNzIHlvdSBkaXJlY3RseSBjYWxsZWQgXFxgbWF0Y2hlci5yZXNvbHZlKFwiJHtwYXRofVwiKVxcYCwgdGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiB2dWUtcm91dGVyLiBQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2lzc3Vlcy9uZXcvY2hvb3NlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2hlciA9IG1hdGNoZXJzLmZpbmQobSA9PiBtLnJlLnRlc3QocGF0aCkpO1xuICAgICAgICAgICAgLy8gbWF0Y2hlciBzaG91bGQgaGF2ZSBhIHZhbHVlIGFmdGVyIHRoZSBsb29wXG4gICAgICAgICAgICBpZiAobWF0Y2hlcikge1xuICAgICAgICAgICAgICAgIC8vIHdlIGtub3cgdGhlIG1hdGNoZXIgd29ya3MgYmVjYXVzZSB3ZSB0ZXN0ZWQgdGhlIHJlZ2V4cFxuICAgICAgICAgICAgICAgIHBhcmFtcyA9IG1hdGNoZXIucGFyc2UocGF0aCk7XG4gICAgICAgICAgICAgICAgbmFtZSA9IG1hdGNoZXIucmVjb3JkLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsb2NhdGlvbiBpcyBhIHJlbGF0aXZlIHBhdGhcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG1hdGNoIGJ5IG5hbWUgb3IgcGF0aCBvZiBjdXJyZW50IHJvdXRlXG4gICAgICAgICAgICBtYXRjaGVyID0gY3VycmVudExvY2F0aW9uLm5hbWVcbiAgICAgICAgICAgICAgICA/IG1hdGNoZXJNYXAuZ2V0KGN1cnJlbnRMb2NhdGlvbi5uYW1lKVxuICAgICAgICAgICAgICAgIDogbWF0Y2hlcnMuZmluZChtID0+IG0ucmUudGVzdChjdXJyZW50TG9jYXRpb24ucGF0aCkpO1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVyKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZVJvdXRlckVycm9yKDEgLyogRXJyb3JUeXBlcy5NQVRDSEVSX05PVF9GT1VORCAqLywge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmFtZSA9IG1hdGNoZXIucmVjb3JkLm5hbWU7XG4gICAgICAgICAgICAvLyBzaW5jZSB3ZSBhcmUgbmF2aWdhdGluZyB0byB0aGUgc2FtZSBsb2NhdGlvbiwgd2UgZG9uJ3QgbmVlZCB0byBwaWNrIHRoZVxuICAgICAgICAgICAgLy8gcGFyYW1zIGxpa2Ugd2hlbiBgbmFtZWAgaXMgcHJvdmlkZWRcbiAgICAgICAgICAgIHBhcmFtcyA9IGFzc2lnbih7fSwgY3VycmVudExvY2F0aW9uLnBhcmFtcywgbG9jYXRpb24ucGFyYW1zKTtcbiAgICAgICAgICAgIHBhdGggPSBtYXRjaGVyLnN0cmluZ2lmeShwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoZWQgPSBbXTtcbiAgICAgICAgbGV0IHBhcmVudE1hdGNoZXIgPSBtYXRjaGVyO1xuICAgICAgICB3aGlsZSAocGFyZW50TWF0Y2hlcikge1xuICAgICAgICAgICAgLy8gcmV2ZXJzZWQgb3JkZXIgc28gcGFyZW50cyBhcmUgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgICAgbWF0Y2hlZC51bnNoaWZ0KHBhcmVudE1hdGNoZXIucmVjb3JkKTtcbiAgICAgICAgICAgIHBhcmVudE1hdGNoZXIgPSBwYXJlbnRNYXRjaGVyLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICBtYXRjaGVkLFxuICAgICAgICAgICAgbWV0YTogbWVyZ2VNZXRhRmllbGRzKG1hdGNoZWQpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBhZGQgaW5pdGlhbCByb3V0ZXNcbiAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiBhZGRSb3V0ZShyb3V0ZSkpO1xuICAgIHJldHVybiB7IGFkZFJvdXRlLCByZXNvbHZlLCByZW1vdmVSb3V0ZSwgZ2V0Um91dGVzLCBnZXRSZWNvcmRNYXRjaGVyIH07XG59XG5mdW5jdGlvbiBwYXJhbXNGcm9tTG9jYXRpb24ocGFyYW1zLCBrZXlzKSB7XG4gICAgY29uc3QgbmV3UGFyYW1zID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICBpZiAoa2V5IGluIHBhcmFtcylcbiAgICAgICAgICAgIG5ld1BhcmFtc1trZXldID0gcGFyYW1zW2tleV07XG4gICAgfVxuICAgIHJldHVybiBuZXdQYXJhbXM7XG59XG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBSb3V0ZVJlY29yZFJhdy4gQ3JlYXRlcyBhIGNvcHlcbiAqXG4gKiBAcGFyYW0gcmVjb3JkXG4gKiBAcmV0dXJucyB0aGUgbm9ybWFsaXplZCB2ZXJzaW9uXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvdXRlUmVjb3JkKHJlY29yZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhdGg6IHJlY29yZC5wYXRoLFxuICAgICAgICByZWRpcmVjdDogcmVjb3JkLnJlZGlyZWN0LFxuICAgICAgICBuYW1lOiByZWNvcmQubmFtZSxcbiAgICAgICAgbWV0YTogcmVjb3JkLm1ldGEgfHwge30sXG4gICAgICAgIGFsaWFzT2Y6IHVuZGVmaW5lZCxcbiAgICAgICAgYmVmb3JlRW50ZXI6IHJlY29yZC5iZWZvcmVFbnRlcixcbiAgICAgICAgcHJvcHM6IG5vcm1hbGl6ZVJlY29yZFByb3BzKHJlY29yZCksXG4gICAgICAgIGNoaWxkcmVuOiByZWNvcmQuY2hpbGRyZW4gfHwgW10sXG4gICAgICAgIGluc3RhbmNlczoge30sXG4gICAgICAgIGxlYXZlR3VhcmRzOiBuZXcgU2V0KCksXG4gICAgICAgIHVwZGF0ZUd1YXJkczogbmV3IFNldCgpLFxuICAgICAgICBlbnRlckNhbGxiYWNrczoge30sXG4gICAgICAgIGNvbXBvbmVudHM6ICdjb21wb25lbnRzJyBpbiByZWNvcmRcbiAgICAgICAgICAgID8gcmVjb3JkLmNvbXBvbmVudHMgfHwgbnVsbFxuICAgICAgICAgICAgOiByZWNvcmQuY29tcG9uZW50ICYmIHsgZGVmYXVsdDogcmVjb3JkLmNvbXBvbmVudCB9LFxuICAgIH07XG59XG4vKipcbiAqIE5vcm1hbGl6ZSB0aGUgb3B0aW9uYWwgYHByb3BzYCBpbiBhIHJlY29yZCB0byBhbHdheXMgYmUgYW4gb2JqZWN0IHNpbWlsYXIgdG9cbiAqIGNvbXBvbmVudHMuIEFsc28gYWNjZXB0IGEgYm9vbGVhbiBmb3IgY29tcG9uZW50cy5cbiAqIEBwYXJhbSByZWNvcmRcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUmVjb3JkUHJvcHMocmVjb3JkKSB7XG4gICAgY29uc3QgcHJvcHNPYmplY3QgPSB7fTtcbiAgICAvLyBwcm9wcyBkb2VzIG5vdCBleGlzdCBvbiByZWRpcmVjdCByZWNvcmRzLCBidXQgd2UgY2FuIHNldCBmYWxzZSBkaXJlY3RseVxuICAgIGNvbnN0IHByb3BzID0gcmVjb3JkLnByb3BzIHx8IGZhbHNlO1xuICAgIGlmICgnY29tcG9uZW50JyBpbiByZWNvcmQpIHtcbiAgICAgICAgcHJvcHNPYmplY3QuZGVmYXVsdCA9IHByb3BzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gTk9URTogd2UgY291bGQgYWxzbyBhbGxvdyBhIGZ1bmN0aW9uIHRvIGJlIGFwcGxpZWQgdG8gZXZlcnkgY29tcG9uZW50LlxuICAgICAgICAvLyBXb3VsZCBuZWVkIHVzZXIgZmVlZGJhY2sgZm9yIHVzZSBjYXNlc1xuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gcmVjb3JkLmNvbXBvbmVudHMpXG4gICAgICAgICAgICBwcm9wc09iamVjdFtuYW1lXSA9IHR5cGVvZiBwcm9wcyA9PT0gJ29iamVjdCcgPyBwcm9wc1tuYW1lXSA6IHByb3BzO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcHNPYmplY3Q7XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIHJlY29yZCBvciBhbnkgb2YgaXRzIHBhcmVudCBpcyBhbiBhbGlhc1xuICogQHBhcmFtIHJlY29yZFxuICovXG5mdW5jdGlvbiBpc0FsaWFzUmVjb3JkKHJlY29yZCkge1xuICAgIHdoaWxlIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHJlY29yZC5yZWNvcmQuYWxpYXNPZilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZWNvcmQgPSByZWNvcmQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIE1lcmdlIG1ldGEgZmllbGRzIG9mIGFuIGFycmF5IG9mIHJlY29yZHNcbiAqXG4gKiBAcGFyYW0gbWF0Y2hlZCAtIGFycmF5IG9mIG1hdGNoZWQgcmVjb3Jkc1xuICovXG5mdW5jdGlvbiBtZXJnZU1ldGFGaWVsZHMobWF0Y2hlZCkge1xuICAgIHJldHVybiBtYXRjaGVkLnJlZHVjZSgobWV0YSwgcmVjb3JkKSA9PiBhc3NpZ24obWV0YSwgcmVjb3JkLm1ldGEpLCB7fSk7XG59XG5mdW5jdGlvbiBtZXJnZU9wdGlvbnMoZGVmYXVsdHMsIHBhcnRpYWxPcHRpb25zKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgICAgIG9wdGlvbnNba2V5XSA9IGtleSBpbiBwYXJ0aWFsT3B0aW9ucyA/IHBhcnRpYWxPcHRpb25zW2tleV0gOiBkZWZhdWx0c1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cbmZ1bmN0aW9uIGlzU2FtZVBhcmFtKGEsIGIpIHtcbiAgICByZXR1cm4gKGEubmFtZSA9PT0gYi5uYW1lICYmXG4gICAgICAgIGEub3B0aW9uYWwgPT09IGIub3B0aW9uYWwgJiZcbiAgICAgICAgYS5yZXBlYXRhYmxlID09PSBiLnJlcGVhdGFibGUpO1xufVxuLyoqXG4gKiBDaGVjayBpZiBhIHBhdGggYW5kIGl0cyBhbGlhcyBoYXZlIHRoZSBzYW1lIHJlcXVpcmVkIHBhcmFtc1xuICpcbiAqIEBwYXJhbSBhIC0gb3JpZ2luYWwgcmVjb3JkXG4gKiBAcGFyYW0gYiAtIGFsaWFzIHJlY29yZFxuICovXG5mdW5jdGlvbiBjaGVja1NhbWVQYXJhbXMoYSwgYikge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIGEua2V5cykge1xuICAgICAgICBpZiAoIWtleS5vcHRpb25hbCAmJiAhYi5rZXlzLmZpbmQoaXNTYW1lUGFyYW0uYmluZChudWxsLCBrZXkpKSlcbiAgICAgICAgICAgIHJldHVybiB3YXJuKGBBbGlhcyBcIiR7Yi5yZWNvcmQucGF0aH1cIiBhbmQgdGhlIG9yaWdpbmFsIHJlY29yZDogXCIke2EucmVjb3JkLnBhdGh9XCIgbXVzdCBoYXZlIHRoZSBleGFjdCBzYW1lIHBhcmFtIG5hbWVkIFwiJHtrZXkubmFtZX1cImApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBiLmtleXMpIHtcbiAgICAgICAgaWYgKCFrZXkub3B0aW9uYWwgJiYgIWEua2V5cy5maW5kKGlzU2FtZVBhcmFtLmJpbmQobnVsbCwga2V5KSkpXG4gICAgICAgICAgICByZXR1cm4gd2FybihgQWxpYXMgXCIke2IucmVjb3JkLnBhdGh9XCIgYW5kIHRoZSBvcmlnaW5hbCByZWNvcmQ6IFwiJHthLnJlY29yZC5wYXRofVwiIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBwYXJhbSBuYW1lZCBcIiR7a2V5Lm5hbWV9XCJgKTtcbiAgICB9XG59XG4vKipcbiAqIEEgcm91dGUgd2l0aCBhIG5hbWUgYW5kIGEgY2hpbGQgd2l0aCBhbiBlbXB0eSBwYXRoIHdpdGhvdXQgYSBuYW1lIHNob3VsZCB3YXJuIHdoZW4gYWRkaW5nIHRoZSByb3V0ZVxuICpcbiAqIEBwYXJhbSBtYWluTm9ybWFsaXplZFJlY29yZCAtIFJvdXRlUmVjb3JkTm9ybWFsaXplZFxuICogQHBhcmFtIHBhcmVudCAtIFJvdXRlUmVjb3JkTWF0Y2hlclxuICovXG5mdW5jdGlvbiBjaGVja0NoaWxkTWlzc2luZ05hbWVXaXRoRW1wdHlQYXRoKG1haW5Ob3JtYWxpemVkUmVjb3JkLCBwYXJlbnQpIHtcbiAgICBpZiAocGFyZW50ICYmXG4gICAgICAgIHBhcmVudC5yZWNvcmQubmFtZSAmJlxuICAgICAgICAhbWFpbk5vcm1hbGl6ZWRSZWNvcmQubmFtZSAmJlxuICAgICAgICAhbWFpbk5vcm1hbGl6ZWRSZWNvcmQucGF0aCkge1xuICAgICAgICB3YXJuKGBUaGUgcm91dGUgbmFtZWQgXCIke1N0cmluZyhwYXJlbnQucmVjb3JkLm5hbWUpfVwiIGhhcyBhIGNoaWxkIHdpdGhvdXQgYSBuYW1lIGFuZCBhbiBlbXB0eSBwYXRoLiBVc2luZyB0aGF0IG5hbWUgd29uJ3QgcmVuZGVyIHRoZSBlbXB0eSBwYXRoIGNoaWxkIHNvIHlvdSBwcm9iYWJseSB3YW50IHRvIG1vdmUgdGhlIG5hbWUgdG8gdGhlIGNoaWxkIGluc3RlYWQuIElmIHRoaXMgaXMgaW50ZW50aW9uYWwsIGFkZCBhIG5hbWUgdG8gdGhlIGNoaWxkIHJvdXRlIHRvIHJlbW92ZSB0aGUgd2FybmluZy5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVja01pc3NpbmdQYXJhbXNJbkFic29sdXRlUGF0aChyZWNvcmQsIHBhcmVudCkge1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHBhcmVudC5rZXlzKSB7XG4gICAgICAgIGlmICghcmVjb3JkLmtleXMuZmluZChpc1NhbWVQYXJhbS5iaW5kKG51bGwsIGtleSkpKVxuICAgICAgICAgICAgcmV0dXJuIHdhcm4oYEFic29sdXRlIHBhdGggXCIke3JlY29yZC5yZWNvcmQucGF0aH1cIiBtdXN0IGhhdmUgdGhlIGV4YWN0IHNhbWUgcGFyYW0gbmFtZWQgXCIke2tleS5uYW1lfVwiIGFzIGl0cyBwYXJlbnQgXCIke3BhcmVudC5yZWNvcmQucGF0aH1cIi5gKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1JlY29yZENoaWxkT2YocmVjb3JkLCBwYXJlbnQpIHtcbiAgICByZXR1cm4gcGFyZW50LmNoaWxkcmVuLnNvbWUoY2hpbGQgPT4gY2hpbGQgPT09IHJlY29yZCB8fCBpc1JlY29yZENoaWxkT2YocmVjb3JkLCBjaGlsZCkpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBxdWVyeVN0cmluZyBpbnRvIGEge0BsaW5rIExvY2F0aW9uUXVlcnl9IG9iamVjdC4gQWNjZXB0IGJvdGgsIGFcbiAqIHZlcnNpb24gd2l0aCB0aGUgbGVhZGluZyBgP2AgYW5kIHdpdGhvdXQgU2hvdWxkIHdvcmsgYXMgVVJMU2VhcmNoUGFyYW1zXG5cbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBwYXJhbSBzZWFyY2ggLSBzZWFyY2ggc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJucyBhIHF1ZXJ5IG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHNlYXJjaCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0ge307XG4gICAgLy8gYXZvaWQgY3JlYXRpbmcgYW4gb2JqZWN0IHdpdGggYW4gZW1wdHkga2V5IGFuZCBlbXB0eSB2YWx1ZVxuICAgIC8vIGJlY2F1c2Ugb2Ygc3BsaXQoJyYnKVxuICAgIGlmIChzZWFyY2ggPT09ICcnIHx8IHNlYXJjaCA9PT0gJz8nKVxuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgY29uc3QgaGFzTGVhZGluZ0lNID0gc2VhcmNoWzBdID09PSAnPyc7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gKGhhc0xlYWRpbmdJTSA/IHNlYXJjaC5zbGljZSgxKSA6IHNlYXJjaCkuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaFBhcmFtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAvLyBwcmUgZGVjb2RlIHRoZSArIGludG8gc3BhY2VcbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW0gPSBzZWFyY2hQYXJhbXNbaV0ucmVwbGFjZShQTFVTX1JFLCAnICcpO1xuICAgICAgICAvLyBhbGxvdyB0aGUgPSBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZXFQb3MgPSBzZWFyY2hQYXJhbS5pbmRleE9mKCc9Jyk7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlY29kZShlcVBvcyA8IDAgPyBzZWFyY2hQYXJhbSA6IHNlYXJjaFBhcmFtLnNsaWNlKDAsIGVxUG9zKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXFQb3MgPCAwID8gbnVsbCA6IGRlY29kZShzZWFyY2hQYXJhbS5zbGljZShlcVBvcyArIDEpKTtcbiAgICAgICAgaWYgKGtleSBpbiBxdWVyeSkge1xuICAgICAgICAgICAgLy8gYW4gZXh0cmEgdmFyaWFibGUgZm9yIHRzIHR5cGVzXG4gICAgICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XSA9IFtjdXJyZW50VmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbn1cbi8qKlxuICogU3RyaW5naWZpZXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gb2JqZWN0LiBMaWtlIGBVUkxTZWFyY2hQYXJhbXNgLCBpdFxuICogZG9lc24ndCBwcmVwZW5kIGEgYD9gXG4gKlxuICogQGludGVybmFsXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gcXVlcnkgb2JqZWN0IHRvIHN0cmluZ2lmeVxuICogQHJldHVybnMgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHF1ZXJ5IHdpdGhvdXQgdGhlIGxlYWRpbmcgYD9gXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgbGV0IHNlYXJjaCA9ICcnO1xuICAgIGZvciAobGV0IGtleSBpbiBxdWVyeSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGtleSA9IGVuY29kZVF1ZXJ5S2V5KGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG51bGwgYWRkcyB0aGUgdmFsdWVcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoICs9IChzZWFyY2gubGVuZ3RoID8gJyYnIDogJycpICsga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8ga2VlcCBudWxsIHZhbHVlc1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiB2ICYmIGVuY29kZVF1ZXJ5VmFsdWUodikpXG4gICAgICAgICAgICA6IFt2YWx1ZSAmJiBlbmNvZGVRdWVyeVZhbHVlKHZhbHVlKV07XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIC8vIHNraXAgdW5kZWZpbmVkIHZhbHVlcyBpbiBhcnJheXMgYXMgaWYgdGhleSB3ZXJlIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAvLyBzbWFsbGVyIGNvZGUgdGhhbiB1c2luZyBmaWx0ZXJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBhcHBlbmQgJiB3aXRoIG5vbi1lbXB0eSBzZWFyY2hcbiAgICAgICAgICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaC5sZW5ndGggPyAnJicgOiAnJykgKyBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaCArPSAnPScgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWFyY2g7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gaW50byBhIHtAbGluayBMb2NhdGlvblF1ZXJ5fSBieSBjYXN0aW5nXG4gKiBudW1iZXJzIGludG8gc3RyaW5ncywgcmVtb3Zpbmcga2V5cyB3aXRoIGFuIHVuZGVmaW5lZCB2YWx1ZSBhbmQgcmVwbGFjaW5nXG4gKiB1bmRlZmluZWQgd2l0aCBudWxsIGluIGFycmF5c1xuICpcbiAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5IG9iamVjdCB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIGEgbm9ybWFsaXplZCBxdWVyeSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnkocXVlcnkpIHtcbiAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBxdWVyeSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUXVlcnlba2V5XSA9IGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiAodiA9PSBudWxsID8gbnVsbCA6ICcnICsgdikpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiAnJyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkUXVlcnk7XG59XG5cbi8qKlxuICogUm91dGVSZWNvcmQgYmVpbmcgcmVuZGVyZWQgYnkgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgUm91dGVyIFZpZXcuIFVzZWQgZm9yXG4gKiBgb25CZWZvcmVSb3V0ZVVwZGF0ZWAgYW5kIGBvbkJlZm9yZVJvdXRlTGVhdmVgLiBydmxtIHN0YW5kcyBmb3IgUm91dGVyIFZpZXdcbiAqIExvY2F0aW9uIE1hdGNoZWRcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgbWF0Y2hlZFJvdXRlS2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBsb2NhdGlvbiBtYXRjaGVkJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIHJvdXRlciB2aWV3IGRlcHRoIHRvIGNvbnRyb2wgd2hpY2ggY29tcG9uZW50IGluXG4gKiBgbWF0Y2hlZGAgaXMgcmVuZGVyZWQuIHJ2ZCBzdGFuZHMgZm9yIFJvdXRlciBWaWV3IERlcHRoXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHZpZXdEZXB0aEtleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgZGVwdGgnIDogJycpO1xuLyoqXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgcm91dGVyIGluc3RhbmNlIHJldHVybmVkIGJ5IGB1c2VSb3V0ZXJgIGluIHRlc3RzLiByXG4gKiBzdGFuZHMgZm9yIHJvdXRlclxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCByb3V0ZXJLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlcicgOiAnJyk7XG4vKipcbiAqIEFsbG93cyBvdmVycmlkaW5nIHRoZSBjdXJyZW50IHJvdXRlIHJldHVybmVkIGJ5IGB1c2VSb3V0ZWAgaW4gdGVzdHMuIHJsXG4gKiBzdGFuZHMgZm9yIHJvdXRlIGxvY2F0aW9uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlTG9jYXRpb25LZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlIGxvY2F0aW9uJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIGN1cnJlbnQgcm91dGUgdXNlZCBieSByb3V0ZXItdmlldy4gSW50ZXJuYWxseSB0aGlzIGlzXG4gKiB1c2VkIHdoZW4gdGhlIGByb3V0ZWAgcHJvcCBpcyBwYXNzZWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlclZpZXdMb2NhdGlvbktleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgbG9jYXRpb24nIDogJycpO1xuXG4vKipcbiAqIENyZWF0ZSBhIGxpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIHJlc2V0LiBVc2VkIHRvIGNyZWF0ZSBiZWZvcmUgYW5kIGFmdGVyIG5hdmlnYXRpb24gZ3VhcmRzIGxpc3RcbiAqL1xuZnVuY3Rpb24gdXNlQ2FsbGJhY2tzKCkge1xuICAgIGxldCBoYW5kbGVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZChoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkLFxuICAgICAgICBsaXN0OiAoKSA9PiBoYW5kbGVycy5zbGljZSgpLFxuICAgICAgICByZXNldCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlckd1YXJkKHJlY29yZCwgbmFtZSwgZ3VhcmQpIHtcbiAgICBjb25zdCByZW1vdmVGcm9tTGlzdCA9ICgpID0+IHtcbiAgICAgICAgcmVjb3JkW25hbWVdLmRlbGV0ZShndWFyZCk7XG4gICAgfTtcbiAgICBvblVubW91bnRlZChyZW1vdmVGcm9tTGlzdCk7XG4gICAgb25EZWFjdGl2YXRlZChyZW1vdmVGcm9tTGlzdCk7XG4gICAgb25BY3RpdmF0ZWQoKCkgPT4ge1xuICAgICAgICByZWNvcmRbbmFtZV0uYWRkKGd1YXJkKTtcbiAgICB9KTtcbiAgICByZWNvcmRbbmFtZV0uYWRkKGd1YXJkKTtcbn1cbi8qKlxuICogQWRkIGEgbmF2aWdhdGlvbiBndWFyZCB0aGF0IHRyaWdnZXJzIHdoZW5ldmVyIHRoZSBjb21wb25lbnQgZm9yIHRoZSBjdXJyZW50XG4gKiBsb2NhdGlvbiBpcyBhYm91dCB0byBiZSBsZWZ0LiBTaW1pbGFyIHRvIHtAbGluayBiZWZvcmVSb3V0ZUxlYXZlfSBidXQgY2FuIGJlXG4gKiB1c2VkIGluIGFueSBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogQHBhcmFtIGxlYXZlR3VhcmQgLSB7QGxpbmsgTmF2aWdhdGlvbkd1YXJkfVxuICovXG5mdW5jdGlvbiBvbkJlZm9yZVJvdXRlTGVhdmUobGVhdmVHdWFyZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWdldEN1cnJlbnRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHdhcm4oJ2dldEN1cnJlbnRJbnN0YW5jZSgpIHJldHVybmVkIG51bGwuIG9uQmVmb3JlUm91dGVMZWF2ZSgpIG11c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBzZXR1cCBmdW5jdGlvbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZCA9IGluamVjdChtYXRjaGVkUm91dGVLZXksIFxuICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdcbiAgICB7fSkudmFsdWU7XG4gICAgaWYgKCFhY3RpdmVSZWNvcmQpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuKCdObyBhY3RpdmUgcm91dGUgcmVjb3JkIHdhcyBmb3VuZCB3aGVuIGNhbGxpbmcgYG9uQmVmb3JlUm91dGVMZWF2ZSgpYC4gTWFrZSBzdXJlIHlvdSBjYWxsIHRoaXMgZnVuY3Rpb24gaW5zaWRlIGEgY29tcG9uZW50IGNoaWxkIG9mIDxyb3V0ZXItdmlldz4uIE1heWJlIHlvdSBjYWxsZWQgaXQgaW5zaWRlIG9mIEFwcC52dWU/Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQsICdsZWF2ZUd1YXJkcycsIGxlYXZlR3VhcmQpO1xufVxuLyoqXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb24gaXMgYWJvdXRcbiAqIHRvIGJlIHVwZGF0ZWQuIFNpbWlsYXIgdG8ge0BsaW5rIGJlZm9yZVJvdXRlVXBkYXRlfSBidXQgY2FuIGJlIHVzZWQgaW4gYW55XG4gKiBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogQHBhcmFtIHVwZGF0ZUd1YXJkIC0ge0BsaW5rIE5hdmlnYXRpb25HdWFyZH1cbiAqL1xuZnVuY3Rpb24gb25CZWZvcmVSb3V0ZVVwZGF0ZSh1cGRhdGVHdWFyZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWdldEN1cnJlbnRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHdhcm4oJ2dldEN1cnJlbnRJbnN0YW5jZSgpIHJldHVybmVkIG51bGwuIG9uQmVmb3JlUm91dGVVcGRhdGUoKSBtdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgc2V0dXAgZnVuY3Rpb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVSZWNvcmQgPSBpbmplY3QobWF0Y2hlZFJvdXRlS2V5LCBcbiAgICAvLyB0byBhdm9pZCB3YXJuaW5nXG4gICAge30pLnZhbHVlO1xuICAgIGlmICghYWN0aXZlUmVjb3JkKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybignTm8gYWN0aXZlIHJvdXRlIHJlY29yZCB3YXMgZm91bmQgd2hlbiBjYWxsaW5nIGBvbkJlZm9yZVJvdXRlVXBkYXRlKClgLiBNYWtlIHN1cmUgeW91IGNhbGwgdGhpcyBmdW5jdGlvbiBpbnNpZGUgYSBjb21wb25lbnQgY2hpbGQgb2YgPHJvdXRlci12aWV3Pi4gTWF5YmUgeW91IGNhbGxlZCBpdCBpbnNpZGUgb2YgQXBwLnZ1ZT8nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWdpc3Rlckd1YXJkKGFjdGl2ZVJlY29yZCwgJ3VwZGF0ZUd1YXJkcycsIHVwZGF0ZUd1YXJkKTtcbn1cbmZ1bmN0aW9uIGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUsIHJ1bldpdGhDb250ZXh0ID0gZm4gPT4gZm4oKSkge1xuICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGVudGVyQ2FsbGJhY2tBcnJheSB0byBwcmV2ZW50IHB1c2hpbmcgY2FsbGJhY2tzIGlmIGEgbmV3IG5hdmlnYXRpb24gdG9vayBwbGFjZVxuICAgIGNvbnN0IGVudGVyQ2FsbGJhY2tBcnJheSA9IHJlY29yZCAmJlxuICAgICAgICAvLyBuYW1lIGlzIGRlZmluZWQgaWYgcmVjb3JkIGlzIGJlY2F1c2Ugb2YgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkXG4gICAgICAgIChyZWNvcmQuZW50ZXJDYWxsYmFja3NbbmFtZV0gPSByZWNvcmQuZW50ZXJDYWxsYmFja3NbbmFtZV0gfHwgW10pO1xuICAgIHJldHVybiAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSAodmFsaWQpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlUm91dGVyRXJyb3IoNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLywge1xuICAgICAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWxpZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHZhbGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUm91dGVMb2NhdGlvbih2YWxpZCkpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlUm91dGVyRXJyb3IoMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogdG8sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWxpZCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50ZXJDYWxsYmFja0FycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGVudGVyQ2FsbGJhY2tBcnJheSBpcyB0cnV0aHksIGJvdGggcmVjb3JkIGFuZCBuYW1lIGFsc28gYXJlXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9PT0gZW50ZXJDYWxsYmFja0FycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB2YWxpZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBlbnRlckNhbGxiYWNrQXJyYXkucHVzaCh2YWxpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gd3JhcHBpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBib3RoIGFzeW5jIGFuZCBzeW5jIGd1YXJkc1xuICAgICAgICBjb25zdCBndWFyZFJldHVybiA9IHJ1bldpdGhDb250ZXh0KCgpID0+IGd1YXJkLmNhbGwocmVjb3JkICYmIHJlY29yZC5pbnN0YW5jZXNbbmFtZV0sIHRvLCBmcm9tLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjYW5Pbmx5QmVDYWxsZWRPbmNlKG5leHQsIHRvLCBmcm9tKSA6IG5leHQpKTtcbiAgICAgICAgbGV0IGd1YXJkQ2FsbCA9IFByb21pc2UucmVzb2x2ZShndWFyZFJldHVybik7XG4gICAgICAgIGlmIChndWFyZC5sZW5ndGggPCAzKVxuICAgICAgICAgICAgZ3VhcmRDYWxsID0gZ3VhcmRDYWxsLnRoZW4obmV4dCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ3VhcmQubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIG5ldmVyIGNhbGxlZCBpbnNpZGUgb2YgJHtndWFyZC5uYW1lID8gJ1wiJyArIGd1YXJkLm5hbWUgKyAnXCInIDogJyd9OlxcbiR7Z3VhcmQudG9TdHJpbmcoKX1cXG4uIElmIHlvdSBhcmUgcmV0dXJuaW5nIGEgdmFsdWUgaW5zdGVhZCBvZiBjYWxsaW5nIFwibmV4dFwiLCBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBcIm5leHRcIiBwYXJhbWV0ZXIgZnJvbSB5b3VyIGZ1bmN0aW9uLmA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGd1YXJkUmV0dXJuID09PSAnb2JqZWN0JyAmJiAndGhlbicgaW4gZ3VhcmRSZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBndWFyZENhbGwgPSBndWFyZENhbGwudGhlbihyZXNvbHZlZFZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogX2NhbGxlZCBpcyBhZGRlZCBhdCBjYW5Pbmx5QmVDYWxsZWRPbmNlXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5fY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBuYXZpZ2F0aW9uIGd1YXJkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ3VhcmRSZXR1cm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IF9jYWxsZWQgaXMgYWRkZWQgYXQgY2FuT25seUJlQ2FsbGVkT25jZVxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5fY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgbmF2aWdhdGlvbiBndWFyZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBndWFyZENhbGwuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNhbk9ubHlCZUNhbGxlZE9uY2UobmV4dCwgdG8sIGZyb20pIHtcbiAgICBsZXQgY2FsbGVkID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FsbGVkKysgPT09IDEpXG4gICAgICAgICAgICB3YXJuKGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpbiBvbmUgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiLiBJdCBzaG91bGQgYmUgY2FsbGVkIGV4YWN0bHkgb25lIHRpbWUgaW4gZWFjaCBuYXZpZ2F0aW9uIGd1YXJkLiBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBwdXQgaXQgaW4gdGhlIG9yaWdpbmFsIG9uZSBiZWNhdXNlIGl0J3MgZWFzaWVyIHRvIGNoZWNrXG4gICAgICAgIG5leHQuX2NhbGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjYWxsZWQgPT09IDEpXG4gICAgICAgICAgICBuZXh0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKG1hdGNoZWQsIGd1YXJkVHlwZSwgdG8sIGZyb20sIHJ1bldpdGhDb250ZXh0ID0gZm4gPT4gZm4oKSkge1xuICAgIGNvbnN0IGd1YXJkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIG1hdGNoZWQpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVjb3JkLmNvbXBvbmVudHMgJiYgIXJlY29yZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdhcm4oYFJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGVpdGhlciBtaXNzaW5nIGEgXCJjb21wb25lbnQocylcImAgK1xuICAgICAgICAgICAgICAgIGAgb3IgXCJjaGlsZHJlblwiIHByb3BlcnR5LmApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cykge1xuICAgICAgICAgICAgbGV0IHJhd0NvbXBvbmVudCA9IHJlY29yZC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmICghcmF3Q29tcG9uZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcmF3Q29tcG9uZW50ICE9PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIG5vdGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCBhIHZhbGlkIGNvbXBvbmVudC4gUmVjZWl2ZWQgXCIke1N0cmluZyhyYXdDb21wb25lbnQpfVwiLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0byBlbnN1cmUgd2Ugc3RvcCBoZXJlIGJ1dCB3YXJuIHRvIGVuc3VyZSB0aGUgbWVzc2FnZSBpc24ndFxuICAgICAgICAgICAgICAgICAgICAvLyBtaXNzZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJvdXRlIGNvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgndGhlbicgaW4gcmF3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhcm4gaWYgdXNlciB3cm90ZSBpbXBvcnQoJy9jb21wb25lbnQudnVlJykgaW5zdGVhZCBvZiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAvLyBpbXBvcnQoJy4vY29tcG9uZW50LnZ1ZScpXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBpbiByZWNvcmQgd2l0aCBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIiBpcyBhIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFByb21pc2UgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UuIERpZCB5b3UgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgd3JpdGUgXCJpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcIigpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJylcIiA/IFRoaXMgd2lsbCBicmVhayBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHJhd0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50ID0gKCkgPT4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmF3Q29tcG9uZW50Ll9fYXN5bmNMb2FkZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gd2FybiBvbmx5IG9uY2UgcGVyIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAhcmF3Q29tcG9uZW50Ll9fd2FybmVkRGVmaW5lQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50Ll9fd2FybmVkRGVmaW5lQXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgZGVmaW5lZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB1c2luZyBcImRlZmluZUFzeW5jQ29tcG9uZW50KClcIi4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgV3JpdGUgXCIoKSA9PiBpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcImRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJykpXCIuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2tpcCB1cGRhdGUgYW5kIGxlYXZlIGd1YXJkcyBpZiB0aGUgcm91dGUgY29tcG9uZW50IGlzIG5vdCBtb3VudGVkXG4gICAgICAgICAgICBpZiAoZ3VhcmRUeXBlICE9PSAnYmVmb3JlUm91dGVFbnRlcicgJiYgIXJlY29yZC5pbnN0YW5jZXNbbmFtZV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoaXNSb3V0ZUNvbXBvbmVudChyYXdDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gX192Y2NPcHRzIGlzIGFkZGVkIGJ5IHZ1ZS1jbGFzcy1jb21wb25lbnQgYW5kIGNvbnRhaW4gdGhlIHJlZ3VsYXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSByYXdDb21wb25lbnQuX192Y2NPcHRzIHx8IHJhd0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcbiAgICAgICAgICAgICAgICBndWFyZCAmJlxuICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSwgcmVjb3JkLCBuYW1lLCBydW5XaXRoQ29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcmVxdWVzdGluZyB0aGUgY2h1bmsgYWxyZWFkeVxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9taXNlID0gcmF3Q29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhKCdjYXRjaCcgaW4gY29tcG9uZW50UHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGEgZnVuY3Rpb24gdGhhdCBkb2VzIG5vdCByZXR1cm4gYSBQcm9taXNlLiBJZiB5b3Ugd2VyZSBwYXNzaW5nIGEgZnVuY3Rpb25hbCBjb21wb25lbnQsIG1ha2Ugc3VyZSB0byBhZGQgYSBcImRpc3BsYXlOYW1lXCIgdG8gdGhlIGNvbXBvbmVudC4gVGhpcyB3aWxsIGJyZWFrIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbXBvbmVudFByb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaCgoKSA9PiBjb21wb25lbnRQcm9taXNlLnRoZW4ocmVzb2x2ZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ291bGRuJ3QgcmVzb2x2ZSBjb21wb25lbnQgXCIke25hbWV9XCIgYXQgXCIke3JlY29yZC5wYXRofVwiYCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZENvbXBvbmVudCA9IGlzRVNNb2R1bGUocmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc29sdmVkLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHJlc29sdmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQgYmVjYXVzZSB3ZSB3ZW50IGludG8gdGhlIGZvciBsb29wXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5jb21wb25lbnRzW25hbWVdID0gcmVzb2x2ZWRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIF9fdmNjT3B0cyBpcyBhZGRlZCBieSB2dWUtY2xhc3MtY29tcG9uZW50IGFuZCBjb250YWluIHRoZSByZWd1bGFyIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHJlc29sdmVkQ29tcG9uZW50Ll9fdmNjT3B0cyB8fCByZXNvbHZlZENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSBvcHRpb25zW2d1YXJkVHlwZV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZ3VhcmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUsIHJ1bldpdGhDb250ZXh0KSgpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGd1YXJkcztcbn1cbi8qKlxuICogQWxsb3dzIGRpZmZlcmVudGlhdGluZyBsYXp5IGNvbXBvbmVudHMgZnJvbSBmdW5jdGlvbmFsIGNvbXBvbmVudHMgYW5kIHZ1ZS1jbGFzcy1jb21wb25lbnRcbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqL1xuZnVuY3Rpb24gaXNSb3V0ZUNvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnIHx8XG4gICAgICAgICdkaXNwbGF5TmFtZScgaW4gY29tcG9uZW50IHx8XG4gICAgICAgICdwcm9wcycgaW4gY29tcG9uZW50IHx8XG4gICAgICAgICdfX3ZjY09wdHMnIGluIGNvbXBvbmVudCk7XG59XG4vKipcbiAqIEVuc3VyZXMgYSByb3V0ZSBpcyBsb2FkZWQsIHNvIGl0IGNhbiBiZSBwYXNzZWQgYXMgbyBwcm9wIHRvIGA8Um91dGVyVmlldz5gLlxuICpcbiAqIEBwYXJhbSByb3V0ZSAtIHJlc29sdmVkIHJvdXRlIHRvIGxvYWRcbiAqL1xuZnVuY3Rpb24gbG9hZFJvdXRlTG9jYXRpb24ocm91dGUpIHtcbiAgICByZXR1cm4gcm91dGUubWF0Y2hlZC5ldmVyeShyZWNvcmQgPT4gcmVjb3JkLnJlZGlyZWN0KVxuICAgICAgICA/IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2Fubm90IGxvYWQgYSByb3V0ZSB0aGF0IHJlZGlyZWN0cy4nKSlcbiAgICAgICAgOiBQcm9taXNlLmFsbChyb3V0ZS5tYXRjaGVkLm1hcChyZWNvcmQgPT4gcmVjb3JkLmNvbXBvbmVudHMgJiZcbiAgICAgICAgICAgIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHJlY29yZC5jb21wb25lbnRzKS5yZWR1Y2UoKHByb21pc2VzLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3Q29tcG9uZW50ID0gcmVjb3JkLmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByYXdDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgISgnZGlzcGxheU5hbWUnIGluIHJhd0NvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyYXdDb21wb25lbnQoKS50aGVuKHJlc29sdmVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ291bGRuJ3QgcmVzb2x2ZSBjb21wb25lbnQgXCIke25hbWV9XCIgYXQgXCIke3JlY29yZC5wYXRofVwiLiBFbnN1cmUgeW91IHBhc3NlZCBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRDb21wb25lbnQgPSBpc0VTTW9kdWxlKHJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZWQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSByZXNvbHZlZCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBiZWNhdXNlIHdlIHdlbnQgaW50byB0aGUgZm9yIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5jb21wb25lbnRzW25hbWVdID0gcmVzb2x2ZWRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzO1xuICAgICAgICAgICAgfSwgW10pKSkpLnRoZW4oKCkgPT4gcm91dGUpO1xufVxuXG4vLyBUT0RPOiB3ZSBjb3VsZCBhbGxvdyBjdXJyZW50Um91dGUgYXMgYSBwcm9wIHRvIGV4cG9zZSBgaXNBY3RpdmVgIGFuZFxuLy8gYGlzRXhhY3RBY3RpdmVgIGJlaGF2aW9yIHNob3VsZCBnbyB0aHJvdWdoIGFuIFJGQ1xuZnVuY3Rpb24gdXNlTGluayhwcm9wcykge1xuICAgIGNvbnN0IHJvdXRlciA9IGluamVjdChyb3V0ZXJLZXkpO1xuICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IGluamVjdChyb3V0ZUxvY2F0aW9uS2V5KTtcbiAgICBjb25zdCByb3V0ZSA9IGNvbXB1dGVkKCgpID0+IHJvdXRlci5yZXNvbHZlKHVucmVmKHByb3BzLnRvKSkpO1xuICAgIGNvbnN0IGFjdGl2ZVJlY29yZEluZGV4ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1hdGNoZWQgfSA9IHJvdXRlLnZhbHVlO1xuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gbWF0Y2hlZDtcbiAgICAgICAgY29uc3Qgcm91dGVNYXRjaGVkID0gbWF0Y2hlZFtsZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgY3VycmVudE1hdGNoZWQgPSBjdXJyZW50Um91dGUubWF0Y2hlZDtcbiAgICAgICAgaWYgKCFyb3V0ZU1hdGNoZWQgfHwgIWN1cnJlbnRNYXRjaGVkLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjdXJyZW50TWF0Y2hlZC5maW5kSW5kZXgoaXNTYW1lUm91dGVSZWNvcmQuYmluZChudWxsLCByb3V0ZU1hdGNoZWQpKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIC8vIHBvc3NpYmxlIHBhcmVudCByZWNvcmRcbiAgICAgICAgY29uc3QgcGFyZW50UmVjb3JkUGF0aCA9IGdldE9yaWdpbmFsUGF0aChtYXRjaGVkW2xlbmd0aCAtIDJdKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gd2UgYXJlIGRlYWxpbmcgd2l0aCBuZXN0ZWQgcm91dGVzXG4gICAgICAgIGxlbmd0aCA+IDEgJiZcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgYW5kIG1hdGNoZWQgcm91dGUgaGF2ZSB0aGUgc2FtZSBwYXRoLCB0aGlzIGxpbmsgaXNcbiAgICAgICAgICAgIC8vIHJlZmVycmluZyB0byB0aGUgZW1wdHkgY2hpbGQuIE9yIHdlIGN1cnJlbnRseSBhcmUgb24gYSBkaWZmZXJlbnRcbiAgICAgICAgICAgIC8vIGNoaWxkIG9mIHRoZSBzYW1lIHBhcmVudFxuICAgICAgICAgICAgZ2V0T3JpZ2luYWxQYXRoKHJvdXRlTWF0Y2hlZCkgPT09IHBhcmVudFJlY29yZFBhdGggJiZcbiAgICAgICAgICAgIC8vIGF2b2lkIGNvbXBhcmluZyB0aGUgY2hpbGQgd2l0aCBpdHMgcGFyZW50XG4gICAgICAgICAgICBjdXJyZW50TWF0Y2hlZFtjdXJyZW50TWF0Y2hlZC5sZW5ndGggLSAxXS5wYXRoICE9PSBwYXJlbnRSZWNvcmRQYXRoXG4gICAgICAgICAgICA/IGN1cnJlbnRNYXRjaGVkLmZpbmRJbmRleChpc1NhbWVSb3V0ZVJlY29yZC5iaW5kKG51bGwsIG1hdGNoZWRbbGVuZ3RoIC0gMl0pKVxuICAgICAgICAgICAgOiBpbmRleCk7XG4gICAgfSk7XG4gICAgY29uc3QgaXNBY3RpdmUgPSBjb21wdXRlZCgoKSA9PiBhY3RpdmVSZWNvcmRJbmRleC52YWx1ZSA+IC0xICYmXG4gICAgICAgIGluY2x1ZGVzUGFyYW1zKGN1cnJlbnRSb3V0ZS5wYXJhbXMsIHJvdXRlLnZhbHVlLnBhcmFtcykpO1xuICAgIGNvbnN0IGlzRXhhY3RBY3RpdmUgPSBjb21wdXRlZCgoKSA9PiBhY3RpdmVSZWNvcmRJbmRleC52YWx1ZSA+IC0xICYmXG4gICAgICAgIGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID09PSBjdXJyZW50Um91dGUubWF0Y2hlZC5sZW5ndGggLSAxICYmXG4gICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoY3VycmVudFJvdXRlLnBhcmFtcywgcm91dGUudmFsdWUucGFyYW1zKSk7XG4gICAgZnVuY3Rpb24gbmF2aWdhdGUoZSA9IHt9KSB7XG4gICAgICAgIGlmIChndWFyZEV2ZW50KGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91dGVyW3VucmVmKHByb3BzLnJlcGxhY2UpID8gJ3JlcGxhY2UnIDogJ3B1c2gnXSh1bnJlZihwcm9wcy50bylcbiAgICAgICAgICAgIC8vIGF2b2lkIHVuY2F1Z2h0IGVycm9ycyBhcmUgdGhleSBhcmUgbG9nZ2VkIGFueXdheVxuICAgICAgICAgICAgKS5jYXRjaChub29wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8vIGRldnRvb2xzIG9ubHlcbiAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmIGlzQnJvd3Nlcikge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtDb250ZXh0RGV2dG9vbHMgPSB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBpc0V4YWN0QWN0aXZlOiBpc0V4YWN0QWN0aXZlLnZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoaXMgaXMgaW50ZXJuYWxcbiAgICAgICAgICAgIGluc3RhbmNlLl9fdnJsX2RldnRvb2xzID0gaW5zdGFuY2UuX192cmxfZGV2dG9vbHMgfHwgW107XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0aGlzIGlzIGludGVybmFsXG4gICAgICAgICAgICBpbnN0YW5jZS5fX3ZybF9kZXZ0b29scy5wdXNoKGxpbmtDb250ZXh0RGV2dG9vbHMpO1xuICAgICAgICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxpbmtDb250ZXh0RGV2dG9vbHMucm91dGUgPSByb3V0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsaW5rQ29udGV4dERldnRvb2xzLmlzQWN0aXZlID0gaXNBY3RpdmUudmFsdWU7XG4gICAgICAgICAgICAgICAgbGlua0NvbnRleHREZXZ0b29scy5pc0V4YWN0QWN0aXZlID0gaXNFeGFjdEFjdGl2ZS52YWx1ZTtcbiAgICAgICAgICAgIH0sIHsgZmx1c2g6ICdwb3N0JyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOT1RFOiB1cGRhdGUge0BsaW5rIF9Sb3V0ZXJMaW5rSX0ncyBgJHNsb3RzYCB0eXBlIHdoZW4gdXBkYXRpbmcgdGhpc1xuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvdXRlLFxuICAgICAgICBocmVmOiBjb21wdXRlZCgoKSA9PiByb3V0ZS52YWx1ZS5ocmVmKSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIGlzRXhhY3RBY3RpdmUsXG4gICAgICAgIG5hdmlnYXRlLFxuICAgIH07XG59XG5jb25zdCBSb3V0ZXJMaW5rSW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnUm91dGVyTGluaycsXG4gICAgY29tcGF0Q29uZmlnOiB7IE1PREU6IDMgfSxcbiAgICBwcm9wczoge1xuICAgICAgICB0bzoge1xuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICByZXBsYWNlOiBCb29sZWFuLFxuICAgICAgICBhY3RpdmVDbGFzczogU3RyaW5nLFxuICAgICAgICAvLyBpbmFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgICAgIGV4YWN0QWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICAgICAgY3VzdG9tOiBCb29sZWFuLFxuICAgICAgICBhcmlhQ3VycmVudFZhbHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiAncGFnZScsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VMaW5rLFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgbGluayA9IHJlYWN0aXZlKHVzZUxpbmsocHJvcHMpKTtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBpbmplY3Qocm91dGVyS2V5KTtcbiAgICAgICAgY29uc3QgZWxDbGFzcyA9IGNvbXB1dGVkKCgpID0+ICh7XG4gICAgICAgICAgICBbZ2V0TGlua0NsYXNzKHByb3BzLmFjdGl2ZUNsYXNzLCBvcHRpb25zLmxpbmtBY3RpdmVDbGFzcywgJ3JvdXRlci1saW5rLWFjdGl2ZScpXTogbGluay5pc0FjdGl2ZSxcbiAgICAgICAgICAgIC8vIFtnZXRMaW5rQ2xhc3MoXG4gICAgICAgICAgICAvLyAgIHByb3BzLmluYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgICAvLyAgIG9wdGlvbnMubGlua0luYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgICAvLyAgICdyb3V0ZXItbGluay1pbmFjdGl2ZSdcbiAgICAgICAgICAgIC8vICldOiAhbGluay5pc0V4YWN0QWN0aXZlLFxuICAgICAgICAgICAgW2dldExpbmtDbGFzcyhwcm9wcy5leGFjdEFjdGl2ZUNsYXNzLCBvcHRpb25zLmxpbmtFeGFjdEFjdGl2ZUNsYXNzLCAncm91dGVyLWxpbmstZXhhY3QtYWN0aXZlJyldOiBsaW5rLmlzRXhhY3RBY3RpdmUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KGxpbmspO1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmN1c3RvbVxuICAgICAgICAgICAgICAgID8gY2hpbGRyZW5cbiAgICAgICAgICAgICAgICA6IGgoJ2EnLCB7XG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWN1cnJlbnQnOiBsaW5rLmlzRXhhY3RBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcHJvcHMuYXJpYUN1cnJlbnRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBsaW5rLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd291bGQgb3ZlcnJpZGUgdXNlciBhZGRlZCBhdHRycyBidXQgVnVlIHdpbGwgc3RpbGwgYWRkXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciwgc28gd2UgZW5kIHVwIHRyaWdnZXJpbmcgYm90aFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBsaW5rLm5hdmlnYXRlLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogZWxDbGFzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbik7XG4gICAgICAgIH07XG4gICAgfSxcbn0pO1xuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuLyoqXG4gKiBDb21wb25lbnQgdG8gcmVuZGVyIGEgbGluayB0aGF0IHRyaWdnZXJzIGEgbmF2aWdhdGlvbiBvbiBjbGljay5cbiAqL1xuY29uc3QgUm91dGVyTGluayA9IFJvdXRlckxpbmtJbXBsO1xuZnVuY3Rpb24gZ3VhcmRFdmVudChlKSB7XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2l0aCBjb250cm9sIGtleXNcbiAgICBpZiAoZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLnNoaWZ0S2V5KVxuICAgICAgICByZXR1cm47XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2hlbiBwcmV2ZW50RGVmYXVsdCBjYWxsZWRcbiAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgb24gcmlnaHQgY2xpY2tcbiAgICBpZiAoZS5idXR0b24gIT09IHVuZGVmaW5lZCAmJiBlLmJ1dHRvbiAhPT0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGRvbid0IHJlZGlyZWN0IGlmIGB0YXJnZXQ9XCJfYmxhbmtcImBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldEF0dHJpYnV0ZSBkb2VzIGV4aXN0XG4gICAgaWYgKGUuY3VycmVudFRhcmdldCAmJiBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2V0QXR0cmlidXRlIGV4aXN0c1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcbiAgICAgICAgaWYgKC9cXGJfYmxhbmtcXGIvaS50ZXN0KHRhcmdldCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHRoaXMgbWF5IGJlIGEgV2VleCBldmVudCB3aGljaCBkb2Vzbid0IGhhdmUgdGhpcyBtZXRob2RcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaW5jbHVkZXNQYXJhbXMob3V0ZXIsIGlubmVyKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5uZXIpIHtcbiAgICAgICAgY29uc3QgaW5uZXJWYWx1ZSA9IGlubmVyW2tleV07XG4gICAgICAgIGNvbnN0IG91dGVyVmFsdWUgPSBvdXRlcltrZXldO1xuICAgICAgICBpZiAodHlwZW9mIGlubmVyVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoaW5uZXJWYWx1ZSAhPT0gb3V0ZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkob3V0ZXJWYWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBvdXRlclZhbHVlLmxlbmd0aCAhPT0gaW5uZXJWYWx1ZS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICBpbm5lclZhbHVlLnNvbWUoKHZhbHVlLCBpKSA9PiB2YWx1ZSAhPT0gb3V0ZXJWYWx1ZVtpXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBHZXQgdGhlIG9yaWdpbmFsIHBhdGggdmFsdWUgb2YgYSByZWNvcmQgYnkgZm9sbG93aW5nIGl0cyBhbGlhc09mXG4gKiBAcGFyYW0gcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGdldE9yaWdpbmFsUGF0aChyZWNvcmQpIHtcbiAgICByZXR1cm4gcmVjb3JkID8gKHJlY29yZC5hbGlhc09mID8gcmVjb3JkLmFsaWFzT2YucGF0aCA6IHJlY29yZC5wYXRoKSA6ICcnO1xufVxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIGdldCB0aGUgYWN0aXZlIGNsYXNzIGJhc2VkIG9uIGRlZmF1bHRzLlxuICogQHBhcmFtIHByb3BDbGFzc1xuICogQHBhcmFtIGdsb2JhbENsYXNzXG4gKiBAcGFyYW0gZGVmYXVsdENsYXNzXG4gKi9cbmNvbnN0IGdldExpbmtDbGFzcyA9IChwcm9wQ2xhc3MsIGdsb2JhbENsYXNzLCBkZWZhdWx0Q2xhc3MpID0+IHByb3BDbGFzcyAhPSBudWxsXG4gICAgPyBwcm9wQ2xhc3NcbiAgICA6IGdsb2JhbENsYXNzICE9IG51bGxcbiAgICAgICAgPyBnbG9iYWxDbGFzc1xuICAgICAgICA6IGRlZmF1bHRDbGFzcztcblxuY29uc3QgUm91dGVyVmlld0ltcGwgPSAvKiNfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ1JvdXRlclZpZXcnLFxuICAgIC8vICM2NzQgd2UgbWFudWFsbHkgaW5oZXJpdCB0aGVtXG4gICAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgICBwcm9wczoge1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiAnZGVmYXVsdCcsXG4gICAgICAgIH0sXG4gICAgICAgIHJvdXRlOiBPYmplY3QsXG4gICAgfSxcbiAgICAvLyBCZXR0ZXIgY29tcGF0IGZvciBAdnVlL2NvbXBhdCB1c2Vyc1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzEzMTVcbiAgICBjb21wYXRDb25maWc6IHsgTU9ERTogMyB9LFxuICAgIHNldHVwKHByb3BzLCB7IGF0dHJzLCBzbG90cyB9KSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRlZFVzYWdlKCk7XG4gICAgICAgIGNvbnN0IGluamVjdGVkUm91dGUgPSBpbmplY3Qocm91dGVyVmlld0xvY2F0aW9uS2V5KTtcbiAgICAgICAgY29uc3Qgcm91dGVUb0Rpc3BsYXkgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy5yb3V0ZSB8fCBpbmplY3RlZFJvdXRlLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWREZXB0aCA9IGluamVjdCh2aWV3RGVwdGhLZXksIDApO1xuICAgICAgICAvLyBUaGUgZGVwdGggY2hhbmdlcyBiYXNlZCBvbiBlbXB0eSBjb21wb25lbnRzIG9wdGlvbiwgd2hpY2ggYWxsb3dzIHBhc3N0aHJvdWdoIHJvdXRlcyBlLmcuIHJvdXRlcyB3aXRoIGNoaWxkcmVuXG4gICAgICAgIC8vIHRoYXQgYXJlIHVzZWQgdG8gcmV1c2UgdGhlIGBwYXRoYCBwcm9wZXJ0eVxuICAgICAgICBjb25zdCBkZXB0aCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBpbml0aWFsRGVwdGggPSB1bnJlZihpbmplY3RlZERlcHRoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbWF0Y2hlZCB9ID0gcm91dGVUb0Rpc3BsYXkudmFsdWU7XG4gICAgICAgICAgICBsZXQgbWF0Y2hlZFJvdXRlO1xuICAgICAgICAgICAgd2hpbGUgKChtYXRjaGVkUm91dGUgPSBtYXRjaGVkW2luaXRpYWxEZXB0aF0pICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoZWRSb3V0ZS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbERlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbERlcHRoO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlUmVmID0gY29tcHV0ZWQoKCkgPT4gcm91dGVUb0Rpc3BsYXkudmFsdWUubWF0Y2hlZFtkZXB0aC52YWx1ZV0pO1xuICAgICAgICBwcm92aWRlKHZpZXdEZXB0aEtleSwgY29tcHV0ZWQoKCkgPT4gZGVwdGgudmFsdWUgKyAxKSk7XG4gICAgICAgIHByb3ZpZGUobWF0Y2hlZFJvdXRlS2V5LCBtYXRjaGVkUm91dGVSZWYpO1xuICAgICAgICBwcm92aWRlKHJvdXRlclZpZXdMb2NhdGlvbktleSwgcm91dGVUb0Rpc3BsYXkpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gcmVmKCk7XG4gICAgICAgIC8vIHdhdGNoIGF0IHRoZSBzYW1lIHRpbWUgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgdGhlIHJvdXRlIHJlY29yZCB3ZSBhcmVcbiAgICAgICAgLy8gcmVuZGVyaW5nLCBhbmQgdGhlIG5hbWVcbiAgICAgICAgd2F0Y2goKCkgPT4gW3ZpZXdSZWYudmFsdWUsIG1hdGNoZWRSb3V0ZVJlZi52YWx1ZSwgcHJvcHMubmFtZV0sIChbaW5zdGFuY2UsIHRvLCBuYW1lXSwgW29sZEluc3RhbmNlLCBmcm9tLCBvbGROYW1lXSkgPT4ge1xuICAgICAgICAgICAgLy8gY29weSByZXVzZWQgaW5zdGFuY2VzXG4gICAgICAgICAgICBpZiAodG8pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgdXBkYXRlIHRoZSBpbnN0YW5jZSBmb3IgbmV3IGluc3RhbmNlcyBhcyB3ZWxsIGFzIHJldXNlZFxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlcyB3aGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcgcm91dGVcbiAgICAgICAgICAgICAgICB0by5pbnN0YW5jZXNbbmFtZV0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGluc3RhbmNlIGlzIHJldXNlZCBmb3IgYSBkaWZmZXJlbnQgcm91dGUgb3IgbmFtZSwgc29cbiAgICAgICAgICAgICAgICAvLyB3ZSBjb3B5IGFueSBzYXZlZCB1cGRhdGUgb3IgbGVhdmUgZ3VhcmRzLiBXaXRoIGFzeW5jIHNldHVwLCB0aGVcbiAgICAgICAgICAgICAgICAvLyBtb3VudGluZyBjb21wb25lbnQgd2lsbCBtb3VudCBiZWZvcmUgdGhlIG1hdGNoZWRSb3V0ZSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIC8vIG1ha2luZyBpbnN0YW5jZSA9PT0gb2xkSW5zdGFuY2UsIHNvIHdlIGNoZWNrIGlmIGd1YXJkcyBoYXZlIGJlZW5cbiAgICAgICAgICAgICAgICAvLyBhZGRlZCBiZWZvcmUuIFRoaXMgd29ya3MgYmVjYXVzZSB3ZSByZW1vdmUgZ3VhcmRzIHdoZW5cbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50aW5nL2RlYWN0aXZhdGluZyBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGZyb20gJiYgZnJvbSAhPT0gdG8gJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UgPT09IG9sZEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdG8ubGVhdmVHdWFyZHMuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8ubGVhdmVHdWFyZHMgPSBmcm9tLmxlYXZlR3VhcmRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdG8udXBkYXRlR3VhcmRzLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLnVwZGF0ZUd1YXJkcyA9IGZyb20udXBkYXRlR3VhcmRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBiZWZvcmVSb3V0ZUVudGVyIG5leHQgY2FsbGJhY2tzXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICB0byAmJlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGluc3RhbmNlIGJ1dCB0byBhbmQgZnJvbSBhcmUgdGhlIHNhbWUgdGhpcyBtaWdodCBiZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB2aXNpdFxuICAgICAgICAgICAgICAgICghZnJvbSB8fCAhaXNTYW1lUm91dGVSZWNvcmQodG8sIGZyb20pIHx8ICFvbGRJbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAodG8uZW50ZXJDYWxsYmFja3NbbmFtZV0gfHwgW10pLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soaW5zdGFuY2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgeyBmbHVzaDogJ3Bvc3QnIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb3V0ZVRvRGlzcGxheS52YWx1ZTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhlIHZhbHVlIGF0IHRoZSB0aW1lIHdlIHJlbmRlciBiZWNhdXNlIHdoZW4gd2UgdW5tb3VudCwgd2VcbiAgICAgICAgICAgIC8vIG5hdmlnYXRlZCB0byBhIGRpZmZlcmVudCBsb2NhdGlvbiBzbyB0aGUgdmFsdWUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmFtZSA9IHByb3BzLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkUm91dGUgPSBtYXRjaGVkUm91dGVSZWYudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBWaWV3Q29tcG9uZW50ID0gbWF0Y2hlZFJvdXRlICYmIG1hdGNoZWRSb3V0ZS5jb21wb25lbnRzW2N1cnJlbnROYW1lXTtcbiAgICAgICAgICAgIGlmICghVmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVTbG90KHNsb3RzLmRlZmF1bHQsIHsgQ29tcG9uZW50OiBWaWV3Q29tcG9uZW50LCByb3V0ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzIGZyb20gcm91dGUgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgY29uc3Qgcm91dGVQcm9wc09wdGlvbiA9IG1hdGNoZWRSb3V0ZS5wcm9wc1tjdXJyZW50TmFtZV07XG4gICAgICAgICAgICBjb25zdCByb3V0ZVByb3BzID0gcm91dGVQcm9wc09wdGlvblxuICAgICAgICAgICAgICAgID8gcm91dGVQcm9wc09wdGlvbiA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA/IHJvdXRlLnBhcmFtc1xuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiByb3V0ZVByb3BzT3B0aW9uID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJvdXRlUHJvcHNPcHRpb24ocm91dGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJvdXRlUHJvcHNPcHRpb25cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBvblZub2RlVW5tb3VudGVkID0gdm5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgaW5zdGFuY2UgcmVmZXJlbmNlIHRvIHByZXZlbnQgbGVha1xuICAgICAgICAgICAgICAgIGlmICh2bm9kZS5jb21wb25lbnQuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFJvdXRlLmluc3RhbmNlc1tjdXJyZW50TmFtZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBoKFZpZXdDb21wb25lbnQsIGFzc2lnbih7fSwgcm91dGVQcm9wcywgYXR0cnMsIHtcbiAgICAgICAgICAgICAgICBvblZub2RlVW5tb3VudGVkLFxuICAgICAgICAgICAgICAgIHJlZjogdmlld1JlZixcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICBpc0Jyb3dzZXIgJiZcbiAgICAgICAgICAgICAgICBjb21wb25lbnQucmVmKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY2FuIGRpc3BsYXkgaWYgaXQncyBhbiBhbGlhcywgaXRzIHByb3BzXG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVwdGg6IGRlcHRoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtYXRjaGVkUm91dGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogbWF0Y2hlZFJvdXRlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IG1hdGNoZWRSb3V0ZS5tZXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJuYWxJbnN0YW5jZXMgPSBpc0FycmF5KGNvbXBvbmVudC5yZWYpXG4gICAgICAgICAgICAgICAgICAgID8gY29tcG9uZW50LnJlZi5tYXAociA9PiByLmkpXG4gICAgICAgICAgICAgICAgICAgIDogW2NvbXBvbmVudC5yZWYuaV07XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZXMuZm9yRWFjaChpbnN0YW5jZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX192cnZfZGV2dG9vbHMgPSBpbmZvO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIC8vIHBhc3MgdGhlIHZub2RlIHRvIHRoZSBzbG90IGFzIGEgcHJvcC5cbiAgICAgICAgICAgIC8vIGggYW5kIDxjb21wb25lbnQgOmlzPVwiLi4uXCI+IGJvdGggYWNjZXB0IHZub2Rlc1xuICAgICAgICAgICAgbm9ybWFsaXplU2xvdChzbG90cy5kZWZhdWx0LCB7IENvbXBvbmVudDogY29tcG9uZW50LCByb3V0ZSB9KSB8fFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCk7XG4gICAgICAgIH07XG4gICAgfSxcbn0pO1xuZnVuY3Rpb24gbm9ybWFsaXplU2xvdChzbG90LCBkYXRhKSB7XG4gICAgaWYgKCFzbG90KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBzbG90Q29udGVudCA9IHNsb3QoZGF0YSk7XG4gICAgcmV0dXJuIHNsb3RDb250ZW50Lmxlbmd0aCA9PT0gMSA/IHNsb3RDb250ZW50WzBdIDogc2xvdENvbnRlbnQ7XG59XG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2Vcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG4vKipcbiAqIENvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBjdXJyZW50IHJvdXRlIHRoZSB1c2VyIGlzIGF0LlxuICovXG5jb25zdCBSb3V0ZXJWaWV3ID0gUm91dGVyVmlld0ltcGw7XG4vLyB3YXJuIGFnYWluc3QgZGVwcmVjYXRlZCB1c2FnZSB3aXRoIDx0cmFuc2l0aW9uPiAmIDxrZWVwLWFsaXZlPlxuLy8gZHVlIHRvIGZ1bmN0aW9uYWwgY29tcG9uZW50IGJlaW5nIG5vIGxvbmdlciBlYWdlciBpbiBWdWUgM1xuZnVuY3Rpb24gd2FybkRlcHJlY2F0ZWRVc2FnZSgpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHBhcmVudE5hbWUgPSBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnR5cGUubmFtZTtcbiAgICBjb25zdCBwYXJlbnRTdWJUcmVlVHlwZSA9IGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQuc3ViVHJlZSAmJiBpbnN0YW5jZS5wYXJlbnQuc3ViVHJlZS50eXBlO1xuICAgIGlmIChwYXJlbnROYW1lICYmXG4gICAgICAgIChwYXJlbnROYW1lID09PSAnS2VlcEFsaXZlJyB8fCBwYXJlbnROYW1lLmluY2x1ZGVzKCdUcmFuc2l0aW9uJykpICYmXG4gICAgICAgIHR5cGVvZiBwYXJlbnRTdWJUcmVlVHlwZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgcGFyZW50U3ViVHJlZVR5cGUubmFtZSA9PT0gJ1JvdXRlclZpZXcnKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBwYXJlbnROYW1lID09PSAnS2VlcEFsaXZlJyA/ICdrZWVwLWFsaXZlJyA6ICd0cmFuc2l0aW9uJztcbiAgICAgICAgd2FybihgPHJvdXRlci12aWV3PiBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgZGlyZWN0bHkgaW5zaWRlIDx0cmFuc2l0aW9uPiBvciA8a2VlcC1hbGl2ZT4uXFxuYCArXG4gICAgICAgICAgICBgVXNlIHNsb3QgcHJvcHMgaW5zdGVhZDpcXG5cXG5gICtcbiAgICAgICAgICAgIGA8cm91dGVyLXZpZXcgdi1zbG90PVwieyBDb21wb25lbnQgfVwiPlxcbmAgK1xuICAgICAgICAgICAgYCAgPCR7Y29tcH0+XFxuYCArXG4gICAgICAgICAgICBgICAgIDxjb21wb25lbnQgOmlzPVwiQ29tcG9uZW50XCIgLz5cXG5gICtcbiAgICAgICAgICAgIGAgIDwvJHtjb21wfT5cXG5gICtcbiAgICAgICAgICAgIGA8L3JvdXRlci12aWV3PmApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb3BpZXMgYSByb3V0ZSBsb2NhdGlvbiBhbmQgcmVtb3ZlcyBhbnkgcHJvYmxlbWF0aWMgcHJvcGVydGllcyB0aGF0IGNhbm5vdCBiZSBzaG93biBpbiBkZXZ0b29scyAoZS5nLiBWdWUgaW5zdGFuY2VzKS5cbiAqXG4gKiBAcGFyYW0gcm91dGVMb2NhdGlvbiAtIHJvdXRlTG9jYXRpb24gdG8gZm9ybWF0XG4gKiBAcGFyYW0gdG9vbHRpcCAtIG9wdGlvbmFsIHRvb2x0aXBcbiAqIEByZXR1cm5zIGEgY29weSBvZiB0aGUgcm91dGVMb2NhdGlvblxuICovXG5mdW5jdGlvbiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHJvdXRlTG9jYXRpb24sIHRvb2x0aXApIHtcbiAgICBjb25zdCBjb3B5ID0gYXNzaWduKHt9LCByb3V0ZUxvY2F0aW9uLCB7XG4gICAgICAgIC8vIHJlbW92ZSB2YXJpYWJsZXMgdGhhdCBjYW4gY29udGFpbiB2dWUgaW5zdGFuY2VzXG4gICAgICAgIG1hdGNoZWQ6IHJvdXRlTG9jYXRpb24ubWF0Y2hlZC5tYXAobWF0Y2hlZCA9PiBvbWl0KG1hdGNoZWQsIFsnaW5zdGFuY2VzJywgJ2NoaWxkcmVuJywgJ2FsaWFzT2YnXSkpLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHJvdXRlTG9jYXRpb24uZnVsbFBhdGgsXG4gICAgICAgICAgICB0b29sdGlwLFxuICAgICAgICAgICAgdmFsdWU6IGNvcHksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdERpc3BsYXkoZGlzcGxheSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgIGRpc3BsYXksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIHRvIHN1cHBvcnQgbXVsdGlwbGUgcm91dGVyIGluc3RhbmNlc1xubGV0IHJvdXRlcklkID0gMDtcbmZ1bmN0aW9uIGFkZERldnRvb2xzKGFwcCwgcm91dGVyLCBtYXRjaGVyKSB7XG4gICAgLy8gVGFrZSBvdmVyIHJvdXRlci5iZWZvcmVFYWNoIGFuZCBhZnRlckVhY2hcbiAgICAvLyBtYWtlIHN1cmUgd2UgYXJlIG5vdCByZWdpc3RlcmluZyB0aGUgZGV2dG9vbCB0d2ljZVxuICAgIGlmIChyb3V0ZXIuX19oYXNEZXZ0b29scylcbiAgICAgICAgcmV0dXJuO1xuICAgIHJvdXRlci5fX2hhc0RldnRvb2xzID0gdHJ1ZTtcbiAgICAvLyBpbmNyZW1lbnQgdG8gc3VwcG9ydCBtdWx0aXBsZSByb3V0ZXIgaW5zdGFuY2VzXG4gICAgY29uc3QgaWQgPSByb3V0ZXJJZCsrO1xuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICBpZDogJ29yZy52dWVqcy5yb3V0ZXInICsgKGlkID8gJy4nICsgaWQgOiAnJyksXG4gICAgICAgIGxhYmVsOiAnVnVlIFJvdXRlcicsXG4gICAgICAgIHBhY2thZ2VOYW1lOiAndnVlLXJvdXRlcicsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZy9sb2dvLnBuZycsXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXM6IFsnUm91dGluZyddLFxuICAgICAgICBhcHAsXG4gICAgfSwgYXBpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcGkubm93ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tWdWUgUm91dGVyXTogWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRpc3BsYXkgc3RhdGUgYWRkZWQgYnkgdGhlIHJvdXRlclxuICAgICAgICBhcGkub24uaW5zcGVjdENvbXBvbmVudCgocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5pbnN0YW5jZURhdGEpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1JvdXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICckcm91dGUnLFxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUsICdDdXJyZW50IFJvdXRlJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBtYXJrIHJvdXRlci1saW5rIGFzIGFjdGl2ZSBhbmQgZGlzcGxheSB0YWdzIG9uIHJvdXRlciB2aWV3c1xuICAgICAgICBhcGkub24udmlzaXRDb21wb25lbnRUcmVlKCh7IHRyZWVOb2RlOiBub2RlLCBjb21wb25lbnRJbnN0YW5jZSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdGFuY2UuX192cnZfZGV2dG9vbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gY29tcG9uZW50SW5zdGFuY2UuX192cnZfZGV2dG9vbHM7XG4gICAgICAgICAgICAgICAgbm9kZS50YWdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogKGluZm8ubmFtZSA/IGAke2luZm8ubmFtZS50b1N0cmluZygpfTogYCA6ICcnKSArIGluZm8ucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnVGhpcyBjb21wb25lbnQgaXMgcmVuZGVyZWQgYnkgJmx0O3JvdXRlci12aWV3Jmd0OycsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogUElOS181MDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBtdWx0aXBsZSB1c2VMaW5rIGFyZSB1c2VkXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjb21wb25lbnRJbnN0YW5jZS5fX3ZybF9kZXZ0b29scykpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5fX2RldnRvb2xzQXBpID0gYXBpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlLl9fdnJsX2RldnRvb2xzLmZvckVhY2goZGV2dG9vbHNEYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJhY2tncm91bmRDb2xvciA9IE9SQU5HRV80MDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b29sdGlwID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXZ0b29sc0RhdGEuaXNFeGFjdEFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gTElNRV81MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwID0gJ1RoaXMgaXMgZXhhY3RseSBhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRldnRvb2xzRGF0YS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gQkxVRV82MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwID0gJ1RoaXMgbGluayBpcyBhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudGFncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBkZXZ0b29sc0RhdGEucm91dGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2F0Y2gocm91dGVyLmN1cnJlbnRSb3V0ZSwgKCkgPT4ge1xuICAgICAgICAgICAgLy8gcmVmcmVzaCBhY3RpdmUgc3RhdGVcbiAgICAgICAgICAgIHJlZnJlc2hSb3V0ZXNWaWV3KCk7XG4gICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUocm91dGVySW5zcGVjdG9ySWQpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShyb3V0ZXJJbnNwZWN0b3JJZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuYXZpZ2F0aW9uc0xheWVySWQgPSAncm91dGVyOm5hdmlnYXRpb25zOicgKyBpZDtcbiAgICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAgICAgaWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcbiAgICAgICAgICAgIGxhYmVsOiBgUm91dGVyJHtpZCA/ICcgJyArIGlkIDogJyd9IE5hdmlnYXRpb25zYCxcbiAgICAgICAgICAgIGNvbG9yOiAweDQwYThjNCxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNvbnN0IGVycm9yc0xheWVySWQgPSAncm91dGVyOmVycm9ycydcbiAgICAgICAgLy8gYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAvLyAgIGlkOiBlcnJvcnNMYXllcklkLFxuICAgICAgICAvLyAgIGxhYmVsOiAnUm91dGVyIEVycm9ycycsXG4gICAgICAgIC8vICAgY29sb3I6IDB4ZWE1NDU1LFxuICAgICAgICAvLyB9KVxuICAgICAgICByb3V0ZXIub25FcnJvcigoZXJyb3IsIHRvKSA9PiB7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXJyb3IgZHVyaW5nIE5hdmlnYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogdG8uZnVsbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGFwaS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvciB9LFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiB0by5tZXRhLl9fbmF2aWdhdGlvbklkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGF0dGFjaGVkIHRvIGBtZXRhYCBhbmQgdXNlZCB0byBncm91cCBldmVudHNcbiAgICAgICAgbGV0IG5hdmlnYXRpb25JZCA9IDA7XG4gICAgICAgIHJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBndWFyZDogZm9ybWF0RGlzcGxheSgnYmVmb3JlRWFjaCcpLFxuICAgICAgICAgICAgICAgIGZyb206IGZvcm1hdFJvdXRlTG9jYXRpb24oZnJvbSwgJ0N1cnJlbnQgTG9jYXRpb24gZHVyaW5nIHRoaXMgbmF2aWdhdGlvbicpLFxuICAgICAgICAgICAgICAgIHRvOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHRvLCAnVGFyZ2V0IGxvY2F0aW9uJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVXNlZCB0byBncm91cCBuYXZpZ2F0aW9ucyB0b2dldGhlciwgaGlkZSBmcm9tIGRldnRvb2xzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodG8ubWV0YSwgJ19fbmF2aWdhdGlvbklkJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuYXZpZ2F0aW9uSWQrKyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBhcGkubm93KCksXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3RhcnQgb2YgbmF2aWdhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB0by5mdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogdG8ubWV0YS5fX25hdmlnYXRpb25JZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByb3V0ZXIuYWZ0ZXJFYWNoKCh0bywgZnJvbSwgZmFpbHVyZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBndWFyZDogZm9ybWF0RGlzcGxheSgnYWZ0ZXJFYWNoJyksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmZhaWx1cmUgPSB7XG4gICAgICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmYWlsdXJlID8gZmFpbHVyZS5tZXNzYWdlIDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnTmF2aWdhdGlvbiBGYWlsdXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSBmb3JtYXREaXNwbGF5KCfinYwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RhdHVzID0gZm9ybWF0RGlzcGxheSgn4pyFJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBzZXQgaGVyZSB0byBoYXZlIHRoZSByaWdodCBvcmRlclxuICAgICAgICAgICAgZGF0YS5mcm9tID0gZm9ybWF0Um91dGVMb2NhdGlvbihmcm9tLCAnQ3VycmVudCBMb2NhdGlvbiBkdXJpbmcgdGhpcyBuYXZpZ2F0aW9uJyk7XG4gICAgICAgICAgICBkYXRhLnRvID0gZm9ybWF0Um91dGVMb2NhdGlvbih0bywgJ1RhcmdldCBsb2NhdGlvbicpO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IG5hdmlnYXRpb25zTGF5ZXJJZCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0VuZCBvZiBuYXZpZ2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IHRvLmZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICB0aW1lOiBhcGkubm93KCksXG4gICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6IGZhaWx1cmUgPyAnd2FybmluZycgOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IHRvLm1ldGEuX19uYXZpZ2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc3BlY3RvciBvZiBFeGlzdGluZyByb3V0ZXNcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IHJvdXRlckluc3BlY3RvcklkID0gJ3JvdXRlci1pbnNwZWN0b3I6JyArIGlkO1xuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcbiAgICAgICAgICAgIGlkOiByb3V0ZXJJbnNwZWN0b3JJZCxcbiAgICAgICAgICAgIGxhYmVsOiAnUm91dGVzJyArIChpZCA/ICcgJyArIGlkIDogJycpLFxuICAgICAgICAgICAgaWNvbjogJ2Jvb2snLFxuICAgICAgICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiAnU2VhcmNoIHJvdXRlcycsXG4gICAgICAgIH0pO1xuICAgICAgICBmdW5jdGlvbiByZWZyZXNoUm91dGVzVmlldygpIHtcbiAgICAgICAgICAgIC8vIHRoZSByb3V0ZXMgdmlldyBpc24ndCBhY3RpdmVcbiAgICAgICAgICAgIGlmICghYWN0aXZlUm91dGVzUGF5bG9hZClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYWN0aXZlUm91dGVzUGF5bG9hZDtcbiAgICAgICAgICAgIC8vIGNoaWxkcmVuIHJvdXRlcyB3aWxsIGFwcGVhciBhcyBuZXN0ZWRcbiAgICAgICAgICAgIGxldCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpLmZpbHRlcihyb3V0ZSA9PiAhcm91dGUucGFyZW50IHx8XG4gICAgICAgICAgICAgICAgLy8gdGhlc2Ugcm91dGVzIGhhdmUgYSBwYXJlbnQgd2l0aCBubyBjb21wb25lbnQgd2hpY2ggd2lsbCBub3QgYXBwZWFyIGluIHRoZSB2aWV3XG4gICAgICAgICAgICAgICAgLy8gdGhlcmVmb3JlIHdlIHN0aWxsIG5lZWQgdG8gaW5jbHVkZSB0aGVtXG4gICAgICAgICAgICAgICAgIXJvdXRlLnBhcmVudC5yZWNvcmQuY29tcG9uZW50cyk7XG4gICAgICAgICAgICAvLyByZXNldCBtYXRjaCBzdGF0ZSB0byBmYWxzZVxuICAgICAgICAgICAgcm91dGVzLmZvckVhY2gocmVzZXRNYXRjaFN0YXRlT25Sb3V0ZVJlY29yZCk7XG4gICAgICAgICAgICAvLyBhcHBseSBhIG1hdGNoIHN0YXRlIGlmIHRoZXJlIGlzIGEgcGF5bG9hZFxuICAgICAgICAgICAgaWYgKHBheWxvYWQuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgcm91dGVzID0gcm91dGVzLmZpbHRlcihyb3V0ZSA9PiBcbiAgICAgICAgICAgICAgICAvLyBzYXZlIG1hdGNoZXMgc3RhdGUgYmFzZWQgb24gdGhlIHBheWxvYWRcbiAgICAgICAgICAgICAgICBpc1JvdXRlTWF0Y2hpbmcocm91dGUsIHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1hcmsgYWN0aXZlIHJvdXRlc1xuICAgICAgICAgICAgcm91dGVzLmZvckVhY2gocm91dGUgPT4gbWFya1JvdXRlUmVjb3JkQWN0aXZlKHJvdXRlLCByb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlKSk7XG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IHJvdXRlcy5tYXAoZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhY3RpdmVSb3V0ZXNQYXlsb2FkO1xuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZShwYXlsb2FkID0+IHtcbiAgICAgICAgICAgIGFjdGl2ZVJvdXRlc1BheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gcm91dGVySW5zcGVjdG9ySWQpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoUm91dGVzVmlldygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BsYXkgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCByb3V0ZSByZWNvcmRcbiAgICAgICAgICovXG4gICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JTdGF0ZShwYXlsb2FkID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IHJvdXRlckluc3BlY3RvcklkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGVzID0gbWF0Y2hlci5nZXRSb3V0ZXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvdXRlcy5maW5kKHJvdXRlID0+IHJvdXRlLnJlY29yZC5fX3ZkX2lkID09PSBwYXlsb2FkLm5vZGVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBmb3JtYXRSb3V0ZVJlY29yZE1hdGNoZXJGb3JTdGF0ZUluc3BlY3Rvcihyb3V0ZSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKHJvdXRlckluc3BlY3RvcklkKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShyb3V0ZXJJbnNwZWN0b3JJZCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBtb2RpZmllckZvcktleShrZXkpIHtcbiAgICBpZiAoa2V5Lm9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcqJyA6ICc/JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBrZXkucmVwZWF0YWJsZSA/ICcrJyA6ICcnO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFJvdXRlUmVjb3JkTWF0Y2hlckZvclN0YXRlSW5zcGVjdG9yKHJvdXRlKSB7XG4gICAgY29uc3QgeyByZWNvcmQgfSA9IHJvdXRlO1xuICAgIGNvbnN0IGZpZWxkcyA9IFtcbiAgICAgICAgeyBlZGl0YWJsZTogZmFsc2UsIGtleTogJ3BhdGgnLCB2YWx1ZTogcmVjb3JkLnBhdGggfSxcbiAgICBdO1xuICAgIGlmIChyZWNvcmQubmFtZSAhPSBudWxsKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogJ25hbWUnLFxuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5uYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmllbGRzLnB1c2goeyBlZGl0YWJsZTogZmFsc2UsIGtleTogJ3JlZ2V4cCcsIHZhbHVlOiByb3V0ZS5yZSB9KTtcbiAgICBpZiAocm91dGUua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiAna2V5cycsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IHJvdXRlLmtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoa2V5ID0+IGAke2tleS5uYW1lfSR7bW9kaWZpZXJGb3JLZXkoa2V5KX1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1BhcmFtIGtleXMnLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcm91dGUua2V5cyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZWNvcmQucmVkaXJlY3QgIT0gbnVsbCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdyZWRpcmVjdCcsXG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLnJlZGlyZWN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLmFsaWFzLmxlbmd0aCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdhbGlhc2VzJyxcbiAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5hbGlhcy5tYXAoYWxpYXMgPT4gYWxpYXMucmVjb3JkLnBhdGgpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5rZXlzKHJvdXRlLnJlY29yZC5tZXRhKS5sZW5ndGgpIHtcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiAnbWV0YScsXG4gICAgICAgICAgICB2YWx1ZTogcm91dGUucmVjb3JkLm1ldGEsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgIGtleTogJ3Njb3JlJyxcbiAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogcm91dGUuc2NvcmUubWFwKHNjb3JlID0+IHNjb3JlLmpvaW4oJywgJykpLmpvaW4oJyB8ICcpLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdTY29yZSB1c2VkIHRvIHNvcnQgcm91dGVzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcm91dGUuc2NvcmUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBmaWVsZHM7XG59XG4vKipcbiAqIEV4dHJhY3RlZCBmcm9tIHRhaWx3aW5kIHBhbGV0dGVcbiAqL1xuY29uc3QgUElOS181MDAgPSAweGVjNDg5OTtcbmNvbnN0IEJMVUVfNjAwID0gMHgyNTYzZWI7XG5jb25zdCBMSU1FXzUwMCA9IDB4ODRjYzE2O1xuY29uc3QgQ1lBTl80MDAgPSAweDIyZDNlZTtcbmNvbnN0IE9SQU5HRV80MDAgPSAweGZiOTIzYztcbi8vIGNvbnN0IEdSQVlfMTAwID0gMHhmNGY0ZjVcbmNvbnN0IERBUksgPSAweDY2NjY2NjtcbmZ1bmN0aW9uIGZvcm1hdFJvdXRlUmVjb3JkRm9ySW5zcGVjdG9yKHJvdXRlKSB7XG4gICAgY29uc3QgdGFncyA9IFtdO1xuICAgIGNvbnN0IHsgcmVjb3JkIH0gPSByb3V0ZTtcbiAgICBpZiAocmVjb3JkLm5hbWUgIT0gbnVsbCkge1xuICAgICAgICB0YWdzLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6IFN0cmluZyhyZWNvcmQubmFtZSksXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IENZQU5fNDAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlY29yZC5hbGlhc09mKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogJ2FsaWFzJyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogT1JBTkdFXzQwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5fX3ZkX21hdGNoKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogJ21hdGNoZXMnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBQSU5LXzUwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5fX3ZkX2V4YWN0QWN0aXZlKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogJ2V4YWN0JyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogTElNRV81MDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocm91dGUuX192ZF9hY3RpdmUpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnYWN0aXZlJyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogQkxVRV82MDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVjb3JkLnJlZGlyZWN0KSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogdHlwZW9mIHJlY29yZC5yZWRpcmVjdCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IGByZWRpcmVjdDogJHtyZWNvcmQucmVkaXJlY3R9YFxuICAgICAgICAgICAgICAgIDogJ3JlZGlyZWN0cycsXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDB4ZmZmZmZmLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBEQVJLLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gYWRkIGFuIGlkIHRvIGJlIGFibGUgdG8gc2VsZWN0IGl0LiBVc2luZyB0aGUgYHBhdGhgIGlzIG5vdCBwb3NzaWJsZSBiZWNhdXNlXG4gICAgLy8gZW1wdHkgcGF0aCBjaGlsZHJlbiB3b3VsZCBjb2xsaWRlIHdpdGggdGhlaXIgcGFyZW50c1xuICAgIGxldCBpZCA9IHJlY29yZC5fX3ZkX2lkO1xuICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgIGlkID0gU3RyaW5nKHJvdXRlUmVjb3JkSWQrKyk7XG4gICAgICAgIHJlY29yZC5fX3ZkX2lkID0gaWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlkLFxuICAgICAgICBsYWJlbDogcmVjb3JkLnBhdGgsXG4gICAgICAgIHRhZ3MsXG4gICAgICAgIGNoaWxkcmVuOiByb3V0ZS5jaGlsZHJlbi5tYXAoZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3IpLFxuICAgIH07XG59XG4vLyAgaW5jcmVtZW50YWwgaWQgZm9yIHJvdXRlIHJlY29yZHMgYW5kIGluc3BlY3RvciBzdGF0ZVxubGV0IHJvdXRlUmVjb3JkSWQgPSAwO1xuY29uc3QgRVhUUkFDVF9SRUdFWFBfUkUgPSAvXlxcLyguKilcXC8oW2Etel0qKSQvO1xuZnVuY3Rpb24gbWFya1JvdXRlUmVjb3JkQWN0aXZlKHJvdXRlLCBjdXJyZW50Um91dGUpIHtcbiAgICAvLyBubyByb3V0ZSB3aWxsIGJlIGFjdGl2ZSBpZiBtYXRjaGVkIGlzIGVtcHR5XG4gICAgLy8gcmVzZXQgdGhlIG1hdGNoaW5nIHN0YXRlXG4gICAgY29uc3QgaXNFeGFjdEFjdGl2ZSA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAmJlxuICAgICAgICBpc1NhbWVSb3V0ZVJlY29yZChjdXJyZW50Um91dGUubWF0Y2hlZFtjdXJyZW50Um91dGUubWF0Y2hlZC5sZW5ndGggLSAxXSwgcm91dGUucmVjb3JkKTtcbiAgICByb3V0ZS5fX3ZkX2V4YWN0QWN0aXZlID0gcm91dGUuX192ZF9hY3RpdmUgPSBpc0V4YWN0QWN0aXZlO1xuICAgIGlmICghaXNFeGFjdEFjdGl2ZSkge1xuICAgICAgICByb3V0ZS5fX3ZkX2FjdGl2ZSA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLnNvbWUobWF0Y2ggPT4gaXNTYW1lUm91dGVSZWNvcmQobWF0Y2gsIHJvdXRlLnJlY29yZCkpO1xuICAgIH1cbiAgICByb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkUm91dGUgPT4gbWFya1JvdXRlUmVjb3JkQWN0aXZlKGNoaWxkUm91dGUsIGN1cnJlbnRSb3V0ZSkpO1xufVxuZnVuY3Rpb24gcmVzZXRNYXRjaFN0YXRlT25Sb3V0ZVJlY29yZChyb3V0ZSkge1xuICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSBmYWxzZTtcbiAgICByb3V0ZS5jaGlsZHJlbi5mb3JFYWNoKHJlc2V0TWF0Y2hTdGF0ZU9uUm91dGVSZWNvcmQpO1xufVxuZnVuY3Rpb24gaXNSb3V0ZU1hdGNoaW5nKHJvdXRlLCBmaWx0ZXIpIHtcbiAgICBjb25zdCBmb3VuZCA9IFN0cmluZyhyb3V0ZS5yZSkubWF0Y2goRVhUUkFDVF9SRUdFWFBfUkUpO1xuICAgIHJvdXRlLl9fdmRfbWF0Y2ggPSBmYWxzZTtcbiAgICBpZiAoIWZvdW5kIHx8IGZvdW5kLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyB1c2UgYSByZWdleHAgd2l0aG91dCAkIGF0IHRoZSBlbmQgdG8gbWF0Y2ggbmVzdGVkIHJvdXRlcyBiZXR0ZXJcbiAgICBjb25zdCBub25FbmRpbmdSRSA9IG5ldyBSZWdFeHAoZm91bmRbMV0ucmVwbGFjZSgvXFwkJC8sICcnKSwgZm91bmRbMl0pO1xuICAgIGlmIChub25FbmRpbmdSRS50ZXN0KGZpbHRlcikpIHtcbiAgICAgICAgLy8gbWFyayBjaGlsZHJlbiBhcyBtYXRjaGVzXG4gICAgICAgIHJvdXRlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4gaXNSb3V0ZU1hdGNoaW5nKGNoaWxkLCBmaWx0ZXIpKTtcbiAgICAgICAgLy8gZXhjZXB0aW9uIGNhc2U6IGAvYFxuICAgICAgICBpZiAocm91dGUucmVjb3JkLnBhdGggIT09ICcvJyB8fCBmaWx0ZXIgPT09ICcvJykge1xuICAgICAgICAgICAgcm91dGUuX192ZF9tYXRjaCA9IHJvdXRlLnJlLnRlc3QoZmlsdGVyKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhpZGUgdGhlIC8gcm91dGVcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gcm91dGUucmVjb3JkLnBhdGgudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBkZWNvZGVkUGF0aCA9IGRlY29kZShwYXRoKTtcbiAgICAvLyBhbHNvIGFsbG93IHBhcnRpYWwgbWF0Y2hpbmcgb24gdGhlIHBhdGhcbiAgICBpZiAoIWZpbHRlci5zdGFydHNXaXRoKCcvJykgJiZcbiAgICAgICAgKGRlY29kZWRQYXRoLmluY2x1ZGVzKGZpbHRlcikgfHwgcGF0aC5pbmNsdWRlcyhmaWx0ZXIpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGRlY29kZWRQYXRoLnN0YXJ0c1dpdGgoZmlsdGVyKSB8fCBwYXRoLnN0YXJ0c1dpdGgoZmlsdGVyKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHJvdXRlLnJlY29yZC5uYW1lICYmIFN0cmluZyhyb3V0ZS5yZWNvcmQubmFtZSkuaW5jbHVkZXMoZmlsdGVyKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIHJvdXRlLmNoaWxkcmVuLnNvbWUoY2hpbGQgPT4gaXNSb3V0ZU1hdGNoaW5nKGNoaWxkLCBmaWx0ZXIpKTtcbn1cbmZ1bmN0aW9uIG9taXQob2JqLCBrZXlzKSB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmICgha2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZXRba2V5XSA9IG9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJvdXRlciBpbnN0YW5jZSB0aGF0IGNhbiBiZSB1c2VkIGJ5IGEgVnVlIGFwcC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIHtAbGluayBSb3V0ZXJPcHRpb25zfVxuICovXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXIob3B0aW9ucykge1xuICAgIGNvbnN0IG1hdGNoZXIgPSBjcmVhdGVSb3V0ZXJNYXRjaGVyKG9wdGlvbnMucm91dGVzLCBvcHRpb25zKTtcbiAgICBjb25zdCBwYXJzZVF1ZXJ5JDEgPSBvcHRpb25zLnBhcnNlUXVlcnkgfHwgcGFyc2VRdWVyeTtcbiAgICBjb25zdCBzdHJpbmdpZnlRdWVyeSQxID0gb3B0aW9ucy5zdHJpbmdpZnlRdWVyeSB8fCBzdHJpbmdpZnlRdWVyeTtcbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0gb3B0aW9ucy5oaXN0b3J5O1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXJvdXRlckhpc3RvcnkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZSB0aGUgXCJoaXN0b3J5XCIgb3B0aW9uIHdoZW4gY2FsbGluZyBcImNyZWF0ZVJvdXRlcigpXCI6JyArXG4gICAgICAgICAgICAnIGh0dHBzOi8vbmV4dC5yb3V0ZXIudnVlanMub3JnL2FwaS8jaGlzdG9yeS4nKTtcbiAgICBjb25zdCBiZWZvcmVHdWFyZHMgPSB1c2VDYWxsYmFja3MoKTtcbiAgICBjb25zdCBiZWZvcmVSZXNvbHZlR3VhcmRzID0gdXNlQ2FsbGJhY2tzKCk7XG4gICAgY29uc3QgYWZ0ZXJHdWFyZHMgPSB1c2VDYWxsYmFja3MoKTtcbiAgICBjb25zdCBjdXJyZW50Um91dGUgPSBzaGFsbG93UmVmKFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpO1xuICAgIGxldCBwZW5kaW5nTG9jYXRpb24gPSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEO1xuICAgIC8vIGxlYXZlIHRoZSBzY3JvbGxSZXN0b3JhdGlvbiBpZiBubyBzY3JvbGxCZWhhdmlvciBpcyBwcm92aWRlZFxuICAgIGlmIChpc0Jyb3dzZXIgJiYgb3B0aW9ucy5zY3JvbGxCZWhhdmlvciAmJiAnc2Nyb2xsUmVzdG9yYXRpb24nIGluIGhpc3RvcnkpIHtcbiAgICAgICAgaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9ICdtYW51YWwnO1xuICAgIH1cbiAgICBjb25zdCBub3JtYWxpemVQYXJhbXMgPSBhcHBseVRvUGFyYW1zLmJpbmQobnVsbCwgcGFyYW1WYWx1ZSA9PiAnJyArIHBhcmFtVmFsdWUpO1xuICAgIGNvbnN0IGVuY29kZVBhcmFtcyA9IGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBlbmNvZGVQYXJhbSk7XG4gICAgY29uc3QgZGVjb2RlUGFyYW1zID0gXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogaW50ZW50aW9uYWxseSBhdm9pZCB0aGUgdHlwZSBjaGVja1xuICAgIGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBkZWNvZGUpO1xuICAgIGZ1bmN0aW9uIGFkZFJvdXRlKHBhcmVudE9yUm91dGUsIHJvdXRlKSB7XG4gICAgICAgIGxldCBwYXJlbnQ7XG4gICAgICAgIGxldCByZWNvcmQ7XG4gICAgICAgIGlmIChpc1JvdXRlTmFtZShwYXJlbnRPclJvdXRlKSkge1xuICAgICAgICAgICAgcGFyZW50ID0gbWF0Y2hlci5nZXRSZWNvcmRNYXRjaGVyKHBhcmVudE9yUm91dGUpO1xuICAgICAgICAgICAgcmVjb3JkID0gcm91dGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWNvcmQgPSBwYXJlbnRPclJvdXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRjaGVyLmFkZFJvdXRlKHJlY29yZCwgcGFyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlUm91dGUobmFtZSkge1xuICAgICAgICBjb25zdCByZWNvcmRNYXRjaGVyID0gbWF0Y2hlci5nZXRSZWNvcmRNYXRjaGVyKG5hbWUpO1xuICAgICAgICBpZiAocmVjb3JkTWF0Y2hlcikge1xuICAgICAgICAgICAgbWF0Y2hlci5yZW1vdmVSb3V0ZShyZWNvcmRNYXRjaGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIHdhcm4oYENhbm5vdCByZW1vdmUgbm9uLWV4aXN0ZW50IHJvdXRlIFwiJHtTdHJpbmcobmFtZSl9XCJgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSb3V0ZXMoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVyLmdldFJvdXRlcygpLm1hcChyb3V0ZU1hdGNoZXIgPT4gcm91dGVNYXRjaGVyLnJlY29yZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1JvdXRlKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5nZXRSZWNvcmRNYXRjaGVyKG5hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlKHJhd0xvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24pIHtcbiAgICAgICAgLy8gY29uc3Qgb2JqZWN0TG9jYXRpb24gPSByb3V0ZXJMb2NhdGlvbkFzT2JqZWN0KHJhd0xvY2F0aW9uKVxuICAgICAgICAvLyB3ZSBjcmVhdGUgYSBjb3B5IHRvIG1vZGlmeSBpdCBsYXRlclxuICAgICAgICBjdXJyZW50TG9jYXRpb24gPSBhc3NpZ24oe30sIGN1cnJlbnRMb2NhdGlvbiB8fCBjdXJyZW50Um91dGUudmFsdWUpO1xuICAgICAgICBpZiAodHlwZW9mIHJhd0xvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb25Ob3JtYWxpemVkID0gcGFyc2VVUkwocGFyc2VRdWVyeSQxLCByYXdMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uLnBhdGgpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlci5yZXNvbHZlKHsgcGF0aDogbG9jYXRpb25Ob3JtYWxpemVkLnBhdGggfSwgY3VycmVudExvY2F0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGhyZWYgPSByb3V0ZXJIaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb25Ob3JtYWxpemVkLmZ1bGxQYXRoKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaHJlZi5zdGFydHNXaXRoKCcvLycpKVxuICAgICAgICAgICAgICAgICAgICB3YXJuKGBMb2NhdGlvbiBcIiR7cmF3TG9jYXRpb259XCIgcmVzb2x2ZWQgdG8gXCIke2hyZWZ9XCIuIEEgcmVzb2x2ZWQgbG9jYXRpb24gY2Fubm90IHN0YXJ0IHdpdGggbXVsdGlwbGUgc2xhc2hlcy5gKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghbWF0Y2hlZFJvdXRlLm1hdGNoZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYE5vIG1hdGNoIGZvdW5kIGZvciBsb2NhdGlvbiB3aXRoIHBhdGggXCIke3Jhd0xvY2F0aW9ufVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbG9jYXRpb25Ob3JtYWxpemVkIGlzIGFsd2F5cyBhIG5ldyBvYmplY3RcbiAgICAgICAgICAgIHJldHVybiBhc3NpZ24obG9jYXRpb25Ob3JtYWxpemVkLCBtYXRjaGVkUm91dGUsIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGRlY29kZVBhcmFtcyhtYXRjaGVkUm91dGUucGFyYW1zKSxcbiAgICAgICAgICAgICAgICBoYXNoOiBkZWNvZGUobG9jYXRpb25Ob3JtYWxpemVkLmhhc2gpLFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXRjaGVyTG9jYXRpb247XG4gICAgICAgIC8vIHBhdGggY291bGQgYmUgcmVsYXRpdmUgaW4gb2JqZWN0IGFzIHdlbGxcbiAgICAgICAgaWYgKHJhd0xvY2F0aW9uLnBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICdwYXJhbXMnIGluIHJhd0xvY2F0aW9uICYmXG4gICAgICAgICAgICAgICAgISgnbmFtZScgaW4gcmF3TG9jYXRpb24pICYmXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIHR5cGUgaXMgbmV2ZXJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhyYXdMb2NhdGlvbi5wYXJhbXMpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdhcm4oYFBhdGggXCIke3Jhd0xvY2F0aW9uLnBhdGh9XCIgd2FzIHBhc3NlZCB3aXRoIHBhcmFtcyBidXQgdGhleSB3aWxsIGJlIGlnbm9yZWQuIFVzZSBhIG5hbWVkIHJvdXRlIGFsb25nc2lkZSBwYXJhbXMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoZXJMb2NhdGlvbiA9IGFzc2lnbih7fSwgcmF3TG9jYXRpb24sIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHJhd0xvY2F0aW9uLnBhdGgsIGN1cnJlbnRMb2NhdGlvbi5wYXRoKS5wYXRoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgYW55IG51bGxpc2ggcGFyYW1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhcmFtcyA9IGFzc2lnbih7fSwgcmF3TG9jYXRpb24ucGFyYW1zKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldFBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQYXJhbXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRQYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwYXNzIGVuY29kZWQgdmFsdWVzIHRvIHRoZSBtYXRjaGVyLCBzbyBpdCBjYW4gcHJvZHVjZSBlbmNvZGVkIHBhdGggYW5kIGZ1bGxQYXRoXG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBlbmNvZGVQYXJhbXModGFyZ2V0UGFyYW1zKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gY3VycmVudCBsb2NhdGlvbiBwYXJhbXMgYXJlIGRlY29kZWQsIHdlIG5lZWQgdG8gZW5jb2RlIHRoZW0gaW4gY2FzZSB0aGVcbiAgICAgICAgICAgIC8vIG1hdGNoZXIgbWVyZ2VzIHRoZSBwYXJhbXNcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMgPSBlbmNvZGVQYXJhbXMoY3VycmVudExvY2F0aW9uLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlci5yZXNvbHZlKG1hdGNoZXJMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uKTtcbiAgICAgICAgY29uc3QgaGFzaCA9IHJhd0xvY2F0aW9uLmhhc2ggfHwgJyc7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaGFzaCAmJiAhaGFzaC5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgICAgIHdhcm4oYEEgXFxgaGFzaFxcYCBzaG91bGQgYWx3YXlzIHN0YXJ0IHdpdGggdGhlIGNoYXJhY3RlciBcIiNcIi4gUmVwbGFjZSBcIiR7aGFzaH1cIiB3aXRoIFwiIyR7aGFzaH1cIi5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgbWF0Y2hlciBtaWdodCBoYXZlIG1lcmdlZCBjdXJyZW50IGxvY2F0aW9uIHBhcmFtcywgc29cbiAgICAgICAgLy8gd2UgbmVlZCB0byBydW4gdGhlIGRlY29kaW5nIGFnYWluXG4gICAgICAgIG1hdGNoZWRSb3V0ZS5wYXJhbXMgPSBub3JtYWxpemVQYXJhbXMoZGVjb2RlUGFyYW1zKG1hdGNoZWRSb3V0ZS5wYXJhbXMpKTtcbiAgICAgICAgY29uc3QgZnVsbFBhdGggPSBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnkkMSwgYXNzaWduKHt9LCByYXdMb2NhdGlvbiwge1xuICAgICAgICAgICAgaGFzaDogZW5jb2RlSGFzaChoYXNoKSxcbiAgICAgICAgICAgIHBhdGg6IG1hdGNoZWRSb3V0ZS5wYXRoLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGhyZWYgPSByb3V0ZXJIaXN0b3J5LmNyZWF0ZUhyZWYoZnVsbFBhdGgpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAoaHJlZi5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghbWF0Y2hlZFJvdXRlLm1hdGNoZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7cmF3TG9jYXRpb24ucGF0aCAhPSBudWxsID8gcmF3TG9jYXRpb24ucGF0aCA6IHJhd0xvY2F0aW9ufVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgICAgICBmdWxsUGF0aCxcbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIGhhc2ggZW5jb2RlZCBzbyBmdWxsUGF0aCBpcyBlZmZlY3RpdmVseSBwYXRoICsgZW5jb2RlZFF1ZXJ5ICtcbiAgICAgICAgICAgIC8vIGhhc2hcbiAgICAgICAgICAgIGhhc2gsXG4gICAgICAgICAgICBxdWVyeTogXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpcyB1c2luZyBhIGN1c3RvbSBxdWVyeSBsaWIgbGlrZSBxcywgd2UgbWlnaHQgaGF2ZVxuICAgICAgICAgICAgLy8gbmVzdGVkIG9iamVjdHMsIHNvIHdlIGtlZXAgdGhlIHF1ZXJ5IGFzIGlzLCBtZWFuaW5nIGl0IGNhbiBjb250YWluXG4gICAgICAgICAgICAvLyBudW1iZXJzIGF0IGAkcm91dGUucXVlcnlgLCBidXQgYXQgdGhlIHBvaW50LCB0aGUgdXNlciB3aWxsIGhhdmUgdG9cbiAgICAgICAgICAgIC8vIHVzZSB0aGVpciBvd24gdHlwZSBhbnl3YXkuXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2lzc3Vlcy8zMjgjaXNzdWVjb21tZW50LTY0OTQ4MTU2N1xuICAgICAgICAgICAgc3RyaW5naWZ5UXVlcnkkMSA9PT0gc3RyaW5naWZ5UXVlcnlcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZVF1ZXJ5KHJhd0xvY2F0aW9uLnF1ZXJ5KVxuICAgICAgICAgICAgICAgIDogKHJhd0xvY2F0aW9uLnF1ZXJ5IHx8IHt9KSxcbiAgICAgICAgfSwgbWF0Y2hlZFJvdXRlLCB7XG4gICAgICAgICAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaHJlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uQXNPYmplY3QodG8pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gcGFyc2VVUkwocGFyc2VRdWVyeSQxLCB0bywgY3VycmVudFJvdXRlLnZhbHVlLnBhdGgpXG4gICAgICAgICAgICA6IGFzc2lnbih7fSwgdG8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0bywgZnJvbSkge1xuICAgICAgICBpZiAocGVuZGluZ0xvY2F0aW9uICE9PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJvdXRlckVycm9yKDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLywge1xuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKHRvKSB7XG4gICAgICAgIHJldHVybiBwdXNoV2l0aFJlZGlyZWN0KHRvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGFjZSh0bykge1xuICAgICAgICByZXR1cm4gcHVzaChhc3NpZ24obG9jYXRpb25Bc09iamVjdCh0byksIHsgcmVwbGFjZTogdHJ1ZSB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRvKSB7XG4gICAgICAgIGNvbnN0IGxhc3RNYXRjaGVkID0gdG8ubWF0Y2hlZFt0by5tYXRjaGVkLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdE1hdGNoZWQgJiYgbGFzdE1hdGNoZWQucmVkaXJlY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVkaXJlY3QgfSA9IGxhc3RNYXRjaGVkO1xuICAgICAgICAgICAgbGV0IG5ld1RhcmdldExvY2F0aW9uID0gdHlwZW9mIHJlZGlyZWN0ID09PSAnZnVuY3Rpb24nID8gcmVkaXJlY3QodG8pIDogcmVkaXJlY3Q7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld1RhcmdldExvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgbmV3VGFyZ2V0TG9jYXRpb24uaW5jbHVkZXMoJz8nKSB8fCBuZXdUYXJnZXRMb2NhdGlvbi5pbmNsdWRlcygnIycpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChuZXdUYXJnZXRMb2NhdGlvbiA9IGxvY2F0aW9uQXNPYmplY3QobmV3VGFyZ2V0TG9jYXRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAvLyBmb3JjZSBlbXB0eSBwYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHBhdGg6IG5ld1RhcmdldExvY2F0aW9uIH07XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogZm9yY2UgZW1wdHkgcGFyYW1zIHdoZW4gYSBzdHJpbmcgaXMgcGFzc2VkIHRvIGxldFxuICAgICAgICAgICAgICAgIC8vIHRoZSByb3V0ZXIgcGFyc2UgdGhlbSBhZ2FpblxuICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uLnBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uLnBhdGggPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIG5ld1RhcmdldExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgcmVkaXJlY3QgZm91bmQ6XFxuJHtKU09OLnN0cmluZ2lmeShuZXdUYXJnZXRMb2NhdGlvbiwgbnVsbCwgMil9XFxuIHdoZW4gbmF2aWdhdGluZyB0byBcIiR7dG8uZnVsbFBhdGh9XCIuIEEgcmVkaXJlY3QgbXVzdCBjb250YWluIGEgbmFtZSBvciBwYXRoLiBUaGlzIHdpbGwgYnJlYWsgaW4gcHJvZHVjdGlvbi5gKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVkaXJlY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhc3NpZ24oe1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiB0by5xdWVyeSxcbiAgICAgICAgICAgICAgICBoYXNoOiB0by5oYXNoLFxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRyYW5zZmVycmluZyBwYXJhbXMgaWYgdGhlIHJlZGlyZWN0IGhhcyBhIHBhdGhcbiAgICAgICAgICAgICAgICBwYXJhbXM6IG5ld1RhcmdldExvY2F0aW9uLnBhdGggIT0gbnVsbCA/IHt9IDogdG8ucGFyYW1zLFxuICAgICAgICAgICAgfSwgbmV3VGFyZ2V0TG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hXaXRoUmVkaXJlY3QodG8sIHJlZGlyZWN0ZWRGcm9tKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldExvY2F0aW9uID0gKHBlbmRpbmdMb2NhdGlvbiA9IHJlc29sdmUodG8pKTtcbiAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRSb3V0ZS52YWx1ZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRvLnN0YXRlO1xuICAgICAgICBjb25zdCBmb3JjZSA9IHRvLmZvcmNlO1xuICAgICAgICAvLyB0byBjb3VsZCBiZSBhIHN0cmluZyB3aGVyZSBgcmVwbGFjZWAgaXMgYSBmdW5jdGlvblxuICAgICAgICBjb25zdCByZXBsYWNlID0gdG8ucmVwbGFjZSA9PT0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVkaXJlY3QgPSBoYW5kbGVSZWRpcmVjdFJlY29yZCh0YXJnZXRMb2NhdGlvbik7XG4gICAgICAgIGlmIChzaG91bGRSZWRpcmVjdClcbiAgICAgICAgICAgIHJldHVybiBwdXNoV2l0aFJlZGlyZWN0KGFzc2lnbihsb2NhdGlvbkFzT2JqZWN0KHNob3VsZFJlZGlyZWN0KSwge1xuICAgICAgICAgICAgICAgIHN0YXRlOiB0eXBlb2Ygc2hvdWxkUmVkaXJlY3QgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgID8gYXNzaWduKHt9LCBkYXRhLCBzaG91bGRSZWRpcmVjdC5zdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgOiBkYXRhLFxuICAgICAgICAgICAgICAgIGZvcmNlLFxuICAgICAgICAgICAgICAgIHJlcGxhY2UsXG4gICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICAvLyBrZWVwIG9yaWdpbmFsIHJlZGlyZWN0ZWRGcm9tIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gfHwgdGFyZ2V0TG9jYXRpb24pO1xuICAgICAgICAvLyBpZiBpdCB3YXMgYSByZWRpcmVjdCB3ZSBhbHJlYWR5IGNhbGxlZCBgcHVzaFdpdGhSZWRpcmVjdGAgYWJvdmVcbiAgICAgICAgY29uc3QgdG9Mb2NhdGlvbiA9IHRhcmdldExvY2F0aW9uO1xuICAgICAgICB0b0xvY2F0aW9uLnJlZGlyZWN0ZWRGcm9tID0gcmVkaXJlY3RlZEZyb207XG4gICAgICAgIGxldCBmYWlsdXJlO1xuICAgICAgICBpZiAoIWZvcmNlICYmIGlzU2FtZVJvdXRlTG9jYXRpb24oc3RyaW5naWZ5UXVlcnkkMSwgZnJvbSwgdGFyZ2V0TG9jYXRpb24pKSB7XG4gICAgICAgICAgICBmYWlsdXJlID0gY3JlYXRlUm91dGVyRXJyb3IoMTYgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0RVUExJQ0FURUQgKi8sIHsgdG86IHRvTG9jYXRpb24sIGZyb20gfSk7XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHNjcm9sbCB0byBhbGxvdyBzY3JvbGxpbmcgdG8gdGhlIHNhbWUgYW5jaG9yXG4gICAgICAgICAgICBoYW5kbGVTY3JvbGwoZnJvbSwgZnJvbSwgXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgcHVzaCwgdGhlIG9ubHkgd2F5IGZvciBpdCB0byBiZSB0cmlnZ2VyZWQgZnJvbSBhXG4gICAgICAgICAgICAvLyBoaXN0b3J5Lmxpc3RlbiBpcyB3aXRoIGEgcmVkaXJlY3QsIHdoaWNoIG1ha2VzIGl0IGJlY29tZSBhIHB1c2hcbiAgICAgICAgICAgIHRydWUsIFxuICAgICAgICAgICAgLy8gVGhpcyBjYW5ub3QgYmUgdGhlIGZpcnN0IG5hdmlnYXRpb24gYmVjYXVzZSB0aGUgaW5pdGlhbCBsb2NhdGlvblxuICAgICAgICAgICAgLy8gY2Fubm90IGJlIG1hbnVhbGx5IG5hdmlnYXRlZCB0b1xuICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZmFpbHVyZSA/IFByb21pc2UucmVzb2x2ZShmYWlsdXJlKSA6IG5hdmlnYXRlKHRvTG9jYXRpb24sIGZyb20pKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvcilcbiAgICAgICAgICAgID8gLy8gbmF2aWdhdGlvbiByZWRpcmVjdHMgc3RpbGwgbWFyayB0aGUgcm91dGVyIGFzIHJlYWR5XG4gICAgICAgICAgICAgICAgaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8pXG4gICAgICAgICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgOiBtYXJrQXNSZWFkeShlcnJvcikgLy8gYWxzbyByZXR1cm5zIHRoZSBlcnJvclxuICAgICAgICAgICAgOiAvLyByZWplY3QgYW55IHVua25vd24gZXJyb3JcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRXJyb3IoZXJyb3IsIHRvTG9jYXRpb24sIGZyb20pKVxuICAgICAgICAgICAgLnRoZW4oKGZhaWx1cmUpID0+IHtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZmFpbHVyZSwgMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSByZWRpcmVjdGluZyB0byB0aGUgc2FtZSBsb2NhdGlvbiB3ZSB3ZXJlIGFscmVhZHkgYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb24oc3RyaW5naWZ5UXVlcnkkMSwgcmVzb2x2ZShmYWlsdXJlLnRvKSwgdG9Mb2NhdGlvbikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSBoYXZlIGRvbmUgaXQgYSBjb3VwbGUgb2YgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBhZGRlZCBvbmx5IGluIGRldlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlZGlyZWN0ZWRGcm9tLl9jb3VudCA9IHJlZGlyZWN0ZWRGcm9tLl9jb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbS5fY291bnQgKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAxKSA+IDMwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBEZXRlY3RlZCBhIHBvc3NpYmx5IGluZmluaXRlIHJlZGlyZWN0aW9uIGluIGEgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvTG9jYXRpb24uZnVsbFBhdGh9XCIuIEFib3J0aW5nIHRvIGF2b2lkIGEgU3RhY2sgT3ZlcmZsb3cuXFxuIEFyZSB5b3UgYWx3YXlzIHJldHVybmluZyBhIG5ldyBsb2NhdGlvbiB3aXRoaW4gYSBuYXZpZ2F0aW9uIGd1YXJkPyBUaGF0IHdvdWxkIGxlYWQgdG8gdGhpcyBlcnJvci4gT25seSByZXR1cm4gd2hlbiByZWRpcmVjdGluZyBvciBhYm9ydGluZywgdGhhdCBzaG91bGQgZml4IHRoaXMuIFRoaXMgbWlnaHQgYnJlYWsgaW4gcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbmZpbml0ZSByZWRpcmVjdCBpbiBuYXZpZ2F0aW9uIGd1YXJkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwdXNoV2l0aFJlZGlyZWN0KFxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlIGFuIGV4aXN0aW5nIHJlcGxhY2VtZW50IGJ1dCBhbGxvdyB0aGUgcmVkaXJlY3QgdG8gb3ZlcnJpZGUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgIH0sIGxvY2F0aW9uQXNPYmplY3QoZmFpbHVyZS50byksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB0eXBlb2YgZmFpbHVyZS50byA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFzc2lnbih7fSwgZGF0YSwgZmFpbHVyZS50by5zdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZSxcbiAgICAgICAgICAgICAgICAgICAgfSksIFxuICAgICAgICAgICAgICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgcmVkaXJlY3RlZEZyb20gaWYgYW55XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tIHx8IHRvTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGZhaWwgd2UgZG9uJ3QgZmluYWxpemUgdGhlIG5hdmlnYXRpb25cbiAgICAgICAgICAgICAgICBmYWlsdXJlID0gZmluYWxpemVOYXZpZ2F0aW9uKHRvTG9jYXRpb24sIGZyb20sIHRydWUsIHJlcGxhY2UsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJpZ2dlckFmdGVyRWFjaCh0b0xvY2F0aW9uLCBmcm9tLCBmYWlsdXJlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWlsdXJlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIHRvIHJlamVjdCBhbmQgc2tpcCBhbGwgbmF2aWdhdGlvbiBndWFyZHMgaWYgYSBuZXcgbmF2aWdhdGlvbiBoYXBwZW5lZFxuICAgICAqIEBwYXJhbSB0b1xuICAgICAqIEBwYXJhbSBmcm9tXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QodG8sIGZyb20pIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0bywgZnJvbSk7XG4gICAgICAgIHJldHVybiBlcnJvciA/IFByb21pc2UucmVqZWN0KGVycm9yKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5XaXRoQ29udGV4dChmbikge1xuICAgICAgICBjb25zdCBhcHAgPSBpbnN0YWxsZWRBcHBzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgLy8gc3VwcG9ydCBWdWUgPCAzLjNcbiAgICAgICAgcmV0dXJuIGFwcCAmJiB0eXBlb2YgYXBwLnJ1bldpdGhDb250ZXh0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGFwcC5ydW5XaXRoQ29udGV4dChmbilcbiAgICAgICAgICAgIDogZm4oKTtcbiAgICB9XG4gICAgLy8gVE9ETzogcmVmYWN0b3IgdGhlIHdob2xlIGJlZm9yZSBndWFyZHMgYnkgaW50ZXJuYWxseSB1c2luZyByb3V0ZXIuYmVmb3JlRWFjaFxuICAgIGZ1bmN0aW9uIG5hdmlnYXRlKHRvLCBmcm9tKSB7XG4gICAgICAgIGxldCBndWFyZHM7XG4gICAgICAgIGNvbnN0IFtsZWF2aW5nUmVjb3JkcywgdXBkYXRpbmdSZWNvcmRzLCBlbnRlcmluZ1JlY29yZHNdID0gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSk7XG4gICAgICAgIC8vIGFsbCBjb21wb25lbnRzIGhlcmUgaGF2ZSBiZWVuIHJlc29sdmVkIG9uY2UgYmVjYXVzZSB3ZSBhcmUgbGVhdmluZ1xuICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyhsZWF2aW5nUmVjb3Jkcy5yZXZlcnNlKCksICdiZWZvcmVSb3V0ZUxlYXZlJywgdG8sIGZyb20pO1xuICAgICAgICAvLyBsZWF2aW5nUmVjb3JkcyBpcyBhbHJlYWR5IHJldmVyc2VkXG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIGxlYXZpbmdSZWNvcmRzKSB7XG4gICAgICAgICAgICByZWNvcmQubGVhdmVHdWFyZHMuZm9yRWFjaChndWFyZCA9PiB7XG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrID0gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QuYmluZChudWxsLCB0bywgZnJvbSk7XG4gICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlUm91dGVMZWF2ZSBndWFyZHNcbiAgICAgICAgcmV0dXJuIChydW5HdWFyZFF1ZXVlKGd1YXJkcylcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGdsb2JhbCBndWFyZHMgYmVmb3JlRWFjaFxuICAgICAgICAgICAgZ3VhcmRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGJlZm9yZUd1YXJkcy5saXN0KCkpIHtcbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGluIGNvbXBvbmVudHMgYmVmb3JlUm91dGVVcGRhdGVcbiAgICAgICAgICAgIGd1YXJkcyA9IGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKHVwZGF0aW5nUmVjb3JkcywgJ2JlZm9yZVJvdXRlVXBkYXRlJywgdG8sIGZyb20pO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgdXBkYXRpbmdSZWNvcmRzKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnVwZGF0ZUd1YXJkcy5mb3JFYWNoKGd1YXJkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIC8vIHJ1biB0aGUgcXVldWUgb2YgcGVyIHJvdXRlIGJlZm9yZUVudGVyIGd1YXJkc1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoZSByb3V0ZSBiZWZvcmVFbnRlclxuICAgICAgICAgICAgZ3VhcmRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBlbnRlcmluZ1JlY29yZHMpIHtcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgdHJpZ2dlciBiZWZvcmVFbnRlciBvbiByZXVzZWQgdmlld3NcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmJlZm9yZUVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHJlY29yZC5iZWZvcmVFbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmVmb3JlRW50ZXIgb2YgcmVjb3JkLmJlZm9yZUVudGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oYmVmb3JlRW50ZXIsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKHJlY29yZC5iZWZvcmVFbnRlciwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIC8vIHJ1biB0aGUgcXVldWUgb2YgcGVyIHJvdXRlIGJlZm9yZUVudGVyIGd1YXJkc1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGF0IHRoaXMgcG9pbnQgdG8ubWF0Y2hlZCBpcyBub3JtYWxpemVkIGFuZCBkb2VzIG5vdCBjb250YWluIGFueSAoKSA9PiBQcm9taXNlPENvbXBvbmVudD5cbiAgICAgICAgICAgIC8vIGNsZWFyIGV4aXN0aW5nIGVudGVyQ2FsbGJhY2tzLCB0aGVzZSBhcmUgYWRkZWQgYnkgZXh0cmFjdENvbXBvbmVudHNHdWFyZHNcbiAgICAgICAgICAgIHRvLm1hdGNoZWQuZm9yRWFjaChyZWNvcmQgPT4gKHJlY29yZC5lbnRlckNhbGxiYWNrcyA9IHt9KSk7XG4gICAgICAgICAgICAvLyBjaGVjayBpbi1jb21wb25lbnQgYmVmb3JlUm91dGVFbnRlclxuICAgICAgICAgICAgZ3VhcmRzID0gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMoZW50ZXJpbmdSZWNvcmRzLCAnYmVmb3JlUm91dGVFbnRlcicsIHRvLCBmcm9tLCBydW5XaXRoQ29udGV4dCk7XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVFbnRlciBndWFyZHNcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjaGVjayBnbG9iYWwgZ3VhcmRzIGJlZm9yZVJlc29sdmVcbiAgICAgICAgICAgIGd1YXJkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBndWFyZCBvZiBiZWZvcmVSZXNvbHZlR3VhcmRzLmxpc3QoKSkge1xuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLy8gY2F0Y2ggYW55IG5hdmlnYXRpb24gY2FuY2VsZWRcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnIsIDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLylcbiAgICAgICAgICAgID8gZXJyXG4gICAgICAgICAgICA6IFByb21pc2UucmVqZWN0KGVycikpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpZ2dlckFmdGVyRWFjaCh0bywgZnJvbSwgZmFpbHVyZSkge1xuICAgICAgICAvLyBuYXZpZ2F0aW9uIGlzIGNvbmZpcm1lZCwgY2FsbCBhZnRlckd1YXJkc1xuICAgICAgICAvLyBUT0RPOiB3cmFwIHdpdGggZXJyb3IgaGFuZGxlcnNcbiAgICAgICAgYWZ0ZXJHdWFyZHNcbiAgICAgICAgICAgIC5saXN0KClcbiAgICAgICAgICAgIC5mb3JFYWNoKGd1YXJkID0+IHJ1bldpdGhDb250ZXh0KCgpID0+IGd1YXJkKHRvLCBmcm9tLCBmYWlsdXJlKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAtIENsZWFucyB1cCBhbnkgbmF2aWdhdGlvbiBndWFyZHNcbiAgICAgKiAtIENoYW5nZXMgdGhlIHVybCBpZiBuZWNlc3NhcnlcbiAgICAgKiAtIENhbGxzIHRoZSBzY3JvbGxCZWhhdmlvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmFsaXplTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tLCBpc1B1c2gsIHJlcGxhY2UsIGRhdGEpIHtcbiAgICAgICAgLy8gYSBtb3JlIHJlY2VudCBuYXZpZ2F0aW9uIHRvb2sgcGxhY2VcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tKTtcbiAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAvLyBvbmx5IGNvbnNpZGVyIGFzIHB1c2ggaWYgaXQncyBub3QgdGhlIGZpcnN0IG5hdmlnYXRpb25cbiAgICAgICAgY29uc3QgaXNGaXJzdE5hdmlnYXRpb24gPSBmcm9tID09PSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEO1xuICAgICAgICBjb25zdCBzdGF0ZSA9ICFpc0Jyb3dzZXIgPyB7fSA6IGhpc3Rvcnkuc3RhdGU7XG4gICAgICAgIC8vIGNoYW5nZSBVUkwgb25seSBpZiB0aGUgdXNlciBkaWQgYSBwdXNoL3JlcGxhY2UgYW5kIGlmIGl0J3Mgbm90IHRoZSBpbml0aWFsIG5hdmlnYXRpb24gYmVjYXVzZVxuICAgICAgICAvLyBpdCdzIGp1c3QgcmVmbGVjdGluZyB0aGUgdXJsXG4gICAgICAgIGlmIChpc1B1c2gpIHtcbiAgICAgICAgICAgIC8vIG9uIHRoZSBpbml0aWFsIG5hdmlnYXRpb24sIHdlIHdhbnQgdG8gcmV1c2UgdGhlIHNjcm9sbCBwb3NpdGlvbiBmcm9tXG4gICAgICAgICAgICAvLyBoaXN0b3J5IHN0YXRlIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgaWYgKHJlcGxhY2UgfHwgaXNGaXJzdE5hdmlnYXRpb24pXG4gICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5yZXBsYWNlKHRvTG9jYXRpb24uZnVsbFBhdGgsIGFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogaXNGaXJzdE5hdmlnYXRpb24gJiYgc3RhdGUgJiYgc3RhdGUuc2Nyb2xsLFxuICAgICAgICAgICAgICAgIH0sIGRhdGEpKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LnB1c2godG9Mb2NhdGlvbi5mdWxsUGF0aCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWNjZXB0IGN1cnJlbnQgbmF2aWdhdGlvblxuICAgICAgICBjdXJyZW50Um91dGUudmFsdWUgPSB0b0xvY2F0aW9uO1xuICAgICAgICBoYW5kbGVTY3JvbGwodG9Mb2NhdGlvbiwgZnJvbSwgaXNQdXNoLCBpc0ZpcnN0TmF2aWdhdGlvbik7XG4gICAgICAgIG1hcmtBc1JlYWR5KCk7XG4gICAgfVxuICAgIGxldCByZW1vdmVIaXN0b3J5TGlzdGVuZXI7XG4gICAgLy8gYXR0YWNoIGxpc3RlbmVyIHRvIGhpc3RvcnkgdG8gdHJpZ2dlciBuYXZpZ2F0aW9uc1xuICAgIGZ1bmN0aW9uIHNldHVwTGlzdGVuZXJzKCkge1xuICAgICAgICAvLyBhdm9pZCBzZXR0aW5nIHVwIGxpc3RlbmVycyB0d2ljZSBkdWUgdG8gYW4gaW52YWxpZCBmaXJzdCBuYXZpZ2F0aW9uXG4gICAgICAgIGlmIChyZW1vdmVIaXN0b3J5TGlzdGVuZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lciA9IHJvdXRlckhpc3RvcnkubGlzdGVuKCh0bywgX2Zyb20sIGluZm8pID0+IHtcbiAgICAgICAgICAgIGlmICghcm91dGVyLmxpc3RlbmluZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgYSByZWRpcmVjdCByb3V0ZSBiZWNhdXNlIGl0IHdhcyBpbiBoaXN0b3J5XG4gICAgICAgICAgICBjb25zdCB0b0xvY2F0aW9uID0gcmVzb2x2ZSh0byk7XG4gICAgICAgICAgICAvLyBkdWUgdG8gZHluYW1pYyByb3V0aW5nLCBhbmQgdG8gaGFzaCBoaXN0b3J5IHdpdGggbWFudWFsIG5hdmlnYXRpb25cbiAgICAgICAgICAgIC8vIChtYW51YWxseSBjaGFuZ2luZyB0aGUgdXJsIG9yIGNhbGxpbmcgaGlzdG9yeS5oYXNoID0gJyMvc29tZXdoZXJlJyksXG4gICAgICAgICAgICAvLyB0aGVyZSBjb3VsZCBiZSBhIHJlZGlyZWN0IHJlY29yZCBpbiBoaXN0b3J5XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZWRpcmVjdCA9IGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRvTG9jYXRpb24pO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24oc2hvdWxkUmVkaXJlY3QsIHsgcmVwbGFjZTogdHJ1ZSB9KSwgdG9Mb2NhdGlvbikuY2F0Y2gobm9vcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdG9Mb2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSBjdXJyZW50Um91dGUudmFsdWU7XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUgbW92ZWQgdG8gd2ViIGhpc3Rvcnk/XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgc2F2ZVNjcm9sbFBvc2l0aW9uKGdldFNjcm9sbEtleShmcm9tLmZ1bGxQYXRoLCBpbmZvLmRlbHRhKSwgY29tcHV0ZVNjcm9sbFBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmF2aWdhdGUodG9Mb2NhdGlvbiwgZnJvbSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDQgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0FCT1JURUQgKi8gfCA4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDIgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIGNvdWxkIGNhbGwgaWYgKGluZm8uZGVsdGEpIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhbHNlKSBidXQgdGhpcyBpcyBidWcgcHJvbmUgYXMgd2UgaGF2ZSBubyB3YXkgdG8gd2FpdCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF2aWdhdGlvbiB0byBiZSBmaW5pc2hlZCBiZWZvcmUgY2FsbGluZyBwdXNoV2l0aFJlZGlyZWN0LiBVc2luZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIHNldFRpbWVvdXQgb2YgMTZtcyBzZWVtcyB0byB3b3JrIGJ1dCB0aGVyZSBpcyBubyBndWFyYW50ZWUgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHRvIHdvcmsgb24gZXZlcnkgYnJvd3Nlci4gU28gaW5zdGVhZCB3ZSBkbyBub3QgcmVzdG9yZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlzdG9yeSBlbnRyeSBhbmQgdHJpZ2dlciBhIG5ldyBuYXZpZ2F0aW9uIGFzIHJlcXVlc3RlZCBieSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF2aWdhdGlvbiBndWFyZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGVycm9yIGlzIGFscmVhZHkgaGFuZGxlZCBieSByb3V0ZXIucHVzaCB3ZSBqdXN0IHdhbnQgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2luZyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChlcnJvci50bywgdG9Mb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBhbiB1bmNhdWdodCByZWplY3Rpb24sIGxldCBwdXNoIGNhbGwgdHJpZ2dlckVycm9yXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZhaWx1cmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsIGNoYW5nZSBpbiBoYXNoIGhpc3RvcnkgIzkxNiBlbmRpbmcgdXAgaW4gdGhlIFVSTCBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoYW5naW5nLCBidXQgaXQgd2FzIGNoYW5nZWQgYnkgdGhlIG1hbnVhbCB1cmwgY2hhbmdlLCBzbyB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byBtYW51YWxseSBjaGFuZ2UgaXQgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCA0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fRFVQTElDQVRFRCAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaW5mby5kZWx0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8udHlwZSA9PT0gTmF2aWdhdGlvblR5cGUucG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5nbygtMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKG5vb3ApO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCB0aGUgdGhlbiBicmFuY2hcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCByZXN0b3JlIGhpc3Rvcnkgb24gdW5rbm93biBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoaW5mby5kZWx0YSkge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVucmVjb2duaXplZCBlcnJvciwgdHJhbnNmZXIgdG8gdGhlIGdsb2JhbCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJFcnJvcihlcnJvciwgdG9Mb2NhdGlvbiwgZnJvbSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChmYWlsdXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZSA9XG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplTmF2aWdhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIG5hdmlnYXRpb24sIGFsbCBtYXRjaGVkIGNvbXBvbmVudHMgYXJlIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0b0xvY2F0aW9uLCBmcm9tLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gcmV2ZXJ0IHRoZSBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uZGVsdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbmV3IG5hdmlnYXRpb24gaGFzIGJlZW4gdHJpZ2dlcmVkLCBzbyB3ZSBkbyBub3Qgd2FudCB0byByZXZlcnQsIHRoYXQgd2lsbCBjaGFuZ2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50cnkgd2hpbGUgYSBkaWZmZXJlbnQgcm91dGUgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCA4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mby50eXBlID09PSBOYXZpZ2F0aW9uVHlwZS5wb3AgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTmF2aWdhdGlvbkZhaWx1cmUoZmFpbHVyZSwgNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLyB8IDE2IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9EVVBMSUNBVEVEICovKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsIGNoYW5nZSBpbiBoYXNoIGhpc3RvcnkgIzkxNlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBsaWtlIGEgcHVzaCBidXQgbGFja3MgdGhlIGluZm9ybWF0aW9uIG9mIHRoZSBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLTEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmlnZ2VyQWZ0ZXJFYWNoKHRvTG9jYXRpb24sIGZyb20sIGZhaWx1cmUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5ncyBpbiB0aGUgY29uc29sZSBhYm91dCB1bmNhdWdodCByZWplY3Rpb25zLCB0aGV5IGFyZSBsb2dnZWQgYnkgdHJpZ2dlckVycm9yc1xuICAgICAgICAgICAgICAgIC5jYXRjaChub29wKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEluaXRpYWxpemF0aW9uIGFuZCBFcnJvcnNcbiAgICBsZXQgcmVhZHlIYW5kbGVycyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGxldCBlcnJvckxpc3RlbmVycyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGxldCByZWFkeTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGVycm9yTGlzdGVuZXJzIGFkZGVkIHZpYSBvbkVycm9yIGFuZCB0aHJvd3MgdGhlIGVycm9yIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlcnJvciAtIGVycm9yIHRvIHRocm93XG4gICAgICogQHBhcmFtIHRvIC0gbG9jYXRpb24gd2Ugd2VyZSBuYXZpZ2F0aW5nIHRvIHdoZW4gdGhlIGVycm9yIGhhcHBlbmVkXG4gICAgICogQHBhcmFtIGZyb20gLSBsb2NhdGlvbiB3ZSB3ZXJlIG5hdmlnYXRpbmcgZnJvbSB3aGVuIHRoZSBlcnJvciBoYXBwZW5lZFxuICAgICAqIEByZXR1cm5zIHRoZSBlcnJvciBhcyBhIHJlamVjdGVkIHByb21pc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmlnZ2VyRXJyb3IoZXJyb3IsIHRvLCBmcm9tKSB7XG4gICAgICAgIG1hcmtBc1JlYWR5KGVycm9yKTtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVycm9yTGlzdGVuZXJzLmxpc3QoKTtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBsaXN0LmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGVycm9yLCB0bywgZnJvbSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ3VuY2F1Z2h0IGVycm9yIGR1cmluZyByb3V0ZSBuYXZpZ2F0aW9uOicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVqZWN0IHRoZSBlcnJvciBubyBtYXR0ZXIgdGhlcmUgd2VyZSBlcnJvciBsaXN0ZW5lcnMgb3Igbm90XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gICAgICAgIGlmIChyZWFkeSAmJiBjdXJyZW50Um91dGUudmFsdWUgIT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZWFkeUhhbmRsZXJzLmFkZChbcmVzb2x2ZSwgcmVqZWN0XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQXNSZWFkeShlcnIpIHtcbiAgICAgICAgaWYgKCFyZWFkeSkge1xuICAgICAgICAgICAgLy8gc3RpbGwgbm90IHJlYWR5IGlmIGFuIGVycm9yIGhhcHBlbmVkXG4gICAgICAgICAgICByZWFkeSA9ICFlcnI7XG4gICAgICAgICAgICBzZXR1cExpc3RlbmVycygpO1xuICAgICAgICAgICAgcmVhZHlIYW5kbGVyc1xuICAgICAgICAgICAgICAgIC5saXN0KClcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW3Jlc29sdmUsIHJlamVjdF0pID0+IChlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUoKSkpO1xuICAgICAgICAgICAgcmVhZHlIYW5kbGVycy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICAgIC8vIFNjcm9sbCBiZWhhdmlvclxuICAgIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCh0bywgZnJvbSwgaXNQdXNoLCBpc0ZpcnN0TmF2aWdhdGlvbikge1xuICAgICAgICBjb25zdCB7IHNjcm9sbEJlaGF2aW9yIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIWlzQnJvd3NlciB8fCAhc2Nyb2xsQmVoYXZpb3IpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gKCFpc1B1c2ggJiYgZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihnZXRTY3JvbGxLZXkodG8uZnVsbFBhdGgsIDApKSkgfHxcbiAgICAgICAgICAgICgoaXNGaXJzdE5hdmlnYXRpb24gfHwgIWlzUHVzaCkgJiZcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlICYmXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5zdGF0ZS5zY3JvbGwpIHx8XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICByZXR1cm4gbmV4dFRpY2soKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gc2Nyb2xsQmVoYXZpb3IodG8sIGZyb20sIHNjcm9sbFBvc2l0aW9uKSlcbiAgICAgICAgICAgIC50aGVuKHBvc2l0aW9uID0+IHBvc2l0aW9uICYmIHNjcm9sbFRvUG9zaXRpb24ocG9zaXRpb24pKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0cmlnZ2VyRXJyb3IoZXJyLCB0bywgZnJvbSkpO1xuICAgIH1cbiAgICBjb25zdCBnbyA9IChkZWx0YSkgPT4gcm91dGVySGlzdG9yeS5nbyhkZWx0YSk7XG4gICAgbGV0IHN0YXJ0ZWQ7XG4gICAgY29uc3QgaW5zdGFsbGVkQXBwcyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCByb3V0ZXIgPSB7XG4gICAgICAgIGN1cnJlbnRSb3V0ZSxcbiAgICAgICAgbGlzdGVuaW5nOiB0cnVlLFxuICAgICAgICBhZGRSb3V0ZSxcbiAgICAgICAgcmVtb3ZlUm91dGUsXG4gICAgICAgIGhhc1JvdXRlLFxuICAgICAgICBnZXRSb3V0ZXMsXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHB1c2gsXG4gICAgICAgIHJlcGxhY2UsXG4gICAgICAgIGdvLFxuICAgICAgICBiYWNrOiAoKSA9PiBnbygtMSksXG4gICAgICAgIGZvcndhcmQ6ICgpID0+IGdvKDEpLFxuICAgICAgICBiZWZvcmVFYWNoOiBiZWZvcmVHdWFyZHMuYWRkLFxuICAgICAgICBiZWZvcmVSZXNvbHZlOiBiZWZvcmVSZXNvbHZlR3VhcmRzLmFkZCxcbiAgICAgICAgYWZ0ZXJFYWNoOiBhZnRlckd1YXJkcy5hZGQsXG4gICAgICAgIG9uRXJyb3I6IGVycm9yTGlzdGVuZXJzLmFkZCxcbiAgICAgICAgaXNSZWFkeSxcbiAgICAgICAgaW5zdGFsbChhcHApIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlciA9IHRoaXM7XG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJMaW5rJywgUm91dGVyTGluayk7XG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJWaWV3JywgUm91dGVyVmlldyk7XG4gICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsICckcm91dGUnLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHVucmVmKGN1cnJlbnRSb3V0ZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRoaXMgaW5pdGlhbCBuYXZpZ2F0aW9uIGlzIG9ubHkgbmVjZXNzYXJ5IG9uIGNsaWVudCwgb24gc2VydmVyIGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIG1ha2Ugc2Vuc2UgYmVjYXVzZSBpdCB3aWxsIGNyZWF0ZSBhbiBleHRyYSB1bm5lY2Vzc2FyeSBuYXZpZ2F0aW9uIGFuZCBjb3VsZFxuICAgICAgICAgICAgLy8gbGVhZCB0byBwcm9ibGVtc1xuICAgICAgICAgICAgaWYgKGlzQnJvd3NlciAmJlxuICAgICAgICAgICAgICAgIC8vIHVzZWQgZm9yIHRoZSBpbml0aWFsIG5hdmlnYXRpb24gY2xpZW50IHNpZGUgdG8gYXZvaWQgcHVzaGluZ1xuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIHRpbWVzIHdoZW4gdGhlIHJvdXRlciBpcyB1c2VkIGluIG11bHRpcGxlIGFwcHNcbiAgICAgICAgICAgICAgICAhc3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9PT0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCkge1xuICAgICAgICAgICAgICAgIC8vIHNlZSBhYm92ZVxuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHB1c2gocm91dGVySGlzdG9yeS5sb2NhdGlvbikuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ1VuZXhwZWN0ZWQgZXJyb3Igd2hlbiBzdGFydGluZyB0aGUgcm91dGVyOicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWFjdGl2ZVJvdXRlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlYWN0aXZlUm91dGUsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGN1cnJlbnRSb3V0ZS52YWx1ZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVyS2V5LCByb3V0ZXIpO1xuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVMb2NhdGlvbktleSwgc2hhbGxvd1JlYWN0aXZlKHJlYWN0aXZlUm91dGUpKTtcbiAgICAgICAgICAgIGFwcC5wcm92aWRlKHJvdXRlclZpZXdMb2NhdGlvbktleSwgY3VycmVudFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHVubW91bnRBcHAgPSBhcHAudW5tb3VudDtcbiAgICAgICAgICAgIGluc3RhbGxlZEFwcHMuYWRkKGFwcCk7XG4gICAgICAgICAgICBhcHAudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbnN0YWxsZWRBcHBzLmRlbGV0ZShhcHApO1xuICAgICAgICAgICAgICAgIC8vIHRoZSByb3V0ZXIgaXMgbm90IGF0dGFjaGVkIHRvIGFuIGFwcCBhbnltb3JlXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZEFwcHMuc2l6ZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZGF0ZSB0aGUgY3VycmVudCBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lciAmJiByZW1vdmVIaXN0b3J5TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJvdXRlLnZhbHVlID0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bm1vdW50QXBwKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBwcm9iYWJseSBuZWVkcyB0byBiZSB1cGRhdGVkIHNvIGl0IGNhbiBiZSB1c2VkIGJ5IHZ1ZS10ZXJtdWlcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiYgaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgYWRkRGV2dG9vbHMoYXBwLCByb3V0ZXIsIG1hdGNoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgLy8gVE9ETzogdHlwZSB0aGlzIGFzIE5hdmlnYXRpb25HdWFyZFJldHVybiBvciBzaW1pbGFyIGluc3RlYWQgb2YgYW55XG4gICAgZnVuY3Rpb24gcnVuR3VhcmRRdWV1ZShndWFyZHMpIHtcbiAgICAgICAgcmV0dXJuIGd1YXJkcy5yZWR1Y2UoKHByb21pc2UsIGd1YXJkKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gcnVuV2l0aENvbnRleHQoZ3VhcmQpKSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyO1xufVxuZnVuY3Rpb24gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSkge1xuICAgIGNvbnN0IGxlYXZpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgdXBkYXRpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgZW50ZXJpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgbGVuID0gTWF0aC5tYXgoZnJvbS5tYXRjaGVkLmxlbmd0aCwgdG8ubWF0Y2hlZC5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmVjb3JkRnJvbSA9IGZyb20ubWF0Y2hlZFtpXTtcbiAgICAgICAgaWYgKHJlY29yZEZyb20pIHtcbiAgICAgICAgICAgIGlmICh0by5tYXRjaGVkLmZpbmQocmVjb3JkID0+IGlzU2FtZVJvdXRlUmVjb3JkKHJlY29yZCwgcmVjb3JkRnJvbSkpKVxuICAgICAgICAgICAgICAgIHVwZGF0aW5nUmVjb3Jkcy5wdXNoKHJlY29yZEZyb20pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxlYXZpbmdSZWNvcmRzLnB1c2gocmVjb3JkRnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjb3JkVG8gPSB0by5tYXRjaGVkW2ldO1xuICAgICAgICBpZiAocmVjb3JkVG8pIHtcbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIGRvZXNuJ3QgbWF0dGVyIGJlY2F1c2Ugd2UgYXJlIGNvbXBhcmluZyBwZXIgcmVmZXJlbmNlXG4gICAgICAgICAgICBpZiAoIWZyb20ubWF0Y2hlZC5maW5kKHJlY29yZCA9PiBpc1NhbWVSb3V0ZVJlY29yZChyZWNvcmQsIHJlY29yZFRvKSkpIHtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1JlY29yZHMucHVzaChyZWNvcmRUbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtsZWF2aW5nUmVjb3JkcywgdXBkYXRpbmdSZWNvcmRzLCBlbnRlcmluZ1JlY29yZHNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJvdXRlciBpbnN0YW5jZS4gRXF1aXZhbGVudCB0byB1c2luZyBgJHJvdXRlcmAgaW5zaWRlXG4gKiB0ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlcigpIHtcbiAgICByZXR1cm4gaW5qZWN0KHJvdXRlcktleSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgcm91dGUgbG9jYXRpb24uIEVxdWl2YWxlbnQgdG8gdXNpbmcgYCRyb3V0ZWAgaW5zaWRlXG4gKiB0ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlKCkge1xuICAgIHJldHVybiBpbmplY3Qocm91dGVMb2NhdGlvbktleSk7XG59XG5cbmV4cG9ydCB7IE5hdmlnYXRpb25GYWlsdXJlVHlwZSwgUm91dGVyTGluaywgUm91dGVyVmlldywgU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCBhcyBTVEFSVF9MT0NBVElPTiwgY3JlYXRlTWVtb3J5SGlzdG9yeSwgY3JlYXRlUm91dGVyLCBjcmVhdGVSb3V0ZXJNYXRjaGVyLCBjcmVhdGVXZWJIYXNoSGlzdG9yeSwgY3JlYXRlV2ViSGlzdG9yeSwgaXNOYXZpZ2F0aW9uRmFpbHVyZSwgbG9hZFJvdXRlTG9jYXRpb24sIG1hdGNoZWRSb3V0ZUtleSwgb25CZWZvcmVSb3V0ZUxlYXZlLCBvbkJlZm9yZVJvdXRlVXBkYXRlLCBwYXJzZVF1ZXJ5LCByb3V0ZUxvY2F0aW9uS2V5LCByb3V0ZXJLZXksIHJvdXRlclZpZXdMb2NhdGlvbktleSwgc3RyaW5naWZ5UXVlcnksIHVzZUxpbmssIHVzZVJvdXRlLCB1c2VSb3V0ZXIsIHZpZXdEZXB0aEtleSB9O1xuIiwiY2xhc3MgVXNlciB7XHJcbiAgY29uc3RydWN0b3IgKGRvbWFpbk9yaWdpbikge1xyXG4gICAgdGhpcy5kb21haW5PcmlnaW4gPSBkb21haW5PcmlnaW5cclxuICAgIHRoaXMuaWQgPSAnJ1xyXG4gICAgdGhpcy5uYW1lID0gJydcclxuICAgIHRoaXMudXNlcm5hbWUgPSAnJ1xyXG4gICAgdGhpcy5sb2dnZWRJbiA9IGZhbHNlXHJcbiAgICB0aGlzLnNlc3Npb25Kd3QgPSAnJ1xyXG4gICAgdGhpcy5sYXRpdHVkZSA9ICcnXHJcbiAgICB0aGlzLmxvbmdpdHVkZSA9ICcnXHJcbiAgfVxyXG5cclxuICBhc3luYyBhcGlfcmVnaXN0ZXIgKHBheWxvYWQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdJbiBhcGlfcmVnaXN0ZXInKVxyXG4gICAgY29uc3QgbmV3X3VzZXJfY3JlZGVudGlhbHMgPSB7XHJcbiAgICAgIG5hbWU6IHBheWxvYWQubmFtZSxcclxuICAgICAgdXNlcm5hbWU6IHBheWxvYWQudXNlcm5hbWUsXHJcbiAgICAgIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2cobmV3X3VzZXJfY3JlZGVudGlhbHMpXHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAvLyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy51c2VyLnNlc3Npb25fand0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3X3VzZXJfY3JlZGVudGlhbHMpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXJsID0gdGhpcy5kb21haW5PcmlnaW4gKyAnL2FwaS91c2Vycy8nXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3Rfb3B0aW9ucylcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKSAvLyBUaHJvdyBhbiBlcnJvciBvYmplY3QgY29udGFpbmluZyBib3RoIHRoZSBzdGF0dXMgY29kZSBhbmQgdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICB0aHJvdyB7XHJcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2snXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGFwaU9iamVjdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICByZXR1cm4gYXBpT2JqZWN0Lm5ld191c2VyXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYWRkIHVzZXI6ICcgKyBlcnJvci5tZXNzYWdlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBhcGlMb2dpbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICBjb25zb2xlLmxvZygnSW4gYXBpX2xvZ2luJylcclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAvLyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy51c2VyLnNlc3Npb25fand0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLmRvbWFpbk9yaWdpbiArICcvYXBpL2F1dGgvbG9naW4nXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3Rfb3B0aW9ucylcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIC8vIFRocm93IGFuIGVycm9yIG9iamVjdCBjb250YWluaW5nIGJvdGggdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIHRocm93IHtcclxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaydcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgYXBpT2JqZWN0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIC8vIHVwZGF0ZSB1c2VyIGRldGFpbHNcclxuICAgICAgY29uc29sZS5sb2coYXBpT2JqZWN0KVxyXG4gICAgICB0aGlzLmlkID0gYXBpT2JqZWN0LnBhY2thZ2UuaWRcclxuICAgICAgdGhpcy5uYW1lID0gYXBpT2JqZWN0LnBhY2thZ2UubmFtZVxyXG4gICAgICB0aGlzLnVzZXJuYW1lID0gYXBpT2JqZWN0LnBhY2thZ2UudXNlcm5hbWVcclxuICAgICAgdGhpcy5sb2dnZWRJbiA9IHRydWVcclxuICAgICAgdGhpcy5zZXNzaW9uSnd0ID0gYXBpT2JqZWN0LnBhY2thZ2Uuc2Vzc2lvbl9qd3RcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlUGFja2FnZSA9IHtcclxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICBtZXNzYWdlOiBhcGlPYmplY3QubWVzc2FnZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzcG9uc2VQYWNrYWdlXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9naW4nKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBhcGlFZGl0VXNlciAoZWRpdGVkTmFtZSkge1xyXG4gICAgY29uc29sZS5sb2coJ0luIGFwaV9lZGl0X3VzZXInKVxyXG5cclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIGVkaXRlZF9uYW1lOiBlZGl0ZWROYW1lXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5zZXNzaW9uSnd0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLmRvbWFpbk9yaWdpbiArICcvYXBpL3VzZXJzLydcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgcmVxdWVzdF9vcHRpb25zKVxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpIC8vIFRocm93IGFuIGVycm9yIG9iamVjdCBjb250YWluaW5nIGJvdGggdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIHRocm93IHtcclxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaydcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgYXBpT2JqZWN0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIHRoaXMubmFtZSA9IGFwaU9iamVjdC51c2VyLm5hbWVcclxuICAgICAgcmV0dXJuIGFwaU9iamVjdC51c2VyXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZWRpdCB1c2VyOiAnICsgZXJyb3IubWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlclxyXG4iLCJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM2MhRE9DVFlQRSUyMHN2ZyUyMFBVQkxJQyUyMCctLy9XM0MvL0RURCUyMFNWRyUyMDEuMS8vRU4nJTIwJ2h0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCclM2UlM2MhLS0lMjBVcGxvYWRlZCUyMHRvOiUyMFNWRyUyMFJlcG8sJTIwd3d3LnN2Z3JlcG8uY29tLCUyMFRyYW5zZm9ybWVkJTIwYnk6JTIwU1ZHJTIwUmVwbyUyME1peGVyJTIwVG9vbHMlMjAtLSUzZSUzY3N2ZyUyMHdpZHRoPScyNHB4JyUyMGhlaWdodD0nMjRweCclMjB2aWV3Qm94PSctNS4yJTIwLTUuMiUyMDYyLjQwJTIwNjIuNDAnJTIweG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUyMGZpbGw9JyUyM2ZmZmZmZiclMjBzdHJva2U9JyUyMzAwMDAwMCclM2UlM2NnJTIwaWQ9J1NWR1JlcG9fYmdDYXJyaWVyJyUyMHN0cm9rZS13aWR0aD0nMCcvJTNlJTNjZyUyMGlkPSdTVkdSZXBvX3RyYWNlckNhcnJpZXInJTIwc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyUyMHN0cm9rZS1saW5lam9pbj0ncm91bmQnLyUzZSUzY2clMjBpZD0nU1ZHUmVwb19pY29uQ2FycmllciclM2UlM2NyZWN0JTIwZmlsbD0nbm9uZSclMjBoZWlnaHQ9JzQuOCclMjByeD0nMS42JyUyMHdpZHRoPScyNy4yJyUyMHg9JzEyLjQnJTIweT0nMjYnLyUzZSUzY3JlY3QlMjBmaWxsPSdub25lJyUyMGhlaWdodD0nNC44JyUyMHJ4PScxLjYnJTIwd2lkdGg9JzI0JyUyMHg9JzEyLjQnJTIweT0nMzUuNicvJTNlJTNjZyUzZSUzY3BhdGglMjBkPSdtMzYuNCUyMDE0LjhoOC40OGExLjA5JTIwMS4wOSUyMDAlMjAwJTIwMCUyMDEuMTItMS4xMiUyMDElMjAxJTIwMCUyMDAlMjAwJTIwLS4zMi0uOGwtMTAuNTYtMTAuNTZhMSUyMDElMjAwJTIwMCUyMDAlMjAtLjgtLjMyJTIwMS4wOSUyMDEuMDklMjAwJTIwMCUyMDAlMjAtMS4xMiUyMDEuMTJ2OC40OGEzLjIxJTIwMy4yMSUyMDAlMjAwJTIwMCUyMDMuMiUyMDMuMnonLyUzZSUzY3BhdGglMjBkPSdtNDQuNCUyMDE5LjZoLTExLjJhNC44MSUyMDQuODElMjAwJTIwMCUyMDElMjAtNC44LTQuOHYtMTEuMmExLjYlMjAxLjYlMjAwJTIwMCUyMDAlMjAtMS42LTEuNmgtMTZhNC44MSUyMDQuODElMjAwJTIwMCUyMDAlMjAtNC44JTIwNC44djM4LjRhNC44MSUyMDQuODElMjAwJTIwMCUyMDAlMjA0LjglMjA0LjhoMzAuNGE0LjgxJTIwNC44MSUyMDAlMjAwJTIwMCUyMDQuOC00Ljh2LTI0YTEuNiUyMDEuNiUyMDAlMjAwJTIwMCUyMC0xLjYtMS42em0tMzItMS42YTEuNjIlMjAxLjYyJTIwMCUyMDAlMjAxJTIwMS42LTEuNTVoNi41NWExLjU2JTIwMS41NiUyMDAlMjAwJTIwMSUyMDEuNTclMjAxLjU1djEuNTlhMS42MyUyMDEuNjMlMjAwJTIwMCUyMDElMjAtMS41OSUyMDEuNThoLTYuNTNhMS41NSUyMDEuNTUlMjAwJTIwMCUyMDElMjAtMS41OC0xLjU4em0yNCUyMDIwLjc3YTEuNiUyMDEuNiUyMDAlMjAwJTIwMSUyMC0xLjYlMjAxLjZoLTIwLjhhMS42JTIwMS42JTIwMCUyMDAlMjAxJTIwLTEuNi0xLjZ2LTEuNTdhMS42JTIwMS42JTIwMCUyMDAlMjAxJTIwMS42LTEuNmgyMC44YTEuNiUyMDEuNiUyMDAlMjAwJTIwMSUyMDEuNiUyMDEuNnptMy4yLTkuNmExLjYlMjAxLjYlMjAwJTIwMCUyMDElMjAtMS42JTIwMS42M2gtMjRhMS42JTIwMS42JTIwMCUyMDAlMjAxJTIwLTEuNi0xLjZ2LTEuNmExLjYlMjAxLjYlMjAwJTIwMCUyMDElMjAxLjYtMS42aDI0YTEuNiUyMDEuNiUyMDAlMjAwJTIwMSUyMDEuNiUyMDEuNnonLyUzZSUzYy9nJTNlJTNjL2clM2UlM2Mvc3ZnJTNlXCIiLCI8dGVtcGxhdGU+XHJcbiAgICA8bmF2IGNsYXNzPVwiYmctb2ZmLWJsYWNrIHRleHQtd2hpdGUgdGV4dC1jZW50ZXIgZml4ZWQgaW5zZXQteC0wIGJvdHRvbS0wIHBiLTMgcHQtMiBweC02XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LWxnIG14LWF1dG9cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGZvbnQtbW9udHNlcnJhdCB0ZXh0LXhzXCI+XHJcbiAgICAgICAgICAgICAgICA8Um91dGVyTGluayB0bz1cIi9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcGItMlwiIDpjbGFzcz1cInsgJ3RleHQtb3JhbmdlLTUwMCc6ICRyb3V0ZS5uYW1lID09ICdob21lJyB9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gPHYtaWNvbiBuYW1lPVwiaW8tc2VuZFwiIC8+IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaC02IHctNiBmaWxsLWN1cnJlbnRcIiB2aWV3Qm94PVwiLTUuMiAtNS4yIDYyLjQwIDYyLjQwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHJva2U9XCIjMDAwMDAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD1cIm5vbmVcIiBoZWlnaHQ9XCI0LjhcIiByeD1cIjEuNlwiIHdpZHRoPVwiMjcuMlwiIHg9XCIxMi40XCIgeT1cIjI2XCI+PC9yZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9XCJub25lXCIgaGVpZ2h0PVwiNC44XCIgcng9XCIxLjZcIiB3aWR0aD1cIjI0XCIgeD1cIjEyLjRcIiB5PVwiMzUuNlwiPjwvcmVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Zz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJtMzYuNCAxNC44aDguNDhhMS4wOSAxLjA5IDAgMCAwIDEuMTItMS4xMiAxIDEgMCAwIDAgLS4zMi0uOGwtMTAuNTYtMTAuNTZhMSAxIDAgMCAwIC0uOC0uMzIgMS4wOSAxLjA5IDAgMCAwIC0xLjEyIDEuMTJ2OC40OGEzLjIxIDMuMjEgMCAwIDAgMy4yIDMuMnpcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIm00NC40IDE5LjZoLTExLjJhNC44MSA0LjgxIDAgMCAxIC00LjgtNC44di0xMS4yYTEuNiAxLjYgMCAwIDAgLTEuNi0xLjZoLTE2YTQuODEgNC44MSAwIDAgMCAtNC44IDQuOHYzOC40YTQuODEgNC44MSAwIDAgMCA0LjggNC44aDMwLjRhNC44MSA0LjgxIDAgMCAwIDQuOC00Ljh2LTI0YTEuNiAxLjYgMCAwIDAgLTEuNi0xLjZ6bS0zMi0xLjZhMS42MiAxLjYyIDAgMCAxIDEuNi0xLjU1aDYuNTVhMS41NiAxLjU2IDAgMCAxIDEuNTcgMS41NXYxLjU5YTEuNjMgMS42MyAwIDAgMSAtMS41OSAxLjU4aC02LjUzYTEuNTUgMS41NSAwIDAgMSAtMS41OC0xLjU4em0yNCAyMC43N2ExLjYgMS42IDAgMCAxIC0xLjYgMS42aC0yMC44YTEuNiAxLjYgMCAwIDEgLTEuNi0xLjZ2LTEuNTdhMS42IDEuNiAwIDAgMSAxLjYtMS42aDIwLjhhMS42IDEuNiAwIDAgMSAxLjYgMS42em0zLjItOS42YTEuNiAxLjYgMCAwIDEgLTEuNiAxLjYzaC0yNGExLjYgMS42IDAgMCAxIC0xLjYtMS42di0xLjZhMS42IDEuNiAwIDAgMSAxLjYtMS42aDI0YTEuNiAxLjYgMCAwIDEgMS42IDEuNnpcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHQtMVwiPlVwZGF0ZTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvUm91dGVyTGluaz5cclxuICAgICAgICAgICAgICAgIDxSb3V0ZXJMaW5rIHRvPVwiL21hcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwYi0yXCIgOmNsYXNzPVwieyAndGV4dC1vcmFuZ2UtNTAwJzogJHJvdXRlLm5hbWUgPT0gJ21hcCcgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaC01IHctNSBmaWxsLWN1cnJlbnRcIiB2ZXJzaW9uPVwiMS4wXCIgaWQ9XCJMYXllcl8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2aWV3Qm94PVwiMCAwIDY0IDY0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCA2NCA2NFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0zMiwwQzE4Ljc0NiwwLDgsMTAuNzQ2LDgsMjRjMCw1LjIxOSwxLjcxMSwxMC4wMDgsNC41NTUsMTMuOTNjMC4wNTEsMC4wOTQsMC4wNTksMC4xOTksMC4xMTcsMC4yODlsMTYsMjQgQzI5LjQxNCw2My4zMzIsMzAuNjY0LDY0LDMyLDY0czIuNTg2LTAuNjY4LDMuMzI4LTEuNzgxbDE2LTI0YzAuMDU5LTAuMDksMC4wNjYtMC4xOTUsMC4xMTctMC4yODlDNTQuMjg5LDM0LjAwOCw1NiwyOS4yMTksNTYsMjQgQzU2LDEwLjc0Niw0NS4yNTQsMCwzMiwweiBNMzIsMzJjLTQuNDE4LDAtOC0zLjU4Mi04LThzMy41ODItOCw4LThzOCwzLjU4Miw4LDhTMzYuNDE4LDMyLDMyLDMyelwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHQtMVwiPk1hcHM8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L1JvdXRlckxpbms+XHJcbiAgICAgICAgICAgICAgICA8Um91dGVyTGluayB0bz1cIi9wcm9maWxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHBiLTJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7ICd0ZXh0LW9yYW5nZS01MDAnOiAkcm91dGUubmFtZSA9PSAncHJvZmlsZScgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaC01IHctNSBmaWxsLWN1cnJlbnRcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgdmVyc2lvbj1cIjEuMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRpdGxlPnByb2ZpbGVfcm91bmQgWyMxMzQyXTwvdGl0bGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRlZnM+IDwvZGVmcz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlBhZ2UtMVwiIHN0cm9rZT1cIm5vbmVcIiBzdHJva2Utd2lkdGg9XCIxXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiRHJpYmJibGUtTGlnaHQtUHJldmlld1wiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMTQwLjAwMDAwMCwgLTIxNTkuMDAwMDAwKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJpY29uc1wiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSg1Ni4wMDAwMDAsIDE2MC4wMDAwMDApXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0xMDAuNTYyNTQ4LDIwMTYuOTk5OTggTDg3LjQzODE3MTMsMjAxNi45OTk5OCBDODYuNzMxNzgwNCwyMDE2Ljk5OTk4IDg2LjIxMDE1MzUsMjAxNi4zMDI5OCA4Ni40NzY1ODEzLDIwMTUuNjYxOTggQzg3LjcxMjc2NTUsMjAxMi42OTc5OCA5MC42MTY5MzA2LDIwMTAuOTk5OTggOTMuOTk5ODQ5MiwyMDEwLjk5OTk4IEM5Ny4zODM3ODg1LDIwMTAuOTk5OTggMTAwLjI4Nzk1NCwyMDEyLjY5Nzk4IDEwMS41MjQxMzgsMjAxNS42NjE5OCBDMTAxLjc5MDU2NiwyMDE2LjMwMjk4IDEwMS4yNjg5MzksMjAxNi45OTk5OCAxMDAuNTYyNTQ4LDIwMTYuOTk5OTggTTg5LjkxNjY2NDUsMjAwNC45OTk5OCBDODkuOTE2NjY0NSwyMDAyLjc5Mzk4IDkxLjc0ODk5MzYsMjAwMC45OTk5OCA5My45OTk4NDkyLDIwMDAuOTk5OTggQzk2LjI1MTcyNTYsMjAwMC45OTk5OCA5OC4wODMwMzM5LDIwMDIuNzkzOTggOTguMDgzMDMzOSwyMDA0Ljk5OTk4IEM5OC4wODMwMzM5LDIwMDcuMjA1OTggOTYuMjUxNzI1NiwyMDA4Ljk5OTk4IDkzLjk5OTg0OTIsMjAwOC45OTk5OCBDOTEuNzQ4OTkzNiwyMDA4Ljk5OTk4IDg5LjkxNjY2NDUsMjAwNy4yMDU5OCA4OS45MTY2NjQ1LDIwMDQuOTk5OTggTTEwMy45NTU2NzQsMjAxNi42MzU5OCBDMTAzLjIxMzU1NiwyMDEzLjI3Njk4IDEwMC44OTIyNjUsMjAxMC43OTc5OCA5Ny44MzcwMjIsMjAwOS42NzI5OCBDOTkuNDU2MDA0OCwyMDA4LjM5NTk4IDEwMC40MDAyNDEsMjAwNi4zMzA5OCAxMDAuMDUzMTcxLDIwMDQuMDY5OTggQzk5LjY1MDk3NjksMjAwMS40NDY5OCA5Ny40MjM1OTk2LDE5OTkuMzQ3OTggOTQuNzM0ODIyNCwxOTk5LjA0MTk4IEM5MS4wMjMyMDc1LDE5OTguNjE4OTggODcuODc1MDcyMSwyMDAxLjQ0ODk4IDg3Ljg3NTA3MjEsMjAwNC45OTk5OCBDODcuODc1MDcyMSwyMDA2Ljg4OTk4IDg4Ljc2OTI4OTYsMjAwOC41NzM5OCA5MC4xNjM2OTcxLDIwMDkuNjcyOTggQzg3LjEwNzQzMzQsMjAxMC43OTc5OCA4NC43ODcxNjM2LDIwMTMuMjc2OTggODQuMDQ0MDI0LDIwMTYuNjM1OTggQzgzLjc3NDUzMzgsMjAxNy44NTY5OCA4NC43Nzg5OTczLDIwMTguOTk5OTggODYuMDUzOTcxNywyMDE4Ljk5OTk4IEwxMDEuOTQ1NzI3LDIwMTguOTk5OTggQzEwMy4yMjE3MjIsMjAxOC45OTk5OCAxMDQuMjI2MTg1LDIwMTcuODU2OTggMTAzLjk1NTY3NCwyMDE2LjYzNTk4XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJwcm9maWxlX3JvdW5kLVsjMTM0Ml1cIj4gPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwdC0xXCI+UHJvZmlsZTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvUm91dGVyTGluaz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L25hdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcblxyXG48c2NyaXB0PlxyXG5pbXBvcnQgeyBmb3JtU1ZHIH0gZnJvbSAnLi4vYXNzZXRzL3N2Zy9pbmRleCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmb3JtU1ZHOiBmb3JtU1ZHXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+PC9zdHlsZT4iLCI8dGVtcGxhdGU+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYmctb2ZmLWJsYWNrIHRleHQtd2hpdGUgcHktMyBmaXhlZCBcclxuICAgICAgICAgICAgIGluc2V0LXgtMCBcclxuICAgICAgICAgICAgIHRvcC0wXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQtY2VudGVyIGl0ZW1zLWNlbnRlciBtYXgtY29udGFpbmVyIG14LWF1dG8gcHgtOFwiPlxyXG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCIhb25MaW5lXCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIGZpbGw9XCIjZjk3MzE2XCIgd2lkdGg9XCIzNHB4XCIgaGVpZ2h0PVwiMzRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjZjk3MzE2XCIgc3Ryb2tlLXdpZHRoPVwiMC4wMDAyNDAwMDAwMDAwMDAwMDAwM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19iZ0NhcnJpZXJcIiBzdHJva2Utd2lkdGg9XCIwXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyBkYXRhLW5hbWU9XCJMYXllciAyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBkYXRhLW5hbWU9XCJ3aWZpLW9mZlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIG9wYWNpdHk9XCIwXCI+PC9yZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTlcIiByPVwiMVwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTIuNDQgMTFsLTEuOS0xLjg5LTIuNDYtMi40NC0xLjU1LTEuNTUtMS44Mi0xLjgzYTEgMSAwIDAgMC0xLjQyIDEuNDJsMS4zOCAxLjM3IDEuNDYgMS40NiAyLjIzIDIuMjQgMS41NSAxLjU0IDIuNzQgMi43NCAyLjc5IDIuOCAzLjg1IDMuODVhMSAxIDAgMCAwIDEuNDIgMCAxIDEgMCAwIDAgMC0xLjQyelwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTIxLjcyIDcuOTNBMTMuOTMgMTMuOTMgMCAwIDAgMTIgNGExNC4xIDE0LjEgMCAwIDAtNC40NC43M2wxLjYyIDEuNjJhMTEuODkgMTEuODkgMCAwIDEgMTEuMTYgMyAxIDEgMCAwIDAgLjY5LjI4IDEgMSAwIDAgMCAuNzItLjMxIDEgMSAwIDAgMC0uMDMtMS4zOXpcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0zLjgyIDYuNjVhMTQuMzIgMTQuMzIgMCAwIDAtMS41NCAxLjI4IDEgMSAwIDAgMCAxLjM4IDEuNDQgMTMuMDkgMTMuMDkgMCAwIDEgMS42LTEuMjl6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTcgMTMuMTRhMSAxIDAgMCAwIC43MS4zIDEgMSAwIDAgMCAuNzItMS42OUE5IDkgMCAwIDAgMTIgOWgtLjE2bDIuMzUgMi4zNUE3IDcgMCAwIDEgMTcgMTMuMTR6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNy40MyAxMC4yNmE4LjggOC44IDAgMCAwLTEuOSAxLjQ5QTEgMSAwIDAgMCA3IDEzLjE0YTcuMyA3LjMgMCAwIDEgMi0xLjQxelwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTguNTMgMTUuNGExIDEgMCAxIDAgMS4zOSAxLjQ0IDMuMDYgMy4wNiAwIDAgMSAzLjg0LS4yNWwtMi41Mi0yLjUyYTUgNSAwIDAgMC0yLjcxIDEuMzN6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHYtZWxzZT5cclxuICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIzNHB4XCIgaGVpZ2h0PVwiMzRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiMzNDMyMzZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9faWNvbkNhcnJpZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjFcIiBjeT1cIjFcIiByPVwiMVwiIHRyYW5zZm9ybT1cIm1hdHJpeCgxIDAgMCAtMSAxMSAxOSlcIiBmaWxsPVwiI2Y5NzMxNlwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0yMC4xOTE1IDEwLjI2NDJDMTkuMjg2NCA4Ljk3MTUzIDE4LjA4ODEgNy45MTE0IDE2LjY5NDcgNy4xNzA1M0MxNS4zMDE0IDYuNDI5NjUgMTMuNzUyNCA2LjAyOTA3IDEyLjE3NDYgNi4wMDE1MkMxMC41OTY3IDUuOTczOTggOS4wMzQ3MSA2LjMyMDI2IDcuNjE2MzIgNy4wMTIwNkM2LjE5NzkzIDcuNzAzODUgNC45NjM0IDguNzIxNTIgNC4wMTM2NyA5Ljk4MTg1TTE3LjczNDEgMTIuOTg1QzE3LjEwMDUgMTIuMDgwMSAxNi4yNjE3IDExLjMzOCAxNS4yODYzIDEwLjgxOTRDMTQuMzExIDEwLjMwMDggMTMuMjI2NyAxMC4wMjAzIDEyLjEyMjIgMTAuMDAxMUMxMS4wMTc3IDkuOTgxNzkgOS45MjQzIDEwLjIyNDIgOC45MzE0MyAxMC43MDg0QzcuOTM4NTYgMTEuMTkyNyA3LjA3NDM5IDExLjkwNTEgNi40MDk1OCAxMi43ODczTTE0LjQ1NzUgMTUuMjc5M0MxNC4xODU5IDE0Ljg5MTUgMTMuODI2NSAxNC41NzM0IDEzLjQwODQgMTQuMzUxMkMxMi45OTA0IDE0LjEyODkgMTIuNTI1NyAxNC4wMDg3IDEyLjA1MjQgMTQuMDAwNUMxMS41NzkgMTMuOTkyMiAxMS4xMTA0IDE0LjA5NjEgMTAuNjg0OSAxNC4zMDM2QzEwLjI1OTQgMTQuNTExMiA5Ljg4OTA0IDE0LjgxNjUgOS42MDQxMiAxNS4xOTQ2XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiNmOTczMTZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGgxIGNsYXNzPVwiZmxleCBmb250LW1vbnRzZXJyYXQgZm9udC1zZW1pYm9sZCB0ZXh0LXhsIHRleHQtb3JhbmdlLTUwMFwiPlsgUmVzUUh1YiBdXHJcbiAgICAgICAgICAgIDwvaDE+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHB0LTEgc206aXRlbXMtY2VudGVyIHNtOmhpZGRlblwiIEBjbGljaz1cInRvZ2dsZU1vYmlsZU1lbnVcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0xIHBiLTEgaC01IGp1c3RpZnktY2VudGVyIGhvdmVyOmN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTYgaC1bMnB4XSBiZy1vcmFuZ2UtNTAwIHRyYW5zaXRpb24gdHJhbnNmb3JtIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsgJ3JvdGF0ZS00NSB0cmFuc2xhdGUteS1bM3B4XSc6IG1vYmlsZU1lbnVPcGVuIH1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTYgaC1bMnB4XSBiZy1vcmFuZ2UtNTAwIHRyYW5zaXRpb24gdHJhbnNmb3JtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwieyAnaGlkZGVuJzogbW9iaWxlTWVudU9wZW4gfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNiBoLVsycHhdIGJnLW9yYW5nZS01MDAgdHJhbnNpdGlvbiB0cmFuc2Zvcm0gZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwieyAncm90YXRlLVstNDVkZWddIHRyYW5zbGF0ZS15LVstM3B4XSc6IG1vYmlsZU1lbnVPcGVuIH1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoaWRkZW4gc206YmxvY2tcIj5cclxuICAgICAgICAgICAgICAgIG5hdmxpbmtzXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIG9uTGluZToge1xyXG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb2JpbGVNZW51T3BlbjogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICB0b2dnbGVNb2JpbGVNZW51KCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vYmlsZU1lbnVPcGVuID0gIXRoaXMubW9iaWxlTWVudU9wZW5cclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+PC9zdHlsZT4iLCIvLyBPcGVuIGEgY29ubmVjdGlvbiB0byB0aGUgSW5kZXhlZERCIGRhdGFiYXNlXHJcbmNvbnN0IGRiTmFtZSA9ICdvZmZsaW5lREInXHJcbmNvbnN0IGRiVmVyc2lvbiA9IDFcclxubGV0IGRiXHJcblxyXG5jb25zdCBvcGVuREIgPSAoKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIGRiVmVyc2lvbilcclxuXHJcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBldmVudCA9PiB7XHJcbiAgICAgIHJlamVjdCgnRXJyb3Igb3BlbmluZyBJbmRleGVkREIgZGF0YWJhc2UnKVxyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZXZlbnQgPT4ge1xyXG4gICAgICBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHRcclxuICAgICAgcmVzb2x2ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSBldmVudCA9PiB7XHJcbiAgICAgIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdFxyXG4gICAgICBjb25zdCBvYmplY3RTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdpdGVtcycsIHsga2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogdHJ1ZSB9KVxyXG4gICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgnbmFtZScsICduYW1lJywgeyB1bmlxdWU6IGZhbHNlIH0pXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLy8gQWRkIGFuIGl0ZW0gdG8gdGhlIEluZGV4ZWREQiBkYXRhYmFzZVxyXG5jb25zdCBhZGRJdGVtID0gYXN5bmMgbmFtZSA9PiB7XHJcbiAgYXdhaXQgb3BlbkRCKClcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbJ2l0ZW1zJ10sICdyZWFkd3JpdGUnKVxyXG4gICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnaXRlbXMnKVxyXG4gICAgY29uc3QgbmV3SXRlbSA9IHsgbmFtZSB9XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuYWRkKG5ld0l0ZW0pXHJcblxyXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZXZlbnQgPT4ge1xyXG4gICAgICByZWplY3QoJ0Vycm9yIGFkZGluZyBpdGVtIHRvIEluZGV4ZWREQicpXHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XHJcbiAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdClcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG4vLyBSZW1vdmUgYW4gaXRlbSBmcm9tIHRoZSBJbmRleGVkREIgZGF0YWJhc2VcclxuY29uc3QgcmVtb3ZlSXRlbSA9IGFzeW5jIGlkID0+IHtcclxuICBhd2FpdCBvcGVuREIoKVxyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFsnaXRlbXMnXSwgJ3JlYWR3cml0ZScpXHJcbiAgICBjb25zdCBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKCdpdGVtcycpXHJcbiAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZGVsZXRlKGlkKVxyXG5cclxuICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHtcclxuICAgICAgcmVqZWN0KCdFcnJvciByZW1vdmluZyBpdGVtIGZyb20gSW5kZXhlZERCJylcclxuICAgIH1cclxuXHJcbiAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGV2ZW50ID0+IHtcclxuICAgICAgcmVzb2x2ZSgpXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLy8gRmV0Y2ggYWxsIGl0ZW1zIGZyb20gdGhlIEluZGV4ZWREQiBkYXRhYmFzZVxyXG5jb25zdCBnZXRBbGxJdGVtcyA9IGFzeW5jICgpID0+IHtcclxuICBhd2FpdCBvcGVuREIoKVxyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFsnaXRlbXMnXSwgJ3JlYWRvbmx5JylcclxuICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2l0ZW1zJylcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5nZXRBbGwoKVxyXG5cclxuICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHtcclxuICAgICAgcmVqZWN0KCdFcnJvciBmZXRjaGluZyBpdGVtcyBmcm9tIEluZGV4ZWREQicpXHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XHJcbiAgICAgIHJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdClcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgeyBhZGRJdGVtLCByZW1vdmVJdGVtLCBnZXRBbGxJdGVtcyB9XHJcbiIsIjxzY3JpcHQgc2V0dXA+XHJcbmltcG9ydCB7IFJvdXRlclZpZXcgfSBmcm9tICd2dWUtcm91dGVyJ1xyXG5pbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7XHJcblxyXG5pbXBvcnQgVXNlciBmcm9tICcuL3N0b3Jlcy9Vc2VyJztcclxuXHJcbi8vIHdoZW4gd2UgYXJlIGRldmVsb3BpbmcgdXNpbmcgbG9jYWxob3N0IG9uIHBvcnQgNTE3MyAodnVlJ3MgZGVmYXVsdCBwb3J0KSxcclxuLy8gdG8gaW50ZWdyYXRlIHdpdGggdGhlIGZsYXNrIGJhY2tlbmQsIHdlIG5lZWQgdG8gbW9kaWZ5IHRoZSBwb3J0IHRvIDUwMDAgKGZsYXNrIGRlZmF1bHQgcG9ydClcclxubGV0IGRvbWFpbk9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cclxuaWYgKGRvbWFpbk9yaWdpbi5zbGljZSgtNSkgPT0gXCI6NTE3M1wiKSB7XHJcbiAgZG9tYWluT3JpZ2luID0gZG9tYWluT3JpZ2luLnJlcGxhY2UoXCI6NTE3M1wiLCBcIjo1MDAwXCIpXHJcbn1cclxuXHJcbmNvbnN0IHVzZXIgPSByZWFjdGl2ZShuZXcgVXNlcihkb21haW5PcmlnaW4pKVxyXG48L3NjcmlwdD5cclxuXHJcbjx0ZW1wbGF0ZT5cclxuICA8ZGl2IGNsYXNzPVwiYmctYmxhY2sgbWluLWgtc2NyZWVuXCI+XHJcbiAgICA8IS0tIEhlYWRlciAtLT5cclxuICAgIDxoZWFkZXIgY2xhc3M9XCJyZWxhdGl2ZSB6LTEwXCI+XHJcbiAgICAgIDxNb2JpbGVIZWFkZXIgOm9uTGluZT1cIm9uTGluZVwiPjwvTW9iaWxlSGVhZGVyPlxyXG4gICAgPC9oZWFkZXI+XHJcblxyXG4gICAgPCEtLSBDb250ZW50IC0tPlxyXG4gICAgPG1haW4gY2xhc3M9XCJyZWxhdGl2ZSB6LTBcIj5cclxuICAgICAgPFJvdXRlclZpZXcgOm9uTGluZT1cIm9uTGluZVwiIDp1c2VyPVwidXNlclwiIC8+XHJcbiAgICA8L21haW4+XHJcblxyXG4gICAgPCEtLSBGb290ZXIgLS0+XHJcbiAgICA8Zm9vdGVyIGNsYXNzPVwicmVsYXRpdmUgei0xMFwiPlxyXG4gICAgICA8TW9iaWxlTmF2QmFyPjwvTW9iaWxlTmF2QmFyPlxyXG4gICAgPC9mb290ZXI+XHJcbiAgPC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5pbXBvcnQgTW9iaWxlTmF2QmFyIGZyb20gJy4vY29tcG9uZW50cy9Nb2JpbGVOYXZCYXIudnVlJztcclxuaW1wb3J0IE1vYmlsZUhlYWRlciBmcm9tICcuL2NvbXBvbmVudHMvTW9iaWxlSGVhZGVyLnZ1ZSc7XHJcbmltcG9ydCB7IGdldEFsbEl0ZW1zIH0gZnJvbSAnLi9zdG9yZXMvb2ZmbGluZVdvcmtlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgTW9iaWxlTmF2QmFyLFxyXG4gICAgTW9iaWxlSGVhZGVyXHJcbiAgfSxcclxuICBkYXRhKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgb25MaW5lOiBuYXZpZ2F0b3Iub25MaW5lXHJcbiAgICB9XHJcbiAgfSxcclxuICB3YXRjaDoge1xyXG4gICAgLy8gd2hlbmV2ZXIgb25MaW5lIGNoYW5nZXMgZnJvbSBmYWxzZSB0byB0cnVlIC0gdHJ5IHRvIHNlbmQgY2FjaGVkIGVudHJpZXMgdG8gc2VydmVyXHJcbiAgICBhc3luYyBvbkxpbmUobmV3U3RhdHVzKSB7XHJcbiAgICAgIGlmIChuZXdTdGF0dXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkJhY2sgb25saW5lXCIpXHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBnZXRBbGxJdGVtcygpXHJcbiAgICAgICAgaWYgKGl0ZW1zKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW1zW2ldKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKGl0ZW1zW2ldLm5hbWUucGF5bG9hZCkpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBoYW5kbGVPbmxpbmVTdGF0dXMoKSB7XHJcbiAgICAgIHRoaXMub25MaW5lID0gbmF2aWdhdG9yLm9uTGluZTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBtb3VudGVkKCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwgdGhpcy5oYW5kbGVPbmxpbmVTdGF0dXMpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMuaGFuZGxlT25saW5lU3RhdHVzKTtcclxuICB9LFxyXG4gIGJlZm9yZVVubW91bnQoKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLmhhbmRsZU9ubGluZVN0YXR1cyk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5oYW5kbGVPbmxpbmVTdGF0dXMpO1xyXG4gIH1cclxufTtcclxuPC9zY3JpcHQ+XHJcbiIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtd3JhcCBnYXAteC02XCI+XHJcbiAgICAgICAgPHNlY3Rpb24gdi1mb3I9XCIoc2VjdGlvbiwgaW5kZXgpIGluIGZvcm1PYmpcIiA6a2V5PVwiaW5kZXhcIiBjbGFzcz1cInBiLTQgcHgtNCB3LWZ1bGxcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBiZy1bIzE2MWIyMl0gZmxleCBmbGV4LWNvbCB0ZXh0LXdoaXRlIHB4LTQgcHktM1wiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1tZCBmb250LWJvbGRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7eyBzZWN0aW9uLnRpdGxlIH19XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGRpdiB2LWZvcj1cIihlbnRyeSwgaW5kZXgpIGluIHNlY3Rpb24uZm9ybUVudHJpZXNcIiA6a2V5PVwiaW5kZXhcIiBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc20gbWItMlwiIDpmb3I9XCJlbnRyeS5sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7eyBlbnRyeS50aXRsZSB9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlbGF0aXZlIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCB2LWlmPVwiIWVudHJ5LnRleHRhcmVhXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aWQ9XCJlbnRyeS5sYWJlbFwiIHYtbW9kZWw9XCJwYXlsb2FkW2VudHJ5LnBheWxvYWRMYWJlbF1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdi1mb3I9XCIob3B0aW9uLCBvcHRpb25JbmRleCkgaW4gZW50cnkub3B0aW9uc1wiIDprZXk9XCJvcHRpb25JbmRleFwiPnt7IG9wdGlvbiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgdi1lbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInNoYWRvdyBiZy1ibGFjayBhcHBlYXJhbmNlLW5vbmUgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCByb3VuZGVkIHctZnVsbCBweS0xIHB4LTMgbGVhZGluZy10aWdodCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6c2hhZG93LW91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmlkPVwiZW50cnkubGFiZWxcIiB2LW1vZGVsPVwicGF5bG9hZFtlbnRyeS5wYXlsb2FkTGFiZWxdXCIgcm93cz1cIjRcIiBtYXhsZW5ndGg9XCIyNTBcIj48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9XCIhZW50cnkudGV4dGFyZWFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGluc2V0LXktMCByaWdodC0wIGZsZXggaXRlbXMtY2VudGVyIHB4LTIgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImZpbGwtY3VycmVudCBoLTQgdy00XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTkuMjkzIDEyLjk1bC43MDcuNzA3TDE1LjY1NyA4bC0xLjQxNC0xLjQxNEwxMCAxMC44MjggNS43NTcgNi41ODYgNC4zNDMgOHpcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwiZW50cnkudGV4dGFyZWFcIiBjbGFzcz1cInRleHQtc21cIj57eyBwYXlsb2FkW2VudHJ5LnBheWxvYWRMYWJlbF0gP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFtlbnRyeS5wYXlsb2FkTGFiZWxdLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fS8yNTA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8c2VjdGlvbiBjbGFzcz1cInBiLTEwIGZsZXgganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctb3JhbmdlLTUwMCBob3ZlcjpiZy1vcmFuZ2UtNjAwIHRleHQtd2hpdGUgZm9udC1ib2xkIHB5LTIgcHgtNCByb3VuZGVkXCJcclxuICAgICAgICAgICAgQGNsaWNrPVwic3VibWl0Rm9ybVwiPlN1Ym1pdCA8di1pY29uIG5hbWU9XCJpby1zZW5kXCIgLz48L2J1dHRvbj5cclxuICAgIDwvc2VjdGlvbj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGVtaXRzOiBbJ3N1Ym1pdEZvcm0nXSxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgZm9ybU9iajoge1xyXG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgIGZvcm1OYW1lOiB0aGlzLmZvcm1PYmouZm9ybU5hbWUsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzdWJtaXRGb3JtKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWJtaXRGb3JtJywgdGhpcy5wYXlsb2FkKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcbi8qIEFkZCBjdXN0b20gc3R5bGVzIGhlcmUgaWYgbmVlZGVkICovXHJcbjwvc3R5bGU+XHJcbiIsImNvbnN0IHNlY3VyaXR5Rm9ybSA9IFtcclxuICB7XHJcbiAgICB0aXRsZTogJ1NlY3VyaXR5IHJpc2tzJyxcclxuICAgIGZvcm1OYW1lOiAnc2VjdXJpdHknLFxyXG4gICAgZm9ybUVudHJpZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAncmlzay1hcm1lZC1ncm91cHMnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2FybWVkR3JvdXBzUHJlc2VuY2UnLFxyXG4gICAgICAgIHRpdGxlOiAnUHJlc2VuY2Ugb2YgYXJtZWQgZ3JvdXBzJyxcclxuICAgICAgICBvcHRpb25zOiBbJ1ByZXNlbnQnLCAnQWJzZW50JywgJ1Vua25vd24nXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdyaXNrLXJlcG9ydCcsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAncmVwb3J0T2ZWaW9sZW5jZScsXHJcbiAgICAgICAgdGl0bGU6ICdSZXBvcnRzIG9mIHZpb2xlbmNlIG9yIHVucmVzdCcsXHJcbiAgICAgICAgb3B0aW9uczogWydDb25maXJtZWQnLCAnU3VzcGVjdGVkJywgJ05vdCByZXBvcnRlZCddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ3Jpc2stbG9jYWwtZW5mb3JjZW1lbnQnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2xvY2FsRW5mb3JjZW1lbnRQcmVzZW5jZScsXHJcbiAgICAgICAgdGl0bGU6ICdMYXcgZW5mb3JjZW1lbnQgb3IgbWlsaXRhcnkgcHJlc2VuY2UnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnUHJlc2VudCcsICdBYnNlbnQnLCAnVW5rbm93biddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ3Jpc2stY29tbWVudHMnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ3NlY3VyaXR5Umlza0NvbW1lbnRzJyxcclxuICAgICAgICB0aXRsZTogJ0FkZGl0aW9uYWwgQ29tbWVudHMnLFxyXG4gICAgICAgIHRleHRhcmVhOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiAnSW5jaWRlbnRzJyxcclxuICAgIGZvcm1OYW1lOiAnaW5jaWRlbnRzJyxcclxuICAgIGZvcm1FbnRyaWVzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2luY2lkZW50cy1yZXBvcnRlZCcsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAnaW5jaWRlbnRzUmVwb3J0ZWQnLFxyXG4gICAgICAgIHRpdGxlOiAnUmVwb3J0ZWQgaW5jaWRlbnRzJyxcclxuICAgICAgICBvcHRpb25zOiBbJ0xvb3RpbmcnLCAnVGhlZnQnLCAnVmFuZGFsaXNtJywgJ1Zpb2xlbmNlJywgJ05vIHJlcG9ydGVkIGluY2lkZW50cyddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2luY2lkZW50cy1yaXNrLXRvLXJlbGllZicsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAncmlza1RvUmVsaWVmJyxcclxuICAgICAgICB0aXRsZTogJ1NlY3VyaXR5IGluY2lkZW50cyBhZmZlY3RpbmcgcmVsaWVmIGVmZm9ydHMnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnSGlnaCByaXNrJywgJ01vZGVyYXRlIHJpc2snLCAnTG93IHJpc2snLCAnVW5rbm93biddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2luY2lkZW50cy1jb21tZW50cycsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAnaW5jaWRlbnRzQ29tbWVudHMnLFxyXG4gICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBDb21tZW50cycsXHJcbiAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH1cclxuXVxyXG5cclxuY29uc3QgaW5mcmFzdHJ1Y3R1cmVGb3JtID0gW1xyXG4gIHtcclxuICAgIHRpdGxlOiAnUm9hZHMnLFxyXG4gICAgZm9ybU5hbWU6ICdyb2FkcycsXHJcbiAgICBmb3JtRW50cmllczogW1xyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdDb25kaXRpb24nLFxyXG4gICAgICAgIGxhYmVsOiAncm9hZC1jb25kaXRpb24nLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ3JvYWRDb25kaXRpb24nLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnQ2xlYXInLCAnRGFtYWdlZCcsICdCbG9ja2VkJ11cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnVHlwZSBvZiBkYW1hZ2UnLFxyXG4gICAgICAgIGxhYmVsOiAncm9hZC1kYW1hZ2UnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ3JvYWREYW1hZ2UnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnRmxvb2RlZCcsICdEZWJyaXMnLCAnQ29sbGFwc2VkJywgJ05vbmUnXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdBY2Nlc3NpYmlsaXR5JyxcclxuICAgICAgICBsYWJlbDogJ3JvYWQtYWNjZXNzJyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICdyb2FkQWNjZXNzJyxcclxuICAgICAgICBvcHRpb25zOiBbJ1Bhc3NhYmxlJywgJ0ltcGFzc2FibGUnXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdyb2FkLWNvbW1lbnRzJyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICdyb2FkQ29tbWVudHMnLFxyXG4gICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBDb21tZW50cycsXHJcbiAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6ICdCdWlsZGluZ3MnLFxyXG4gICAgZm9ybU5hbWU6ICdidWlsZGluZ3MnLFxyXG4gICAgZm9ybUVudHJpZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnU3RydWN0dXJhbCBJbnRlZ3JpdHknLFxyXG4gICAgICAgIGxhYmVsOiAnYnVpbGRpbmctaW50ZWdyaXR5JyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICdidWlsZGluZ0ludGVncml0eScsXHJcbiAgICAgICAgb3B0aW9uczogWydJbnRhY3QnLCAnRGFtYWdlZCcsICdDb2xsYXBzZWQnXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdUeXBlJyxcclxuICAgICAgICBsYWJlbDogJ2J1aWxkaW5nLXR5cGUnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2J1aWxkaW5nVHlwZScsXHJcbiAgICAgICAgb3B0aW9uczogWydSZXNpZGVudGlhbCcsICdDb21tZXJjaWFsJywgJ0dvdmVybm1lbnQnLCAnTm9uZSddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0aXRsZTogJ0RhbWFnZSBBc3Nlc3NtZW50JyxcclxuICAgICAgICBsYWJlbDogJ2J1aWxkaW5nLWRhbWFnZScsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAnYnVpbGRpbmdEYW1hZ2UnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnTWlub3InLCAnTW9kZXJhdGUnLCAnU2V2ZXJlJ11cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnYnVpbGRpbmctY29tbWVudHMnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2J1aWxkaW5nQ29tbWVudHMnLFxyXG4gICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBDb21tZW50cycsXHJcbiAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6ICdVdGlsaXRpZXMnLFxyXG4gICAgZm9ybU5hbWU6ICd1dGlsaXRpZXMnLFxyXG4gICAgZm9ybUVudHJpZXM6IFtcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnUG93ZXIgU3VwcGx5JyxcclxuICAgICAgICBsYWJlbDogJ3V0aWxpdHktcG93ZXInLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ3V0aWxpdHlQb3dlcicsXHJcbiAgICAgICAgb3B0aW9uczogWydBdmFpbGFibGUnLCAnT3V0YWdlcycsICdHZW5lcmF0b3JzJ11cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRpdGxlOiAnV2F0ZXIgU3VwcGx5JyxcclxuICAgICAgICBsYWJlbDogJ3V0aWxpdHktd2F0ZXInLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ3V0aWxpdHlXYXRlcicsXHJcbiAgICAgICAgb3B0aW9uczogWydGdW5jdGlvbmFsJywgJ0NvbnRhbWluYXRlZCcsICdTaG9ydGFnZXMnXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdGl0bGU6ICdDb21tdW5pY2F0aW9ucycsXHJcbiAgICAgICAgbGFiZWw6ICd1dGlsaXR5LWNvbW1zJyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICd1dGlsaXR5Q29tbXMnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnRnVuY3Rpb25hbCcsICdDZWxsIFNlcnZpY2UgT25seScsICdJbnRlcm5ldCBDb25uZWN0aXZpdHknLCAnTGltaXRlZCddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ3V0aWxpdHktY29tbWVudHMnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ3V0aWxpdHlDb21tZW50cycsXHJcbiAgICAgICAgdGl0bGU6ICdBZGRpdGlvbmFsIENvbW1lbnRzJyxcclxuICAgICAgICB0ZXh0YXJlYTogdHJ1ZVxyXG4gICAgICB9XHJcbiAgICBdXHJcbiAgfVxyXG5dXHJcblxyXG5jb25zdCBjb21tdW5pY2F0aW9uc0Zvcm0gPSBbXHJcbiAge1xyXG4gICAgdGl0bGU6ICdDb21tdW5pY2F0aW9ucycsXHJcbiAgICBmb3JtTmFtZTogJ2NvbW11bmljYXRpb25zJyxcclxuICAgIGZvcm1FbnRyaWVzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2NvbW1zLWluZnJhc3RydWN0dXJlJyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICdjb21tc0luZnJhc3RydWN0dXJlJyxcclxuICAgICAgICB0aXRsZTogJ1N0YXR1cyBvZiBjZWxsIHRvd2VycyBhbmQgaW50ZXJuZXQgaW5mcmFzdHJ1Y3R1cmUnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnRnVsbHkgb3BlcmF0aW9uYWwnLCAnUGFydGx5IG9wZXJhdGlvbmFsJywgJ09mZmxpbmUnXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdjb21tcy1waG9uZS1hbmQtaW50ZXJuZXQnLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2NvbW1zUGhvbmVBbmRJbnRlcm5ldCcsXHJcbiAgICAgICAgdGl0bGU6ICdSZWxpYWJpbGl0eSBvZiBwaG9uZSBhbmQgaW50ZXJuZXQgY29ubmVjdGl2aXR5JyxcclxuICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAnSGlnaCAoY29uc2lzdGVudCBzaWduYWwgYW5kIGJhbmR3aWR0aCknLFxyXG4gICAgICAgICAgJ01vZGVyYXRlIChpbnRlcm1pdHRlbnQgc2lnbmFsIGFuZC9vciByZWR1Y2VkIGJhbmR3aWR0aCknLFxyXG4gICAgICAgICAgJ0xvdyAodW5yZWxpYWJsZSBzaWduYWwgYW5kIGluc3VmZmljaWVudCBiYW5kd2lkdGgpJ1xyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnY29tbXMtYXZhaWxhYmxpdHknLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2NvbW1zQXZhaWxhYmlsaXR5JyxcclxuICAgICAgICB0aXRsZTogJ0F2YWlsYWJpbGl0eSBvZiBjb21tdW5pY2F0aW9uIGRldmljZXMnLFxyXG4gICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICdBYnVuZGFudCAocGhvbmVzLCByYWRpb3MsIHNhdGVsbGl0ZSBwaG9uZXMpJyxcclxuICAgICAgICAgICdMaW1pdGVkIChzb21lIGRldmljZXMgYXZhaWxhYmxlLCBtYXkgbm90IGJlIGVub3VnaCBmb3IgYWxsIHRlYW1zKScsXHJcbiAgICAgICAgICAnU2NhcmNlICh2ZXJ5IGZldyBkZXZpY2VzLCBwcmlvcml0eSBmb3IgY3JpdGljYWwgY29tbXVuaWNhdGlvbnMgb25seSknXHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdjb21tcy1hbHRlcm5hdGl2ZScsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAnY29tbXNBbHRlcm5hdGl2ZScsXHJcbiAgICAgICAgdGl0bGU6ICdBbHRlcm5hdGl2ZSBjb21tdW5pY2F0aW9uIG1ldGhvZHMnLFxyXG4gICAgICAgIG9wdGlvbnM6IFsnU2F0ZWxsaXRlIHBob25lcycsICdIaWdoLWZyZXF1ZW5jeSByYWRpb3MnLCAnTm9uZSddXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2NvbW1zLWNvbW1lbnRzJyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICdjb21tc0NvbW1lbnRzJyxcclxuICAgICAgICB0aXRsZTogJ0FkZGl0aW9uYWwgQ29tbWVudHMnLFxyXG4gICAgICAgIHRleHRhcmVhOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiAnQ29ubmVjdGl2aXR5JyxcclxuICAgIGZvcm1OYW1lOiAnY29ubmVjdGl2aXR5JyxcclxuICAgIGZvcm1FbnRyaWVzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2Nvbm5lY3QtZWxlY3RyaWNpdHknLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2Nvbm5lY3RFbGVjdHJpY2l0eScsXHJcbiAgICAgICAgdGl0bGU6ICdFbGVjdHJpY2l0eSBBdmFpbGFiaWxpdHknLFxyXG4gICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICdTdGFibGUgZ3JpZCBzdXBwbHknLFxyXG4gICAgICAgICAgJ09jY2FzaW9uYWwgb3V0YWdlcywgYmFja3VwIGF2YWlsYWJsZScsXHJcbiAgICAgICAgICAnVW5zdGFibGUgZ3JpZCwgcmVsaWFuY2Ugb24gZ2VuZXJhdG9ycydcclxuICAgICAgICBdXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2Nvbm5lY3QtZnVlbC1hdmFpbGFiaWxpdHknLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2Nvbm5lY3RGdWVsQXZhaWxhYmlsaXR5JyxcclxuICAgICAgICB0aXRsZTogJ0Z1ZWwgQXZhaWxhYmlsaXR5IGZvciBHZW5lcmF0b3JzJyxcclxuICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAnU3VmZmljaWVudCAocmVsaWFibGUgc3VwcGx5IGNoYWluKScsXHJcbiAgICAgICAgICAnTGltaXRlZCAoc3VwcGx5IGNoYWluIGRpc3J1cHRpb25zIHBvc3NpYmxlKScsXHJcbiAgICAgICAgICAnU2NhcmNlIChubyByZWxpYWJsZSBzdXBwbHkgY2hhaW4pJ1xyXG4gICAgICAgIF1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnY29ubmVjdC1iYWNrdXAtcG93ZXInLFxyXG4gICAgICAgIHBheWxvYWRMYWJlbDogJ2Nvbm5lY3RCYWNrdXBQb3dlcicsXHJcbiAgICAgICAgdGl0bGU6ICdCYWNrdXAgUG93ZXIgU291cmNlcycsXHJcbiAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgJ1NvbGFyIHBhbmVscyAoYXZhaWxhYmxlIGFuZCByZWxpYWJsZSknLFxyXG4gICAgICAgICAgJ0JhdHRlcmllcyAoYXZhaWxhYmxlIGJ1dCB1bnJlbGlhYmxlKScsXHJcbiAgICAgICAgICAnTm9uZSdcclxuICAgICAgICBdXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ2Nvbm5lY3QtbG9jYWwtY29udHJvbCcsXHJcbiAgICAgICAgcGF5bG9hZExhYmVsOiAnY29ubmVjdExvY2FsQ29udHJvbCcsXHJcbiAgICAgICAgdGl0bGU6ICdMb2NhbCBDb250cm9sIG9mIEVsZWN0cmljaXR5IFN1cHBseScsXHJcbiAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgJ0dvdmVybm1lbnQtY29udHJvbGxlZCBncmlkJyxcclxuICAgICAgICAgICdJbmRlcGVuZGVudCBsb2NhbCBlbnRpdGllcycsXHJcbiAgICAgICAgICAnTm8gbG9jYWwgY29udHJvbCwgZGVwZW5kZW50IG9uIGV4dGVybmFsIHNvdXJjZXMnXHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgbGFiZWw6ICdjb25uZWN0LWNvbW1lbnRzJyxcclxuICAgICAgICBwYXlsb2FkTGFiZWw6ICdjb25uZWN0Q29tbWVudHMnLFxyXG4gICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBDb21tZW50cycsXHJcbiAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgfVxyXG4gICAgXVxyXG4gIH1cclxuXVxyXG5cclxuZXhwb3J0IHsgc2VjdXJpdHlGb3JtLCBpbmZyYXN0cnVjdHVyZUZvcm0sIGNvbW11bmljYXRpb25zRm9ybSB9XHJcbiIsImZ1bmN0aW9uIGNoZWNrTG9jYXRpb25QZXJtaXNzaW9uICgpIHtcclxuICBpZiAoJ3Blcm1pc3Npb25zJyBpbiBuYXZpZ2F0b3IgJiYgJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIHJldHVybiBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoeyBuYW1lOiAnZ2VvbG9jYXRpb24nIH0pLnRoZW4oZnVuY3Rpb24gKHBlcm1pc3Npb25TdGF0dXMpIHtcclxuICAgICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09ICdncmFudGVkJykge1xyXG4gICAgICAgIC8vIFBlcm1pc3Npb24gYWxyZWFkeSBncmFudGVkLCByZXR1cm4gYSBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgdXNlcidzIGxvY2F0aW9uXHJcbiAgICAgICAgcmV0dXJuIGdldExvY2F0aW9uKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBQZXJtaXNzaW9uIG5vdCBncmFudGVkLCBhc2sgdGhlIHVzZXIgZm9yIHBlcm1pc3Npb25cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihyZXNvbHZlLCByZWplY3QpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9IGVsc2UgaWYgKCdnZW9sb2NhdGlvbicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAvLyBHZW9sb2NhdGlvbiBpcyBhdmFpbGFibGUgYnV0IHBlcm1pc3Npb25zIEFQSSBpcyBub3Qgc3VwcG9ydGVkXHJcbiAgICByZXR1cm4gZ2V0TG9jYXRpb24oKVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBHZW9sb2NhdGlvbiBpcyBub3QgYXZhaWxhYmxlXHJcbiAgICBjb25zb2xlLmVycm9yKCdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci4nKVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TG9jYXRpb24gKCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHJlc29sdmUsIHJlamVjdClcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgeyBjaGVja0xvY2F0aW9uUGVybWlzc2lvbiB9XHJcbiIsIjx0ZW1wbGF0ZT5cclxuICA8c2VjdGlvbiBjbGFzcz1cIm10LTEyIG1iLTE2IHB0LTRcIj5cclxuICAgIDxmb3JtIGNsYXNzPVwidy1mdWxsIG1heC13LWxnIG14LWF1dG8gZmxleCBmbGV4LWNvbFwiIEBzdWJtaXQucHJldmVudD5cclxuICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBweC0zIG1iLTZcIj5cclxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LW1kIGZvbnQtYm9sZCBtYi0yXCIgZm9yPVwiZ3JpZC1zdGF0ZVwiPlxyXG4gICAgICAgICAgQ2F0ZWdvcnlcclxuICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICBjbGFzcz1cInNoYWRvdyBiZy1ibGFjayB0ZXh0LXdoaXRlIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTIgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZVwiXHJcbiAgICAgICAgICAgIGlkPVwiZ3JpZC1zdGF0ZVwiIHYtbW9kZWw9XCJzZWxlY3RlZEZvcm1cIj5cclxuICAgICAgICAgICAgPG9wdGlvbj5JbmZyYXN0cnVjdHVyZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uPk1lZGljYWw8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbj5TZWN1cml0eTwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uPkxvZ2lzdGljczwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uPkVudmlyb25tZW50PC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24+SGVhbHRoPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24+Q29tbXVuaWNhdGlvbjwvb3B0aW9uPlxyXG4gICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSBpbnNldC15LTAgcmlnaHQtMCBmbGV4IGl0ZW1zLWNlbnRlciBweC0yIHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImZpbGwtY3VycmVudCBoLTQgdy00XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIj5cclxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTkuMjkzIDEyLjk1bC43MDcuNzA3TDE1LjY1NyA4bC0xLjQxNC0xLjQxNEwxMCAxMC44MjggNS43NTcgNi41ODYgNC4zNDMgOHpcIiAvPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPEJvaWxlcnBsYXRlRm9ybSA6Zm9ybU9iaj1cImxvYWRGb3JtKClcIiBAc3VibWl0Rm9ybT1cInN1Ym1pdEZvcm1cIj48L0JvaWxlcnBsYXRlRm9ybT5cclxuICAgIDwvZm9ybT5cclxuICA8L3NlY3Rpb24+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5pbXBvcnQgQm9pbGVycGxhdGVGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvQm9pbGVycGxhdGVGb3JtLnZ1ZSc7XHJcbmltcG9ydCB7IGluZnJhc3RydWN0dXJlRm9ybSwgc2VjdXJpdHlGb3JtLCBjb21tdW5pY2F0aW9uc0Zvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4JztcclxuaW1wb3J0IHsgYWRkSXRlbSwgcmVtb3ZlSXRlbSwgZ2V0QWxsSXRlbXMgfSBmcm9tICdAL3N0b3Jlcy9vZmZsaW5lV29ya2VyJztcclxuaW1wb3J0IHsgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24gfSBmcm9tICdAL3N0b3Jlcy9nZW9Mb2NhdGlvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgQm9pbGVycGxhdGVGb3JtLFxyXG4gIH0sXHJcbiAgcHJvcHM6IHtcclxuICAgIG9uTGluZToge1xyXG4gICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGRhdGEoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbmZyYXN0cnVjdHVyZUZvcm06IGluZnJhc3RydWN0dXJlRm9ybSxcclxuICAgICAgc2VjdXJpdHlGb3JtOiBzZWN1cml0eUZvcm0sXHJcbiAgICAgIGNvbW11bmljYXRpb25zRm9ybTogY29tbXVuaWNhdGlvbnNGb3JtLFxyXG4gICAgICBzZWxlY3RlZEZvcm06ICdJbmZyYXN0cnVjdHVyZScsXHJcbiAgICAgIGl0ZW1zOiBbXVxyXG4gICAgfTtcclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGFzeW5jIHN1Ym1pdEZvcm0ocGF5bG9hZCkge1xyXG4gICAgICBpZiAobmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBJIGFtIG9ubGluZSEgJHtwYXlsb2FkfWApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyUG9zaXRpb24gPSBhd2FpdCBjaGVja0xvY2F0aW9uUGVybWlzc2lvbigpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJMYXRpdHVkZTogXCIgKyB1c2VyUG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9uZ2l0dWRlOiBcIiArIHVzZXJQb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiVGltZXN0YW1wOiBcIiArIHVzZXJQb3NpdGlvbi50aW1lc3RhbXApO1xyXG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHVzZXJQb3NpdGlvbi50aW1lc3RhbXApO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0ZSk7XHJcbiAgICAgICAgICAvLyBEbyBzb21ldGhpbmcgd2l0aCB1c2VyUG9zaXRpb25cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBsb2NhdGlvbjonLCBlcnJvcik7XHJcbiAgICAgICAgICAvLyBIYW5kbGUgZXJyb3JcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtVG9EYihKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhc3luYyBhZGRJdGVtVG9EYihwYXlsb2FkKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgbmV3SXRlbSA9IHsgcGF5bG9hZCB9O1xyXG4gICAgICAgIGNvbnN0IGl0ZW1JZCA9IGF3YWl0IGFkZEl0ZW0obmV3SXRlbSk7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHsgaWQ6IGl0ZW1JZCwgLi4ubmV3SXRlbSB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFkZGVkIGl0ZW1cIilcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICBhbGVydCgnRmFpbGVkIHRvIGFkZCBpdGVtJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsb2FkRm9ybSgpIHtcclxuICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkRm9ybS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgY2FzZSAnaW5mcmFzdHJ1Y3R1cmUnOlxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5mcmFzdHJ1Y3R1cmVGb3JtXHJcbiAgICAgICAgY2FzZSAnc2VjdXJpdHknOlxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VjdXJpdHlGb3JtXHJcbiAgICAgICAgY2FzZSAnY29tbXVuaWNhdGlvbic6XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21tdW5pY2F0aW9uc0Zvcm1cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgIC8vIGNvZGUgYmxvY2tcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgc2NvcGVkPjwvc3R5bGU+XHJcbiIsIihmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3RyeXtpZih0eXBlb2YgZG9jdW1lbnQ8XCJ1XCIpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTthLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiLm1hcGRpdltkYXRhLXYtZGJmODJjNDBde3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LmN1c3RvbS1jb250cm9sLXdyYXBwZXJbZGF0YS12LWQwOTlhM2E2XXtkaXNwbGF5Om5vbmV9Lm1hcGRpdiAuY3VzdG9tLWNvbnRyb2wtd3JhcHBlcltkYXRhLXYtZDA5OWEzYTZde2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5pbmZvLXdpbmRvdy13cmFwcGVyW2RhdGEtdi1jYmUxNzA3Yl17ZGlzcGxheTpub25lfS5tYXBkaXYgLmluZm8td2luZG93LXdyYXBwZXJbZGF0YS12LWNiZTE3MDdiXXtkaXNwbGF5OmlubGluZS1ibG9ja30uY3VzdG9tLW1hcmtlci13cmFwcGVyW2RhdGEtdi0yZDJkMzQzYV17ZGlzcGxheTpub25lfS5tYXBkaXYgLmN1c3RvbS1tYXJrZXItd3JhcHBlcltkYXRhLXYtMmQyZDM0M2Fde2Rpc3BsYXk6aW5saW5lLWJsb2NrfVwiKSksZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhKX19Y2F0Y2goZCl7Y29uc29sZS5lcnJvcihcInZpdGUtcGx1Z2luLWNzcy1pbmplY3RlZC1ieS1qc1wiLGQpfX0pKCk7XG52YXIgcWUgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgQmUgPSAobiwgZSwgdCkgPT4gZSBpbiBuID8gcWUobiwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IG5bZV0gPSB0O1xudmFyIHNlID0gKG4sIGUsIHQpID0+IChCZShuLCB0eXBlb2YgZSAhPSBcInN5bWJvbFwiID8gZSArIFwiXCIgOiBlLCB0KSwgdCk7XG5pbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgYXMgUCwgcmVmIGFzIHksIHByb3ZpZGUgYXMgRywgd2F0Y2ggYXMgTywgb25Nb3VudGVkIGFzIE1lLCBvbkJlZm9yZVVubW91bnQgYXMgQiwgbWFya1JhdyBhcyBJLCB0b1JlZiBhcyBaLCBvcGVuQmxvY2sgYXMgWSwgY3JlYXRlRWxlbWVudEJsb2NrIGFzIFgsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBhZSwgcmVuZGVyU2xvdCBhcyBRLCBub3JtYWxpemVQcm9wcyBhcyBaZSwgZ3VhcmRSZWFjdGl2ZVByb3BzIGFzIE5lLCBpbmplY3QgYXMgQywgY29tcHV0ZWQgYXMgSiwgQ29tbWVudCBhcyBFZSwgbWVyZ2VQcm9wcyBhcyBQZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIE9lIH0gZnJvbSBcInZ1ZVwiO1xuY29uc3QgTiA9IFN5bWJvbChcIm1hcFwiKSwgVSA9IFN5bWJvbChcImFwaVwiKSwgeGUgPSBTeW1ib2woXCJtYXJrZXJcIiksIExlID0gU3ltYm9sKFwibWFya2VyQ2x1c3RlclwiKSwgZWUgPSBTeW1ib2woXCJDdXN0b21NYXJrZXJcIiksIFNlID0gU3ltYm9sKFwibWFwVGlsZXNMb2FkZWRcIiksIHEgPSBbXG4gIFwiY2xpY2tcIixcbiAgXCJkYmxjbGlja1wiLFxuICBcImRyYWdcIixcbiAgXCJkcmFnZW5kXCIsXG4gIFwiZHJhZ3N0YXJ0XCIsXG4gIFwibW91c2Vkb3duXCIsXG4gIFwibW91c2Vtb3ZlXCIsXG4gIFwibW91c2VvdXRcIixcbiAgXCJtb3VzZW92ZXJcIixcbiAgXCJtb3VzZXVwXCIsXG4gIFwicmlnaHRjbGlja1wiXG5dO1xuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5mdW5jdGlvbiBVZShuLCBlLCB0LCBzKSB7XG4gIGZ1bmN0aW9uIHIobykge1xuICAgIHJldHVybiBvIGluc3RhbmNlb2YgdCA/IG8gOiBuZXcgdChmdW5jdGlvbihhKSB7XG4gICAgICBhKG8pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXcgKHQgfHwgKHQgPSBQcm9taXNlKSkoZnVuY3Rpb24obywgYSkge1xuICAgIGZ1bmN0aW9uIGwodSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZChzLm5leHQodSkpO1xuICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICBhKGMpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpKHUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGQocy50aHJvdyh1KSk7XG4gICAgICB9IGNhdGNoIChjKSB7XG4gICAgICAgIGEoYyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGQodSkge1xuICAgICAgdS5kb25lID8gbyh1LnZhbHVlKSA6IHIodS52YWx1ZSkudGhlbihsLCBpKTtcbiAgICB9XG4gICAgZCgocyA9IHMuYXBwbHkobiwgZSB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxudmFyIERlID0gZnVuY3Rpb24gbihlLCB0KSB7XG4gIGlmIChlID09PSB0KVxuICAgIHJldHVybiAhMDtcbiAgaWYgKGUgJiYgdCAmJiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB0ID09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoZS5jb25zdHJ1Y3RvciAhPT0gdC5jb25zdHJ1Y3RvcilcbiAgICAgIHJldHVybiAhMTtcbiAgICB2YXIgcywgciwgbztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgaWYgKHMgPSBlLmxlbmd0aCwgcyAhPSB0Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgZm9yIChyID0gczsgci0tICE9PSAwOyApXG4gICAgICAgIGlmICghbihlW3JdLCB0W3JdKSlcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGlmIChlLmNvbnN0cnVjdG9yID09PSBSZWdFeHApXG4gICAgICByZXR1cm4gZS5zb3VyY2UgPT09IHQuc291cmNlICYmIGUuZmxhZ3MgPT09IHQuZmxhZ3M7XG4gICAgaWYgKGUudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKVxuICAgICAgcmV0dXJuIGUudmFsdWVPZigpID09PSB0LnZhbHVlT2YoKTtcbiAgICBpZiAoZS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZylcbiAgICAgIHJldHVybiBlLnRvU3RyaW5nKCkgPT09IHQudG9TdHJpbmcoKTtcbiAgICBpZiAobyA9IE9iamVjdC5rZXlzKGUpLCBzID0gby5sZW5ndGgsIHMgIT09IE9iamVjdC5rZXlzKHQpLmxlbmd0aClcbiAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKHIgPSBzOyByLS0gIT09IDA7IClcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIG9bcl0pKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgZm9yIChyID0gczsgci0tICE9PSAwOyApIHtcbiAgICAgIHZhciBhID0gb1tyXTtcbiAgICAgIGlmICghbihlW2FdLCB0W2FdKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH1cbiAgcmV0dXJuIGUgIT09IGUgJiYgdCAhPT0gdDtcbn07XG5jb25zdCBkZSA9IFwiX19nb29nbGVNYXBzU2NyaXB0SWRcIjtcbnZhciBSO1xuKGZ1bmN0aW9uKG4pIHtcbiAgbltuLklOSVRJQUxJWkVEID0gMF0gPSBcIklOSVRJQUxJWkVEXCIsIG5bbi5MT0FESU5HID0gMV0gPSBcIkxPQURJTkdcIiwgbltuLlNVQ0NFU1MgPSAyXSA9IFwiU1VDQ0VTU1wiLCBuW24uRkFJTFVSRSA9IDNdID0gXCJGQUlMVVJFXCI7XG59KShSIHx8IChSID0ge30pKTtcbmNsYXNzIFQge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBMb2FkZXIgdXNpbmcgW1tMb2FkZXJPcHRpb25zXV0uIE5vIGRlZmF1bHRzIGFyZSBzZXRcbiAgICogdXNpbmcgdGhpcyBsaWJyYXJ5LCBpbnN0ZWFkIHRoZSBkZWZhdWx0cyBhcmUgc2V0IGJ5IHRoZSBHb29nbGUgTWFwc1xuICAgKiBKYXZhU2NyaXB0IEFQSSBzZXJ2ZXIuXG4gICAqXG4gICAqIGBgYFxuICAgKiBjb25zdCBsb2FkZXIgPSBMb2FkZXIoe2FwaUtleSwgdmVyc2lvbjogJ3dlZWtseScsIGxpYnJhcmllczogWydwbGFjZXMnXX0pO1xuICAgKiBgYGBcbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYXBpS2V5OiBlLCBhdXRoUmVmZXJyZXJQb2xpY3k6IHQsIGNoYW5uZWw6IHMsIGNsaWVudDogciwgaWQ6IG8gPSBkZSwgbGFuZ3VhZ2U6IGEsIGxpYnJhcmllczogbCA9IFtdLCBtYXBJZHM6IGksIG5vbmNlOiBkLCByZWdpb246IHUsIHJldHJpZXM6IGMgPSAzLCB1cmw6IGggPSBcImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qc1wiLCB2ZXJzaW9uOiBwIH0pIHtcbiAgICBpZiAodGhpcy5jYWxsYmFja3MgPSBbXSwgdGhpcy5kb25lID0gITEsIHRoaXMubG9hZGluZyA9ICExLCB0aGlzLmVycm9ycyA9IFtdLCB0aGlzLmFwaUtleSA9IGUsIHRoaXMuYXV0aFJlZmVycmVyUG9saWN5ID0gdCwgdGhpcy5jaGFubmVsID0gcywgdGhpcy5jbGllbnQgPSByLCB0aGlzLmlkID0gbyB8fCBkZSwgdGhpcy5sYW5ndWFnZSA9IGEsIHRoaXMubGlicmFyaWVzID0gbCwgdGhpcy5tYXBJZHMgPSBpLCB0aGlzLm5vbmNlID0gZCwgdGhpcy5yZWdpb24gPSB1LCB0aGlzLnJldHJpZXMgPSBjLCB0aGlzLnVybCA9IGgsIHRoaXMudmVyc2lvbiA9IHAsIFQuaW5zdGFuY2UpIHtcbiAgICAgIGlmICghRGUodGhpcy5vcHRpb25zLCBULmluc3RhbmNlLm9wdGlvbnMpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExvYWRlciBtdXN0IG5vdCBiZSBjYWxsZWQgYWdhaW4gd2l0aCBkaWZmZXJlbnQgb3B0aW9ucy4gJHtKU09OLnN0cmluZ2lmeSh0aGlzLm9wdGlvbnMpfSAhPT0gJHtKU09OLnN0cmluZ2lmeShULmluc3RhbmNlLm9wdGlvbnMpfWApO1xuICAgICAgcmV0dXJuIFQuaW5zdGFuY2U7XG4gICAgfVxuICAgIFQuaW5zdGFuY2UgPSB0aGlzO1xuICB9XG4gIGdldCBvcHRpb25zKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2ZXJzaW9uOiB0aGlzLnZlcnNpb24sXG4gICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgY2hhbm5lbDogdGhpcy5jaGFubmVsLFxuICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbGlicmFyaWVzOiB0aGlzLmxpYnJhcmllcyxcbiAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlLFxuICAgICAgcmVnaW9uOiB0aGlzLnJlZ2lvbixcbiAgICAgIG1hcElkczogdGhpcy5tYXBJZHMsXG4gICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgIHVybDogdGhpcy51cmwsXG4gICAgICBhdXRoUmVmZXJyZXJQb2xpY3k6IHRoaXMuYXV0aFJlZmVycmVyUG9saWN5XG4gICAgfTtcbiAgfVxuICBnZXQgc3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLmVycm9ycy5sZW5ndGggPyBSLkZBSUxVUkUgOiB0aGlzLmRvbmUgPyBSLlNVQ0NFU1MgOiB0aGlzLmxvYWRpbmcgPyBSLkxPQURJTkcgOiBSLklOSVRJQUxJWkVEO1xuICB9XG4gIGdldCBmYWlsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9uZSAmJiAhdGhpcy5sb2FkaW5nICYmIHRoaXMuZXJyb3JzLmxlbmd0aCA+PSB0aGlzLnJldHJpZXMgKyAxO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVVcmwgcmV0dXJucyB0aGUgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgc2NyaXB0IHVybCBnaXZlbiB0aGUgW1tMb2FkZXJPcHRpb25zXV0uXG4gICAqXG4gICAqIEBpZ25vcmVcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGNyZWF0ZVVybCgpIHtcbiAgICBsZXQgZSA9IHRoaXMudXJsO1xuICAgIHJldHVybiBlICs9IFwiP2NhbGxiYWNrPV9fZ29vZ2xlTWFwc0NhbGxiYWNrXCIsIHRoaXMuYXBpS2V5ICYmIChlICs9IGAma2V5PSR7dGhpcy5hcGlLZXl9YCksIHRoaXMuY2hhbm5lbCAmJiAoZSArPSBgJmNoYW5uZWw9JHt0aGlzLmNoYW5uZWx9YCksIHRoaXMuY2xpZW50ICYmIChlICs9IGAmY2xpZW50PSR7dGhpcy5jbGllbnR9YCksIHRoaXMubGlicmFyaWVzLmxlbmd0aCA+IDAgJiYgKGUgKz0gYCZsaWJyYXJpZXM9JHt0aGlzLmxpYnJhcmllcy5qb2luKFwiLFwiKX1gKSwgdGhpcy5sYW5ndWFnZSAmJiAoZSArPSBgJmxhbmd1YWdlPSR7dGhpcy5sYW5ndWFnZX1gKSwgdGhpcy5yZWdpb24gJiYgKGUgKz0gYCZyZWdpb249JHt0aGlzLnJlZ2lvbn1gKSwgdGhpcy52ZXJzaW9uICYmIChlICs9IGAmdj0ke3RoaXMudmVyc2lvbn1gKSwgdGhpcy5tYXBJZHMgJiYgKGUgKz0gYCZtYXBfaWRzPSR7dGhpcy5tYXBJZHMuam9pbihcIixcIil9YCksIHRoaXMuYXV0aFJlZmVycmVyUG9saWN5ICYmIChlICs9IGAmYXV0aF9yZWZlcnJlcl9wb2xpY3k9JHt0aGlzLmF1dGhSZWZlcnJlclBvbGljeX1gKSwgZTtcbiAgfVxuICBkZWxldGVTY3JpcHQoKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpO1xuICAgIGUgJiYgZS5yZW1vdmUoKTtcbiAgfVxuICAvKipcbiAgICogTG9hZCB0aGUgR29vZ2xlIE1hcHMgSmF2YVNjcmlwdCBBUEkgc2NyaXB0IGFuZCByZXR1cm4gYSBQcm9taXNlLlxuICAgKiBAZGVwcmVjYXRlZCwgdXNlIGltcG9ydExpYnJhcnkoKSBpbnN0ZWFkLlxuICAgKi9cbiAgbG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5sb2FkUHJvbWlzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkIHRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSBzY3JpcHQgYW5kIHJldHVybiBhIFByb21pc2UuXG4gICAqXG4gICAqIEBpZ25vcmVcbiAgICogQGRlcHJlY2F0ZWQsIHVzZSBpbXBvcnRMaWJyYXJ5KCkgaW5zdGVhZC5cbiAgICovXG4gIGxvYWRQcm9taXNlKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoZSwgdCkgPT4ge1xuICAgICAgdGhpcy5sb2FkQ2FsbGJhY2soKHMpID0+IHtcbiAgICAgICAgcyA/IHQocy5lcnJvcikgOiBlKHdpbmRvdy5nb29nbGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgaW1wb3J0TGlicmFyeShlKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZSgpLCBnb29nbGUubWFwcy5pbXBvcnRMaWJyYXJ5KGUpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkIHRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSBzY3JpcHQgd2l0aCBhIGNhbGxiYWNrLlxuICAgKiBAZGVwcmVjYXRlZCwgdXNlIGltcG9ydExpYnJhcnkoKSBpbnN0ZWFkLlxuICAgKi9cbiAgbG9hZENhbGxiYWNrKGUpIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGUpLCB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBzY3JpcHQgb24gZG9jdW1lbnQuXG4gICAqL1xuICBzZXRTY3JpcHQoKSB7XG4gICAgdmFyIGUsIHQ7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHMgPSB7XG4gICAgICBrZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgY2hhbm5lbDogdGhpcy5jaGFubmVsLFxuICAgICAgY2xpZW50OiB0aGlzLmNsaWVudCxcbiAgICAgIGxpYnJhcmllczogdGhpcy5saWJyYXJpZXMubGVuZ3RoICYmIHRoaXMubGlicmFyaWVzLFxuICAgICAgdjogdGhpcy52ZXJzaW9uLFxuICAgICAgbWFwSWRzOiB0aGlzLm1hcElkcyxcbiAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlLFxuICAgICAgcmVnaW9uOiB0aGlzLnJlZ2lvbixcbiAgICAgIGF1dGhSZWZlcnJlclBvbGljeTogdGhpcy5hdXRoUmVmZXJyZXJQb2xpY3lcbiAgICB9O1xuICAgIE9iamVjdC5rZXlzKHMpLmZvckVhY2goXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgKG8pID0+ICFzW29dICYmIGRlbGV0ZSBzW29dXG4gICAgKSwgISgodCA9IChlID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZ29vZ2xlKSA9PT0gbnVsbCB8fCBlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlLm1hcHMpID09PSBudWxsIHx8IHQgPT09IHZvaWQgMCkgJiYgdC5pbXBvcnRMaWJyYXJ5IHx8ICgobykgPT4ge1xuICAgICAgbGV0IGEsIGwsIGksIGQgPSBcIlRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSVwiLCB1ID0gXCJnb29nbGVcIiwgYyA9IFwiaW1wb3J0TGlicmFyeVwiLCBoID0gXCJfX2liX19cIiwgcCA9IGRvY3VtZW50LCBtID0gd2luZG93O1xuICAgICAgbSA9IG1bdV0gfHwgKG1bdV0gPSB7fSk7XG4gICAgICBjb25zdCBmID0gbS5tYXBzIHx8IChtLm1hcHMgPSB7fSksIGcgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLCB2ID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpLCB3ID0gKCkgPT4gKFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGEgfHwgKGEgPSBuZXcgUHJvbWlzZSgoXywgRSkgPT4gVWUodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIGI7XG4gICAgICAgICAgeWllbGQgbCA9IHAuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSwgbC5pZCA9IHRoaXMuaWQsIHYuc2V0KFwibGlicmFyaWVzXCIsIFsuLi5nXSArIFwiXCIpO1xuICAgICAgICAgIGZvciAoaSBpbiBvKVxuICAgICAgICAgICAgdi5zZXQoaS5yZXBsYWNlKC9bQS1aXS9nLCAoeCkgPT4gXCJfXCIgKyB4WzBdLnRvTG93ZXJDYXNlKCkpLCBvW2ldKTtcbiAgICAgICAgICB2LnNldChcImNhbGxiYWNrXCIsIHUgKyBcIi5tYXBzLlwiICsgaCksIGwuc3JjID0gdGhpcy51cmwgKyBcIj9cIiArIHYsIGZbaF0gPSBfLCBsLm9uZXJyb3IgPSAoKSA9PiBhID0gRShFcnJvcihkICsgXCIgY291bGQgbm90IGxvYWQuXCIpKSwgbC5ub25jZSA9IHRoaXMubm9uY2UgfHwgKChiID0gcC5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W25vbmNlXVwiKSkgPT09IG51bGwgfHwgYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYi5ub25jZSkgfHwgXCJcIiwgcC5oZWFkLmFwcGVuZChsKTtcbiAgICAgICAgfSkpKVxuICAgICAgKTtcbiAgICAgIGZbY10gPyBjb25zb2xlLndhcm4oZCArIFwiIG9ubHkgbG9hZHMgb25jZS4gSWdub3Jpbmc6XCIsIG8pIDogZltjXSA9IChfLCAuLi5FKSA9PiBnLmFkZChfKSAmJiB3KCkudGhlbigoKSA9PiBmW2NdKF8sIC4uLkUpKTtcbiAgICB9KShzKTtcbiAgICBjb25zdCByID0gdGhpcy5saWJyYXJpZXMubWFwKChvKSA9PiB0aGlzLmltcG9ydExpYnJhcnkobykpO1xuICAgIHIubGVuZ3RoIHx8IHIucHVzaCh0aGlzLmltcG9ydExpYnJhcnkoXCJjb3JlXCIpKSwgUHJvbWlzZS5hbGwocikudGhlbigoKSA9PiB0aGlzLmNhbGxiYWNrKCksIChvKSA9PiB7XG4gICAgICBjb25zdCBhID0gbmV3IEVycm9yRXZlbnQoXCJlcnJvclwiLCB7IGVycm9yOiBvIH0pO1xuICAgICAgdGhpcy5sb2FkRXJyb3JDYWxsYmFjayhhKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogUmVzZXQgdGhlIGxvYWRlciBzdGF0ZS5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuZGVsZXRlU2NyaXB0KCksIHRoaXMuZG9uZSA9ICExLCB0aGlzLmxvYWRpbmcgPSAhMSwgdGhpcy5lcnJvcnMgPSBbXSwgdGhpcy5vbmVycm9yRXZlbnQgPSBudWxsO1xuICB9XG4gIHJlc2V0SWZSZXRyeWluZ0ZhaWxlZCgpIHtcbiAgICB0aGlzLmZhaWxlZCAmJiB0aGlzLnJlc2V0KCk7XG4gIH1cbiAgbG9hZEVycm9yQ2FsbGJhY2soZSkge1xuICAgIGlmICh0aGlzLmVycm9ycy5wdXNoKGUpLCB0aGlzLmVycm9ycy5sZW5ndGggPD0gdGhpcy5yZXRyaWVzKSB7XG4gICAgICBjb25zdCB0ID0gdGhpcy5lcnJvcnMubGVuZ3RoICogTWF0aC5wb3coMiwgdGhpcy5lcnJvcnMubGVuZ3RoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBsb2FkIEdvb2dsZSBNYXBzIHNjcmlwdCwgcmV0cnlpbmcgaW4gJHt0fSBtcy5gKSwgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZGVsZXRlU2NyaXB0KCksIHRoaXMuc2V0U2NyaXB0KCk7XG4gICAgICB9LCB0KTtcbiAgICB9IGVsc2VcbiAgICAgIHRoaXMub25lcnJvckV2ZW50ID0gZSwgdGhpcy5jYWxsYmFjaygpO1xuICB9XG4gIGNhbGxiYWNrKCkge1xuICAgIHRoaXMuZG9uZSA9ICEwLCB0aGlzLmxvYWRpbmcgPSAhMSwgdGhpcy5jYWxsYmFja3MuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZSh0aGlzLm9uZXJyb3JFdmVudCk7XG4gICAgfSksIHRoaXMuY2FsbGJhY2tzID0gW107XG4gIH1cbiAgZXhlY3V0ZSgpIHtcbiAgICBpZiAodGhpcy5yZXNldElmUmV0cnlpbmdGYWlsZWQoKSwgdGhpcy5kb25lKVxuICAgICAgdGhpcy5jYWxsYmFjaygpO1xuICAgIGVsc2Uge1xuICAgICAgaWYgKHdpbmRvdy5nb29nbGUgJiYgd2luZG93Lmdvb2dsZS5tYXBzICYmIHdpbmRvdy5nb29nbGUubWFwcy52ZXJzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkdvb2dsZSBNYXBzIGFscmVhZHkgbG9hZGVkIG91dHNpZGUgQGdvb2dsZW1hcHMvanMtYXBpLWxvYWRlci5UaGlzIG1heSByZXN1bHQgaW4gdW5kZXNpcmFibGUgYmVoYXZpb3IgYXMgb3B0aW9ucyBhbmQgc2NyaXB0IHBhcmFtZXRlcnMgbWF5IG5vdCBtYXRjaC5cIiksIHRoaXMuY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2FkaW5nIHx8ICh0aGlzLmxvYWRpbmcgPSAhMCwgdGhpcy5zZXRTY3JpcHQoKSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBGZShuKSB7XG4gIHJldHVybiBjbGFzcyBleHRlbmRzIG4uT3ZlcmxheVZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHMpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICBzZSh0aGlzLCBcImVsZW1lbnRcIik7XG4gICAgICBzZSh0aGlzLCBcIm9wdHNcIik7XG4gICAgICBjb25zdCB7IGVsZW1lbnQ6IHIsIC4uLm8gfSA9IHM7XG4gICAgICB0aGlzLmVsZW1lbnQgPSByLCB0aGlzLm9wdHMgPSBvLCB0aGlzLm9wdHMubWFwICYmIHRoaXMuc2V0TWFwKHRoaXMub3B0cy5tYXApO1xuICAgIH1cbiAgICBnZXRQb3NpdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdHMucG9zaXRpb24gPyB0aGlzLm9wdHMucG9zaXRpb24gaW5zdGFuY2VvZiBuLkxhdExuZyA/IHRoaXMub3B0cy5wb3NpdGlvbiA6IG5ldyBuLkxhdExuZyh0aGlzLm9wdHMucG9zaXRpb24pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0VmlzaWJsZSgpIHtcbiAgICAgIGlmICghdGhpcy5lbGVtZW50KVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBjb25zdCBzID0gdGhpcy5lbGVtZW50O1xuICAgICAgcmV0dXJuIHMuc3R5bGUuZGlzcGxheSAhPT0gXCJub25lXCIgJiYgcy5zdHlsZS52aXNpYmlsaXR5ICE9PSBcImhpZGRlblwiICYmIChzLnN0eWxlLm9wYWNpdHkgPT09IFwiXCIgfHwgTnVtYmVyKHMuc3R5bGUub3BhY2l0eSkgPiAwLjAxKTtcbiAgICB9XG4gICAgb25BZGQoKSB7XG4gICAgICBpZiAoIXRoaXMuZWxlbWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgcyA9IHRoaXMuZ2V0UGFuZXMoKTtcbiAgICAgIHMgJiYgcy5vdmVybGF5TW91c2VUYXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gICAgZHJhdygpIHtcbiAgICAgIGlmICghdGhpcy5lbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBzID0gdGhpcy5nZXRQcm9qZWN0aW9uKCksIHIgPSBzID09IG51bGwgPyB2b2lkIDAgOiBzLmZyb21MYXRMbmdUb0RpdlBpeGVsKHRoaXMuZ2V0UG9zaXRpb24oKSk7XG4gICAgICBpZiAocikge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIGNvbnN0IG8gPSB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0LCBhID0gdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICBsZXQgbCwgaTtcbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMuYW5jaG9yUG9pbnQpIHtcbiAgICAgICAgICBjYXNlIFwiVE9QX0NFTlRFUlwiOlxuICAgICAgICAgICAgbCA9IHIueCAtIGEgLyAyLCBpID0gci55O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIkJPVFRPTV9DRU5URVJcIjpcbiAgICAgICAgICAgIGwgPSByLnggLSBhIC8gMiwgaSA9IHIueSAtIG87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiTEVGVF9DRU5URVJcIjpcbiAgICAgICAgICAgIGwgPSByLngsIGkgPSByLnkgLSBvIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJSSUdIVF9DRU5URVJcIjpcbiAgICAgICAgICAgIGwgPSByLnggLSBhLCBpID0gci55IC0gbyAvIDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiVE9QX0xFRlRcIjpcbiAgICAgICAgICAgIGwgPSByLngsIGkgPSByLnk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiVE9QX1JJR0hUXCI6XG4gICAgICAgICAgICBsID0gci54IC0gYSwgaSA9IHIueTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJCT1RUT01fTEVGVFwiOlxuICAgICAgICAgICAgbCA9IHIueCwgaSA9IHIueSAtIG87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiQk9UVE9NX1JJR0hUXCI6XG4gICAgICAgICAgICBsID0gci54IC0gYSwgaSA9IHIueSAtIG87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbCA9IHIueCAtIGEgLyAyLCBpID0gci55IC0gbyAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBsICsgXCJweFwiLCB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gaSArIFwicHhcIiwgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7dGhpcy5vcHRzLm9mZnNldFggfHwgMH1weCkgdHJhbnNsYXRlWSgke3RoaXMub3B0cy5vZmZzZXRZIHx8IDB9cHgpYCwgdGhpcy5vcHRzLnpJbmRleCAmJiAodGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleCA9IHRoaXMub3B0cy56SW5kZXgudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIG9uUmVtb3ZlKCkge1xuICAgICAgdGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG4gICAgc2V0T3B0aW9ucyhzKSB7XG4gICAgICBjb25zdCB7IGVsZW1lbnQ6IHIsIC4uLm8gfSA9IHM7XG4gICAgICB0aGlzLmVsZW1lbnQgPSByLCB0aGlzLm9wdHMgPSBvLCB0aGlzLmRyYXcoKTtcbiAgICB9XG4gIH07XG59XG5sZXQgaGU7XG5jb25zdCBwZSA9IFtcbiAgXCJib3VuZHNfY2hhbmdlZFwiLFxuICBcImNlbnRlcl9jaGFuZ2VkXCIsXG4gIFwiY2xpY2tcIixcbiAgXCJjb250ZXh0bWVudVwiLFxuICBcImRibGNsaWNrXCIsXG4gIFwiZHJhZ1wiLFxuICBcImRyYWdlbmRcIixcbiAgXCJkcmFnc3RhcnRcIixcbiAgXCJoZWFkaW5nX2NoYW5nZWRcIixcbiAgXCJpZGxlXCIsXG4gIFwiaXNmcmFjdGlvbmFsem9vbWVuYWJsZWRfY2hhbmdlZFwiLFxuICBcIm1hcGNhcGFiaWxpdGllc19jaGFuZ2VkXCIsXG4gIFwibWFwdHlwZWlkX2NoYW5nZWRcIixcbiAgXCJtb3VzZW1vdmVcIixcbiAgXCJtb3VzZW91dFwiLFxuICBcIm1vdXNlb3ZlclwiLFxuICBcInByb2plY3Rpb25fY2hhbmdlZFwiLFxuICBcInJlbmRlcmluZ3R5cGVfY2hhbmdlZFwiLFxuICBcInJpZ2h0Y2xpY2tcIixcbiAgXCJ0aWxlc2xvYWRlZFwiLFxuICBcInRpbHRfY2hhbmdlZFwiLFxuICBcInpvb21fY2hhbmdlZFwiXG5dLCBWZSA9IFAoe1xuICBwcm9wczoge1xuICAgIGFwaVByb21pc2U6IHtcbiAgICAgIHR5cGU6IFByb21pc2VcbiAgICB9LFxuICAgIGFwaUtleToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogXCJcIlxuICAgIH0sXG4gICAgdmVyc2lvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogXCJ3ZWVrbHlcIlxuICAgIH0sXG4gICAgbGlicmFyaWVzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGRlZmF1bHQ6ICgpID0+IFtcInBsYWNlc1wiXVxuICAgIH0sXG4gICAgcmVnaW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIGxhbmd1YWdlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIGJhY2tncm91bmRDb2xvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBjZW50ZXI6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7IGxhdDogMCwgbG5nOiAwIH0pXG4gICAgfSxcbiAgICBjbGlja2FibGVJY29uczoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgY29udHJvbFNpemU6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgZGlzYWJsZURlZmF1bHRVaToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgZGlzYWJsZURvdWJsZUNsaWNrWm9vbToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgZHJhZ2dhYmxlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBkcmFnZ2FibGVDdXJzb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgZHJhZ2dpbmdDdXJzb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgZnVsbHNjcmVlbkNvbnRyb2w6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIGZ1bGxzY3JlZW5Db250cm9sUG9zaXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgZ2VzdHVyZUhhbmRsaW5nOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIGhlYWRpbmc6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgaXNGcmFjdGlvbmFsWm9vbUVuYWJsZWQ6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIGtleWJvYXJkU2hvcnRjdXRzOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBtYXBUeXBlQ29udHJvbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgbWFwVHlwZUNvbnRyb2xPcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIG1hcFR5cGVJZDoge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgbWFwSWQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgbWF4Wm9vbToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBtaW5ab29tOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIG5vQ2xlYXI6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIHBhbkNvbnRyb2w6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIHBhbkNvbnRyb2xQb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICByZXN0cmljdGlvbjoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICByb3RhdGVDb250cm9sOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICByb3RhdGVDb250cm9sUG9zaXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgc2NhbGVDb250cm9sOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBzY2FsZUNvbnRyb2xTdHlsZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBzY3JvbGx3aGVlbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgc3RyZWV0Vmlldzoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBzdHJlZXRWaWV3Q29udHJvbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgc3RyZWV0Vmlld0NvbnRyb2xQb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBzdHlsZXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICB0aWx0OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHpvb206IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgem9vbUNvbnRyb2w6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIHpvb21Db250cm9sUG9zaXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgbm9uY2U6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IFwiXCJcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBwZSxcbiAgc2V0dXAobiwgeyBlbWl0OiBlIH0pIHtcbiAgICBjb25zdCB0ID0geSgpLCBzID0geSghMSksIHIgPSB5KCksIG8gPSB5KCksIGEgPSB5KCExKTtcbiAgICBHKE4sIHIpLCBHKFUsIG8pLCBHKFNlLCBhKTtcbiAgICBjb25zdCBsID0gKCkgPT4ge1xuICAgICAgY29uc3QgYyA9IHsgLi4ubiB9O1xuICAgICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaCgoZikgPT4ge1xuICAgICAgICBjW2ZdID09PSB2b2lkIDAgJiYgZGVsZXRlIGNbZl07XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHAgPSAoZikgPT4ge1xuICAgICAgICB2YXIgZztcbiAgICAgICAgcmV0dXJuIGYgPyB7IHBvc2l0aW9uOiAoZyA9IG8udmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBnLkNvbnRyb2xQb3NpdGlvbltmXSB9IDoge307XG4gICAgICB9LCBtID0ge1xuICAgICAgICBzY2FsZUNvbnRyb2xPcHRpb25zOiBuLnNjYWxlQ29udHJvbFN0eWxlID8geyBzdHlsZTogbi5zY2FsZUNvbnRyb2xTdHlsZSB9IDoge30sXG4gICAgICAgIHBhbkNvbnRyb2xPcHRpb25zOiBwKG4ucGFuQ29udHJvbFBvc2l0aW9uKSxcbiAgICAgICAgem9vbUNvbnRyb2xPcHRpb25zOiBwKG4uem9vbUNvbnRyb2xQb3NpdGlvbiksXG4gICAgICAgIHJvdGF0ZUNvbnRyb2xPcHRpb25zOiBwKG4ucm90YXRlQ29udHJvbFBvc2l0aW9uKSxcbiAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2xPcHRpb25zOiBwKG4uc3RyZWV0Vmlld0NvbnRyb2xQb3NpdGlvbiksXG4gICAgICAgIGZ1bGxzY3JlZW5Db250cm9sT3B0aW9uczogcChuLmZ1bGxzY3JlZW5Db250cm9sUG9zaXRpb24pLFxuICAgICAgICBkaXNhYmxlRGVmYXVsdFVJOiBuLmRpc2FibGVEZWZhdWx0VWlcbiAgICAgIH07XG4gICAgICByZXR1cm4geyAuLi5jLCAuLi5tIH07XG4gICAgfSwgaSA9IE8oXG4gICAgICBbbywgcl0sXG4gICAgICAoW2MsIGhdKSA9PiB7XG4gICAgICAgIGNvbnN0IHAgPSBjLCBtID0gaDtcbiAgICAgICAgcCAmJiBtICYmIChwLmV2ZW50LmFkZExpc3RlbmVyT25jZShtLCBcInRpbGVzbG9hZGVkXCIsICgpID0+IHtcbiAgICAgICAgICBhLnZhbHVlID0gITA7XG4gICAgICAgIH0pLCBzZXRUaW1lb3V0KGksIDApKTtcbiAgICAgIH0sXG4gICAgICB7IGltbWVkaWF0ZTogITAgfVxuICAgICksIGQgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGFwaUtleTogYywgcmVnaW9uOiBoLCB2ZXJzaW9uOiBwLCBsYW5ndWFnZTogbSwgbGlicmFyaWVzOiBmLCBub25jZTogZyB9ID0gbjtcbiAgICAgICAgaGUgPSBuZXcgVCh7IGFwaUtleTogYywgcmVnaW9uOiBoLCB2ZXJzaW9uOiBwLCBsYW5ndWFnZTogbSwgbGlicmFyaWVzOiBmLCBub25jZTogZyB9KTtcbiAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihjKTtcbiAgICAgIH1cbiAgICB9LCB1ID0gKGMpID0+IHtcbiAgICAgIG8udmFsdWUgPSBJKGMubWFwcyksIHIudmFsdWUgPSBJKG5ldyBjLm1hcHMuTWFwKHQudmFsdWUsIGwoKSkpO1xuICAgICAgY29uc3QgaCA9IEZlKG8udmFsdWUpO1xuICAgICAgby52YWx1ZVtlZV0gPSBoLCBwZS5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIHZhciBmO1xuICAgICAgICAoZiA9IHIudmFsdWUpID09IG51bGwgfHwgZi5hZGRMaXN0ZW5lcihtLCAoZykgPT4gZShtLCBnKSk7XG4gICAgICB9KSwgcy52YWx1ZSA9ICEwO1xuICAgICAgY29uc3QgcCA9IE9iamVjdC5rZXlzKG4pLmZpbHRlcihcbiAgICAgICAgKG0pID0+ICFbXCJhcGlQcm9taXNlXCIsIFwiYXBpS2V5XCIsIFwidmVyc2lvblwiLCBcImxpYnJhcmllc1wiLCBcInJlZ2lvblwiLCBcImxhbmd1YWdlXCIsIFwiY2VudGVyXCIsIFwiem9vbVwiLCBcIm5vbmNlXCJdLmluY2x1ZGVzKG0pXG4gICAgICApLm1hcCgobSkgPT4gWihuLCBtKSk7XG4gICAgICBPKFxuICAgICAgICBbKCkgPT4gbi5jZW50ZXIsICgpID0+IG4uem9vbSwgLi4ucF0sXG4gICAgICAgIChbbSwgZl0sIFtnLCB2XSkgPT4ge1xuICAgICAgICAgIHZhciB4LCBNLCBGO1xuICAgICAgICAgIGNvbnN0IHsgY2VudGVyOiB3LCB6b29tOiBfLCAuLi5FIH0gPSBsKCk7XG4gICAgICAgICAgKHggPSByLnZhbHVlKSA9PSBudWxsIHx8IHguc2V0T3B0aW9ucyhFKSwgZiAhPT0gdm9pZCAwICYmIGYgIT09IHYgJiYgKChNID0gci52YWx1ZSkgPT0gbnVsbCB8fCBNLnNldFpvb20oZikpO1xuICAgICAgICAgIGNvbnN0IGIgPSAhZyB8fCBtLmxuZyAhPT0gZy5sbmcgfHwgbS5sYXQgIT09IGcubGF0O1xuICAgICAgICAgIG0gJiYgYiAmJiAoKEYgPSByLnZhbHVlKSA9PSBudWxsIHx8IEYucGFuVG8obSkpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gICAgcmV0dXJuIE1lKCgpID0+IHtcbiAgICAgIG4uYXBpUHJvbWlzZSAmJiBuLmFwaVByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlID8gbi5hcGlQcm9taXNlLnRoZW4odSkgOiAoZCgpLCBoZS5sb2FkKCkudGhlbih1KSk7XG4gICAgfSksIEIoKCkgPT4ge1xuICAgICAgdmFyIGM7XG4gICAgICBhLnZhbHVlID0gITEsIHIudmFsdWUgJiYgKChjID0gby52YWx1ZSkgPT0gbnVsbCB8fCBjLmV2ZW50LmNsZWFySW5zdGFuY2VMaXN0ZW5lcnMoci52YWx1ZSkpO1xuICAgIH0pLCB7IG1hcFJlZjogdCwgcmVhZHk6IHMsIG1hcDogciwgYXBpOiBvLCBtYXBUaWxlc0xvYWRlZDogYSB9O1xuICB9XG59KTtcbmNvbnN0IHRlID0gKG4sIGUpID0+IHtcbiAgY29uc3QgdCA9IG4uX192Y2NPcHRzIHx8IG47XG4gIGZvciAoY29uc3QgW3MsIHJdIG9mIGUpXG4gICAgdFtzXSA9IHI7XG4gIHJldHVybiB0O1xufSwgemUgPSB7XG4gIHJlZjogXCJtYXBSZWZcIixcbiAgY2xhc3M6IFwibWFwZGl2XCJcbn07XG5mdW5jdGlvbiBHZShuLCBlLCB0LCBzLCByLCBvKSB7XG4gIHJldHVybiBZKCksIFgoXCJkaXZcIiwgbnVsbCwgW1xuICAgIGFlKFwiZGl2XCIsIHplLCBudWxsLCA1MTIpLFxuICAgIFEobi4kc2xvdHMsIFwiZGVmYXVsdFwiLCBaZShOZSh7IHJlYWR5OiBuLnJlYWR5LCBtYXA6IG4ubWFwLCBhcGk6IG4uYXBpLCBtYXBUaWxlc0xvYWRlZDogbi5tYXBUaWxlc0xvYWRlZCB9KSksIHZvaWQgMCwgITApXG4gIF0pO1xufVxuY29uc3QgRXQgPSAvKiBAX19QVVJFX18gKi8gdGUoVmUsIFtbXCJyZW5kZXJcIiwgR2VdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtZGJmODJjNDBcIl1dKTtcbmZ1bmN0aW9uIEhlKG4pIHtcbiAgcmV0dXJuIG4gJiYgbi5fX2VzTW9kdWxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCBcImRlZmF1bHRcIikgPyBuLmRlZmF1bHQgOiBuO1xufVxudmFyIFdlID0gZnVuY3Rpb24gbihlLCB0KSB7XG4gIGlmIChlID09PSB0KVxuICAgIHJldHVybiAhMDtcbiAgaWYgKGUgJiYgdCAmJiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB0ID09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoZS5jb25zdHJ1Y3RvciAhPT0gdC5jb25zdHJ1Y3RvcilcbiAgICAgIHJldHVybiAhMTtcbiAgICB2YXIgcywgciwgbztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgaWYgKHMgPSBlLmxlbmd0aCwgcyAhPSB0Lmxlbmd0aClcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgZm9yIChyID0gczsgci0tICE9PSAwOyApXG4gICAgICAgIGlmICghbihlW3JdLCB0W3JdKSlcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGlmIChlLmNvbnN0cnVjdG9yID09PSBSZWdFeHApXG4gICAgICByZXR1cm4gZS5zb3VyY2UgPT09IHQuc291cmNlICYmIGUuZmxhZ3MgPT09IHQuZmxhZ3M7XG4gICAgaWYgKGUudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKVxuICAgICAgcmV0dXJuIGUudmFsdWVPZigpID09PSB0LnZhbHVlT2YoKTtcbiAgICBpZiAoZS50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZylcbiAgICAgIHJldHVybiBlLnRvU3RyaW5nKCkgPT09IHQudG9TdHJpbmcoKTtcbiAgICBpZiAobyA9IE9iamVjdC5rZXlzKGUpLCBzID0gby5sZW5ndGgsIHMgIT09IE9iamVjdC5rZXlzKHQpLmxlbmd0aClcbiAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKHIgPSBzOyByLS0gIT09IDA7IClcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIG9bcl0pKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgZm9yIChyID0gczsgci0tICE9PSAwOyApIHtcbiAgICAgIHZhciBhID0gb1tyXTtcbiAgICAgIGlmICghbihlW2FdLCB0W2FdKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH1cbiAgcmV0dXJuIGUgIT09IGUgJiYgdCAhPT0gdDtcbn07XG5jb25zdCAkID0gLyogQF9fUFVSRV9fICovIEhlKFdlKSwgS2UgPSAobikgPT4gbiA9PT0gXCJNYXJrZXJcIiwgSmUgPSAobikgPT4gbiA9PT0gZWUsIEQgPSAobiwgZSwgdCwgcykgPT4ge1xuICBjb25zdCByID0geSgpLCBvID0gQyhOLCB5KCkpLCBhID0gQyhVLCB5KCkpLCBsID0gQyhMZSwgeSgpKSwgaSA9IEooXG4gICAgKCkgPT4gISEobC52YWx1ZSAmJiBhLnZhbHVlICYmIChyLnZhbHVlIGluc3RhbmNlb2YgYS52YWx1ZS5NYXJrZXIgfHwgci52YWx1ZSBpbnN0YW5jZW9mIGEudmFsdWVbZWVdKSlcbiAgKTtcbiAgcmV0dXJuIE8oXG4gICAgW28sIHRdLFxuICAgIChkLCBbdSwgY10pID0+IHtcbiAgICAgIHZhciBwLCBtLCBmO1xuICAgICAgY29uc3QgaCA9ICEkKHQudmFsdWUsIGMpIHx8IG8udmFsdWUgIT09IHU7XG4gICAgICAhby52YWx1ZSB8fCAhYS52YWx1ZSB8fCAhaCB8fCAoci52YWx1ZSA/IChyLnZhbHVlLnNldE9wdGlvbnModC52YWx1ZSksIGkudmFsdWUgJiYgKChwID0gbC52YWx1ZSkgPT0gbnVsbCB8fCBwLnJlbW92ZU1hcmtlcihyLnZhbHVlKSwgKG0gPSBsLnZhbHVlKSA9PSBudWxsIHx8IG0uYWRkTWFya2VyKHIudmFsdWUpKSkgOiAoS2UobikgPyByLnZhbHVlID0gSShcbiAgICAgICAgbmV3IGEudmFsdWVbbl0odC52YWx1ZSlcbiAgICAgICkgOiBKZShuKSA/IHIudmFsdWUgPSBJKFxuICAgICAgICBuZXcgYS52YWx1ZVtuXSh0LnZhbHVlKVxuICAgICAgKSA6IHIudmFsdWUgPSBJKFxuICAgICAgICBuZXcgYS52YWx1ZVtuXSh7XG4gICAgICAgICAgLi4udC52YWx1ZSxcbiAgICAgICAgICBtYXA6IG8udmFsdWVcbiAgICAgICAgfSlcbiAgICAgICksIGkudmFsdWUgPyAoZiA9IGwudmFsdWUpID09IG51bGwgfHwgZi5hZGRNYXJrZXIoci52YWx1ZSkgOiByLnZhbHVlLnNldE1hcChvLnZhbHVlKSwgZS5mb3JFYWNoKChnKSA9PiB7XG4gICAgICAgIHZhciB2O1xuICAgICAgICAodiA9IHIudmFsdWUpID09IG51bGwgfHwgdi5hZGRMaXN0ZW5lcihnLCAodykgPT4gcyhnLCB3KSk7XG4gICAgICB9KSkpO1xuICAgIH0sXG4gICAge1xuICAgICAgaW1tZWRpYXRlOiAhMFxuICAgIH1cbiAgKSwgQigoKSA9PiB7XG4gICAgdmFyIGQsIHU7XG4gICAgci52YWx1ZSAmJiAoKGQgPSBhLnZhbHVlKSA9PSBudWxsIHx8IGQuZXZlbnQuY2xlYXJJbnN0YW5jZUxpc3RlbmVycyhyLnZhbHVlKSwgaS52YWx1ZSA/ICh1ID0gbC52YWx1ZSkgPT0gbnVsbCB8fCB1LnJlbW92ZU1hcmtlcihyLnZhbHVlKSA6IHIudmFsdWUuc2V0TWFwKG51bGwpKTtcbiAgfSksIHI7XG59LCBmZSA9IFtcbiAgXCJhbmltYXRpb25fY2hhbmdlZFwiLFxuICBcImNsaWNrXCIsXG4gIFwiZGJsY2xpY2tcIixcbiAgXCJyaWdodGNsaWNrXCIsXG4gIFwiZHJhZ3N0YXJ0XCIsXG4gIFwiZHJhZ2VuZFwiLFxuICBcImRyYWdcIixcbiAgXCJtb3VzZW92ZXJcIixcbiAgXCJtb3VzZWRvd25cIixcbiAgXCJtb3VzZW91dFwiLFxuICBcIm1vdXNldXBcIixcbiAgXCJkcmFnZ2FibGVfY2hhbmdlZFwiLFxuICBcImNsaWNrYWJsZV9jaGFuZ2VkXCIsXG4gIFwiY29udGV4dG1lbnVcIixcbiAgXCJjdXJzb3JfY2hhbmdlZFwiLFxuICBcImZsYXRfY2hhbmdlZFwiLFxuICBcInJpZ2h0Y2xpY2tcIixcbiAgXCJ6aW5kZXhfY2hhbmdlZFwiLFxuICBcImljb25fY2hhbmdlZFwiLFxuICBcInBvc2l0aW9uX2NoYW5nZWRcIixcbiAgXCJzaGFwZV9jaGFuZ2VkXCIsXG4gIFwidGl0bGVfY2hhbmdlZFwiLFxuICBcInZpc2libGVfY2hhbmdlZFwiXG5dLCBQdCA9IFAoe1xuICBuYW1lOiBcIk1hcmtlclwiLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IGZlLFxuICBzZXR1cChuLCB7IGVtaXQ6IGUsIGV4cG9zZTogdCwgc2xvdHM6IHMgfSkge1xuICAgIGNvbnN0IHIgPSBaKG4sIFwib3B0aW9uc1wiKSwgbyA9IEQoXCJNYXJrZXJcIiwgZmUsIHIsIGUpO1xuICAgIHJldHVybiBHKHhlLCBvKSwgdCh7IG1hcmtlcjogbyB9KSwgKCkgPT4ge1xuICAgICAgdmFyIGE7XG4gICAgICByZXR1cm4gKGEgPSBzLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBhLmNhbGwocyk7XG4gICAgfTtcbiAgfVxufSksIE90ID0gUCh7XG4gIG5hbWU6IFwiUG9seWxpbmVcIixcbiAgcHJvcHM6IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBxLFxuICBzZXR1cChuLCB7IGVtaXQ6IGUgfSkge1xuICAgIGNvbnN0IHQgPSBaKG4sIFwib3B0aW9uc1wiKTtcbiAgICByZXR1cm4geyBwb2x5bGluZTogRChcIlBvbHlsaW5lXCIsIHEsIHQsIGUpIH07XG4gIH0sXG4gIHJlbmRlcjogKCkgPT4gbnVsbFxufSksIHh0ID0gUCh7XG4gIG5hbWU6IFwiUG9seWdvblwiLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IHEsXG4gIHNldHVwKG4sIHsgZW1pdDogZSB9KSB7XG4gICAgY29uc3QgdCA9IFoobiwgXCJvcHRpb25zXCIpO1xuICAgIHJldHVybiB7IHBvbHlnb246IEQoXCJQb2x5Z29uXCIsIHEsIHQsIGUpIH07XG4gIH0sXG4gIHJlbmRlcjogKCkgPT4gbnVsbFxufSksIG1lID0gcS5jb25jYXQoW1wiYm91bmRzX2NoYW5nZWRcIl0pLCBMdCA9IFAoe1xuICBuYW1lOiBcIlJlY3RhbmdsZVwiLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IG1lLFxuICBzZXR1cChuLCB7IGVtaXQ6IGUgfSkge1xuICAgIGNvbnN0IHQgPSBaKG4sIFwib3B0aW9uc1wiKTtcbiAgICByZXR1cm4geyByZWN0YW5nbGU6IEQoXCJSZWN0YW5nbGVcIiwgbWUsIHQsIGUpIH07XG4gIH0sXG4gIHJlbmRlcjogKCkgPT4gbnVsbFxufSksIGdlID0gcS5jb25jYXQoW1wiY2VudGVyX2NoYW5nZWRcIiwgXCJyYWRpdXNfY2hhbmdlZFwiXSksIFN0ID0gUCh7XG4gIG5hbWU6IFwiQ2lyY2xlXCIsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogZ2UsXG4gIHNldHVwKG4sIHsgZW1pdDogZSB9KSB7XG4gICAgY29uc3QgdCA9IFoobiwgXCJvcHRpb25zXCIpO1xuICAgIHJldHVybiB7IGNpcmNsZTogRChcIkNpcmNsZVwiLCBnZSwgdCwgZSkgfTtcbiAgfSxcbiAgcmVuZGVyOiAoKSA9PiBudWxsXG59KSwgWWUgPSBQKHtcbiAgcHJvcHM6IHtcbiAgICBwb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfSxcbiAgICBpbmRleDoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgZGVmYXVsdDogMVxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IFtcImNvbnRlbnQ6bG9hZGVkXCJdLFxuICBzZXR1cChuLCB7IGVtaXQ6IGUgfSkge1xuICAgIGNvbnN0IHQgPSB5KG51bGwpLCBzID0gQyhOLCB5KCkpLCByID0gQyhVLCB5KCkpLCBvID0gQyhTZSwgeSghMSkpLCBhID0gTyhcbiAgICAgIFtvLCByLCB0XSxcbiAgICAgIChbZCwgdSwgY10pID0+IHtcbiAgICAgICAgdSAmJiBkICYmIGMgJiYgKGwobi5wb3NpdGlvbiksIGUoXCJjb250ZW50OmxvYWRlZFwiKSwgc2V0VGltZW91dChhLCAwKSk7XG4gICAgICB9LFxuICAgICAgeyBpbW1lZGlhdGU6ICEwIH1cbiAgICApLCBsID0gKGQpID0+IHtcbiAgICAgIGlmIChzLnZhbHVlICYmIHIudmFsdWUgJiYgdC52YWx1ZSkge1xuICAgICAgICBjb25zdCB1ID0gci52YWx1ZS5Db250cm9sUG9zaXRpb25bZF07XG4gICAgICAgIHMudmFsdWUuY29udHJvbHNbdV0ucHVzaCh0LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBpID0gKGQpID0+IHtcbiAgICAgIGlmIChzLnZhbHVlICYmIHIudmFsdWUpIHtcbiAgICAgICAgbGV0IHUgPSBudWxsO1xuICAgICAgICBjb25zdCBjID0gci52YWx1ZS5Db250cm9sUG9zaXRpb25bZF07XG4gICAgICAgIHMudmFsdWUuY29udHJvbHNbY10uZm9yRWFjaCgoaCwgcCkgPT4ge1xuICAgICAgICAgIGggPT09IHQudmFsdWUgJiYgKHUgPSBwKTtcbiAgICAgICAgfSksIHUgIT09IG51bGwgJiYgcy52YWx1ZS5jb250cm9sc1tjXS5yZW1vdmVBdCh1KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCKCgpID0+IGkobi5wb3NpdGlvbikpLCBPKFxuICAgICAgKCkgPT4gbi5wb3NpdGlvbixcbiAgICAgIChkLCB1KSA9PiB7XG4gICAgICAgIGkodSksIGwoZCk7XG4gICAgICB9XG4gICAgKSwgTyhcbiAgICAgICgpID0+IG4uaW5kZXgsXG4gICAgICAoZCkgPT4ge1xuICAgICAgICBkICYmIHQudmFsdWUgJiYgKHQudmFsdWUuaW5kZXggPSBuLmluZGV4KTtcbiAgICAgIH1cbiAgICApLCB7IGNvbnRyb2xSZWY6IHQgfTtcbiAgfVxufSk7XG5jb25zdCBYZSA9IHtcbiAgcmVmOiBcImNvbnRyb2xSZWZcIixcbiAgY2xhc3M6IFwiY3VzdG9tLWNvbnRyb2wtd3JhcHBlclwiXG59O1xuZnVuY3Rpb24gUWUobiwgZSwgdCwgcywgciwgbykge1xuICByZXR1cm4gWSgpLCBYKFwiZGl2XCIsIFhlLCBbXG4gICAgUShuLiRzbG90cywgXCJkZWZhdWx0XCIsIHt9LCB2b2lkIDAsICEwKVxuICBdLCA1MTIpO1xufVxuY29uc3QgSXQgPSAvKiBAX19QVVJFX18gKi8gdGUoWWUsIFtbXCJyZW5kZXJcIiwgUWVdLCBbXCJfX3Njb3BlSWRcIiwgXCJkYXRhLXYtZDA5OWEzYTZcIl1dKSwgdmUgPSBbXCJjbG9zZWNsaWNrXCIsIFwiY29udGVudF9jaGFuZ2VkXCIsIFwiZG9tcmVhZHlcIiwgXCJwb3NpdGlvbl9jaGFuZ2VkXCIsIFwidmlzaWJsZVwiLCBcInppbmRleF9jaGFuZ2VkXCJdLCBldCA9IFAoe1xuICBpbmhlcml0QXR0cnM6ICExLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSlcbiAgICB9LFxuICAgIG1vZGVsVmFsdWU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBbLi4udmUsIFwidXBkYXRlOm1vZGVsVmFsdWVcIl0sXG4gIHNldHVwKG4sIHsgc2xvdHM6IGUsIGVtaXQ6IHQsIGV4cG9zZTogcyB9KSB7XG4gICAgY29uc3QgciA9IHkoKSwgbyA9IHkoKSwgYSA9IEMoTiwgeSgpKSwgbCA9IEMoVSwgeSgpKSwgaSA9IEMoeGUsIHkoKSk7XG4gICAgbGV0IGQsIHUgPSBuLm1vZGVsVmFsdWU7XG4gICAgY29uc3QgYyA9IEooKCkgPT4ge1xuICAgICAgdmFyIGY7XG4gICAgICByZXR1cm4gKGYgPSBlLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBmLmNhbGwoZSkuc29tZSgoZykgPT4gZy50eXBlICE9PSBFZSk7XG4gICAgfSksIGggPSAoZikgPT4ge1xuICAgICAgdSA9IGYsIHQoXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiLCBmKTtcbiAgICB9LCBwID0gKGYpID0+IHtcbiAgICAgIHIudmFsdWUgJiYgKHIudmFsdWUub3Blbih7IG1hcDogYS52YWx1ZSwgYW5jaG9yOiBpLnZhbHVlLCAuLi5mIH0pLCBoKCEwKSk7XG4gICAgfSwgbSA9ICgpID0+IHtcbiAgICAgIHIudmFsdWUgJiYgKHIudmFsdWUuY2xvc2UoKSwgaCghMSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lKCgpID0+IHtcbiAgICAgIE8oXG4gICAgICAgIFthLCAoKSA9PiBuLm9wdGlvbnNdLFxuICAgICAgICAoW2YsIGddLCBbdiwgd10pID0+IHtcbiAgICAgICAgICB2YXIgRTtcbiAgICAgICAgICBjb25zdCBfID0gISQoZywgdykgfHwgYS52YWx1ZSAhPT0gdjtcbiAgICAgICAgICBhLnZhbHVlICYmIGwudmFsdWUgJiYgXyAmJiAoci52YWx1ZSA/IChyLnZhbHVlLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgLi4uZyxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGMudmFsdWUgPyBvLnZhbHVlIDogZy5jb250ZW50XG4gICAgICAgICAgfSksIGkudmFsdWUgfHwgcCgpKSA6IChyLnZhbHVlID0gSShcbiAgICAgICAgICAgIG5ldyBsLnZhbHVlLkluZm9XaW5kb3coe1xuICAgICAgICAgICAgICAuLi5nLFxuICAgICAgICAgICAgICBjb250ZW50OiBjLnZhbHVlID8gby52YWx1ZSA6IGcuY29udGVudFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApLCBpLnZhbHVlICYmIChkID0gaS52YWx1ZS5hZGRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIHAoKTtcbiAgICAgICAgICB9KSksICghaS52YWx1ZSB8fCB1KSAmJiBwKCksIHZlLmZvckVhY2goKGIpID0+IHtcbiAgICAgICAgICAgIHZhciB4O1xuICAgICAgICAgICAgKHggPSByLnZhbHVlKSA9PSBudWxsIHx8IHguYWRkTGlzdGVuZXIoYiwgKE0pID0+IHQoYiwgTSkpO1xuICAgICAgICAgIH0pLCAoRSA9IHIudmFsdWUpID09IG51bGwgfHwgRS5hZGRMaXN0ZW5lcihcImNsb3NlY2xpY2tcIiwgKCkgPT4gaCghMSkpKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpbW1lZGlhdGU6ICEwXG4gICAgICAgIH1cbiAgICAgICksIE8oXG4gICAgICAgICgpID0+IG4ubW9kZWxWYWx1ZSxcbiAgICAgICAgKGYpID0+IHtcbiAgICAgICAgICBmICE9PSB1ICYmIChmID8gcCgpIDogbSgpKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KSwgQigoKSA9PiB7XG4gICAgICB2YXIgZjtcbiAgICAgIGQgJiYgZC5yZW1vdmUoKSwgci52YWx1ZSAmJiAoKGYgPSBsLnZhbHVlKSA9PSBudWxsIHx8IGYuZXZlbnQuY2xlYXJJbnN0YW5jZUxpc3RlbmVycyhyLnZhbHVlKSwgbSgpKTtcbiAgICB9KSwgcyh7IGluZm9XaW5kb3c6IHIsIG9wZW46IHAsIGNsb3NlOiBtIH0pLCB7IGluZm9XaW5kb3c6IHIsIGluZm9XaW5kb3dSZWY6IG8sIGhhc1Nsb3RDb250ZW50OiBjLCBvcGVuOiBwLCBjbG9zZTogbSB9O1xuICB9XG59KTtcbmNvbnN0IHR0ID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImluZm8td2luZG93LXdyYXBwZXJcIlxufTtcbmZ1bmN0aW9uIHN0KG4sIGUsIHQsIHMsIHIsIG8pIHtcbiAgcmV0dXJuIG4uaGFzU2xvdENvbnRlbnQgPyAoWSgpLCBYKFwiZGl2XCIsIHR0LCBbXG4gICAgYWUoXCJkaXZcIiwgUGUoeyByZWY6IFwiaW5mb1dpbmRvd1JlZlwiIH0sIG4uJGF0dHJzKSwgW1xuICAgICAgUShuLiRzbG90cywgXCJkZWZhdWx0XCIsIHt9LCB2b2lkIDAsICEwKVxuICAgIF0sIDE2KVxuICBdKSkgOiBPZShcIlwiLCAhMCk7XG59XG5jb25zdCBBdCA9IC8qIEBfX1BVUkVfXyAqLyB0ZShldCwgW1tcInJlbmRlclwiLCBzdF0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi1jYmUxNzA3YlwiXV0pLCB5ZSA9IFtcbiAgSW50OEFycmF5LFxuICBVaW50OEFycmF5LFxuICBVaW50OENsYW1wZWRBcnJheSxcbiAgSW50MTZBcnJheSxcbiAgVWludDE2QXJyYXksXG4gIEludDMyQXJyYXksXG4gIFVpbnQzMkFycmF5LFxuICBGbG9hdDMyQXJyYXksXG4gIEZsb2F0NjRBcnJheVxuXSwgcmUgPSAxLCBWID0gODtcbmNsYXNzIGxlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5kZXggZnJvbSByYXcgYEFycmF5QnVmZmVyYCBkYXRhLlxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBkYXRhXG4gICAqL1xuICBzdGF0aWMgZnJvbShlKSB7XG4gICAgaWYgKCEoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBBcnJheUJ1ZmZlci5cIik7XG4gICAgY29uc3QgW3QsIHNdID0gbmV3IFVpbnQ4QXJyYXkoZSwgMCwgMik7XG4gICAgaWYgKHQgIT09IDIxOSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGluIGEgS0RCdXNoIGZvcm1hdC5cIik7XG4gICAgY29uc3QgciA9IHMgPj4gNDtcbiAgICBpZiAociAhPT0gcmUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEdvdCB2JHtyfSBkYXRhIHdoZW4gZXhwZWN0ZWQgdiR7cmV9LmApO1xuICAgIGNvbnN0IG8gPSB5ZVtzICYgMTVdO1xuICAgIGlmICghbylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVucmVjb2duaXplZCBhcnJheSB0eXBlLlwiKTtcbiAgICBjb25zdCBbYV0gPSBuZXcgVWludDE2QXJyYXkoZSwgMiwgMSksIFtsXSA9IG5ldyBVaW50MzJBcnJheShlLCA0LCAxKTtcbiAgICByZXR1cm4gbmV3IGxlKGwsIGEsIG8sIGUpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluZGV4IHRoYXQgd2lsbCBob2xkIGEgZ2l2ZW4gbnVtYmVyIG9mIGl0ZW1zLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbnVtSXRlbXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtub2RlU2l6ZT02NF0gU2l6ZSBvZiB0aGUgS0QtdHJlZSBub2RlICg2NCBieSBkZWZhdWx0KS5cbiAgICogQHBhcmFtIHtUeXBlZEFycmF5Q29uc3RydWN0b3J9IFtBcnJheVR5cGU9RmxvYXQ2NEFycmF5XSBUaGUgYXJyYXkgdHlwZSB1c2VkIGZvciBjb29yZGluYXRlcyBzdG9yYWdlIChgRmxvYXQ2NEFycmF5YCBieSBkZWZhdWx0KS5cbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gW2RhdGFdIChGb3IgaW50ZXJuYWwgdXNlIG9ubHkpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlLCB0ID0gNjQsIHMgPSBGbG9hdDY0QXJyYXksIHIpIHtcbiAgICBpZiAoaXNOYU4oZSkgfHwgZSA8IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucGV4cGVjdGVkIG51bUl0ZW1zIHZhbHVlOiAke2V9LmApO1xuICAgIHRoaXMubnVtSXRlbXMgPSArZSwgdGhpcy5ub2RlU2l6ZSA9IE1hdGgubWluKE1hdGgubWF4KCt0LCAyKSwgNjU1MzUpLCB0aGlzLkFycmF5VHlwZSA9IHMsIHRoaXMuSW5kZXhBcnJheVR5cGUgPSBlIDwgNjU1MzYgPyBVaW50MTZBcnJheSA6IFVpbnQzMkFycmF5O1xuICAgIGNvbnN0IG8gPSB5ZS5pbmRleE9mKHRoaXMuQXJyYXlUeXBlKSwgYSA9IGUgKiAyICogdGhpcy5BcnJheVR5cGUuQllURVNfUEVSX0VMRU1FTlQsIGwgPSBlICogdGhpcy5JbmRleEFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCwgaSA9ICg4IC0gbCAlIDgpICUgODtcbiAgICBpZiAobyA8IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdHlwZWQgYXJyYXkgY2xhc3M6ICR7c30uYCk7XG4gICAgciAmJiByIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyAodGhpcy5kYXRhID0gciwgdGhpcy5pZHMgPSBuZXcgdGhpcy5JbmRleEFycmF5VHlwZSh0aGlzLmRhdGEsIFYsIGUpLCB0aGlzLmNvb3JkcyA9IG5ldyB0aGlzLkFycmF5VHlwZSh0aGlzLmRhdGEsIFYgKyBsICsgaSwgZSAqIDIpLCB0aGlzLl9wb3MgPSBlICogMiwgdGhpcy5fZmluaXNoZWQgPSAhMCkgOiAodGhpcy5kYXRhID0gbmV3IEFycmF5QnVmZmVyKFYgKyBhICsgbCArIGkpLCB0aGlzLmlkcyA9IG5ldyB0aGlzLkluZGV4QXJyYXlUeXBlKHRoaXMuZGF0YSwgViwgZSksIHRoaXMuY29vcmRzID0gbmV3IHRoaXMuQXJyYXlUeXBlKHRoaXMuZGF0YSwgViArIGwgKyBpLCBlICogMiksIHRoaXMuX3BvcyA9IDAsIHRoaXMuX2ZpbmlzaGVkID0gITEsIG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSwgMCwgMikuc2V0KFsyMTksIChyZSA8PCA0KSArIG9dKSwgbmV3IFVpbnQxNkFycmF5KHRoaXMuZGF0YSwgMiwgMSlbMF0gPSB0LCBuZXcgVWludDMyQXJyYXkodGhpcy5kYXRhLCA0LCAxKVswXSA9IGUpO1xuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBwb2ludCB0byB0aGUgaW5kZXguXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IEFuIGluY3JlbWVudGFsIGluZGV4IGFzc29jaWF0ZWQgd2l0aCB0aGUgYWRkZWQgaXRlbSAoc3RhcnRpbmcgZnJvbSBgMGApLlxuICAgKi9cbiAgYWRkKGUsIHQpIHtcbiAgICBjb25zdCBzID0gdGhpcy5fcG9zID4+IDE7XG4gICAgcmV0dXJuIHRoaXMuaWRzW3NdID0gcywgdGhpcy5jb29yZHNbdGhpcy5fcG9zKytdID0gZSwgdGhpcy5jb29yZHNbdGhpcy5fcG9zKytdID0gdCwgcztcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBpbmRleGluZyBvZiB0aGUgYWRkZWQgcG9pbnRzLlxuICAgKi9cbiAgZmluaXNoKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLl9wb3MgPj4gMTtcbiAgICBpZiAoZSAhPT0gdGhpcy5udW1JdGVtcylcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWRkZWQgJHtlfSBpdGVtcyB3aGVuIGV4cGVjdGVkICR7dGhpcy5udW1JdGVtc30uYCk7XG4gICAgcmV0dXJuIGllKHRoaXMuaWRzLCB0aGlzLmNvb3JkcywgdGhpcy5ub2RlU2l6ZSwgMCwgdGhpcy5udW1JdGVtcyAtIDEsIDApLCB0aGlzLl9maW5pc2hlZCA9ICEwLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggdGhlIGluZGV4IGZvciBpdGVtcyB3aXRoaW4gYSBnaXZlbiBib3VuZGluZyBib3guXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5YXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhYXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZXG4gICAqIEByZXR1cm5zIHtudW1iZXJbXX0gQW4gYXJyYXkgb2YgaW5kaWNlcyBjb3JyZXBvbmRpbmcgdG8gdGhlIGZvdW5kIGl0ZW1zLlxuICAgKi9cbiAgcmFuZ2UoZSwgdCwgcywgcikge1xuICAgIGlmICghdGhpcy5fZmluaXNoZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIG5vdCB5ZXQgaW5kZXhlZCAtIGNhbGwgaW5kZXguZmluaXNoKCkuXCIpO1xuICAgIGNvbnN0IHsgaWRzOiBvLCBjb29yZHM6IGEsIG5vZGVTaXplOiBsIH0gPSB0aGlzLCBpID0gWzAsIG8ubGVuZ3RoIC0gMSwgMF0sIGQgPSBbXTtcbiAgICBmb3IgKDsgaS5sZW5ndGg7ICkge1xuICAgICAgY29uc3QgdSA9IGkucG9wKCkgfHwgMCwgYyA9IGkucG9wKCkgfHwgMCwgaCA9IGkucG9wKCkgfHwgMDtcbiAgICAgIGlmIChjIC0gaCA8PSBsKSB7XG4gICAgICAgIGZvciAobGV0IGcgPSBoOyBnIDw9IGM7IGcrKykge1xuICAgICAgICAgIGNvbnN0IHYgPSBhWzIgKiBnXSwgdyA9IGFbMiAqIGcgKyAxXTtcbiAgICAgICAgICB2ID49IGUgJiYgdiA8PSBzICYmIHcgPj0gdCAmJiB3IDw9IHIgJiYgZC5wdXNoKG9bZ10pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcCA9IGggKyBjID4+IDEsIG0gPSBhWzIgKiBwXSwgZiA9IGFbMiAqIHAgKyAxXTtcbiAgICAgIG0gPj0gZSAmJiBtIDw9IHMgJiYgZiA+PSB0ICYmIGYgPD0gciAmJiBkLnB1c2gob1twXSksICh1ID09PSAwID8gZSA8PSBtIDogdCA8PSBmKSAmJiAoaS5wdXNoKGgpLCBpLnB1c2gocCAtIDEpLCBpLnB1c2goMSAtIHUpKSwgKHUgPT09IDAgPyBzID49IG0gOiByID49IGYpICYmIChpLnB1c2gocCArIDEpLCBpLnB1c2goYyksIGkucHVzaCgxIC0gdSkpO1xuICAgIH1cbiAgICByZXR1cm4gZDtcbiAgfVxuICAvKipcbiAgICogU2VhcmNoIHRoZSBpbmRleCBmb3IgaXRlbXMgd2l0aGluIGEgZ2l2ZW4gcmFkaXVzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gcXhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHF5XG4gICAqIEBwYXJhbSB7bnVtYmVyfSByIFF1ZXJ5IHJhZGl1cy5cbiAgICogQHJldHVybnMge251bWJlcltdfSBBbiBhcnJheSBvZiBpbmRpY2VzIGNvcnJlcG9uZGluZyB0byB0aGUgZm91bmQgaXRlbXMuXG4gICAqL1xuICB3aXRoaW4oZSwgdCwgcykge1xuICAgIGlmICghdGhpcy5fZmluaXNoZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIG5vdCB5ZXQgaW5kZXhlZCAtIGNhbGwgaW5kZXguZmluaXNoKCkuXCIpO1xuICAgIGNvbnN0IHsgaWRzOiByLCBjb29yZHM6IG8sIG5vZGVTaXplOiBhIH0gPSB0aGlzLCBsID0gWzAsIHIubGVuZ3RoIC0gMSwgMF0sIGkgPSBbXSwgZCA9IHMgKiBzO1xuICAgIGZvciAoOyBsLmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCB1ID0gbC5wb3AoKSB8fCAwLCBjID0gbC5wb3AoKSB8fCAwLCBoID0gbC5wb3AoKSB8fCAwO1xuICAgICAgaWYgKGMgLSBoIDw9IGEpIHtcbiAgICAgICAgZm9yIChsZXQgZyA9IGg7IGcgPD0gYzsgZysrKVxuICAgICAgICAgIHdlKG9bMiAqIGddLCBvWzIgKiBnICsgMV0sIGUsIHQpIDw9IGQgJiYgaS5wdXNoKHJbZ10pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHAgPSBoICsgYyA+PiAxLCBtID0gb1syICogcF0sIGYgPSBvWzIgKiBwICsgMV07XG4gICAgICB3ZShtLCBmLCBlLCB0KSA8PSBkICYmIGkucHVzaChyW3BdKSwgKHUgPT09IDAgPyBlIC0gcyA8PSBtIDogdCAtIHMgPD0gZikgJiYgKGwucHVzaChoKSwgbC5wdXNoKHAgLSAxKSwgbC5wdXNoKDEgLSB1KSksICh1ID09PSAwID8gZSArIHMgPj0gbSA6IHQgKyBzID49IGYpICYmIChsLnB1c2gocCArIDEpLCBsLnB1c2goYyksIGwucHVzaCgxIC0gdSkpO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxufVxuZnVuY3Rpb24gaWUobiwgZSwgdCwgcywgciwgbykge1xuICBpZiAociAtIHMgPD0gdClcbiAgICByZXR1cm47XG4gIGNvbnN0IGEgPSBzICsgciA+PiAxO1xuICBJZShuLCBlLCBhLCBzLCByLCBvKSwgaWUobiwgZSwgdCwgcywgYSAtIDEsIDEgLSBvKSwgaWUobiwgZSwgdCwgYSArIDEsIHIsIDEgLSBvKTtcbn1cbmZ1bmN0aW9uIEllKG4sIGUsIHQsIHMsIHIsIG8pIHtcbiAgZm9yICg7IHIgPiBzOyApIHtcbiAgICBpZiAociAtIHMgPiA2MDApIHtcbiAgICAgIGNvbnN0IGQgPSByIC0gcyArIDEsIHUgPSB0IC0gcyArIDEsIGMgPSBNYXRoLmxvZyhkKSwgaCA9IDAuNSAqIE1hdGguZXhwKDIgKiBjIC8gMyksIHAgPSAwLjUgKiBNYXRoLnNxcnQoYyAqIGggKiAoZCAtIGgpIC8gZCkgKiAodSAtIGQgLyAyIDwgMCA/IC0xIDogMSksIG0gPSBNYXRoLm1heChzLCBNYXRoLmZsb29yKHQgLSB1ICogaCAvIGQgKyBwKSksIGYgPSBNYXRoLm1pbihyLCBNYXRoLmZsb29yKHQgKyAoZCAtIHUpICogaCAvIGQgKyBwKSk7XG4gICAgICBJZShuLCBlLCB0LCBtLCBmLCBvKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IGVbMiAqIHQgKyBvXTtcbiAgICBsZXQgbCA9IHMsIGkgPSByO1xuICAgIGZvciAoeihuLCBlLCBzLCB0KSwgZVsyICogciArIG9dID4gYSAmJiB6KG4sIGUsIHMsIHIpOyBsIDwgaTsgKSB7XG4gICAgICBmb3IgKHoobiwgZSwgbCwgaSksIGwrKywgaS0tOyBlWzIgKiBsICsgb10gPCBhOyApXG4gICAgICAgIGwrKztcbiAgICAgIGZvciAoOyBlWzIgKiBpICsgb10gPiBhOyApXG4gICAgICAgIGktLTtcbiAgICB9XG4gICAgZVsyICogcyArIG9dID09PSBhID8geihuLCBlLCBzLCBpKSA6IChpKyssIHoobiwgZSwgaSwgcikpLCBpIDw9IHQgJiYgKHMgPSBpICsgMSksIHQgPD0gaSAmJiAociA9IGkgLSAxKTtcbiAgfVxufVxuZnVuY3Rpb24geihuLCBlLCB0LCBzKSB7XG4gIG5lKG4sIHQsIHMpLCBuZShlLCAyICogdCwgMiAqIHMpLCBuZShlLCAyICogdCArIDEsIDIgKiBzICsgMSk7XG59XG5mdW5jdGlvbiBuZShuLCBlLCB0KSB7XG4gIGNvbnN0IHMgPSBuW2VdO1xuICBuW2VdID0gblt0XSwgblt0XSA9IHM7XG59XG5mdW5jdGlvbiB3ZShuLCBlLCB0LCBzKSB7XG4gIGNvbnN0IHIgPSBuIC0gdCwgbyA9IGUgLSBzO1xuICByZXR1cm4gciAqIHIgKyBvICogbztcbn1cbmNvbnN0IHJ0ID0ge1xuICBtaW5ab29tOiAwLFxuICAvLyBtaW4gem9vbSB0byBnZW5lcmF0ZSBjbHVzdGVycyBvblxuICBtYXhab29tOiAxNixcbiAgLy8gbWF4IHpvb20gbGV2ZWwgdG8gY2x1c3RlciB0aGUgcG9pbnRzIG9uXG4gIG1pblBvaW50czogMixcbiAgLy8gbWluaW11bSBwb2ludHMgdG8gZm9ybSBhIGNsdXN0ZXJcbiAgcmFkaXVzOiA0MCxcbiAgLy8gY2x1c3RlciByYWRpdXMgaW4gcGl4ZWxzXG4gIGV4dGVudDogNTEyLFxuICAvLyB0aWxlIGV4dGVudCAocmFkaXVzIGlzIGNhbGN1bGF0ZWQgcmVsYXRpdmUgdG8gaXQpXG4gIG5vZGVTaXplOiA2NCxcbiAgLy8gc2l6ZSBvZiB0aGUgS0QtdHJlZSBsZWFmIG5vZGUsIGFmZmVjdHMgcGVyZm9ybWFuY2VcbiAgbG9nOiAhMSxcbiAgLy8gd2hldGhlciB0byBsb2cgdGltaW5nIGluZm9cbiAgLy8gd2hldGhlciB0byBnZW5lcmF0ZSBudW1lcmljIGlkcyBmb3IgaW5wdXQgZmVhdHVyZXMgKGluIHZlY3RvciB0aWxlcylcbiAgZ2VuZXJhdGVJZDogITEsXG4gIC8vIGEgcmVkdWNlIGZ1bmN0aW9uIGZvciBjYWxjdWxhdGluZyBjdXN0b20gY2x1c3RlciBwcm9wZXJ0aWVzXG4gIHJlZHVjZTogbnVsbCxcbiAgLy8gKGFjY3VtdWxhdGVkLCBwcm9wcykgPT4geyBhY2N1bXVsYXRlZC5zdW0gKz0gcHJvcHMuc3VtOyB9XG4gIC8vIHByb3BlcnRpZXMgdG8gdXNlIGZvciBpbmRpdmlkdWFsIHBvaW50cyB3aGVuIHJ1bm5pbmcgdGhlIHJlZHVjZXJcbiAgbWFwOiAobikgPT4gblxuICAvLyBwcm9wcyA9PiAoe3N1bTogcHJvcHMubXlfdmFsdWV9KVxufSwgX2UgPSBNYXRoLmZyb3VuZCB8fCAoKG4pID0+IChlKSA9PiAoblswXSA9ICtlLCBuWzBdKSkobmV3IEZsb2F0MzJBcnJheSgxKSksIEEgPSAyLCBTID0gMywgb2UgPSA0LCBMID0gNSwgQWUgPSA2O1xuY2xhc3MgVGUge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHJ0KSwgZSksIHRoaXMudHJlZXMgPSBuZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20gKyAxKSwgdGhpcy5zdHJpZGUgPSB0aGlzLm9wdGlvbnMucmVkdWNlID8gNyA6IDYsIHRoaXMuY2x1c3RlclByb3BzID0gW107XG4gIH1cbiAgbG9hZChlKSB7XG4gICAgY29uc3QgeyBsb2c6IHQsIG1pblpvb206IHMsIG1heFpvb206IHIgfSA9IHRoaXMub3B0aW9ucztcbiAgICB0ICYmIGNvbnNvbGUudGltZShcInRvdGFsIHRpbWVcIik7XG4gICAgY29uc3QgbyA9IGBwcmVwYXJlICR7ZS5sZW5ndGh9IHBvaW50c2A7XG4gICAgdCAmJiBjb25zb2xlLnRpbWUobyksIHRoaXMucG9pbnRzID0gZTtcbiAgICBjb25zdCBhID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkID0gZVtpXTtcbiAgICAgIGlmICghZC5nZW9tZXRyeSlcbiAgICAgICAgY29udGludWU7XG4gICAgICBjb25zdCBbdSwgY10gPSBkLmdlb21ldHJ5LmNvb3JkaW5hdGVzLCBoID0gX2UoVyh1KSksIHAgPSBfZShLKGMpKTtcbiAgICAgIGEucHVzaChcbiAgICAgICAgaCxcbiAgICAgICAgcCxcbiAgICAgICAgLy8gcHJvamVjdGVkIHBvaW50IGNvb3JkaW5hdGVzXG4gICAgICAgIDEgLyAwLFxuICAgICAgICAvLyB0aGUgbGFzdCB6b29tIHRoZSBwb2ludCB3YXMgcHJvY2Vzc2VkIGF0XG4gICAgICAgIGksXG4gICAgICAgIC8vIGluZGV4IG9mIHRoZSBzb3VyY2UgZmVhdHVyZSBpbiB0aGUgb3JpZ2luYWwgaW5wdXQgYXJyYXlcbiAgICAgICAgLTEsXG4gICAgICAgIC8vIHBhcmVudCBjbHVzdGVyIGlkXG4gICAgICAgIDFcbiAgICAgICAgLy8gbnVtYmVyIG9mIHBvaW50cyBpbiBhIGNsdXN0ZXJcbiAgICAgICksIHRoaXMub3B0aW9ucy5yZWR1Y2UgJiYgYS5wdXNoKDApO1xuICAgIH1cbiAgICBsZXQgbCA9IHRoaXMudHJlZXNbciArIDFdID0gdGhpcy5fY3JlYXRlVHJlZShhKTtcbiAgICB0ICYmIGNvbnNvbGUudGltZUVuZChvKTtcbiAgICBmb3IgKGxldCBpID0gcjsgaSA+PSBzOyBpLS0pIHtcbiAgICAgIGNvbnN0IGQgPSArRGF0ZS5ub3coKTtcbiAgICAgIGwgPSB0aGlzLnRyZWVzW2ldID0gdGhpcy5fY3JlYXRlVHJlZSh0aGlzLl9jbHVzdGVyKGwsIGkpKSwgdCAmJiBjb25zb2xlLmxvZyhcInolZDogJWQgY2x1c3RlcnMgaW4gJWRtc1wiLCBpLCBsLm51bUl0ZW1zLCArRGF0ZS5ub3coKSAtIGQpO1xuICAgIH1cbiAgICByZXR1cm4gdCAmJiBjb25zb2xlLnRpbWVFbmQoXCJ0b3RhbCB0aW1lXCIpLCB0aGlzO1xuICB9XG4gIGdldENsdXN0ZXJzKGUsIHQpIHtcbiAgICBsZXQgcyA9ICgoZVswXSArIDE4MCkgJSAzNjAgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgIGNvbnN0IHIgPSBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBlWzFdKSk7XG4gICAgbGV0IG8gPSBlWzJdID09PSAxODAgPyAxODAgOiAoKGVbMl0gKyAxODApICUgMzYwICsgMzYwKSAlIDM2MCAtIDE4MDtcbiAgICBjb25zdCBhID0gTWF0aC5tYXgoLTkwLCBNYXRoLm1pbig5MCwgZVszXSkpO1xuICAgIGlmIChlWzJdIC0gZVswXSA+PSAzNjApXG4gICAgICBzID0gLTE4MCwgbyA9IDE4MDtcbiAgICBlbHNlIGlmIChzID4gbykge1xuICAgICAgY29uc3QgYyA9IHRoaXMuZ2V0Q2x1c3RlcnMoW3MsIHIsIDE4MCwgYV0sIHQpLCBoID0gdGhpcy5nZXRDbHVzdGVycyhbLTE4MCwgciwgbywgYV0sIHQpO1xuICAgICAgcmV0dXJuIGMuY29uY2F0KGgpO1xuICAgIH1cbiAgICBjb25zdCBsID0gdGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20odCldLCBpID0gbC5yYW5nZShXKHMpLCBLKGEpLCBXKG8pLCBLKHIpKSwgZCA9IGwuZGF0YSwgdSA9IFtdO1xuICAgIGZvciAoY29uc3QgYyBvZiBpKSB7XG4gICAgICBjb25zdCBoID0gdGhpcy5zdHJpZGUgKiBjO1xuICAgICAgdS5wdXNoKGRbaCArIExdID4gMSA/IGtlKGQsIGgsIHRoaXMuY2x1c3RlclByb3BzKSA6IHRoaXMucG9pbnRzW2RbaCArIFNdXSk7XG4gICAgfVxuICAgIHJldHVybiB1O1xuICB9XG4gIGdldENoaWxkcmVuKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5fZ2V0T3JpZ2luSWQoZSksIHMgPSB0aGlzLl9nZXRPcmlnaW5ab29tKGUpLCByID0gXCJObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC5cIiwgbyA9IHRoaXMudHJlZXNbc107XG4gICAgaWYgKCFvKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKHIpO1xuICAgIGNvbnN0IGEgPSBvLmRhdGE7XG4gICAgaWYgKHQgKiB0aGlzLnN0cmlkZSA+PSBhLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBFcnJvcihyKTtcbiAgICBjb25zdCBsID0gdGhpcy5vcHRpb25zLnJhZGl1cyAvICh0aGlzLm9wdGlvbnMuZXh0ZW50ICogTWF0aC5wb3coMiwgcyAtIDEpKSwgaSA9IGFbdCAqIHRoaXMuc3RyaWRlXSwgZCA9IGFbdCAqIHRoaXMuc3RyaWRlICsgMV0sIHUgPSBvLndpdGhpbihpLCBkLCBsKSwgYyA9IFtdO1xuICAgIGZvciAoY29uc3QgaCBvZiB1KSB7XG4gICAgICBjb25zdCBwID0gaCAqIHRoaXMuc3RyaWRlO1xuICAgICAgYVtwICsgb2VdID09PSBlICYmIGMucHVzaChhW3AgKyBMXSA+IDEgPyBrZShhLCBwLCB0aGlzLmNsdXN0ZXJQcm9wcykgOiB0aGlzLnBvaW50c1thW3AgKyBTXV0pO1xuICAgIH1cbiAgICBpZiAoYy5sZW5ndGggPT09IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3Iocik7XG4gICAgcmV0dXJuIGM7XG4gIH1cbiAgZ2V0TGVhdmVzKGUsIHQsIHMpIHtcbiAgICB0ID0gdCB8fCAxMCwgcyA9IHMgfHwgMDtcbiAgICBjb25zdCByID0gW107XG4gICAgcmV0dXJuIHRoaXMuX2FwcGVuZExlYXZlcyhyLCBlLCB0LCBzLCAwKSwgcjtcbiAgfVxuICBnZXRUaWxlKGUsIHQsIHMpIHtcbiAgICBjb25zdCByID0gdGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20oZSldLCBvID0gTWF0aC5wb3coMiwgZSksIHsgZXh0ZW50OiBhLCByYWRpdXM6IGwgfSA9IHRoaXMub3B0aW9ucywgaSA9IGwgLyBhLCBkID0gKHMgLSBpKSAvIG8sIHUgPSAocyArIDEgKyBpKSAvIG8sIGMgPSB7XG4gICAgICBmZWF0dXJlczogW11cbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICByLnJhbmdlKCh0IC0gaSkgLyBvLCBkLCAodCArIDEgKyBpKSAvIG8sIHUpLFxuICAgICAgci5kYXRhLFxuICAgICAgdCxcbiAgICAgIHMsXG4gICAgICBvLFxuICAgICAgY1xuICAgICksIHQgPT09IDAgJiYgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgci5yYW5nZSgxIC0gaSAvIG8sIGQsIDEsIHUpLFxuICAgICAgci5kYXRhLFxuICAgICAgbyxcbiAgICAgIHMsXG4gICAgICBvLFxuICAgICAgY1xuICAgICksIHQgPT09IG8gLSAxICYmIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgIHIucmFuZ2UoMCwgZCwgaSAvIG8sIHUpLFxuICAgICAgci5kYXRhLFxuICAgICAgLTEsXG4gICAgICBzLFxuICAgICAgbyxcbiAgICAgIGNcbiAgICApLCBjLmZlYXR1cmVzLmxlbmd0aCA/IGMgOiBudWxsO1xuICB9XG4gIGdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUpIHtcbiAgICBsZXQgdCA9IHRoaXMuX2dldE9yaWdpblpvb20oZSkgLSAxO1xuICAgIGZvciAoOyB0IDw9IHRoaXMub3B0aW9ucy5tYXhab29tOyApIHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLmdldENoaWxkcmVuKGUpO1xuICAgICAgaWYgKHQrKywgcy5sZW5ndGggIT09IDEpXG4gICAgICAgIGJyZWFrO1xuICAgICAgZSA9IHNbMF0ucHJvcGVydGllcy5jbHVzdGVyX2lkO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuICBfYXBwZW5kTGVhdmVzKGUsIHQsIHMsIHIsIG8pIHtcbiAgICBjb25zdCBhID0gdGhpcy5nZXRDaGlsZHJlbih0KTtcbiAgICBmb3IgKGNvbnN0IGwgb2YgYSkge1xuICAgICAgY29uc3QgaSA9IGwucHJvcGVydGllcztcbiAgICAgIGlmIChpICYmIGkuY2x1c3RlciA/IG8gKyBpLnBvaW50X2NvdW50IDw9IHIgPyBvICs9IGkucG9pbnRfY291bnQgOiBvID0gdGhpcy5fYXBwZW5kTGVhdmVzKGUsIGkuY2x1c3Rlcl9pZCwgcywgciwgbykgOiBvIDwgciA/IG8rKyA6IGUucHVzaChsKSwgZS5sZW5ndGggPT09IHMpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gbztcbiAgfVxuICBfY3JlYXRlVHJlZShlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBsZShlLmxlbmd0aCAvIHRoaXMuc3RyaWRlIHwgMCwgdGhpcy5vcHRpb25zLm5vZGVTaXplLCBGbG9hdDMyQXJyYXkpO1xuICAgIGZvciAobGV0IHMgPSAwOyBzIDwgZS5sZW5ndGg7IHMgKz0gdGhpcy5zdHJpZGUpXG4gICAgICB0LmFkZChlW3NdLCBlW3MgKyAxXSk7XG4gICAgcmV0dXJuIHQuZmluaXNoKCksIHQuZGF0YSA9IGUsIHQ7XG4gIH1cbiAgX2FkZFRpbGVGZWF0dXJlcyhlLCB0LCBzLCByLCBvLCBhKSB7XG4gICAgZm9yIChjb25zdCBsIG9mIGUpIHtcbiAgICAgIGNvbnN0IGkgPSBsICogdGhpcy5zdHJpZGUsIGQgPSB0W2kgKyBMXSA+IDE7XG4gICAgICBsZXQgdSwgYywgaDtcbiAgICAgIGlmIChkKVxuICAgICAgICB1ID0gJGUodCwgaSwgdGhpcy5jbHVzdGVyUHJvcHMpLCBjID0gdFtpXSwgaCA9IHRbaSArIDFdO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGYgPSB0aGlzLnBvaW50c1t0W2kgKyBTXV07XG4gICAgICAgIHUgPSBmLnByb3BlcnRpZXM7XG4gICAgICAgIGNvbnN0IFtnLCB2XSA9IGYuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7XG4gICAgICAgIGMgPSBXKGcpLCBoID0gSyh2KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgIHR5cGU6IDEsXG4gICAgICAgIGdlb21ldHJ5OiBbW1xuICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChjICogbyAtIHMpKSxcbiAgICAgICAgICBNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQgKiAoaCAqIG8gLSByKSlcbiAgICAgICAgXV0sXG4gICAgICAgIHRhZ3M6IHVcbiAgICAgIH07XG4gICAgICBsZXQgbTtcbiAgICAgIGQgfHwgdGhpcy5vcHRpb25zLmdlbmVyYXRlSWQgPyBtID0gdFtpICsgU10gOiBtID0gdGhpcy5wb2ludHNbdFtpICsgU11dLmlkLCBtICE9PSB2b2lkIDAgJiYgKHAuaWQgPSBtKSwgYS5mZWF0dXJlcy5wdXNoKHApO1xuICAgIH1cbiAgfVxuICBfbGltaXRab29tKGUpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sIE1hdGgubWluKE1hdGguZmxvb3IoK2UpLCB0aGlzLm9wdGlvbnMubWF4Wm9vbSArIDEpKTtcbiAgfVxuICBfY2x1c3RlcihlLCB0KSB7XG4gICAgY29uc3QgeyByYWRpdXM6IHMsIGV4dGVudDogciwgcmVkdWNlOiBvLCBtaW5Qb2ludHM6IGEgfSA9IHRoaXMub3B0aW9ucywgbCA9IHMgLyAociAqIE1hdGgucG93KDIsIHQpKSwgaSA9IGUuZGF0YSwgZCA9IFtdLCB1ID0gdGhpcy5zdHJpZGU7XG4gICAgZm9yIChsZXQgYyA9IDA7IGMgPCBpLmxlbmd0aDsgYyArPSB1KSB7XG4gICAgICBpZiAoaVtjICsgQV0gPD0gdClcbiAgICAgICAgY29udGludWU7XG4gICAgICBpW2MgKyBBXSA9IHQ7XG4gICAgICBjb25zdCBoID0gaVtjXSwgcCA9IGlbYyArIDFdLCBtID0gZS53aXRoaW4oaVtjXSwgaVtjICsgMV0sIGwpLCBmID0gaVtjICsgTF07XG4gICAgICBsZXQgZyA9IGY7XG4gICAgICBmb3IgKGNvbnN0IHYgb2YgbSkge1xuICAgICAgICBjb25zdCB3ID0gdiAqIHU7XG4gICAgICAgIGlbdyArIEFdID4gdCAmJiAoZyArPSBpW3cgKyBMXSk7XG4gICAgICB9XG4gICAgICBpZiAoZyA+IGYgJiYgZyA+PSBhKSB7XG4gICAgICAgIGxldCB2ID0gaCAqIGYsIHcgPSBwICogZiwgXywgRSA9IC0xO1xuICAgICAgICBjb25zdCBiID0gKChjIC8gdSB8IDApIDw8IDUpICsgKHQgKyAxKSArIHRoaXMucG9pbnRzLmxlbmd0aDtcbiAgICAgICAgZm9yIChjb25zdCB4IG9mIG0pIHtcbiAgICAgICAgICBjb25zdCBNID0geCAqIHU7XG4gICAgICAgICAgaWYgKGlbTSArIEFdIDw9IHQpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBpW00gKyBBXSA9IHQ7XG4gICAgICAgICAgY29uc3QgRiA9IGlbTSArIExdO1xuICAgICAgICAgIHYgKz0gaVtNXSAqIEYsIHcgKz0gaVtNICsgMV0gKiBGLCBpW00gKyBvZV0gPSBiLCBvICYmIChfIHx8IChfID0gdGhpcy5fbWFwKGksIGMsICEwKSwgRSA9IHRoaXMuY2x1c3RlclByb3BzLmxlbmd0aCwgdGhpcy5jbHVzdGVyUHJvcHMucHVzaChfKSksIG8oXywgdGhpcy5fbWFwKGksIE0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgaVtjICsgb2VdID0gYiwgZC5wdXNoKHYgLyBnLCB3IC8gZywgMSAvIDAsIGIsIC0xLCBnKSwgbyAmJiBkLnB1c2goRSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHU7IHYrKylcbiAgICAgICAgICBkLnB1c2goaVtjICsgdl0pO1xuICAgICAgICBpZiAoZyA+IDEpXG4gICAgICAgICAgZm9yIChjb25zdCB2IG9mIG0pIHtcbiAgICAgICAgICAgIGNvbnN0IHcgPSB2ICogdTtcbiAgICAgICAgICAgIGlmICghKGlbdyArIEFdIDw9IHQpKSB7XG4gICAgICAgICAgICAgIGlbdyArIEFdID0gdDtcbiAgICAgICAgICAgICAgZm9yIChsZXQgXyA9IDA7IF8gPCB1OyBfKyspXG4gICAgICAgICAgICAgICAgZC5wdXNoKGlbdyArIF9dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9XG4gIC8vIGdldCBpbmRleCBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0aGUgY2x1c3RlciBvcmlnaW5hdGVkXG4gIF9nZXRPcmlnaW5JZChlKSB7XG4gICAgcmV0dXJuIGUgLSB0aGlzLnBvaW50cy5sZW5ndGggPj4gNTtcbiAgfVxuICAvLyBnZXQgem9vbSBvZiB0aGUgcG9pbnQgZnJvbSB3aGljaCB0aGUgY2x1c3RlciBvcmlnaW5hdGVkXG4gIF9nZXRPcmlnaW5ab29tKGUpIHtcbiAgICByZXR1cm4gKGUgLSB0aGlzLnBvaW50cy5sZW5ndGgpICUgMzI7XG4gIH1cbiAgX21hcChlLCB0LCBzKSB7XG4gICAgaWYgKGVbdCArIExdID4gMSkge1xuICAgICAgY29uc3QgYSA9IHRoaXMuY2x1c3RlclByb3BzW2VbdCArIEFlXV07XG4gICAgICByZXR1cm4gcyA/IE9iamVjdC5hc3NpZ24oe30sIGEpIDogYTtcbiAgICB9XG4gICAgY29uc3QgciA9IHRoaXMucG9pbnRzW2VbdCArIFNdXS5wcm9wZXJ0aWVzLCBvID0gdGhpcy5vcHRpb25zLm1hcChyKTtcbiAgICByZXR1cm4gcyAmJiBvID09PSByID8gT2JqZWN0LmFzc2lnbih7fSwgbykgOiBvO1xuICB9XG59XG5mdW5jdGlvbiBrZShuLCBlLCB0KSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJGZWF0dXJlXCIsXG4gICAgaWQ6IG5bZSArIFNdLFxuICAgIHByb3BlcnRpZXM6ICRlKG4sIGUsIHQpLFxuICAgIGdlb21ldHJ5OiB7XG4gICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICBjb29yZGluYXRlczogW250KG5bZV0pLCBvdChuW2UgKyAxXSldXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gJGUobiwgZSwgdCkge1xuICBjb25zdCBzID0gbltlICsgTF0sIHIgPSBzID49IDFlNCA/IGAke01hdGgucm91bmQocyAvIDFlMyl9a2AgOiBzID49IDFlMyA/IGAke01hdGgucm91bmQocyAvIDEwMCkgLyAxMH1rYCA6IHMsIG8gPSBuW2UgKyBBZV0sIGEgPSBvID09PSAtMSA/IHt9IDogT2JqZWN0LmFzc2lnbih7fSwgdFtvXSk7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKGEsIHtcbiAgICBjbHVzdGVyOiAhMCxcbiAgICBjbHVzdGVyX2lkOiBuW2UgKyBTXSxcbiAgICBwb2ludF9jb3VudDogcyxcbiAgICBwb2ludF9jb3VudF9hYmJyZXZpYXRlZDogclxuICB9KTtcbn1cbmZ1bmN0aW9uIFcobikge1xuICByZXR1cm4gbiAvIDM2MCArIDAuNTtcbn1cbmZ1bmN0aW9uIEsobikge1xuICBjb25zdCBlID0gTWF0aC5zaW4obiAqIE1hdGguUEkgLyAxODApLCB0ID0gMC41IC0gMC4yNSAqIE1hdGgubG9nKCgxICsgZSkgLyAoMSAtIGUpKSAvIE1hdGguUEk7XG4gIHJldHVybiB0IDwgMCA/IDAgOiB0ID4gMSA/IDEgOiB0O1xufVxuZnVuY3Rpb24gbnQobikge1xuICByZXR1cm4gKG4gLSAwLjUpICogMzYwO1xufVxuZnVuY3Rpb24gb3Qobikge1xuICBjb25zdCBlID0gKDE4MCAtIG4gKiAzNjApICogTWF0aC5QSSAvIDE4MDtcbiAgcmV0dXJuIDM2MCAqIE1hdGguYXRhbihNYXRoLmV4cChlKSkgLyBNYXRoLlBJIC0gOTA7XG59XG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbmZ1bmN0aW9uIGNlKG4sIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcyBpbiBuKVxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLCBzKSAmJiBlLmluZGV4T2YocykgPCAwICYmICh0W3NdID0gbltzXSk7XG4gIGlmIChuICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT0gXCJmdW5jdGlvblwiKVxuICAgIGZvciAodmFyIHIgPSAwLCBzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKTsgciA8IHMubGVuZ3RoOyByKyspXG4gICAgICBlLmluZGV4T2Yoc1tyXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChuLCBzW3JdKSAmJiAodFtzW3JdXSA9IG5bc1tyXV0pO1xuICByZXR1cm4gdDtcbn1cbmNsYXNzIGsge1xuICBzdGF0aWMgaXNBZHZhbmNlZE1hcmtlckF2YWlsYWJsZShlKSB7XG4gICAgcmV0dXJuIGdvb2dsZS5tYXBzLm1hcmtlciAmJiBlLmdldE1hcENhcGFiaWxpdGllcygpLmlzQWR2YW5jZWRNYXJrZXJzQXZhaWxhYmxlID09PSAhMDtcbiAgfVxuICBzdGF0aWMgaXNBZHZhbmNlZE1hcmtlcihlKSB7XG4gICAgcmV0dXJuIGdvb2dsZS5tYXBzLm1hcmtlciAmJiBlIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMubWFya2VyLkFkdmFuY2VkTWFya2VyRWxlbWVudDtcbiAgfVxuICBzdGF0aWMgc2V0TWFwKGUsIHQpIHtcbiAgICB0aGlzLmlzQWR2YW5jZWRNYXJrZXIoZSkgPyBlLm1hcCA9IHQgOiBlLnNldE1hcCh0KTtcbiAgfVxuICBzdGF0aWMgZ2V0UG9zaXRpb24oZSkge1xuICAgIGlmICh0aGlzLmlzQWR2YW5jZWRNYXJrZXIoZSkpIHtcbiAgICAgIGlmIChlLnBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChlLnBvc2l0aW9uIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTGF0TG5nKVxuICAgICAgICAgIHJldHVybiBlLnBvc2l0aW9uO1xuICAgICAgICBpZiAoZS5wb3NpdGlvbi5sYXQgJiYgZS5wb3NpdGlvbi5sbmcpXG4gICAgICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5MYXRMbmcoZS5wb3NpdGlvbi5sYXQsIGUucG9zaXRpb24ubG5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gZS5nZXRQb3NpdGlvbigpO1xuICB9XG4gIHN0YXRpYyBnZXRWaXNpYmxlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5pc0FkdmFuY2VkTWFya2VyKGUpID8gITAgOiBlLmdldFZpc2libGUoKTtcbiAgfVxufVxuY2xhc3MgSCB7XG4gIGNvbnN0cnVjdG9yKHsgbWFya2VyczogZSwgcG9zaXRpb246IHQgfSkge1xuICAgIHRoaXMubWFya2VycyA9IGUsIHQgJiYgKHQgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcgPyB0aGlzLl9wb3NpdGlvbiA9IHQgOiB0aGlzLl9wb3NpdGlvbiA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcodCkpO1xuICB9XG4gIGdldCBib3VuZHMoKSB7XG4gICAgaWYgKHRoaXMubWFya2Vycy5sZW5ndGggPT09IDAgJiYgIXRoaXMuX3Bvc2l0aW9uKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGUgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKHRoaXMuX3Bvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbik7XG4gICAgZm9yIChjb25zdCB0IG9mIHRoaXMubWFya2VycylcbiAgICAgIGUuZXh0ZW5kKGsuZ2V0UG9zaXRpb24odCkpO1xuICAgIHJldHVybiBlO1xuICB9XG4gIGdldCBwb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcG9zaXRpb24gfHwgdGhpcy5ib3VuZHMuZ2V0Q2VudGVyKCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0aGUgY291bnQgb2YgKip2aXNpYmxlKiogbWFya2Vycy5cbiAgICovXG4gIGdldCBjb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJrZXJzLmZpbHRlcigoZSkgPT4gay5nZXRWaXNpYmxlKGUpKS5sZW5ndGg7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIG1hcmtlciB0byB0aGUgY2x1c3Rlci5cbiAgICovXG4gIHB1c2goZSkge1xuICAgIHRoaXMubWFya2Vycy5wdXNoKGUpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhbnVwIHJlZmVyZW5jZXMgYW5kIHJlbW92ZSBtYXJrZXIgZnJvbSBtYXAuXG4gICAqL1xuICBkZWxldGUoKSB7XG4gICAgdGhpcy5tYXJrZXIgJiYgKGsuc2V0TWFwKHRoaXMubWFya2VyLCBudWxsKSwgdGhpcy5tYXJrZXIgPSB2b2lkIDApLCB0aGlzLm1hcmtlcnMubGVuZ3RoID0gMDtcbiAgfVxufVxuY29uc3QgaXQgPSAobiwgZSwgdCwgcykgPT4ge1xuICBjb25zdCByID0gUmUobi5nZXRCb3VuZHMoKSwgZSwgcyk7XG4gIHJldHVybiB0LmZpbHRlcigobykgPT4gci5jb250YWlucyhrLmdldFBvc2l0aW9uKG8pKSk7XG59LCBSZSA9IChuLCBlLCB0KSA9PiB7XG4gIGNvbnN0IHsgbm9ydGhFYXN0OiBzLCBzb3V0aFdlc3Q6IHIgfSA9IGF0KG4sIGUpLCBvID0gbHQoeyBub3J0aEVhc3Q6IHMsIHNvdXRoV2VzdDogciB9LCB0KTtcbiAgcmV0dXJuIGN0KG8sIGUpO1xufSwgQ2UgPSAobiwgZSwgdCkgPT4ge1xuICBjb25zdCBzID0gUmUobiwgZSwgdCksIHIgPSBzLmdldE5vcnRoRWFzdCgpLCBvID0gcy5nZXRTb3V0aFdlc3QoKTtcbiAgcmV0dXJuIFtvLmxuZygpLCBvLmxhdCgpLCByLmxuZygpLCByLmxhdCgpXTtcbn0sIGF0ID0gKG4sIGUpID0+ICh7XG4gIG5vcnRoRWFzdDogZS5mcm9tTGF0TG5nVG9EaXZQaXhlbChuLmdldE5vcnRoRWFzdCgpKSxcbiAgc291dGhXZXN0OiBlLmZyb21MYXRMbmdUb0RpdlBpeGVsKG4uZ2V0U291dGhXZXN0KCkpXG59KSwgbHQgPSAoeyBub3J0aEVhc3Q6IG4sIHNvdXRoV2VzdDogZSB9LCB0KSA9PiAobi54ICs9IHQsIG4ueSAtPSB0LCBlLnggLT0gdCwgZS55ICs9IHQsIHsgbm9ydGhFYXN0OiBuLCBzb3V0aFdlc3Q6IGUgfSksIGN0ID0gKHsgbm9ydGhFYXN0OiBuLCBzb3V0aFdlc3Q6IGUgfSwgdCkgPT4ge1xuICBjb25zdCBzID0gdC5mcm9tRGl2UGl4ZWxUb0xhdExuZyhlKSwgciA9IHQuZnJvbURpdlBpeGVsVG9MYXRMbmcobik7XG4gIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nQm91bmRzKHMsIHIpO1xufTtcbmNsYXNzIGplIHtcbiAgY29uc3RydWN0b3IoeyBtYXhab29tOiBlID0gMTYgfSkge1xuICAgIHRoaXMubWF4Wm9vbSA9IGU7XG4gIH1cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0byBieXBhc3MgY2x1c3RlcmluZyBiYXNlZCB1cG9uIHNvbWUgbWFwIHN0YXRlIHN1Y2ggYXNcbiAgICogem9vbSwgbnVtYmVyIG9mIG1hcmtlcnMsIGV0Yy5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiAgY2x1c3Rlcih7bWFya2VycywgbWFwfTogQWxnb3JpdGhtSW5wdXQpOiBDbHVzdGVyW10ge1xuICAgKiAgICBpZiAoc2hvdWxkQnlwYXNzQ2x1c3RlcmluZyhtYXApKSB7XG4gICAqICAgICAgcmV0dXJuIHRoaXMubm9vcCh7bWFya2Vyc30pXG4gICAqICAgIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIG5vb3AoeyBtYXJrZXJzOiBlIH0pIHtcbiAgICByZXR1cm4gZHQoZSk7XG4gIH1cbn1cbmNsYXNzIHV0IGV4dGVuZHMgamUge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdmFyIHsgdmlld3BvcnRQYWRkaW5nOiB0ID0gNjAgfSA9IGUsIHMgPSBjZShlLCBbXCJ2aWV3cG9ydFBhZGRpbmdcIl0pO1xuICAgIHN1cGVyKHMpLCB0aGlzLnZpZXdwb3J0UGFkZGluZyA9IDYwLCB0aGlzLnZpZXdwb3J0UGFkZGluZyA9IHQ7XG4gIH1cbiAgY2FsY3VsYXRlKHsgbWFya2VyczogZSwgbWFwOiB0LCBtYXBDYW52YXNQcm9qZWN0aW9uOiBzIH0pIHtcbiAgICByZXR1cm4gdC5nZXRab29tKCkgPj0gdGhpcy5tYXhab29tID8ge1xuICAgICAgY2x1c3RlcnM6IHRoaXMubm9vcCh7XG4gICAgICAgIG1hcmtlcnM6IGVcbiAgICAgIH0pLFxuICAgICAgY2hhbmdlZDogITFcbiAgICB9IDoge1xuICAgICAgY2x1c3RlcnM6IHRoaXMuY2x1c3Rlcih7XG4gICAgICAgIG1hcmtlcnM6IGl0KHQsIHMsIGUsIHRoaXMudmlld3BvcnRQYWRkaW5nKSxcbiAgICAgICAgbWFwOiB0LFxuICAgICAgICBtYXBDYW52YXNQcm9qZWN0aW9uOiBzXG4gICAgICB9KVxuICAgIH07XG4gIH1cbn1cbmNvbnN0IGR0ID0gKG4pID0+IG4ubWFwKCh0KSA9PiBuZXcgSCh7XG4gIHBvc2l0aW9uOiBrLmdldFBvc2l0aW9uKHQpLFxuICBtYXJrZXJzOiBbdF1cbn0pKTtcbmNsYXNzIGh0IGV4dGVuZHMgamUge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdmFyIHsgbWF4Wm9vbTogdCwgcmFkaXVzOiBzID0gNjAgfSA9IGUsIHIgPSBjZShlLCBbXCJtYXhab29tXCIsIFwicmFkaXVzXCJdKTtcbiAgICBzdXBlcih7IG1heFpvb206IHQgfSksIHRoaXMuc3RhdGUgPSB7IHpvb206IC0xIH0sIHRoaXMuc3VwZXJDbHVzdGVyID0gbmV3IFRlKE9iamVjdC5hc3NpZ24oeyBtYXhab29tOiB0aGlzLm1heFpvb20sIHJhZGl1czogcyB9LCByKSk7XG4gIH1cbiAgY2FsY3VsYXRlKGUpIHtcbiAgICBsZXQgdCA9ICExO1xuICAgIGNvbnN0IHMgPSB7IHpvb206IGUubWFwLmdldFpvb20oKSB9O1xuICAgIGlmICghJChlLm1hcmtlcnMsIHRoaXMubWFya2VycykpIHtcbiAgICAgIHQgPSAhMCwgdGhpcy5tYXJrZXJzID0gWy4uLmUubWFya2Vyc107XG4gICAgICBjb25zdCByID0gdGhpcy5tYXJrZXJzLm1hcCgobykgPT4ge1xuICAgICAgICBjb25zdCBhID0gay5nZXRQb3NpdGlvbihvKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgdHlwZTogXCJQb2ludFwiLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFthLmxuZygpLCBhLmxhdCgpXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJvcGVydGllczogeyBtYXJrZXI6IG8gfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN1cGVyQ2x1c3Rlci5sb2FkKHIpO1xuICAgIH1cbiAgICByZXR1cm4gdCB8fCAodGhpcy5zdGF0ZS56b29tIDw9IHRoaXMubWF4Wm9vbSB8fCBzLnpvb20gPD0gdGhpcy5tYXhab29tKSAmJiAodCA9ICEkKHRoaXMuc3RhdGUsIHMpKSwgdGhpcy5zdGF0ZSA9IHMsIHQgJiYgKHRoaXMuY2x1c3RlcnMgPSB0aGlzLmNsdXN0ZXIoZSkpLCB7IGNsdXN0ZXJzOiB0aGlzLmNsdXN0ZXJzLCBjaGFuZ2VkOiB0IH07XG4gIH1cbiAgY2x1c3Rlcih7IG1hcDogZSB9KSB7XG4gICAgcmV0dXJuIHRoaXMuc3VwZXJDbHVzdGVyLmdldENsdXN0ZXJzKFstMTgwLCAtOTAsIDE4MCwgOTBdLCBNYXRoLnJvdW5kKGUuZ2V0Wm9vbSgpKSkubWFwKCh0KSA9PiB0aGlzLnRyYW5zZm9ybUNsdXN0ZXIodCkpO1xuICB9XG4gIHRyYW5zZm9ybUNsdXN0ZXIoeyBnZW9tZXRyeTogeyBjb29yZGluYXRlczogW2UsIHRdIH0sIHByb3BlcnRpZXM6IHMgfSkge1xuICAgIGlmIChzLmNsdXN0ZXIpXG4gICAgICByZXR1cm4gbmV3IEgoe1xuICAgICAgICBtYXJrZXJzOiB0aGlzLnN1cGVyQ2x1c3Rlci5nZXRMZWF2ZXMocy5jbHVzdGVyX2lkLCAxIC8gMCkubWFwKChvKSA9PiBvLnByb3BlcnRpZXMubWFya2VyKSxcbiAgICAgICAgcG9zaXRpb246IHsgbGF0OiB0LCBsbmc6IGUgfVxuICAgICAgfSk7XG4gICAgY29uc3QgciA9IHMubWFya2VyO1xuICAgIHJldHVybiBuZXcgSCh7XG4gICAgICBtYXJrZXJzOiBbcl0sXG4gICAgICBwb3NpdGlvbjogay5nZXRQb3NpdGlvbihyKVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBwdCBleHRlbmRzIHV0IHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHZhciB7IG1heFpvb206IHQsIHJhZGl1czogcyA9IDYwLCB2aWV3cG9ydFBhZGRpbmc6IHIgPSA2MCB9ID0gZSwgbyA9IGNlKGUsIFtcIm1heFpvb21cIiwgXCJyYWRpdXNcIiwgXCJ2aWV3cG9ydFBhZGRpbmdcIl0pO1xuICAgIHN1cGVyKHsgbWF4Wm9vbTogdCwgdmlld3BvcnRQYWRkaW5nOiByIH0pLCB0aGlzLnN1cGVyQ2x1c3RlciA9IG5ldyBUZShPYmplY3QuYXNzaWduKHsgbWF4Wm9vbTogdGhpcy5tYXhab29tLCByYWRpdXM6IHMgfSwgbykpLCB0aGlzLnN0YXRlID0geyB6b29tOiAtMSwgdmlldzogWzAsIDAsIDAsIDBdIH07XG4gIH1cbiAgY2FsY3VsYXRlKGUpIHtcbiAgICBjb25zdCB0ID0ge1xuICAgICAgem9vbTogTWF0aC5yb3VuZChlLm1hcC5nZXRab29tKCkpLFxuICAgICAgdmlldzogQ2UoZS5tYXAuZ2V0Qm91bmRzKCksIGUubWFwQ2FudmFzUHJvamVjdGlvbiwgdGhpcy52aWV3cG9ydFBhZGRpbmcpXG4gICAgfTtcbiAgICBsZXQgcyA9ICEkKHRoaXMuc3RhdGUsIHQpO1xuICAgIGlmICghJChlLm1hcmtlcnMsIHRoaXMubWFya2VycykpIHtcbiAgICAgIHMgPSAhMCwgdGhpcy5tYXJrZXJzID0gWy4uLmUubWFya2Vyc107XG4gICAgICBjb25zdCByID0gdGhpcy5tYXJrZXJzLm1hcCgobykgPT4ge1xuICAgICAgICBjb25zdCBhID0gay5nZXRQb3NpdGlvbihvKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcIkZlYXR1cmVcIixcbiAgICAgICAgICBnZW9tZXRyeToge1xuICAgICAgICAgICAgdHlwZTogXCJQb2ludFwiLFxuICAgICAgICAgICAgY29vcmRpbmF0ZXM6IFthLmxuZygpLCBhLmxhdCgpXVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJvcGVydGllczogeyBtYXJrZXI6IG8gfVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN1cGVyQ2x1c3Rlci5sb2FkKHIpO1xuICAgIH1cbiAgICByZXR1cm4gcyAmJiAodGhpcy5jbHVzdGVycyA9IHRoaXMuY2x1c3RlcihlKSwgdGhpcy5zdGF0ZSA9IHQpLCB7IGNsdXN0ZXJzOiB0aGlzLmNsdXN0ZXJzLCBjaGFuZ2VkOiBzIH07XG4gIH1cbiAgY2x1c3Rlcih7IG1hcDogZSwgbWFwQ2FudmFzUHJvamVjdGlvbjogdCB9KSB7XG4gICAgY29uc3QgcyA9IHtcbiAgICAgIHpvb206IE1hdGgucm91bmQoZS5nZXRab29tKCkpLFxuICAgICAgdmlldzogQ2UoZS5nZXRCb3VuZHMoKSwgdCwgdGhpcy52aWV3cG9ydFBhZGRpbmcpXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5zdXBlckNsdXN0ZXIuZ2V0Q2x1c3RlcnMocy52aWV3LCBzLnpvb20pLm1hcCgocikgPT4gdGhpcy50cmFuc2Zvcm1DbHVzdGVyKHIpKTtcbiAgfVxuICB0cmFuc2Zvcm1DbHVzdGVyKHsgZ2VvbWV0cnk6IHsgY29vcmRpbmF0ZXM6IFtlLCB0XSB9LCBwcm9wZXJ0aWVzOiBzIH0pIHtcbiAgICBpZiAocy5jbHVzdGVyKVxuICAgICAgcmV0dXJuIG5ldyBIKHtcbiAgICAgICAgbWFya2VyczogdGhpcy5zdXBlckNsdXN0ZXIuZ2V0TGVhdmVzKHMuY2x1c3Rlcl9pZCwgMSAvIDApLm1hcCgobykgPT4gby5wcm9wZXJ0aWVzLm1hcmtlciksXG4gICAgICAgIHBvc2l0aW9uOiB7IGxhdDogdCwgbG5nOiBlIH1cbiAgICAgIH0pO1xuICAgIGNvbnN0IHIgPSBzLm1hcmtlcjtcbiAgICByZXR1cm4gbmV3IEgoe1xuICAgICAgbWFya2VyczogW3JdLFxuICAgICAgcG9zaXRpb246IGsuZ2V0UG9zaXRpb24ocilcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgZnQge1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgdGhpcy5tYXJrZXJzID0geyBzdW06IGUubGVuZ3RoIH07XG4gICAgY29uc3QgcyA9IHQubWFwKChvKSA9PiBvLmNvdW50KSwgciA9IHMucmVkdWNlKChvLCBhKSA9PiBvICsgYSwgMCk7XG4gICAgdGhpcy5jbHVzdGVycyA9IHtcbiAgICAgIGNvdW50OiB0Lmxlbmd0aCxcbiAgICAgIG1hcmtlcnM6IHtcbiAgICAgICAgbWVhbjogciAvIHQubGVuZ3RoLFxuICAgICAgICBzdW06IHIsXG4gICAgICAgIG1pbjogTWF0aC5taW4oLi4ucyksXG4gICAgICAgIG1heDogTWF0aC5tYXgoLi4ucylcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5jbGFzcyBtdCB7XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgZnVuY3Rpb24gZm9yIHRoZSBsaWJyYXJ5IHVzZWQgYnkge0BsaW5rIE1hcmtlckNsdXN0ZXJlcn0uXG4gICAqXG4gICAqIEN1cnJlbnRseSBzZXQgdG8gdXNlIHRoZSBmb2xsb3dpbmc6XG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogLy8gY2hhbmdlIGNvbG9yIGlmIHRoaXMgY2x1c3RlciBoYXMgbW9yZSBtYXJrZXJzIHRoYW4gdGhlIG1lYW4gY2x1c3RlclxuICAgKiBjb25zdCBjb2xvciA9XG4gICAqICAgY291bnQgPiBNYXRoLm1heCgxMCwgc3RhdHMuY2x1c3RlcnMubWFya2Vycy5tZWFuKVxuICAgKiAgICAgPyBcIiNmZjAwMDBcIlxuICAgKiAgICAgOiBcIiMwMDAwZmZcIjtcbiAgICpcbiAgICogLy8gY3JlYXRlIHN2ZyB1cmwgd2l0aCBmaWxsIGNvbG9yXG4gICAqIGNvbnN0IHN2ZyA9IHdpbmRvdy5idG9hKGBcbiAgICogPHN2ZyBmaWxsPVwiJHtjb2xvcn1cIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNDAgMjQwXCI+XG4gICAqICAgPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi42XCIgcj1cIjcwXCIgLz5cbiAgICogICA8Y2lyY2xlIGN4PVwiMTIwXCIgY3k9XCIxMjBcIiBvcGFjaXR5PVwiLjNcIiByPVwiOTBcIiAvPlxuICAgKiAgIDxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuMlwiIHI9XCIxMTBcIiAvPlxuICAgKiAgIDxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuMVwiIHI9XCIxMzBcIiAvPlxuICAgKiA8L3N2Zz5gKTtcbiAgICpcbiAgICogLy8gY3JlYXRlIG1hcmtlciB1c2luZyBzdmcgaWNvblxuICAgKiByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAqICAgcG9zaXRpb24sXG4gICAqICAgaWNvbjoge1xuICAgKiAgICAgdXJsOiBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke3N2Z31gLFxuICAgKiAgICAgc2NhbGVkU2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoNDUsIDQ1KSxcbiAgICogICB9LFxuICAgKiAgIGxhYmVsOiB7XG4gICAqICAgICB0ZXh0OiBTdHJpbmcoY291bnQpLFxuICAgKiAgICAgY29sb3I6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCIsXG4gICAqICAgICBmb250U2l6ZTogXCIxMnB4XCIsXG4gICAqICAgfSxcbiAgICogICAvLyBhZGp1c3QgekluZGV4IHRvIGJlIGFib3ZlIG90aGVyIG1hcmtlcnNcbiAgICogICB6SW5kZXg6IDEwMDAgKyBjb3VudCxcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgcmVuZGVyKHsgY291bnQ6IGUsIHBvc2l0aW9uOiB0IH0sIHMsIHIpIHtcbiAgICBjb25zdCBhID0gYDxzdmcgZmlsbD1cIiR7ZSA+IE1hdGgubWF4KDEwLCBzLmNsdXN0ZXJzLm1hcmtlcnMubWVhbikgPyBcIiNmZjAwMDBcIiA6IFwiIzAwMDBmZlwifVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0MCAyNDBcIiB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTBcIj5cbjxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuNlwiIHI9XCI3MFwiIC8+XG48Y2lyY2xlIGN4PVwiMTIwXCIgY3k9XCIxMjBcIiBvcGFjaXR5PVwiLjNcIiByPVwiOTBcIiAvPlxuPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi4yXCIgcj1cIjExMFwiIC8+XG48dGV4dCB4PVwiNTAlXCIgeT1cIjUwJVwiIHN0eWxlPVwiZmlsbDojZmZmXCIgdGV4dC1hbmNob3I9XCJtaWRkbGVcIiBmb250LXNpemU9XCI1MFwiIGRvbWluYW50LWJhc2VsaW5lPVwibWlkZGxlXCIgZm9udC1mYW1pbHk9XCJyb2JvdG8sYXJpYWwsc2Fucy1zZXJpZlwiPiR7ZX08L3RleHQ+XG48L3N2Zz5gLCBsID0gYENsdXN0ZXIgb2YgJHtlfSBtYXJrZXJzYCwgaSA9IE51bWJlcihnb29nbGUubWFwcy5NYXJrZXIuTUFYX1pJTkRFWCkgKyBlO1xuICAgIGlmIChrLmlzQWR2YW5jZWRNYXJrZXJBdmFpbGFibGUocikpIHtcbiAgICAgIGNvbnN0IHUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgdS5pbm5lckhUTUwgPSBhO1xuICAgICAgY29uc3QgYyA9IHUuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBjLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwIDI1KVwiKTtcbiAgICAgIGNvbnN0IGggPSB7XG4gICAgICAgIG1hcDogcixcbiAgICAgICAgcG9zaXRpb246IHQsXG4gICAgICAgIHpJbmRleDogaSxcbiAgICAgICAgdGl0bGU6IGwsXG4gICAgICAgIGNvbnRlbnQ6IGNcbiAgICAgIH07XG4gICAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLm1hcmtlci5BZHZhbmNlZE1hcmtlckVsZW1lbnQoaCk7XG4gICAgfVxuICAgIGNvbnN0IGQgPSB7XG4gICAgICBwb3NpdGlvbjogdCxcbiAgICAgIHpJbmRleDogaSxcbiAgICAgIHRpdGxlOiBsLFxuICAgICAgaWNvbjoge1xuICAgICAgICB1cmw6IGBkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7YnRvYShhKX1gLFxuICAgICAgICBhbmNob3I6IG5ldyBnb29nbGUubWFwcy5Qb2ludCgyNSwgMjUpXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcihkKTtcbiAgfVxufVxuZnVuY3Rpb24gZ3QobiwgZSkge1xuICBmb3IgKGxldCB0IGluIGUucHJvdG90eXBlKVxuICAgIG4ucHJvdG90eXBlW3RdID0gZS5wcm90b3R5cGVbdF07XG59XG5jbGFzcyB1ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGd0KHVlLCBnb29nbGUubWFwcy5PdmVybGF5Vmlldyk7XG4gIH1cbn1cbnZhciBqO1xuKGZ1bmN0aW9uKG4pIHtcbiAgbi5DTFVTVEVSSU5HX0JFR0lOID0gXCJjbHVzdGVyaW5nYmVnaW5cIiwgbi5DTFVTVEVSSU5HX0VORCA9IFwiY2x1c3RlcmluZ2VuZFwiLCBuLkNMVVNURVJfQ0xJQ0sgPSBcImNsaWNrXCI7XG59KShqIHx8IChqID0ge30pKTtcbmNvbnN0IHZ0ID0gKG4sIGUsIHQpID0+IHtcbiAgdC5maXRCb3VuZHMoZS5ib3VuZHMpO1xufTtcbmNsYXNzIHl0IGV4dGVuZHMgdWUge1xuICBjb25zdHJ1Y3Rvcih7IG1hcDogZSwgbWFya2VyczogdCA9IFtdLCBhbGdvcml0aG1PcHRpb25zOiBzID0ge30sIGFsZ29yaXRobTogciA9IG5ldyBodChzKSwgcmVuZGVyZXI6IG8gPSBuZXcgbXQoKSwgb25DbHVzdGVyQ2xpY2s6IGEgPSB2dCB9KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5tYXJrZXJzID0gWy4uLnRdLCB0aGlzLmNsdXN0ZXJzID0gW10sIHRoaXMuYWxnb3JpdGhtID0gciwgdGhpcy5yZW5kZXJlciA9IG8sIHRoaXMub25DbHVzdGVyQ2xpY2sgPSBhLCBlICYmIHRoaXMuc2V0TWFwKGUpO1xuICB9XG4gIGFkZE1hcmtlcihlLCB0KSB7XG4gICAgdGhpcy5tYXJrZXJzLmluY2x1ZGVzKGUpIHx8ICh0aGlzLm1hcmtlcnMucHVzaChlKSwgdCB8fCB0aGlzLnJlbmRlcigpKTtcbiAgfVxuICBhZGRNYXJrZXJzKGUsIHQpIHtcbiAgICBlLmZvckVhY2goKHMpID0+IHtcbiAgICAgIHRoaXMuYWRkTWFya2VyKHMsICEwKTtcbiAgICB9KSwgdCB8fCB0aGlzLnJlbmRlcigpO1xuICB9XG4gIHJlbW92ZU1hcmtlcihlLCB0KSB7XG4gICAgY29uc3QgcyA9IHRoaXMubWFya2Vycy5pbmRleE9mKGUpO1xuICAgIHJldHVybiBzID09PSAtMSA/ICExIDogKGsuc2V0TWFwKGUsIG51bGwpLCB0aGlzLm1hcmtlcnMuc3BsaWNlKHMsIDEpLCB0IHx8IHRoaXMucmVuZGVyKCksICEwKTtcbiAgfVxuICByZW1vdmVNYXJrZXJzKGUsIHQpIHtcbiAgICBsZXQgcyA9ICExO1xuICAgIHJldHVybiBlLmZvckVhY2goKHIpID0+IHtcbiAgICAgIHMgPSB0aGlzLnJlbW92ZU1hcmtlcihyLCAhMCkgfHwgcztcbiAgICB9KSwgcyAmJiAhdCAmJiB0aGlzLnJlbmRlcigpLCBzO1xuICB9XG4gIGNsZWFyTWFya2VycyhlKSB7XG4gICAgdGhpcy5tYXJrZXJzLmxlbmd0aCA9IDAsIGUgfHwgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICAvKipcbiAgICogUmVjYWxjdWxhdGVzIGFuZCBkcmF3cyBhbGwgdGhlIG1hcmtlciBjbHVzdGVycy5cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBlID0gdGhpcy5nZXRNYXAoKTtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLk1hcCAmJiBlLmdldFByb2plY3Rpb24oKSkge1xuICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCBqLkNMVVNURVJJTkdfQkVHSU4sIHRoaXMpO1xuICAgICAgY29uc3QgeyBjbHVzdGVyczogdCwgY2hhbmdlZDogcyB9ID0gdGhpcy5hbGdvcml0aG0uY2FsY3VsYXRlKHtcbiAgICAgICAgbWFya2VyczogdGhpcy5tYXJrZXJzLFxuICAgICAgICBtYXA6IGUsXG4gICAgICAgIG1hcENhbnZhc1Byb2plY3Rpb246IHRoaXMuZ2V0UHJvamVjdGlvbigpXG4gICAgICB9KTtcbiAgICAgIGlmIChzIHx8IHMgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBhIG9mIHQpXG4gICAgICAgICAgYS5tYXJrZXJzLmxlbmd0aCA9PSAxICYmIHIuYWRkKGEubWFya2Vyc1swXSk7XG4gICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBhIG9mIHRoaXMuY2x1c3RlcnMpXG4gICAgICAgICAgYS5tYXJrZXIgIT0gbnVsbCAmJiAoYS5tYXJrZXJzLmxlbmd0aCA9PSAxID8gci5oYXMoYS5tYXJrZXIpIHx8IGsuc2V0TWFwKGEubWFya2VyLCBudWxsKSA6IG8ucHVzaChhLm1hcmtlcikpO1xuICAgICAgICB0aGlzLmNsdXN0ZXJzID0gdCwgdGhpcy5yZW5kZXJDbHVzdGVycygpLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gby5mb3JFYWNoKChhKSA9PiBrLnNldE1hcChhLCBudWxsKSkpO1xuICAgICAgfVxuICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCBqLkNMVVNURVJJTkdfRU5ELCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgb25BZGQoKSB7XG4gICAgdGhpcy5pZGxlTGlzdGVuZXIgPSB0aGlzLmdldE1hcCgpLmFkZExpc3RlbmVyKFwiaWRsZVwiLCB0aGlzLnJlbmRlci5iaW5kKHRoaXMpKSwgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICBvblJlbW92ZSgpIHtcbiAgICBnb29nbGUubWFwcy5ldmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmlkbGVMaXN0ZW5lciksIHRoaXMucmVzZXQoKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLm1hcmtlcnMuZm9yRWFjaCgoZSkgPT4gay5zZXRNYXAoZSwgbnVsbCkpLCB0aGlzLmNsdXN0ZXJzLmZvckVhY2goKGUpID0+IGUuZGVsZXRlKCkpLCB0aGlzLmNsdXN0ZXJzID0gW107XG4gIH1cbiAgcmVuZGVyQ2x1c3RlcnMoKSB7XG4gICAgY29uc3QgZSA9IG5ldyBmdCh0aGlzLm1hcmtlcnMsIHRoaXMuY2x1c3RlcnMpLCB0ID0gdGhpcy5nZXRNYXAoKTtcbiAgICB0aGlzLmNsdXN0ZXJzLmZvckVhY2goKHMpID0+IHtcbiAgICAgIHMubWFya2Vycy5sZW5ndGggPT09IDEgPyBzLm1hcmtlciA9IHMubWFya2Vyc1swXSA6IChzLm1hcmtlciA9IHRoaXMucmVuZGVyZXIucmVuZGVyKHMsIGUsIHQpLCBzLm1hcmtlcnMuZm9yRWFjaCgocikgPT4gay5zZXRNYXAociwgbnVsbCkpLCB0aGlzLm9uQ2x1c3RlckNsaWNrICYmIHMubWFya2VyLmFkZExpc3RlbmVyKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIChyKSA9PiB7XG4gICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQudHJpZ2dlcih0aGlzLCBqLkNMVVNURVJfQ0xJQ0ssIHMpLCB0aGlzLm9uQ2x1c3RlckNsaWNrKHIsIHMsIHQpO1xuICAgICAgICB9XG4gICAgICApKSwgay5zZXRNYXAocy5tYXJrZXIsIHQpO1xuICAgIH0pO1xuICB9XG59XG5jb25zdCBiZSA9IE9iamVjdC52YWx1ZXMoaiksIFR0ID0gUCh7XG4gIG5hbWU6IFwiTWFya2VyQ2x1c3RlclwiLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSlcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBiZSxcbiAgc2V0dXAobiwgeyBlbWl0OiBlLCBleHBvc2U6IHQsIHNsb3RzOiBzIH0pIHtcbiAgICBjb25zdCByID0geSgpLCBvID0gQyhOLCB5KCkpLCBhID0gQyhVLCB5KCkpO1xuICAgIHJldHVybiBHKExlLCByKSwgTyhcbiAgICAgIG8sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIG8udmFsdWUgJiYgKHIudmFsdWUgPSBJKFxuICAgICAgICAgIG5ldyB5dCh7XG4gICAgICAgICAgICBtYXA6IG8udmFsdWUsXG4gICAgICAgICAgICAvLyBCZXR0ZXIgcGVyZiB0aGFuIHRoZSBkZWZhdWx0IGBTdXBlckNsdXN0ZXJBbGdvcml0aG1gLiBTZWU6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlbWFwcy9qcy1tYXJrZXJjbHVzdGVyZXIvcHVsbC82NDBcbiAgICAgICAgICAgIGFsZ29yaXRobTogbmV3IHB0KG4ub3B0aW9ucy5hbGdvcml0aG1PcHRpb25zID8/IHt9KSxcbiAgICAgICAgICAgIC4uLm4ub3B0aW9uc1xuICAgICAgICAgIH0pXG4gICAgICAgICksIGJlLmZvckVhY2goKGwpID0+IHtcbiAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAoaSA9IHIudmFsdWUpID09IG51bGwgfHwgaS5hZGRMaXN0ZW5lcihsLCAoZCkgPT4gZShsLCBkKSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGltbWVkaWF0ZTogITBcbiAgICAgIH1cbiAgICApLCBCKCgpID0+IHtcbiAgICAgIHZhciBsO1xuICAgICAgci52YWx1ZSAmJiAoKGwgPSBhLnZhbHVlKSA9PSBudWxsIHx8IGwuZXZlbnQuY2xlYXJJbnN0YW5jZUxpc3RlbmVycyhyLnZhbHVlKSwgci52YWx1ZS5jbGVhck1hcmtlcnMoKSwgci52YWx1ZS5zZXRNYXAobnVsbCkpO1xuICAgIH0pLCB0KHsgbWFya2VyQ2x1c3RlcjogciB9KSwgKCkgPT4ge1xuICAgICAgdmFyIGw7XG4gICAgICByZXR1cm4gKGwgPSBzLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBsLmNhbGwocyk7XG4gICAgfTtcbiAgfVxufSksIHd0ID0gUCh7XG4gIGluaGVyaXRBdHRyczogITEsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBzZXR1cChuLCB7IHNsb3RzOiBlLCBlbWl0OiB0LCBleHBvc2U6IHMgfSkge1xuICAgIGNvbnN0IHIgPSB5KCksIG8gPSBKKCgpID0+IHtcbiAgICAgIHZhciBpO1xuICAgICAgcmV0dXJuIChpID0gZS5kZWZhdWx0KSA9PSBudWxsID8gdm9pZCAwIDogaS5jYWxsKGUpLnNvbWUoKGQpID0+IGQudHlwZSAhPT0gRWUpO1xuICAgIH0pLCBhID0gSigoKSA9PiAoe1xuICAgICAgLi4ubi5vcHRpb25zLFxuICAgICAgZWxlbWVudDogci52YWx1ZVxuICAgIH0pKSwgbCA9IEQoZWUsIFtdLCBhLCB0KTtcbiAgICByZXR1cm4gcyh7XG4gICAgICBjdXN0b21NYXJrZXI6IGxcbiAgICB9KSwgeyBjdXN0b21NYXJrZXJSZWY6IHIsIGN1c3RvbU1hcmtlcjogbCwgaGFzU2xvdENvbnRlbnQ6IG8gfTtcbiAgfVxufSk7XG5jb25zdCBfdCA9IHtcbiAga2V5OiAwLFxuICBjbGFzczogXCJjdXN0b20tbWFya2VyLXdyYXBwZXJcIlxufTtcbmZ1bmN0aW9uIGt0KG4sIGUsIHQsIHMsIHIsIG8pIHtcbiAgcmV0dXJuIG4uaGFzU2xvdENvbnRlbnQgPyAoWSgpLCBYKFwiZGl2XCIsIF90LCBbXG4gICAgYWUoXCJkaXZcIiwgUGUoe1xuICAgICAgcmVmOiBcImN1c3RvbU1hcmtlclJlZlwiLFxuICAgICAgc3R5bGU6IHsgY3Vyc29yOiBuLiRhdHRycy5vbkNsaWNrID8gXCJwb2ludGVyXCIgOiB2b2lkIDAgfVxuICAgIH0sIG4uJGF0dHJzKSwgW1xuICAgICAgUShuLiRzbG90cywgXCJkZWZhdWx0XCIsIHt9LCB2b2lkIDAsICEwKVxuICAgIF0sIDE2KVxuICBdKSkgOiBPZShcIlwiLCAhMCk7XG59XG5jb25zdCAkdCA9IC8qIEBfX1BVUkVfXyAqLyB0ZSh3dCwgW1tcInJlbmRlclwiLCBrdF0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi0yZDJkMzQzYVwiXV0pLCBSdCA9IFAoe1xuICBuYW1lOiBcIkhlYXRtYXBMYXllclwiLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSlcbiAgICB9XG4gIH0sXG4gIHNldHVwKG4pIHtcbiAgICBjb25zdCBlID0geSgpLCB0ID0gQyhOLCB5KCkpLCBzID0gQyhVLCB5KCkpO1xuICAgIHJldHVybiBPKFxuICAgICAgW3QsICgpID0+IG4ub3B0aW9uc10sXG4gICAgICAoW3IsIG9dLCBbYSwgbF0pID0+IHtcbiAgICAgICAgdmFyIGQ7XG4gICAgICAgIGNvbnN0IGkgPSAhJChvLCBsKSB8fCB0LnZhbHVlICE9PSBhO1xuICAgICAgICBpZiAodC52YWx1ZSAmJiBzLnZhbHVlICYmIGkpIHtcbiAgICAgICAgICBjb25zdCB1ID0gc3RydWN0dXJlZENsb25lKG8pO1xuICAgICAgICAgIGlmICh1LmRhdGEgJiYgISh1LmRhdGEgaW5zdGFuY2VvZiBzLnZhbHVlLk1WQ0FycmF5KSkge1xuICAgICAgICAgICAgY29uc3QgYyA9IHMudmFsdWUuTGF0TG5nO1xuICAgICAgICAgICAgdS5kYXRhID0gKGQgPSB1LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBkLm1hcCgoaCkgPT4gaCBpbnN0YW5jZW9mIGMgfHwgXCJsb2NhdGlvblwiIGluIGggJiYgKGgubG9jYXRpb24gaW5zdGFuY2VvZiBjIHx8IGgubG9jYXRpb24gPT09IG51bGwpID8gaCA6IFwibG9jYXRpb25cIiBpbiBoID8geyAuLi5oLCBsb2NhdGlvbjogbmV3IGMoaC5sb2NhdGlvbikgfSA6IG5ldyBjKGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZS52YWx1ZSA/IGUudmFsdWUuc2V0T3B0aW9ucyh1KSA6IGUudmFsdWUgPSBJKFxuICAgICAgICAgICAgbmV3IHMudmFsdWUudmlzdWFsaXphdGlvbi5IZWF0bWFwTGF5ZXIoe1xuICAgICAgICAgICAgICAuLi51LFxuICAgICAgICAgICAgICBtYXA6IHQudmFsdWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHsgaW1tZWRpYXRlOiAhMCB9XG4gICAgKSwgQigoKSA9PiB7XG4gICAgICBlLnZhbHVlICYmIGUudmFsdWUuc2V0TWFwKG51bGwpO1xuICAgIH0pLCB7IGhlYXRtYXBMYXllcjogZSB9O1xuICB9LFxuICByZW5kZXI6ICgpID0+IG51bGxcbn0pO1xuZXhwb3J0IHtcbiAgU3QgYXMgQ2lyY2xlLFxuICBJdCBhcyBDdXN0b21Db250cm9sLFxuICAkdCBhcyBDdXN0b21NYXJrZXIsXG4gIEV0IGFzIEdvb2dsZU1hcCxcbiAgUnQgYXMgSGVhdG1hcExheWVyLFxuICBBdCBhcyBJbmZvV2luZG93LFxuICBQdCBhcyBNYXJrZXIsXG4gIFR0IGFzIE1hcmtlckNsdXN0ZXIsXG4gIHh0IGFzIFBvbHlnb24sXG4gIE90IGFzIFBvbHlsaW5lLFxuICBMdCBhcyBSZWN0YW5nbGVcbn07XG4iLCI8c2NyaXB0IHNldHVwPlxyXG5pbXBvcnQgeyBHb29nbGVNYXAsIEN1c3RvbU1hcmtlciB9IGZyb20gJ3Z1ZTMtZ29vZ2xlLW1hcCdcclxuXHJcbjwvc2NyaXB0PlxyXG5cclxuPHRlbXBsYXRlPlxyXG4gICAgPHNlY3Rpb24gdi1pZj1cIm9uTGluZVwiPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJtdC0xMiBweC0yIHB5LTIgcm91bmRlZC1zbSBib3JkZXIgYm9yZGVyLXJlZC00MDAgYmctc2xhdGUtNTBcIiBAY2xpY2s9XCJnZXRNeUxvY2F0aW9uXCI+TXlcclxuICAgICAgICAgICAgbG9jYXRpb248L2J1dHRvbj5cclxuICAgICAgICA8R29vZ2xlTWFwIDphcGkta2V5PVwiZ29vZ2xlTWFwc0FwaUtleVwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGhlaWdodDogNzV2aFwiIDpjZW50ZXI9XCJtYXBDZW50ZXJcIiA6em9vbT1cIm1hcFpvb21cIlxyXG4gICAgICAgICAgICBAY2xpY2s9XCJoYW5kbGVNYXBDbGlja1wiPlxyXG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCJvd25Mb2NhdGlvblJlcXVlc3RlZFwiPlxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbU1hcmtlciA6b3B0aW9ucz1cIm1hcmtlck9wdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCIgY2xhc3M9XCJob3ZlcjpjdXJzb3ItcG9pbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uIG5hbWU9XCJmYS1tYXAtbWFya2VyLWFsdFwiIHNjYWxlPVwiMlwiIGZpbGw9XCJyZWRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9DdXN0b21NYXJrZXI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCJzZWxlY3RlZExvY2F0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICA8Q3VzdG9tTWFya2VyIDpvcHRpb25zPVwic2VsZWN0ZWRMb2NhdGlvbk1hcmtlck9wdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyXCIgY2xhc3M9XCJob3ZlcjpjdXJzb3ItcG9pbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8di1pY29uIG5hbWU9XCJmYS1tYXAtbWFya2VyLWFsdFwiIHNjYWxlPVwiMlwiIGZpbGw9XCJvcmFuZ2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9DdXN0b21NYXJrZXI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvR29vZ2xlTWFwPlxyXG4gICAgPC9zZWN0aW9uPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IHsgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24gfSBmcm9tICdAL3N0b3Jlcy9nZW9Mb2NhdGlvbic7XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxpbmU6IHtcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ29vZ2xlTWFwc0FwaUtleTogaW1wb3J0Lm1ldGEuZW52LlZJVEVfR09PR0xFX01BUFNfQVBJX0tFWSxcclxuICAgICAgICAgICAgbWFwWm9vbTogMixcclxuICAgICAgICAgICAgbWFwQ2VudGVyOiB7IGxhdDogMzMsIGxuZzogNDQgfSxcclxuICAgICAgICAgICAgbGF0aXR1ZGU6ICcnLFxyXG4gICAgICAgICAgICBsb25naXR1ZGU6ICcnLFxyXG4gICAgICAgICAgICB1c2VyUG9zaXRpb246IHt9LFxyXG4gICAgICAgICAgICBtYXJrZXJPcHRpb25zOiB7fSxcclxuICAgICAgICAgICAgb3duTG9jYXRpb25SZXF1ZXN0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzZWxlY3RlZExvY2F0aW9uTWFya2VyT3B0aW9uczoge30sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTG9jYXRpb25DZW50ZXI6IHsgbGF0OiAwLCBsbmc6IDAgfSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMb2NhdGlvbjogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGFzeW5jIGdldE15TG9jYXRpb24oKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyUG9zaXRpb24gPSBhd2FpdCBjaGVja0xvY2F0aW9uUGVybWlzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXRpdHVkZSA9IHVzZXJQb3NpdGlvbi5jb29yZHMubGF0aXR1ZGVcclxuICAgICAgICAgICAgICAgIHRoaXMubG9uZ2l0dWRlID0gdXNlclBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlclBvc2l0aW9uID0geyBsYXQ6IHRoaXMubGF0aXR1ZGUsIGxuZzogdGhpcy5sb25naXR1ZGUgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJPcHRpb25zID0geyBwb3NpdGlvbjogdGhpcy51c2VyUG9zaXRpb24sIGxhYmVsOiAnVScsIHRpdGxlOiAnQ3VycmVudCBMb2NhdGlvbicgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBDZW50ZXIgPSB0aGlzLnVzZXJQb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXBab29tID0gMTJcclxuICAgICAgICAgICAgICAgIHRoaXMub3duTG9jYXRpb25SZXF1ZXN0ZWQgPSB0cnVlXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGxvY2F0aW9uOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoYW5kbGVNYXBDbGljayhldmVudCkge1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUgb2YgdGhlIGNsaWNrZWQgcG9pbnRcclxuICAgICAgICAgICAgY29uc3QgY2xpY2tlZExhdExuZyA9IGV2ZW50LmxhdExuZztcclxuICAgICAgICAgICAgY29uc3QgbGF0ID0gY2xpY2tlZExhdExuZy5sYXQoKTtcclxuICAgICAgICAgICAgY29uc3QgbG5nID0gY2xpY2tlZExhdExuZy5sbmcoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbkNlbnRlciA9IHsgbGF0OiBsYXQsIGxuZzogbG5nIH1cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb25NYXJrZXJPcHRpb25zID0geyBwb3NpdGlvbjogdGhpcy5zZWxlY3RlZExvY2F0aW9uQ2VudGVyIH1cclxuICAgICAgICAgICAgdGhpcy5tYXBDZW50ZXIgPSB0aGlzLnNlbGVjdGVkTG9jYXRpb25DZW50ZXJcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+PC9zdHlsZT4iLCI8dGVtcGxhdGU+XHJcbiAgICA8c2VjdGlvbiB2LWlmPVwiIXVzZXIubG9nZ2VkSW4gJiYgb25MaW5lXCIgY2xhc3M9XCJtdC0xMiBwdC02IFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy14cyBteC1hdXRvIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBiZy1bIzE2MWIyMl0gZmxleCBmbGV4LWNvbCB0ZXh0LXdoaXRlIHB4LTQgcHktM1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtIG1iLTJcIiBmb3I9XCJ1c2VybmFtZVwiPlVzZXJuYW1lPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInNoYWRvdyBiZy1ibGFjayBhcHBlYXJhbmNlLW5vbmUgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCByb3VuZGVkIHctZnVsbCBweS0xIHB4LTMgbGVhZGluZy10aWdodCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6c2hhZG93LW91dGxpbmUgbWItM1wiXHJcbiAgICAgICAgICAgICAgICBpZD1cInVzZXJuYW1lXCIgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwidXNlcm5hbWVcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1zbSBtYi0yXCIgZm9yPVwicGFzc3dvcmRcIj5QYXNzd29yZDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJzaGFkb3cgYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgIDpjbGFzcz1cInsgJ21iLTMnOiAhaW5jb3JyZWN0Q3JlZGVudGlhbHMgfVwiIGlkPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiB2LW1vZGVsPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgPHNwYW4gdi1pZj1cImluY29ycmVjdENyZWRlbnRpYWxzXCIgY2xhc3M9XCJ0ZXh0LXJlZC01MDAgdGV4dC1zbSBtYi0zXCI+W3t7IGVycm9yTWVzc2FnZSB9fV08L3NwYW4+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1vcmFuZ2UtNTAwIGhvdmVyOmJnLW9yYW5nZS02MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMSBweC00IHJvdW5kZWRcIiBAY2xpY2s9XCJsb2dpblwiPlNpZ25cclxuICAgICAgICAgICAgICAgIGluPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBjbGFzcz1cIiBtdC01IG1heC13LXhzIG14LWF1dG8gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNzAwIGJnLVsjMTYxYjIyXSBmbGV4IGZsZXgtY29sIHRleHQtd2hpdGUgcHgtNCBweS0zXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc20gbWItMlwiIGZvcj1cInVzZXJuYW1lXCI+Tm90IHJlZ2lzdGVyZWQ/PC9sYWJlbD5cclxuICAgICAgICAgICAgPFJvdXRlckxpbmsgdG89XCIvcmVnaXN0ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1vcmFuZ2UtNTAwIGhvdmVyOmJnLW9yYW5nZS02MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMSBweC00IHJvdW5kZWQgdy1mdWxsXCI+Q3JlYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYW4gYWNjb3VudDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L1JvdXRlckxpbms+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgICA8c2VjdGlvbiB2LWlmPVwidXNlci5sb2dnZWRJbiAmJiBvbkxpbmVcIiBjbGFzcz1cIm10LTEyIHB0LTYgcGItNFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy14cyBteC1hdXRvIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBiZy1bIzE2MWIyMl0gZmxleCBmbGV4LWNvbCB0ZXh0LXdoaXRlIHB4LTQgcHktM1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtXCIgZm9yPVwidXNlcm5hbWVcIj5Vc2VybmFtZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHgtNCB0ZXh0LXNtXCI+e3sgdXNlci51c2VybmFtZSB9fTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHYtaWNvbiB2LWlmPVwiIWVkaXRpbmdOYW1lXCIgbmFtZT1cImZhLWVkaXRcIiBjbGFzcz1cImhvdmVyOmN1cnNvci1wb2ludGVyXCIgQGNsaWNrPVwiZWRpdE5hbWVcIiAvPlxyXG4gICAgICAgICAgICAgICAgPHYtaWNvbiB2LWVsc2UgbmFtZT1cImZhLXNhdmVcIiBjbGFzcz1cImhvdmVyOmN1cnNvci1wb2ludGVyXCIgQGNsaWNrPVwic2F2ZU5hbWVcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1zbVwiIGZvcj1cInBhc3N3b3JkXCI+TmFtZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPHAgdi1pZj1cIiFlZGl0aW5nTmFtZVwiIGNsYXNzPVwicHgtNCB0ZXh0LXNtXCI+e3sgdXNlci5uYW1lIH19PC9wPlxyXG4gICAgICAgICAgICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9XCJweC00XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD1cImVkaXRlZE5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvc2VjdGlvbj5cclxuICAgIDxzZWN0aW9uIHYtaWY9XCJ1c2VyLmxvZ2dlZEluICYmIG9uTGluZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy14cyBteC1hdXRvIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBiZy1bIzE2MWIyMl0gZmxleCBmbGV4LWNvbCB0ZXh0LXdoaXRlIHB4LTQgcHktM1wiPlxyXG4gICAgICAgICAgICBQcmV2aW91cyB1cGRhdGVzXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L3NlY3Rpb24+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgdHlwZTogT2JqZWN0LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25MaW5lOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW5cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50czoge1xyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgICAgICAgIGluY29ycmVjdENyZWRlbnRpYWxzOiBmYWxzZSxcclxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgZWRpdGluZ05hbWU6IGZhbHNlLFxyXG4gICAgICAgICAgICBlZGl0ZWROYW1lOiB0aGlzLnVzZXIubmFtZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgYXN5bmMgbG9naW4oKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVzZXIuYXBpTG9naW4odGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZClcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5jb3JyZWN0Q3JlZGVudGlhbHMgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcygnTG9naW4gc3VjY2Vzc2Z1bCcpXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5zdGF0dXMpXHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY29ycmVjdENyZWRlbnRpYWxzID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gXCJJbmNvcnJlY3QgdXNlcm5hbWUgb3IgcGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcnJvci5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb3JyZWN0Q3JlZGVudGlhbHMgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBcIlVzZXIgbm90IGZvdW5kXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIG90aGVyIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3RoZXIgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZWRpdE5hbWUoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ05hbWUgPSB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhc3luYyBzYXZlTmFtZSgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGVkTmFtZSAhPSB0aGlzLnVzZXIubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVzZXIuYXBpRWRpdFVzZXIodGhpcy5lZGl0ZWROYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ1Byb2ZpbGUgdXBkYXRlZCcpXHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnN0YXR1cylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHByb2ZpbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBvdGhlciBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPdGhlciBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmVkaXRpbmdOYW1lID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPjwvc3R5bGU+IiwiPHRlbXBsYXRlPlxyXG4gICAgPHNlY3Rpb24gY2xhc3M9XCJwdC0zXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LXhzIG14LWF1dG8gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNzAwIGJnLVsjMTYxYjIyXSBmbGV4IGZsZXgtY29sIHRleHQtd2hpdGUgcHgtNCBweS0zXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgUmVnaXN0ZXJcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctZnVsbCBtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtIG1iLTJcIiBmb3I9XCJuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgTmFtZVxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZSBtYi0zXCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cIm5hbWVcIiB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtIG1iLTJcIiBmb3I9XCJ1c2VybmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFVzZXJuYW1lXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzc2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZSBtYi0zXCJcclxuICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7ICdtYi0zJzogIXVzZXJuYW1lSW5Vc2UgfVwiIGlkPVwidXNlcm5hbWVcIiB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJ1c2VybmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gdi1pZj1cInVzZXJuYW1lSW5Vc2VcIiBjbGFzcz1cInRleHQtcmVkLTUwMCBtYi0zXCI+W1VzZXJuYW1lIGFscmVhZHkgdGFrZW5dPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1zbSBtYi0yXCIgZm9yPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICBQYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZSBtYi0zXCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cInBhc3N3b3JkXCIgdHlwZT1cInBhc3N3b3JkXCIgdi1tb2RlbD1cInBhc3N3b3JkXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtIG1iLTJcIiBmb3I9XCJwYXNzd29yZDJcIj5cclxuICAgICAgICAgICAgICAgICAgICBSZS1lbnRlciBQYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJwYXNzd29yZDJcIiB0eXBlPVwicGFzc3dvcmRcIiB2LW1vZGVsPVwicGFzc3dvcmQyXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwiY2hlY2tQYXNzd29yZCgpXCIgY2xhc3M9XCJ0ZXh0LXJlZC01MDAgdGV4dC1zbVwiPltQYXNzd29yZHMgbXVzdCBtYXRjaF08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLW9yYW5nZS01MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMSBweC00IHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgOmNsYXNzPVwiIWNoZWNrRGlzYWJsZWRCdXR0b24oKSA/ICdob3ZlcjpiZy1vcmFuZ2UtNjAwIGhvdmVyOmN1cnNvci1wb2ludGVyJyA6ICdvcGFjaXR5LTUwJ1wiXHJcbiAgICAgICAgICAgICAgICBAY2xpY2s9XCJzdWJtaXRGb3JtXCIgOmRpc2FibGVkPVwiY2hlY2tEaXNhYmxlZEJ1dHRvbigpXCI+U2lnbiBVcFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICA8L3NlY3Rpb24+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBlbWl0czogWydzdWJtaXRSZWdpc3RyYXRpb24nXSxcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgdXNlcm5hbWVJblVzZToge1xyXG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkMjogJycsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzdWJtaXRGb3JtKCkge1xyXG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VibWl0IGZvcm1cIilcclxuICAgICAgICAgICAgdGhpcy4kZW1pdCgnc3VibWl0UmVnaXN0cmF0aW9uJywgcGF5bG9hZClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoZWNrRGlzYWJsZWRCdXR0b24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5uYW1lIHx8ICF0aGlzLnVzZXJuYW1lIHx8ICF0aGlzLnBhc3N3b3JkIHx8ICF0aGlzLnBhc3N3b3JkMiB8fCB0aGlzLmNoZWNrUGFzc3dvcmQoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tQYXNzd29yZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFzc3dvcmQyICYmIHRoaXMucGFzc3dvcmQgIT0gdGhpcy5wYXNzd29yZDJcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxufVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD48L3N0eWxlPiIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgdi1pZj1cIiFvbkxpbmVcIiBjbGFzcz1cIm10LTEyIHB4LTMgcHktMyBibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LW1kIGZvbnQtYm9sZCBiZy1zbGF0ZS00MDAgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICBObyBhY2Nlc3NzIGluIG9mZmxpbmUgbW9kZVxyXG4gICAgPC9kaXY+XHJcbiAgICA8c2VjdGlvbiBjbGFzcz1cIm10LTEyIG1iLTE2IHB0LTMgYmctYmxhY2tcIj5cclxuXHJcbiAgICAgICAgPFJlZ2lzdGVyVXNlciB2LWlmPVwiIXVzZXIubG9nZ2VkX2luIHx8ICFvbkxpbmVcIiBAc3VibWl0UmVnaXN0cmF0aW9uPVwic3VibWl0UmVnaXN0cmF0aW9uXCJcclxuICAgICAgICAgICAgOnVzZXJuYW1lSW5Vc2U9XCJ1c2VybmFtZUluVXNlXCI+XHJcbiAgICAgICAgPC9SZWdpc3RlclVzZXI+XHJcbiAgICA8L3NlY3Rpb24+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5pbXBvcnQgUmVnaXN0ZXJVc2VyIGZyb20gJ0AvY29tcG9uZW50cy9SZWdpc3RlclVzZXIudnVlJztcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IE9iamVjdCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uTGluZToge1xyXG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICBSZWdpc3RlclVzZXIsXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1c2VybmFtZUluVXNlOiBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgYXN5bmMgc3VibWl0UmVnaXN0cmF0aW9uKHBheWxvYWQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlcm5hbWVJblVzZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgdGhpcy51c2VyLmFwaV9yZWdpc3RlcihwYXlsb2FkKVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Iuc3RhdHVzKVxyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VybmFtZUluVXNlID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgb3RoZXIgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPdGhlciBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG5cclxufVxyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD48L3N0eWxlPiIsImltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInXHJcbmltcG9ydCBTZW5kVXBkYXRlIGZyb20gJ0Avdmlld3MvU2VuZFVwZGF0ZS52dWUnXHJcbmltcG9ydCBNYXBWaWV3IGZyb20gJ0Avdmlld3MvTWFwVmlldy52dWUnXHJcbmltcG9ydCBVc2VyUHJvZmlsZSBmcm9tICdAL3ZpZXdzL1VzZXJQcm9maWxlLnZ1ZSdcclxuaW1wb3J0IFJlZ2lzdGVyVmlldyBmcm9tICdAL3ZpZXdzL1JlZ2lzdGVyVmlldy52dWUnXHJcblxyXG5jb25zdCByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoe1xyXG4gIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoaW1wb3J0Lm1ldGEuZW52LkJBU0VfVVJMKSxcclxuICByb3V0ZXM6IFtcclxuICAgIHtcclxuICAgICAgcGF0aDogJy8nLFxyXG4gICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgIGNvbXBvbmVudDogU2VuZFVwZGF0ZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgcGF0aDogJy9tYXAnLFxyXG4gICAgICBuYW1lOiAnbWFwJyxcclxuICAgICAgY29tcG9uZW50OiBNYXBWaWV3XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBwYXRoOiAnL3Byb2ZpbGUnLFxyXG4gICAgICBuYW1lOiAncHJvZmlsZScsXHJcbiAgICAgIGNvbXBvbmVudDogVXNlclByb2ZpbGVcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHBhdGg6ICcvcmVnaXN0ZXInLFxyXG4gICAgICBuYW1lOiAncmVnaXN0ZXInLFxyXG4gICAgICBjb21wb25lbnQ6IFJlZ2lzdGVyVmlld1xyXG4gICAgfVxyXG4gIF1cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxyXG4iLCJpbXBvcnQgeyBjcmVhdGVBcHAgfSBmcm9tICd2dWUnXHJcbmltcG9ydCB7IGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnXHJcbmltcG9ydCBUb2FzdFBsdWdpbiBmcm9tICd2dWUtdG9hc3Qtbm90aWZpY2F0aW9uJ1xyXG5cclxuaW1wb3J0IEFwcCBmcm9tICcuL0FwcC52dWUnXHJcbmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInXHJcbmltcG9ydCAnLi9pbmRleC5jc3MnXHJcbmltcG9ydCAndnVlLXRvYXN0LW5vdGlmaWNhdGlvbi9kaXN0L3RoZW1lLWRlZmF1bHQuY3NzJ1xyXG5cclxuY29uc3QgYXBwID0gY3JlYXRlQXBwKEFwcClcclxuXHJcbmFwcC51c2UoY3JlYXRlUGluaWEoKSlcclxuYXBwLnVzZShyb3V0ZXIpXHJcbmFwcC51c2UoVG9hc3RQbHVnaW4sIHtcclxuICAvLyBPbmUgb2YgdGhlIG9wdGlvbnNcclxuICBwb3NpdGlvbjogJ3RvcC1yaWdodCcsXHJcbiAgZHVyYXRpb246IDMwMDBcclxufSlcclxuXHJcbmFwcC5tb3VudCgnI2FwcCcpXHJcbiJdLCJuYW1lcyI6WyJtYWtlTWFwIiwic3RyIiwiZXhwZWN0c0xvd2VyQ2FzZSIsInNldCIsInZhbCIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIk5PT1AiLCJOTyIsImlzT24iLCJrZXkiLCJpc01vZGVsTGlzdGVuZXIiLCJleHRlbmQiLCJyZW1vdmUiLCJhcnIiLCJlbCIsImkiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc093biIsImlzQXJyYXkiLCJpc01hcCIsInRvVHlwZVN0cmluZyIsImlzU2V0IiwiaXNEYXRlIiwiaXNSZWdFeHAiLCJpc0Z1bmN0aW9uIiwiaXNTdHJpbmciLCJpc1N5bWJvbCIsImlzT2JqZWN0IiwiaXNQcm9taXNlIiwib2JqZWN0VG9TdHJpbmciLCJ2YWx1ZSIsInRvUmF3VHlwZSIsImlzUGxhaW5PYmplY3QiLCJpc0ludGVnZXJLZXkiLCJpc1Jlc2VydmVkUHJvcCIsImNhY2hlU3RyaW5nRnVuY3Rpb24iLCJmbiIsImNhY2hlIiwiY2FtZWxpemVSRSIsImNhbWVsaXplIiwiXyIsImMiLCJoeXBoZW5hdGVSRSIsImh5cGhlbmF0ZSIsImNhcGl0YWxpemUiLCJ0b0hhbmRsZXJLZXkiLCJoYXNDaGFuZ2VkIiwib2xkVmFsdWUiLCJpbnZva2VBcnJheUZucyIsImZucyIsImFyZyIsImRlZiIsIm9iaiIsImxvb3NlVG9OdW1iZXIiLCJuIiwidG9OdW1iZXIiLCJfZ2xvYmFsVGhpcyIsImdldEdsb2JhbFRoaXMiLCJHTE9CQUxTX0FMTE9XRUQiLCJpc0dsb2JhbGx5QWxsb3dlZCIsIm5vcm1hbGl6ZVN0eWxlIiwicmVzIiwiaXRlbSIsIm5vcm1hbGl6ZWQiLCJwYXJzZVN0cmluZ1N0eWxlIiwibGlzdERlbGltaXRlclJFIiwicHJvcGVydHlEZWxpbWl0ZXJSRSIsInN0eWxlQ29tbWVudFJFIiwiY3NzVGV4dCIsInJldCIsInRtcCIsIm5vcm1hbGl6ZUNsYXNzIiwibmFtZSIsIm5vcm1hbGl6ZVByb3BzIiwicHJvcHMiLCJrbGFzcyIsInN0eWxlIiwic3BlY2lhbEJvb2xlYW5BdHRycyIsImlzU3BlY2lhbEJvb2xlYW5BdHRyIiwiaW5jbHVkZUJvb2xlYW5BdHRyIiwibG9vc2VDb21wYXJlQXJyYXlzIiwiYSIsImIiLCJlcXVhbCIsImxvb3NlRXF1YWwiLCJhVmFsaWRUeXBlIiwiYlZhbGlkVHlwZSIsImFLZXlzQ291bnQiLCJiS2V5c0NvdW50IiwiYUhhc0tleSIsImJIYXNLZXkiLCJsb29zZUluZGV4T2YiLCJ0b0Rpc3BsYXlTdHJpbmciLCJyZXBsYWNlciIsIl9rZXkiLCJlbnRyaWVzIiwidmFsMiIsInN0cmluZ2lmeVN5bWJvbCIsInYiLCJfYSIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiRWZmZWN0U2NvcGUiLCJkZXRhY2hlZCIsImN1cnJlbnRFZmZlY3RTY29wZSIsImZyb21QYXJlbnQiLCJsIiwibGFzdCIsImVmZmVjdFNjb3BlIiwicmVjb3JkRWZmZWN0U2NvcGUiLCJlZmZlY3QiLCJzY29wZSIsImdldEN1cnJlbnRTY29wZSIsIm9uU2NvcGVEaXNwb3NlIiwiYWN0aXZlRWZmZWN0IiwiUmVhY3RpdmVFZmZlY3QiLCJ0cmlnZ2VyIiwic2NoZWR1bGVyIiwicGF1c2VUcmFja2luZyIsImRlcCIsInRyaWdnZXJDb21wdXRlZCIsInJlc2V0VHJhY2tpbmciLCJsYXN0U2hvdWxkVHJhY2siLCJzaG91bGRUcmFjayIsImxhc3RFZmZlY3QiLCJwcmVDbGVhbnVwRWZmZWN0IiwicG9zdENsZWFudXBFZmZlY3QiLCJjb21wdXRlZCIsImVmZmVjdDIiLCJjbGVhbnVwRGVwRWZmZWN0IiwidHJhY2tJZCIsIm9wdGlvbnMiLCJfZWZmZWN0IiwicnVubmVyIiwic3RvcCIsInBhdXNlU2NoZWR1bGVTdGFjayIsInRyYWNrU3RhY2siLCJwYXVzZVNjaGVkdWxpbmciLCJyZXNldFNjaGVkdWxpbmciLCJxdWV1ZUVmZmVjdFNjaGVkdWxlcnMiLCJ0cmFja0VmZmVjdCIsImRlYnVnZ2VyRXZlbnRFeHRyYUluZm8iLCJvbGREZXAiLCJ0cmlnZ2VyRWZmZWN0cyIsImRpcnR5TGV2ZWwiLCJ0cmFja2luZyIsImNyZWF0ZURlcCIsImNsZWFudXAiLCJ0YXJnZXRNYXAiLCJJVEVSQVRFX0tFWSIsIk1BUF9LRVlfSVRFUkFURV9LRVkiLCJ0cmFjayIsInRhcmdldCIsInR5cGUiLCJkZXBzTWFwIiwibmV3VmFsdWUiLCJvbGRUYXJnZXQiLCJkZXBzIiwibmV3TGVuZ3RoIiwia2V5MiIsImdldERlcEZyb21SZWFjdGl2ZSIsIm9iamVjdCIsImlzTm9uVHJhY2thYmxlS2V5cyIsImJ1aWx0SW5TeW1ib2xzIiwiYXJyYXlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zIiwiaW5zdHJ1bWVudGF0aW9ucyIsImFyZ3MiLCJ0b1JhdyIsIkJhc2VSZWFjdGl2ZUhhbmRsZXIiLCJfaXNSZWFkb25seSIsIl9pc1NoYWxsb3ciLCJyZWNlaXZlciIsImlzUmVhZG9ubHkyIiwiaXNTaGFsbG93MiIsInNoYWxsb3dSZWFkb25seU1hcCIsInJlYWRvbmx5TWFwIiwic2hhbGxvd1JlYWN0aXZlTWFwIiwicmVhY3RpdmVNYXAiLCJ0YXJnZXRJc0FycmF5IiwiaXNSZWYiLCJyZWFkb25seSIsInJlYWN0aXZlIiwiTXV0YWJsZVJlYWN0aXZlSGFuZGxlciIsImlzT2xkVmFsdWVSZWFkb25seSIsImlzUmVhZG9ubHkiLCJpc1NoYWxsb3ciLCJoYWRLZXkiLCJyZXN1bHQiLCJSZWFkb25seVJlYWN0aXZlSGFuZGxlciIsIm11dGFibGVIYW5kbGVycyIsInJlYWRvbmx5SGFuZGxlcnMiLCJzaGFsbG93UmVhY3RpdmVIYW5kbGVycyIsInNoYWxsb3dSZWFkb25seUhhbmRsZXJzIiwidG9TaGFsbG93IiwiZ2V0UHJvdG8iLCJnZXQiLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJoYXMyIiwid3JhcCIsInRvUmVhZG9ubHkiLCJ0b1JlYWN0aXZlIiwiaGFzIiwic2l6ZSIsImFkZCIsImdldDIiLCJkZWxldGVFbnRyeSIsImNsZWFyIiwiaGFkSXRlbXMiLCJjcmVhdGVGb3JFYWNoIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwib2JzZXJ2ZWQiLCJjcmVhdGVJdGVyYWJsZU1ldGhvZCIsIm1ldGhvZCIsInRhcmdldElzTWFwIiwiaXNQYWlyIiwiaXNLZXlPbmx5IiwiaW5uZXJJdGVyYXRvciIsImRvbmUiLCJjcmVhdGVSZWFkb25seU1ldGhvZCIsImNyZWF0ZUluc3RydW1lbnRhdGlvbnMiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczIiLCJzaGFsbG93SW5zdHJ1bWVudGF0aW9uczIiLCJyZWFkb25seUluc3RydW1lbnRhdGlvbnMyIiwic2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIiLCJtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyIsInJlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9ucyIsImNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlciIsInNoYWxsb3ciLCJtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyIsInJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwic2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzIiwidGFyZ2V0VHlwZU1hcCIsInJhd1R5cGUiLCJnZXRUYXJnZXRUeXBlIiwiY3JlYXRlUmVhY3RpdmVPYmplY3QiLCJzaGFsbG93UmVhY3RpdmUiLCJzaGFsbG93UmVhZG9ubHkiLCJiYXNlSGFuZGxlcnMiLCJjb2xsZWN0aW9uSGFuZGxlcnMiLCJwcm94eU1hcCIsImV4aXN0aW5nUHJveHkiLCJ0YXJnZXRUeXBlIiwicHJveHkiLCJpc1JlYWN0aXZlIiwiaXNQcm94eSIsInJhdyIsIm1hcmtSYXciLCJDb21wdXRlZFJlZkltcGwiLCJnZXR0ZXIiLCJfc2V0dGVyIiwiaXNTU1IiLCJ0cmlnZ2VyUmVmVmFsdWUiLCJzZWxmIiwidHJhY2tSZWZWYWx1ZSIsImdldHRlck9yT3B0aW9ucyIsImRlYnVnT3B0aW9ucyIsInNldHRlciIsIm9ubHlHZXR0ZXIiLCJyZWYyIiwibmV3VmFsIiwiciIsInJlZiIsImNyZWF0ZVJlZiIsInNoYWxsb3dSZWYiLCJyYXdWYWx1ZSIsIlJlZkltcGwiLCJfX3ZfaXNTaGFsbG93IiwidXNlRGlyZWN0VmFsdWUiLCJ0cmlnZ2VyUmVmIiwidW5yZWYiLCJ0b1ZhbHVlIiwic291cmNlIiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwicHJveHlSZWZzIiwib2JqZWN0V2l0aFJlZnMiLCJDdXN0b21SZWZJbXBsIiwiZmFjdG9yeSIsImN1c3RvbVJlZiIsInRvUmVmcyIsInByb3BlcnR5VG9SZWYiLCJPYmplY3RSZWZJbXBsIiwiX29iamVjdCIsIl9kZWZhdWx0VmFsdWUiLCJHZXR0ZXJSZWZJbXBsIiwiX2dldHRlciIsInRvUmVmIiwiZGVmYXVsdFZhbHVlIiwiVHJhY2tPcFR5cGVzIiwiVHJpZ2dlck9wVHlwZXMiLCJhc3NlcnROdW1iZXIiLCJFcnJvckNvZGVzIiwiRXJyb3JUeXBlU3RyaW5ncyQxIiwiY2FsbFdpdGhFcnJvckhhbmRsaW5nIiwiaW5zdGFuY2UiLCJlcnIiLCJoYW5kbGVFcnJvciIsImNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nIiwidmFsdWVzIiwidGhyb3dJbkRldiIsImNvbnRleHRWTm9kZSIsImN1ciIsImV4cG9zZWRJbnN0YW5jZSIsImVycm9ySW5mbyIsImVycm9yQ2FwdHVyZWRIb29rcyIsImFwcEVycm9ySGFuZGxlciIsImxvZ0Vycm9yIiwiaXNGbHVzaGluZyIsImlzRmx1c2hQZW5kaW5nIiwicXVldWUiLCJmbHVzaEluZGV4IiwicGVuZGluZ1Bvc3RGbHVzaENicyIsImFjdGl2ZVBvc3RGbHVzaENicyIsInBvc3RGbHVzaEluZGV4IiwicmVzb2x2ZWRQcm9taXNlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIm5leHRUaWNrIiwicCIsImZpbmRJbnNlcnRpb25JbmRleCIsImlkIiwic3RhcnQiLCJlbmQiLCJtaWRkbGUiLCJtaWRkbGVKb2IiLCJtaWRkbGVKb2JJZCIsImdldElkIiwicXVldWVKb2IiLCJqb2IiLCJxdWV1ZUZsdXNoIiwiZmx1c2hKb2JzIiwiaW52YWxpZGF0ZUpvYiIsInF1ZXVlUG9zdEZsdXNoQ2IiLCJjYiIsImZsdXNoUHJlRmx1c2hDYnMiLCJzZWVuIiwiZmx1c2hQb3N0Rmx1c2hDYnMiLCJkZWR1cGVkIiwiY29tcGFyYXRvciIsImRpZmYiLCJkZXZ0b29scyQxIiwiYnVmZmVyIiwic2V0RGV2dG9vbHNIb29rJDEiLCJob29rIiwiX2IiLCJldmVudCIsIm5ld0hvb2siLCJlbWl0IiwicmF3QXJncyIsIm1vZGVsQXJnIiwibW9kaWZpZXJzS2V5IiwibnVtYmVyIiwidHJpbSIsImhhbmRsZXJOYW1lIiwiaGFuZGxlciIsIm9uY2VIYW5kbGVyIiwibm9ybWFsaXplRW1pdHNPcHRpb25zIiwiY29tcCIsImFwcENvbnRleHQiLCJhc01peGluIiwiY2FjaGVkIiwiaGFzRXh0ZW5kcyIsImV4dGVuZEVtaXRzIiwicmF3MiIsIm5vcm1hbGl6ZWRGcm9tRXh0ZW5kIiwiaXNFbWl0TGlzdGVuZXIiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJjdXJyZW50U2NvcGVJZCIsInNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsInByZXYiLCJwdXNoU2NvcGVJZCIsInBvcFNjb3BlSWQiLCJ3aXRoU2NvcGVJZCIsIl9pZCIsIndpdGhDdHgiLCJjdHgiLCJpc05vblNjb3BlZFNsb3QiLCJyZW5kZXJGbldpdGhDb250ZXh0Iiwic2V0QmxvY2tUcmFja2luZyIsInByZXZJbnN0YW5jZSIsInJlbmRlckNvbXBvbmVudFJvb3QiLCJDb21wb25lbnQiLCJ2bm9kZSIsIndpdGhQcm94eSIsInByb3BzT3B0aW9ucyIsInNsb3RzIiwiYXR0cnMiLCJyZW5kZXIiLCJyZW5kZXJDYWNoZSIsImRhdGEiLCJzZXR1cFN0YXRlIiwiaW5oZXJpdEF0dHJzIiwiZmFsbHRocm91Z2hBdHRycyIsInByb3h5VG9Vc2UiLCJ0aGlzUHJveHkiLCJub3JtYWxpemVWTm9kZSIsInJlbmRlcjIiLCJnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2giLCJibG9ja1N0YWNrIiwiY3JlYXRlVk5vZGUiLCJDb21tZW50Iiwicm9vdCIsImtleXMiLCJzaGFwZUZsYWciLCJmaWx0ZXJNb2RlbExpc3RlbmVycyIsImNsb25lVk5vZGUiLCJmaWx0ZXJTaW5nbGVSb290IiwiY2hpbGRyZW4iLCJyZWN1cnNlIiwic2luZ2xlUm9vdCIsImNoaWxkIiwiaXNWTm9kZSIsInNob3VsZFVwZGF0ZUNvbXBvbmVudCIsInByZXZWTm9kZSIsIm5leHRWTm9kZSIsIm9wdGltaXplZCIsInByZXZQcm9wcyIsInByZXZDaGlsZHJlbiIsImNvbXBvbmVudCIsIm5leHRQcm9wcyIsIm5leHRDaGlsZHJlbiIsInBhdGNoRmxhZyIsImVtaXRzIiwiaGFzUHJvcHNDaGFuZ2VkIiwiZHluYW1pY1Byb3BzIiwiZW1pdHNPcHRpb25zIiwibmV4dEtleXMiLCJ1cGRhdGVIT0NIb3N0RWwiLCJwYXJlbnQiLCJDT01QT05FTlRTIiwiRElSRUNUSVZFUyIsInJlc29sdmVDb21wb25lbnQiLCJtYXliZVNlbGZSZWZlcmVuY2UiLCJyZXNvbHZlQXNzZXQiLCJOVUxMX0RZTkFNSUNfQ09NUE9ORU5UIiwicmVzb2x2ZUR5bmFtaWNDb21wb25lbnQiLCJyZXNvbHZlRGlyZWN0aXZlIiwid2Fybk1pc3NpbmciLCJjdXJyZW50SW5zdGFuY2UiLCJzZWxmTmFtZSIsImdldENvbXBvbmVudE5hbWUiLCJyZXNvbHZlIiwicmVnaXN0cnkiLCJpc1N1c3BlbnNlIiwic3VzcGVuc2VJZCIsIlN1c3BlbnNlSW1wbCIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJwYXJlbnRTdXNwZW5zZSIsIm5hbWVzcGFjZSIsInNsb3RTY29wZUlkcyIsInJlbmRlcmVySW50ZXJuYWxzIiwibW91bnRTdXNwZW5zZSIsInBhdGNoU3VzcGVuc2UiLCJoeWRyYXRlU3VzcGVuc2UiLCJjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5Iiwibm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbiIsIlN1c3BlbnNlIiwidHJpZ2dlckV2ZW50IiwiZXZlbnRMaXN0ZW5lciIsInBhdGNoIiwiY3JlYXRlRWxlbWVudCIsImhpZGRlbkNvbnRhaW5lciIsInN1c3BlbnNlIiwic2V0QWN0aXZlQnJhbmNoIiwidW5tb3VudCIsIm5ld0JyYW5jaCIsIm5ld0ZhbGxiYWNrIiwiYWN0aXZlQnJhbmNoIiwicGVuZGluZ0JyYW5jaCIsImlzSW5GYWxsYmFjayIsImlzSHlkcmF0aW5nIiwiaXNTYW1lVk5vZGVUeXBlIiwidGltZW91dCIsInBlbmRpbmdJZCIsIm1vdmUiLCJuZXh0IiwicGFyZW50Tm9kZSIsInBhcmVudFN1c3BlbnNlSWQiLCJpc1N1c3BlbnNpYmxlIiwiaXNWTm9kZVN1c3BlbnNpYmxlIiwiaW5pdGlhbEFuY2hvciIsInJlc3VtZSIsInN5bmMiLCJ2bm9kZTIiLCJlZmZlY3RzIiwicGFyZW50Q29tcG9uZW50MiIsImNvbnRhaW5lcjIiLCJkZWxheUVudGVyIiwiaGFzVW5yZXNvbHZlZEFuY2VzdG9yIiwiZmFsbGJhY2tWTm9kZSIsIm5hbWVzcGFjZTIiLCJhbmNob3IyIiwibW91bnRGYWxsYmFjayIsInNldHVwUmVuZGVyRWZmZWN0IiwiaXNJblBlbmRpbmdTdXNwZW5zZSIsImh5ZHJhdGVkRWwiLCJhc3luY1NldHVwUmVzdWx0IiwiaGFuZGxlU2V0dXBSZXN1bHQiLCJwbGFjZWhvbGRlciIsInBhcmVudFN1c3BlbnNlMiIsImRvUmVtb3ZlIiwibm9kZSIsImh5ZHJhdGVOb2RlIiwiaXNTbG90Q2hpbGRyZW4iLCJub3JtYWxpemVTdXNwZW5zZVNsb3QiLCJzIiwiYmxvY2siLCJ0cmFja0Jsb2NrIiwiaXNCbG9ja1RyZWVFbmFibGVkIiwib3BlbkJsb2NrIiwiY3VycmVudEJsb2NrIiwiY2xvc2VCbG9jayIsInF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIiwiYnJhbmNoIiwic3NyQ29udGV4dEtleSIsInVzZVNTUkNvbnRleHQiLCJpbmplY3QiLCJ3YXRjaEVmZmVjdCIsImRvV2F0Y2giLCJ3YXRjaFBvc3RFZmZlY3QiLCJ3YXRjaFN5bmNFZmZlY3QiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJ3YXRjaCIsImltbWVkaWF0ZSIsImRlZXAiLCJmbHVzaCIsIm9uY2UiLCJvblRyYWNrIiwib25UcmlnZ2VyIiwiX2NiIiwidW53YXRjaCIsInJlYWN0aXZlR2V0dGVyIiwic291cmNlMiIsInRyYXZlcnNlIiwiZm9yY2VUcmlnZ2VyIiwiaXNNdWx0aVNvdXJjZSIsIm9uQ2xlYW51cCIsImJhc2VHZXR0ZXIiLCJzc3JDbGVhbnVwIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwicXVldWVQb3N0UmVuZGVyRWZmZWN0IiwiaW5zdGFuY2VXYXRjaCIsInB1YmxpY1RoaXMiLCJjcmVhdGVQYXRoR2V0dGVyIiwicmVzZXQiLCJzZXRDdXJyZW50SW5zdGFuY2UiLCJwYXRoIiwic2VnbWVudHMiLCJkZXB0aCIsImN1cnJlbnREZXB0aCIsIndpdGhEaXJlY3RpdmVzIiwiZGlyZWN0aXZlcyIsImdldEV4cG9zZVByb3h5IiwiYmluZGluZ3MiLCJkaXIiLCJtb2RpZmllcnMiLCJpbnZva2VEaXJlY3RpdmVIb29rIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwibGVhdmVDYktleSIsImVudGVyQ2JLZXkiLCJ1c2VUcmFuc2l0aW9uU3RhdGUiLCJzdGF0ZSIsIm9uTW91bnRlZCIsIm9uQmVmb3JlVW5tb3VudCIsIlRyYW5zaXRpb25Ib29rVmFsaWRhdG9yIiwiQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJCYXNlVHJhbnNpdGlvbkltcGwiLCJnZXRDdXJyZW50SW5zdGFuY2UiLCJnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4iLCJyYXdQcm9wcyIsIm1vZGUiLCJlbXB0eVBsYWNlaG9sZGVyIiwiaW5uZXJDaGlsZCIsImdldEtlZXBBbGl2ZUNoaWxkIiwiZW50ZXJIb29rcyIsInJlc29sdmVUcmFuc2l0aW9uSG9va3MiLCJzZXRUcmFuc2l0aW9uSG9va3MiLCJvbGRDaGlsZCIsIm9sZElubmVyQ2hpbGQiLCJsZWF2aW5nSG9va3MiLCJlYXJseVJlbW92ZSIsImRlbGF5ZWRMZWF2ZSIsImxlYXZpbmdWTm9kZXNDYWNoZSIsImdldExlYXZpbmdOb2Rlc0ZvclR5cGUiLCJCYXNlVHJhbnNpdGlvbiIsImxlYXZpbmdWTm9kZXMiLCJhcHBlYXIiLCJwZXJzaXN0ZWQiLCJvbkJlZm9yZUVudGVyIiwib25FbnRlciIsIm9uQWZ0ZXJFbnRlciIsIm9uRW50ZXJDYW5jZWxsZWQiLCJvbkJlZm9yZUxlYXZlIiwib25MZWF2ZSIsIm9uQWZ0ZXJMZWF2ZSIsIm9uTGVhdmVDYW5jZWxsZWQiLCJvbkJlZm9yZUFwcGVhciIsIm9uQXBwZWFyIiwib25BZnRlckFwcGVhciIsIm9uQXBwZWFyQ2FuY2VsbGVkIiwiY2FsbEhvb2siLCJjYWxsQXN5bmNIb29rIiwiaG9vazIiLCJob29rcyIsImxlYXZpbmdWTm9kZSIsImFmdGVySG9vayIsImNhbmNlbEhvb2siLCJjYWxsZWQiLCJjYW5jZWxsZWQiLCJpc0tlZXBBbGl2ZSIsImtlZXBDb21tZW50IiwicGFyZW50S2V5Iiwia2V5ZWRGcmFnbWVudENvdW50IiwiRnJhZ21lbnQiLCJkZWZpbmVDb21wb25lbnQiLCJleHRyYU9wdGlvbnMiLCJpc0FzeW5jV3JhcHBlciIsImRlZmluZUFzeW5jQ29tcG9uZW50IiwibG9hZGVyIiwibG9hZGluZ0NvbXBvbmVudCIsImVycm9yQ29tcG9uZW50IiwiZGVsYXkiLCJzdXNwZW5zaWJsZSIsInVzZXJPbkVycm9yIiwicGVuZGluZ1JlcXVlc3QiLCJyZXNvbHZlZENvbXAiLCJyZXRyaWVzIiwicmV0cnkiLCJsb2FkIiwidGhpc1JlcXVlc3QiLCJyZWplY3QiLCJjcmVhdGVJbm5lckNvbXAiLCJvbkVycm9yIiwibG9hZGVkIiwiZXJyb3IiLCJkZWxheWVkIiwiY2UiLCJLZWVwQWxpdmVJbXBsIiwic2hhcmVkQ29udGV4dCIsImN1cnJlbnQiLCJfdW5tb3VudCIsInN0b3JhZ2VDb250YWluZXIiLCJpbnN0YW5jZTIiLCJ2bm9kZUhvb2siLCJpbnZva2VWTm9kZUhvb2siLCJyZXNldFNoYXBlRmxhZyIsInBydW5lQ2FjaGUiLCJmaWx0ZXIiLCJwcnVuZUNhY2hlRW50cnkiLCJpbmNsdWRlIiwiZXhjbHVkZSIsIm1hdGNoZXMiLCJwZW5kaW5nQ2FjaGVLZXkiLCJjYWNoZVN1YnRyZWUiLCJnZXRJbm5lckNoaWxkIiwib25VcGRhdGVkIiwic3ViVHJlZSIsImRhIiwicmF3Vk5vZGUiLCJtYXgiLCJjYWNoZWRWTm9kZSIsIktlZXBBbGl2ZSIsInBhdHRlcm4iLCJvbkFjdGl2YXRlZCIsInJlZ2lzdGVyS2VlcEFsaXZlSG9vayIsIm9uRGVhY3RpdmF0ZWQiLCJ3cmFwcGVkSG9vayIsImluamVjdEhvb2siLCJpbmplY3RUb0tlZXBBbGl2ZVJvb3QiLCJrZWVwQWxpdmVSb290IiwiaW5qZWN0ZWQiLCJvblVubW91bnRlZCIsInByZXBlbmQiLCJjcmVhdGVIb29rIiwibGlmZWN5Y2xlIiwib25CZWZvcmVNb3VudCIsIm9uQmVmb3JlVXBkYXRlIiwib25TZXJ2ZXJQcmVmZXRjaCIsIm9uUmVuZGVyVHJpZ2dlcmVkIiwib25SZW5kZXJUcmFja2VkIiwib25FcnJvckNhcHR1cmVkIiwicmVuZGVyTGlzdCIsInJlbmRlckl0ZW0iLCJpbmRleCIsImNyZWF0ZVNsb3RzIiwiZHluYW1pY1Nsb3RzIiwic2xvdCIsImoiLCJyZW5kZXJTbG90IiwiZmFsbGJhY2siLCJub1Nsb3R0ZWQiLCJ2YWxpZFNsb3RDb250ZW50IiwiZW5zdXJlVmFsaWRWTm9kZSIsInJlbmRlcmVkIiwiY3JlYXRlQmxvY2siLCJ2bm9kZXMiLCJ0b0hhbmRsZXJzIiwicHJlc2VydmVDYXNlSWZOZWNlc3NhcnkiLCJnZXRQdWJsaWNJbnN0YW5jZSIsImlzU3RhdGVmdWxDb21wb25lbnQiLCJwdWJsaWNQcm9wZXJ0aWVzTWFwIiwicmVzb2x2ZU1lcmdlZE9wdGlvbnMiLCJoYXNTZXR1cEJpbmRpbmciLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJhY2Nlc3NDYWNoZSIsIm5vcm1hbGl6ZWRQcm9wcyIsInNob3VsZENhY2hlQWNjZXNzIiwicHVibGljR2V0dGVyIiwiY3NzTW9kdWxlIiwiZ2xvYmFsUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJkZWZpbmVQcm9wcyIsImRlZmluZUVtaXRzIiwiZGVmaW5lRXhwb3NlIiwiZXhwb3NlZCIsImRlZmluZU9wdGlvbnMiLCJkZWZpbmVTbG90cyIsImRlZmluZU1vZGVsIiwid2l0aERlZmF1bHRzIiwiZGVmYXVsdHMiLCJ1c2VTbG90cyIsImdldENvbnRleHQiLCJ1c2VBdHRycyIsImNyZWF0ZVNldHVwQ29udGV4dCIsIm5vcm1hbGl6ZVByb3BzT3JFbWl0cyIsIm1lcmdlRGVmYXVsdHMiLCJvcHQiLCJtZXJnZU1vZGVscyIsImNyZWF0ZVByb3BzUmVzdFByb3h5IiwiZXhjbHVkZWRLZXlzIiwid2l0aEFzeW5jQ29udGV4dCIsImdldEF3YWl0YWJsZSIsImF3YWl0YWJsZSIsInVuc2V0Q3VycmVudEluc3RhbmNlIiwiZSIsImFwcGx5T3B0aW9ucyIsImRhdGFPcHRpb25zIiwiY29tcHV0ZWRPcHRpb25zIiwibWV0aG9kcyIsIndhdGNoT3B0aW9ucyIsInByb3ZpZGVPcHRpb25zIiwiaW5qZWN0T3B0aW9ucyIsImNyZWF0ZWQiLCJiZWZvcmVNb3VudCIsIm1vdW50ZWQiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiYWN0aXZhdGVkIiwiZGVhY3RpdmF0ZWQiLCJiZWZvcmVEZXN0cm95IiwiYmVmb3JlVW5tb3VudCIsImRlc3Ryb3llZCIsInVubW91bnRlZCIsInJlbmRlclRyYWNrZWQiLCJyZW5kZXJUcmlnZ2VyZWQiLCJlcnJvckNhcHR1cmVkIiwic2VydmVyUHJlZmV0Y2giLCJleHBvc2UiLCJjb21wb25lbnRzIiwiZmlsdGVycyIsInJlc29sdmVJbmplY3Rpb25zIiwibWV0aG9kSGFuZGxlciIsImNyZWF0ZVdhdGNoZXIiLCJwcm92aWRlcyIsInByb3ZpZGUiLCJyZWdpc3RlckxpZmVjeWNsZUhvb2siLCJyZWdpc3RlciIsIl9ob29rIiwiY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzIiwibm9ybWFsaXplSW5qZWN0IiwiaCIsImJhc2UiLCJtaXhpbnMiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInJlc29sdmVkIiwibSIsIm1lcmdlT3B0aW9ucyIsInRvIiwiZnJvbSIsInN0cmF0cyIsInN0cmF0IiwiaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyIsIm1lcmdlRGF0YUZuIiwibWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zIiwibWVyZ2VPYmplY3RPcHRpb25zIiwibWVyZ2VBc0FycmF5IiwibWVyZ2VXYXRjaE9wdGlvbnMiLCJtZXJnZUluamVjdCIsIm1lcmdlZCIsImNyZWF0ZUFwcENvbnRleHQiLCJ1aWQkMSIsImNyZWF0ZUFwcEFQSSIsImh5ZHJhdGUiLCJyb290Q29tcG9uZW50Iiwicm9vdFByb3BzIiwiY29udGV4dCIsImluc3RhbGxlZFBsdWdpbnMiLCJpc01vdW50ZWQiLCJhcHAiLCJ2ZXJzaW9uIiwicGx1Z2luIiwibWl4aW4iLCJkaXJlY3RpdmUiLCJyb290Q29udGFpbmVyIiwiaXNIeWRyYXRlIiwibGFzdEFwcCIsImN1cnJlbnRBcHAiLCJwYXJlbnRQcm92aWRlcyIsInRyZWF0RGVmYXVsdEFzRmFjdG9yeSIsImhhc0luamVjdGlvbkNvbnRleHQiLCJpbml0UHJvcHMiLCJpc1N0YXRlZnVsIiwiSW50ZXJuYWxPYmplY3RLZXkiLCJzZXRGdWxsUHJvcHMiLCJ1cGRhdGVQcm9wcyIsInJhd1ByZXZQcm9wcyIsInJhd0N1cnJlbnRQcm9wcyIsImhhc0F0dHJzQ2hhbmdlZCIsInByb3BzVG9VcGRhdGUiLCJjYW1lbGl6ZWRLZXkiLCJyZXNvbHZlUHJvcFZhbHVlIiwia2ViYWJLZXkiLCJuZWVkQ2FzdEtleXMiLCJyYXdDYXN0VmFsdWVzIiwiY2FtZWxLZXkiLCJjYXN0VmFsdWVzIiwiaXNBYnNlbnQiLCJoYXNEZWZhdWx0IiwicHJvcHNEZWZhdWx0cyIsIm5vcm1hbGl6ZVByb3BzT3B0aW9ucyIsImV4dGVuZFByb3BzIiwibm9ybWFsaXplZEtleSIsInZhbGlkYXRlUHJvcE5hbWUiLCJwcm9wIiwiYm9vbGVhbkluZGV4IiwiZ2V0VHlwZUluZGV4Iiwic3RyaW5nSW5kZXgiLCJnZXRUeXBlIiwiY3RvciIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwidCIsImlzSW50ZXJuYWxLZXkiLCJub3JtYWxpemVTbG90VmFsdWUiLCJub3JtYWxpemVTbG90IiwicmF3U2xvdCIsIm5vcm1hbGl6ZU9iamVjdFNsb3RzIiwicmF3U2xvdHMiLCJub3JtYWxpemVWTm9kZVNsb3RzIiwiaW5pdFNsb3RzIiwidXBkYXRlU2xvdHMiLCJuZWVkRGVsZXRpb25DaGVjayIsImRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCIsInNldFJlZiIsInJhd1JlZiIsIm9sZFJhd1JlZiIsImlzVW5tb3VudCIsInJlZlZhbHVlIiwib3duZXIiLCJvbGRSZWYiLCJyZWZzIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwiZG9TZXQiLCJleGlzdGluZyIsImhhc01pc21hdGNoIiwiaXNTVkdDb250YWluZXIiLCJpc01hdGhNTENvbnRhaW5lciIsImdldENvbnRhaW5lclR5cGUiLCJpc0NvbW1lbnQiLCJjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMiLCJtb3VudENvbXBvbmVudCIsInBhdGNoUHJvcCIsImNyZWF0ZVRleHQiLCJuZXh0U2libGluZyIsImluc2VydCIsImNyZWF0ZUNvbW1lbnQiLCJpc0ZyYWdtZW50U3RhcnQiLCJvbk1pc21hdGNoIiwiaGFuZGxlTWlzbWF0Y2giLCJkb21UeXBlIiwibmV4dE5vZGUiLCJUZXh0IiwiaXNUZW1wbGF0ZU5vZGUiLCJyZXBsYWNlTm9kZSIsIlN0YXRpYyIsIm5lZWRUb0Fkb3B0Q29udGVudCIsImh5ZHJhdGVGcmFnbWVudCIsImh5ZHJhdGVFbGVtZW50IiwibG9jYXRlQ2xvc2luZ0FuY2hvciIsImNyZWF0ZVRleHRWTm9kZSIsImh5ZHJhdGVDaGlsZHJlbiIsImRpcnMiLCJ0cmFuc2l0aW9uIiwiZm9yY2VQYXRjaCIsIm5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIiwibmVlZFRyYW5zaXRpb24iLCJjb250ZW50Iiwidm5vZGVIb29rcyIsInBhcmVudFZOb2RlIiwiZnJhZ21lbnRTbG90U2NvcGVJZHMiLCJpc0ZyYWdtZW50IiwibmV4dDIiLCJvcGVuIiwiY2xvc2UiLCJtYXRjaCIsIm5ld05vZGUiLCJvbGROb2RlIiwicGFyZW50Tm9kZTIiLCJjcmVhdGVSZW5kZXJlciIsImJhc2VDcmVhdGVSZW5kZXJlciIsImNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uRm5zIiwiaG9zdEluc2VydCIsImhvc3RSZW1vdmUiLCJob3N0UGF0Y2hQcm9wIiwiaG9zdENyZWF0ZUVsZW1lbnQiLCJob3N0Q3JlYXRlVGV4dCIsImhvc3RDcmVhdGVDb21tZW50IiwiaG9zdFNldFRleHQiLCJob3N0U2V0RWxlbWVudFRleHQiLCJob3N0UGFyZW50Tm9kZSIsImhvc3ROZXh0U2libGluZyIsImhvc3RTZXRTY29wZUlkIiwiaG9zdEluc2VydFN0YXRpY0NvbnRlbnQiLCJnZXROZXh0SG9zdE5vZGUiLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NDb21tZW50Tm9kZSIsIm1vdW50U3RhdGljTm9kZSIsInByb2Nlc3NGcmFnbWVudCIsInByb2Nlc3NFbGVtZW50IiwicHJvY2Vzc0NvbXBvbmVudCIsImludGVybmFscyIsIm1vdmVTdGF0aWNOb2RlIiwicmVtb3ZlU3RhdGljTm9kZSIsIm1vdW50RWxlbWVudCIsInBhdGNoRWxlbWVudCIsIm1vdW50Q2hpbGRyZW4iLCJyZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UiLCJzZXRTY29wZUlkIiwidW5tb3VudENoaWxkcmVuIiwic2NvcGVJZCIsImNsb25lSWZNb3VudGVkIiwiZHluYW1pY0NoaWxkcmVuIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsInRvZ2dsZVJlY3Vyc2UiLCJwYXRjaEJsb2NrQ2hpbGRyZW4iLCJwYXRjaENoaWxkcmVuIiwicGF0Y2hQcm9wcyIsIm9sZENoaWxkcmVuIiwibmV3Q2hpbGRyZW4iLCJmYWxsYmFja0NvbnRhaW5lciIsIm9sZFZOb2RlIiwibmV3Vk5vZGUiLCJmcmFnbWVudFN0YXJ0QW5jaG9yIiwiZnJhZ21lbnRFbmRBbmNob3IiLCJ0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuIiwidXBkYXRlQ29tcG9uZW50IiwiaW5pdGlhbFZOb2RlIiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UiLCJzZXR1cENvbXBvbmVudCIsInVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciIsImNvbXBvbmVudFVwZGF0ZUZuIiwiYnUiLCJ1Iiwibm9uSHlkcmF0ZWRBc3luY1Jvb3QiLCJsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdCIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYm0iLCJpc0FzeW5jV3JhcHBlclZOb2RlIiwiaHlkcmF0ZVN1YlRyZWUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJ1cGRhdGUiLCJjMSIsInByZXZTaGFwZUZsYWciLCJjMiIsInBhdGNoS2V5ZWRDaGlsZHJlbiIsInBhdGNoVW5rZXllZENoaWxkcmVuIiwib2xkTGVuZ3RoIiwiY29tbW9uTGVuZ3RoIiwibmV4dENoaWxkIiwicGFyZW50QW5jaG9yIiwibDIiLCJlMSIsImUyIiwibmV4dFBvcyIsInMxIiwiczIiLCJrZXlUb05ld0luZGV4TWFwIiwicGF0Y2hlZCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImdldFNlcXVlbmNlIiwibmV4dEluZGV4IiwibW92ZVR5cGUiLCJsZWF2ZSIsImRlbGF5TGVhdmUiLCJhZnRlckxlYXZlIiwicmVtb3ZlMiIsInBlcmZvcm1MZWF2ZSIsInNob3VsZEludm9rZURpcnMiLCJzaG91bGRJbnZva2VWbm9kZUhvb2siLCJ1bm1vdW50Q29tcG9uZW50IiwicmVtb3ZlRnJhZ21lbnQiLCJwZXJmb3JtUmVtb3ZlIiwiYnVtIiwidW0iLCJjdXJyZW50TmFtZXNwYWNlIiwiYWxsb3dlZCIsImNoMSIsImNoMiIsImxlbiIsImFyckkiLCJzdWJDb21wb25lbnQiLCJpc1RlbGVwb3J0IiwiaXNUZWxlcG9ydERpc2FibGVkIiwiaXNUYXJnZXRTVkciLCJpc1RhcmdldE1hdGhNTCIsInJlc29sdmVUYXJnZXQiLCJzZWxlY3QiLCJ0YXJnZXRTZWxlY3RvciIsIlRlbGVwb3J0SW1wbCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXNhYmxlZCIsIm1haW5BbmNob3IiLCJ0YXJnZXRBbmNob3IiLCJtb3VudCIsIndhc0Rpc2FibGVkIiwiY3VycmVudENvbnRhaW5lciIsImN1cnJlbnRBbmNob3IiLCJtb3ZlVGVsZXBvcnQiLCJuZXh0VGFyZ2V0IiwidXBkYXRlQ3NzVmFycyIsInNob3VsZFJlbW92ZSIsImh5ZHJhdGVUZWxlcG9ydCIsImlzUmVvcmRlciIsInRhcmdldE5vZGUiLCJUZWxlcG9ydCIsImRpc2FibGVUcmFja2luZyIsInNldHVwQmxvY2siLCJjcmVhdGVFbGVtZW50QmxvY2siLCJjcmVhdGVCYXNlVk5vZGUiLCJ0cmFuc2Zvcm1WTm9kZUFyZ3MiLCJ0cmFuc2Zvcm1lciIsIm5vcm1hbGl6ZUtleSIsIm5vcm1hbGl6ZVJlZiIsInJlZl9rZXkiLCJyZWZfZm9yIiwiaXNCbG9ja05vZGUiLCJuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwiX2NyZWF0ZVZOb2RlIiwiY2xvbmVkIiwiaXNDbGFzc0NvbXBvbmVudCIsImd1YXJkUmVhY3RpdmVQcm9wcyIsImV4dHJhUHJvcHMiLCJtZXJnZVJlZiIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wcyIsInRleHQiLCJmbGFnIiwiY3JlYXRlU3RhdGljVk5vZGUiLCJudW1iZXJPZk5vZGVzIiwiY3JlYXRlQ29tbWVudFZOb2RlIiwiYXNCbG9jayIsInNsb3RGbGFnIiwidG9NZXJnZSIsImluY29taW5nIiwiZW1wdHlBcHBDb250ZXh0IiwidWlkIiwiaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UiLCJzZXRJblNTUlNldHVwU3RhdGUiLCJnIiwicmVnaXN0ZXJHbG9iYWxTZXR0ZXIiLCJzZXR0ZXJzIiwic2V0dXBSZXN1bHQiLCJzZXR1cFN0YXRlZnVsQ29tcG9uZW50Iiwic2V0dXAiLCJzZXR1cENvbnRleHQiLCJyZXNvbHZlZFJlc3VsdCIsImZpbmlzaENvbXBvbmVudFNldHVwIiwiY29tcGlsZSIsImluc3RhbGxXaXRoUHJveHkiLCJyZWdpc3RlclJ1bnRpbWVDb21waWxlciIsIl9jb21waWxlIiwiaXNSdW50aW1lT25seSIsInNraXBPcHRpb25zIiwidGVtcGxhdGUiLCJpc0N1c3RvbUVsZW1lbnQiLCJjb21waWxlck9wdGlvbnMiLCJkZWxpbWl0ZXJzIiwiY29tcG9uZW50Q29tcGlsZXJPcHRpb25zIiwiZmluYWxDb21waWxlck9wdGlvbnMiLCJnZXRBdHRyc1Byb3h5IiwiaW5jbHVkZUluZmVycmVkIiwiY29tcHV0ZWQkMSIsInVzZU1vZGVsIiwiY2FtZWxpemVkTmFtZSIsImh5cGhlbmF0ZWROYW1lIiwibG9jYWxWYWx1ZSIsInByb3BWYWx1ZSIsIm1vZGlmaWVyS2V5IiwiaTIiLCJwcm9wc09yQ2hpbGRyZW4iLCJpbml0Q3VzdG9tRm9ybWF0dGVyIiwid2l0aE1lbW8iLCJtZW1vIiwiaXNNZW1vU2FtZSIsIndhcm4iLCJFcnJvclR5cGVTdHJpbmdzIiwiZGV2dG9vbHMiLCJzZXREZXZ0b29sc0hvb2siLCJfc3NyVXRpbHMiLCJzc3JVdGlscyIsInJlc29sdmVGaWx0ZXIiLCJjb21wYXRVdGlscyIsIkRlcHJlY2F0aW9uVHlwZXMiLCJzdmdOUyIsIm1hdGhtbE5TIiwiZG9jIiwidGVtcGxhdGVDb250YWluZXIiLCJub2RlT3BzIiwidGFnIiwiaXMiLCJzZWxlY3RvciIsImJlZm9yZSIsIndyYXBwZXIiLCJUUkFOU0lUSU9OIiwiQU5JTUFUSU9OIiwidnRjS2V5IiwiVHJhbnNpdGlvbiIsInJlc29sdmVUcmFuc2l0aW9uUHJvcHMiLCJET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzIiwiVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsImgyIiwiaGFzRXhwbGljaXRDYWxsYmFjayIsImJhc2VQcm9wcyIsImR1cmF0aW9uIiwiZW50ZXJGcm9tQ2xhc3MiLCJlbnRlckFjdGl2ZUNsYXNzIiwiZW50ZXJUb0NsYXNzIiwiYXBwZWFyRnJvbUNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJhcHBlYXJUb0NsYXNzIiwibGVhdmVGcm9tQ2xhc3MiLCJsZWF2ZUFjdGl2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwiZHVyYXRpb25zIiwibm9ybWFsaXplRHVyYXRpb24iLCJlbnRlckR1cmF0aW9uIiwibGVhdmVEdXJhdGlvbiIsImZpbmlzaEVudGVyIiwiaXNBcHBlYXIiLCJyZW1vdmVUcmFuc2l0aW9uQ2xhc3MiLCJmaW5pc2hMZWF2ZSIsIm1ha2VFbnRlckhvb2siLCJuZXh0RnJhbWUiLCJhZGRUcmFuc2l0aW9uQ2xhc3MiLCJ3aGVuVHJhbnNpdGlvbkVuZHMiLCJmb3JjZVJlZmxvdyIsIk51bWJlck9mIiwiY2xzIiwiX3Z0YyIsImVuZElkIiwiZXhwZWN0ZWRUeXBlIiwiZXhwbGljaXRUaW1lb3V0IiwicmVzb2x2ZUlmTm90U3RhbGUiLCJwcm9wQ291bnQiLCJnZXRUcmFuc2l0aW9uSW5mbyIsImVuZEV2ZW50IiwiZW5kZWQiLCJvbkVuZCIsInN0eWxlcyIsImdldFN0eWxlUHJvcGVydGllcyIsInRyYW5zaXRpb25EZWxheXMiLCJ0cmFuc2l0aW9uRHVyYXRpb25zIiwidHJhbnNpdGlvblRpbWVvdXQiLCJnZXRUaW1lb3V0IiwiYW5pbWF0aW9uRGVsYXlzIiwiYW5pbWF0aW9uRHVyYXRpb25zIiwiYW5pbWF0aW9uVGltZW91dCIsImhhc1RyYW5zZm9ybSIsImRlbGF5cyIsImQiLCJ0b01zIiwicGF0Y2hDbGFzcyIsImlzU1ZHIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJ2U2hvd09yaWdpbmFsRGlzcGxheSIsInZTaG93SGlkZGVuIiwidlNob3ciLCJzZXREaXNwbGF5IiwiaW5pdFZTaG93Rm9yU1NSIiwiQ1NTX1ZBUl9URVhUIiwidXNlQ3NzVmFycyIsInVwZGF0ZVRlbGVwb3J0cyIsInZhcnMiLCJzZXRWYXJzT25Ob2RlIiwic2V0VmFycyIsInNldFZhcnNPblZOb2RlIiwib2IiLCJkaXNwbGF5UkUiLCJwYXRjaFN0eWxlIiwiaXNDc3NTdHJpbmciLCJoYXNDb250cm9sbGVkRGlzcGxheSIsInByZXZTdHlsZSIsInNldFN0eWxlIiwiY3NzVmFyVGV4dCIsImltcG9ydGFudFJFIiwicHJlZml4ZWQiLCJhdXRvUHJlZml4IiwicHJlZml4ZXMiLCJwcmVmaXhDYWNoZSIsInJhd05hbWUiLCJ4bGlua05TIiwicGF0Y2hBdHRyIiwiaXNCb29sZWFuIiwicGF0Y2hET01Qcm9wIiwibmVlZFJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidmVpS2V5IiwicGF0Y2hFdmVudCIsInByZXZWYWx1ZSIsIm5leHRWYWx1ZSIsImludm9rZXJzIiwiZXhpc3RpbmdJbnZva2VyIiwicGFyc2VOYW1lIiwiaW52b2tlciIsImNyZWF0ZUludm9rZXIiLCJvcHRpb25zTW9kaWZpZXJSRSIsImNhY2hlZE5vdyIsImdldE5vdyIsImluaXRpYWxWYWx1ZSIsInBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwib3JpZ2luYWxTdG9wIiwiaXNOYXRpdmVPbiIsInNob3VsZFNldEFzUHJvcCIsImRlZmluZUN1c3RvbUVsZW1lbnQiLCJoeWRyYXRlMiIsIkNvbXAiLCJWdWVDdXN0b21FbGVtZW50IiwiVnVlRWxlbWVudCIsImluaXRpYWxQcm9wcyIsImRlZmluZVNTUkN1c3RvbUVsZW1lbnQiLCJCYXNlQ2xhc3MiLCJfZGVmIiwiX3Byb3BzIiwibXV0YXRpb25zIiwiaXNBc3luYyIsIm51bWJlclByb3BzIiwiY2FtZWxpemUkMSIsImFzeW5jRGVmIiwiZGVjbGFyZWRQcm9wS2V5cyIsInNob3VsZFJlZmxlY3QiLCJzaG91bGRVcGRhdGUiLCJkaXNwYXRjaCIsImNzcyIsInVzZUNzc01vZHVsZSIsIm1vZHVsZXMiLCJtb2QiLCJwb3NpdGlvbk1hcCIsIm5ld1Bvc2l0aW9uTWFwIiwibW92ZUNiS2V5IiwiVHJhbnNpdGlvbkdyb3VwSW1wbCIsIm1vdmVDbGFzcyIsImhhc0NTU1RyYW5zZm9ybSIsImNhbGxQZW5kaW5nQ2JzIiwicmVjb3JkUG9zaXRpb24iLCJtb3ZlZENoaWxkcmVuIiwiYXBwbHlUcmFuc2xhdGlvbiIsImNzc1RyYW5zaXRpb25Qcm9wcyIsInJlbW92ZU1vZGUiLCJUcmFuc2l0aW9uR3JvdXAiLCJvbGRQb3MiLCJuZXdQb3MiLCJkeCIsImR5IiwiY2xvbmUiLCJnZXRNb2RlbEFzc2lnbmVyIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsImFzc2lnbktleSIsInZNb2RlbFRleHQiLCJsYXp5IiwiY2FzdFRvTnVtYmVyIiwiZG9tVmFsdWUiLCJlbFZhbHVlIiwidk1vZGVsQ2hlY2tib3giLCJtb2RlbFZhbHVlIiwiZWxlbWVudFZhbHVlIiwiZ2V0VmFsdWUiLCJjaGVja2VkIiwiYXNzaWduIiwiZm91bmQiLCJmaWx0ZXJlZCIsImdldENoZWNrYm94VmFsdWUiLCJzZXRDaGVja2VkIiwidk1vZGVsUmFkaW8iLCJ2TW9kZWxTZWxlY3QiLCJpc1NldE1vZGVsIiwic2VsZWN0ZWRWYWwiLCJvIiwic2V0U2VsZWN0ZWQiLCJfYmluZGluZyIsImlzTXVsdGlwbGUiLCJpc0FycmF5VmFsdWUiLCJvcHRpb24iLCJvcHRpb25WYWx1ZSIsIm9wdGlvblR5cGUiLCJ2TW9kZWxEeW5hbWljIiwiY2FsbE1vZGVsSG9vayIsInJlc29sdmVEeW5hbWljTW9kZWwiLCJ0YWdOYW1lIiwiaW5pdFZNb2RlbEZvclNTUiIsIm1vZGVsVG9Vc2UiLCJzeXN0ZW1Nb2RpZmllcnMiLCJtb2RpZmllckd1YXJkcyIsIndpdGhNb2RpZmllcnMiLCJjYWNoZUtleSIsImd1YXJkIiwia2V5TmFtZXMiLCJ3aXRoS2V5cyIsImV2ZW50S2V5IiwiayIsInJlbmRlcmVyT3B0aW9ucyIsInJlbmRlcmVyIiwiZW5hYmxlZEh5ZHJhdGlvbiIsImVuc3VyZVJlbmRlcmVyIiwiZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIiLCJjcmVhdGVBcHAiLCJjb250YWluZXJPclNlbGVjdG9yIiwibm9ybWFsaXplQ29udGFpbmVyIiwicmVzb2x2ZVJvb3ROYW1lc3BhY2UiLCJjcmVhdGVTU1JBcHAiLCJzc3JEaXJlY3RpdmVJbml0aWFsaXplZCIsImluaXREaXJlY3RpdmVzRm9yU1NSIiwiaXNWdWUyIiwicGluaWFTeW1ib2wiLCJNdXRhdGlvblR5cGUiLCJjcmVhdGVQaW5pYSIsIl9wIiwidG9CZUluc3RhbGxlZCIsInBpbmlhIiwibW9kdWxlIiwicmVxdWlyZSQkMCIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX185NzZfXyIsIl9fd2VicGFja19tb2R1bGVzX18iLCJfX3VudXNlZF93ZWJwYWNrX21vZHVsZSIsImV4cG9ydHMiLCJzZmMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJkZWZpbml0aW9uIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIlRvYXN0UGx1Z2luIiwicG9zaXRpb25zIiwic3JjIiwidXNlVG9hc3QiLCJleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXyIsIl9ob2lzdGVkXzEiLCJfaG9pc3RlZF8yIiwiX2N0eCIsIl9jYWNoZSIsIiRwcm9wcyIsIiRzZXR1cCIsIiRkYXRhIiwiJG9wdGlvbnMiLCIkZXZlbnQiLCJyZW1vdmVFbGVtZW50IiwiY3JlYXRlQ29tcG9uZW50IiwicGFyZW50Q29udGFpbmVyIiwidk5vZGUiLCJUaW1lciIsIm1pdHQiLCJidXMiLCJDb21wb25lbnR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyIsImV4cG9ydEhlbHBlciIsImdsb2JhbFByb3BzIiwibWVzc2FnZSIsInByb3BzRGF0YSIsImlzQnJvd3NlciIsImlzRVNNb2R1bGUiLCJhcHBseVRvUGFyYW1zIiwicGFyYW1zIiwibmV3UGFyYW1zIiwibm9vcCIsIkhBU0hfUkUiLCJBTVBFUlNBTkRfUkUiLCJTTEFTSF9SRSIsIkVRVUFMX1JFIiwiSU1fUkUiLCJQTFVTX1JFIiwiRU5DX0JSQUNLRVRfT1BFTl9SRSIsIkVOQ19CUkFDS0VUX0NMT1NFX1JFIiwiRU5DX0NBUkVUX1JFIiwiRU5DX0JBQ0tUSUNLX1JFIiwiRU5DX0NVUkxZX09QRU5fUkUiLCJFTkNfUElQRV9SRSIsIkVOQ19DVVJMWV9DTE9TRV9SRSIsIkVOQ19TUEFDRV9SRSIsImNvbW1vbkVuY29kZSIsImVuY29kZUhhc2giLCJlbmNvZGVRdWVyeVZhbHVlIiwiZW5jb2RlUXVlcnlLZXkiLCJlbmNvZGVQYXRoIiwiZW5jb2RlUGFyYW0iLCJkZWNvZGUiLCJUUkFJTElOR19TTEFTSF9SRSIsInJlbW92ZVRyYWlsaW5nU2xhc2giLCJwYXJzZVVSTCIsInBhcnNlUXVlcnkiLCJsb2NhdGlvbiIsImN1cnJlbnRMb2NhdGlvbiIsInF1ZXJ5Iiwic2VhcmNoU3RyaW5nIiwiaGFzaCIsImhhc2hQb3MiLCJzZWFyY2hQb3MiLCJyZXNvbHZlUmVsYXRpdmVQYXRoIiwic3RyaW5naWZ5VVJMIiwic3RyaW5naWZ5UXVlcnkiLCJzdHJpcEJhc2UiLCJwYXRobmFtZSIsImlzU2FtZVJvdXRlTG9jYXRpb24iLCJhTGFzdEluZGV4IiwiYkxhc3RJbmRleCIsImlzU2FtZVJvdXRlUmVjb3JkIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyIsImlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXNWYWx1ZSIsImlzRXF1aXZhbGVudEFycmF5IiwiZnJvbVNlZ21lbnRzIiwidG9TZWdtZW50cyIsImxhc3RUb1NlZ21lbnQiLCJwb3NpdGlvbiIsInRvUG9zaXRpb24iLCJzZWdtZW50IiwiTmF2aWdhdGlvblR5cGUiLCJOYXZpZ2F0aW9uRGlyZWN0aW9uIiwibm9ybWFsaXplQmFzZSIsImJhc2VFbCIsIkJFRk9SRV9IQVNIX1JFIiwiY3JlYXRlSHJlZiIsImdldEVsZW1lbnRQb3NpdGlvbiIsIm9mZnNldCIsImRvY1JlY3QiLCJlbFJlY3QiLCJjb21wdXRlU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxUb1Bvc2l0aW9uIiwic2Nyb2xsVG9PcHRpb25zIiwicG9zaXRpb25FbCIsImlzSWRTZWxlY3RvciIsImdldFNjcm9sbEtleSIsImRlbHRhIiwic2Nyb2xsUG9zaXRpb25zIiwic2F2ZVNjcm9sbFBvc2l0aW9uIiwic2Nyb2xsUG9zaXRpb24iLCJnZXRTYXZlZFNjcm9sbFBvc2l0aW9uIiwic2Nyb2xsIiwiY3JlYXRlQmFzZUxvY2F0aW9uIiwiY3JlYXRlQ3VycmVudExvY2F0aW9uIiwic2VhcmNoIiwic2xpY2VQb3MiLCJwYXRoRnJvbUhhc2giLCJ1c2VIaXN0b3J5TGlzdGVuZXJzIiwiaGlzdG9yeVN0YXRlIiwicmVwbGFjZSIsImxpc3RlbmVycyIsInRlYXJkb3ducyIsInBhdXNlU3RhdGUiLCJwb3BTdGF0ZUhhbmRsZXIiLCJmcm9tU3RhdGUiLCJsaXN0ZW5lciIsInBhdXNlTGlzdGVuZXJzIiwibGlzdGVuIiwidGVhcmRvd24iLCJiZWZvcmVVbmxvYWRMaXN0ZW5lciIsImhpc3RvcnkiLCJkZXN0cm95IiwiYnVpbGRTdGF0ZSIsImJhY2siLCJmb3J3YXJkIiwicmVwbGFjZWQiLCJjb21wdXRlU2Nyb2xsIiwidXNlSGlzdG9yeVN0YXRlTmF2aWdhdGlvbiIsImNoYW5nZUxvY2F0aW9uIiwiaGFzaEluZGV4IiwidXJsIiwicHVzaCIsImN1cnJlbnRTdGF0ZSIsImNyZWF0ZVdlYkhpc3RvcnkiLCJoaXN0b3J5TmF2aWdhdGlvbiIsImhpc3RvcnlMaXN0ZW5lcnMiLCJnbyIsInRyaWdnZXJMaXN0ZW5lcnMiLCJyb3V0ZXJIaXN0b3J5IiwiaXNSb3V0ZUxvY2F0aW9uIiwicm91dGUiLCJpc1JvdXRlTmFtZSIsIlNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQiLCJOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCIsIk5hdmlnYXRpb25GYWlsdXJlVHlwZSIsImNyZWF0ZVJvdXRlckVycm9yIiwiaXNOYXZpZ2F0aW9uRmFpbHVyZSIsIkJBU0VfUEFSQU1fUEFUVEVSTiIsIkJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUyIsIlJFR0VYX0NIQVJTX1JFIiwidG9rZW5zVG9QYXJzZXIiLCJzY29yZSIsInNlZ21lbnRTY29yZXMiLCJ0b2tlbkluZGV4IiwidG9rZW4iLCJzdWJTZWdtZW50U2NvcmUiLCJyZXBlYXRhYmxlIiwib3B0aW9uYWwiLCJyZWdleHAiLCJyZSIsInN1YlBhdHRlcm4iLCJwYXJzZSIsInN0cmluZ2lmeSIsImF2b2lkRHVwbGljYXRlZFNsYXNoIiwicGFyYW0iLCJjb21wYXJlU2NvcmVBcnJheSIsImNvbXBhcmVQYXRoUGFyc2VyU2NvcmUiLCJhU2NvcmUiLCJiU2NvcmUiLCJpc0xhc3RTY29yZU5lZ2F0aXZlIiwiUk9PVF9UT0tFTiIsIlZBTElEX1BBUkFNX1JFIiwidG9rZW5pemVQYXRoIiwiY3Jhc2giLCJwcmV2aW91c1N0YXRlIiwidG9rZW5zIiwiZmluYWxpemVTZWdtZW50IiwiY2hhciIsImN1c3RvbVJlIiwiY29uc3VtZUJ1ZmZlciIsImFkZENoYXJUb0J1ZmZlciIsImNyZWF0ZVJvdXRlUmVjb3JkTWF0Y2hlciIsInJlY29yZCIsInBhcnNlciIsIm1hdGNoZXIiLCJjcmVhdGVSb3V0ZXJNYXRjaGVyIiwicm91dGVzIiwiZ2xvYmFsT3B0aW9ucyIsIm1hdGNoZXJzIiwibWF0Y2hlck1hcCIsImdldFJlY29yZE1hdGNoZXIiLCJhZGRSb3V0ZSIsIm9yaWdpbmFsUmVjb3JkIiwiaXNSb290QWRkIiwibWFpbk5vcm1hbGl6ZWRSZWNvcmQiLCJub3JtYWxpemVSb3V0ZVJlY29yZCIsIm5vcm1hbGl6ZWRSZWNvcmRzIiwiYWxpYXNlcyIsImFsaWFzIiwib3JpZ2luYWxNYXRjaGVyIiwibm9ybWFsaXplZFJlY29yZCIsInBhcmVudFBhdGgiLCJjb25uZWN0aW5nU2xhc2giLCJpc0FsaWFzUmVjb3JkIiwicmVtb3ZlUm91dGUiLCJpbnNlcnRNYXRjaGVyIiwibWF0Y2hlclJlZiIsImdldFJvdXRlcyIsImlzUmVjb3JkQ2hpbGRPZiIsInBhcmFtc0Zyb21Mb2NhdGlvbiIsIm1hdGNoZWQiLCJwYXJlbnRNYXRjaGVyIiwibWVyZ2VNZXRhRmllbGRzIiwibm9ybWFsaXplUmVjb3JkUHJvcHMiLCJwcm9wc09iamVjdCIsIm1ldGEiLCJwYXJ0aWFsT3B0aW9ucyIsInNlYXJjaFBhcmFtcyIsInNlYXJjaFBhcmFtIiwiZXFQb3MiLCJjdXJyZW50VmFsdWUiLCJub3JtYWxpemVRdWVyeSIsIm5vcm1hbGl6ZWRRdWVyeSIsIm1hdGNoZWRSb3V0ZUtleSIsInZpZXdEZXB0aEtleSIsInJvdXRlcktleSIsInJvdXRlTG9jYXRpb25LZXkiLCJyb3V0ZXJWaWV3TG9jYXRpb25LZXkiLCJ1c2VDYWxsYmFja3MiLCJoYW5kbGVycyIsImd1YXJkVG9Qcm9taXNlRm4iLCJydW5XaXRoQ29udGV4dCIsImVudGVyQ2FsbGJhY2tBcnJheSIsInZhbGlkIiwiZ3VhcmRSZXR1cm4iLCJndWFyZENhbGwiLCJleHRyYWN0Q29tcG9uZW50c0d1YXJkcyIsImd1YXJkVHlwZSIsImd1YXJkcyIsInJhd0NvbXBvbmVudCIsImlzUm91dGVDb21wb25lbnQiLCJjb21wb25lbnRQcm9taXNlIiwicmVzb2x2ZWRDb21wb25lbnQiLCJ1c2VMaW5rIiwicm91dGVyIiwiY3VycmVudFJvdXRlIiwiYWN0aXZlUmVjb3JkSW5kZXgiLCJsZW5ndGgiLCJyb3V0ZU1hdGNoZWQiLCJjdXJyZW50TWF0Y2hlZCIsInBhcmVudFJlY29yZFBhdGgiLCJnZXRPcmlnaW5hbFBhdGgiLCJpc0FjdGl2ZSIsImluY2x1ZGVzUGFyYW1zIiwiaXNFeGFjdEFjdGl2ZSIsIm5hdmlnYXRlIiwiZ3VhcmRFdmVudCIsIlJvdXRlckxpbmtJbXBsIiwibGluayIsImVsQ2xhc3MiLCJnZXRMaW5rQ2xhc3MiLCJSb3V0ZXJMaW5rIiwib3V0ZXIiLCJpbm5lciIsImlubmVyVmFsdWUiLCJvdXRlclZhbHVlIiwicHJvcENsYXNzIiwiZ2xvYmFsQ2xhc3MiLCJkZWZhdWx0Q2xhc3MiLCJSb3V0ZXJWaWV3SW1wbCIsImluamVjdGVkUm91dGUiLCJyb3V0ZVRvRGlzcGxheSIsImluamVjdGVkRGVwdGgiLCJpbml0aWFsRGVwdGgiLCJtYXRjaGVkUm91dGUiLCJtYXRjaGVkUm91dGVSZWYiLCJ2aWV3UmVmIiwib2xkSW5zdGFuY2UiLCJvbGROYW1lIiwiY3VycmVudE5hbWUiLCJWaWV3Q29tcG9uZW50Iiwicm91dGVQcm9wc09wdGlvbiIsInJvdXRlUHJvcHMiLCJzbG90Q29udGVudCIsIlJvdXRlclZpZXciLCJjcmVhdGVSb3V0ZXIiLCJwYXJzZVF1ZXJ5JDEiLCJzdHJpbmdpZnlRdWVyeSQxIiwiYmVmb3JlR3VhcmRzIiwiYmVmb3JlUmVzb2x2ZUd1YXJkcyIsImFmdGVyR3VhcmRzIiwicGVuZGluZ0xvY2F0aW9uIiwibm9ybWFsaXplUGFyYW1zIiwicGFyYW1WYWx1ZSIsImVuY29kZVBhcmFtcyIsImRlY29kZVBhcmFtcyIsInBhcmVudE9yUm91dGUiLCJyZWNvcmRNYXRjaGVyIiwicm91dGVNYXRjaGVyIiwiaGFzUm91dGUiLCJyYXdMb2NhdGlvbiIsImxvY2F0aW9uTm9ybWFsaXplZCIsImhyZWYiLCJtYXRjaGVyTG9jYXRpb24iLCJ0YXJnZXRQYXJhbXMiLCJmdWxsUGF0aCIsImxvY2F0aW9uQXNPYmplY3QiLCJjaGVja0NhbmNlbGVkTmF2aWdhdGlvbiIsInB1c2hXaXRoUmVkaXJlY3QiLCJoYW5kbGVSZWRpcmVjdFJlY29yZCIsImxhc3RNYXRjaGVkIiwicmVkaXJlY3QiLCJuZXdUYXJnZXRMb2NhdGlvbiIsInJlZGlyZWN0ZWRGcm9tIiwidGFyZ2V0TG9jYXRpb24iLCJmb3JjZSIsInNob3VsZFJlZGlyZWN0IiwidG9Mb2NhdGlvbiIsImZhaWx1cmUiLCJoYW5kbGVTY3JvbGwiLCJtYXJrQXNSZWFkeSIsInRyaWdnZXJFcnJvciIsImZpbmFsaXplTmF2aWdhdGlvbiIsInRyaWdnZXJBZnRlckVhY2giLCJjaGVja0NhbmNlbGVkTmF2aWdhdGlvbkFuZFJlamVjdCIsImluc3RhbGxlZEFwcHMiLCJsZWF2aW5nUmVjb3JkcyIsInVwZGF0aW5nUmVjb3JkcyIsImVudGVyaW5nUmVjb3JkcyIsImV4dHJhY3RDaGFuZ2luZ1JlY29yZHMiLCJjYW5jZWxlZE5hdmlnYXRpb25DaGVjayIsInJ1bkd1YXJkUXVldWUiLCJiZWZvcmVFbnRlciIsImlzUHVzaCIsImlzRmlyc3ROYXZpZ2F0aW9uIiwicmVtb3ZlSGlzdG9yeUxpc3RlbmVyIiwic2V0dXBMaXN0ZW5lcnMiLCJfZnJvbSIsImluZm8iLCJyZWFkeUhhbmRsZXJzIiwiZXJyb3JMaXN0ZW5lcnMiLCJyZWFkeSIsImxpc3QiLCJpc1JlYWR5Iiwic2Nyb2xsQmVoYXZpb3IiLCJzdGFydGVkIiwicmVhY3RpdmVSb3V0ZSIsInVubW91bnRBcHAiLCJwcm9taXNlIiwicmVjb3JkRnJvbSIsInJlY29yZFRvIiwiVXNlciIsImRvbWFpbk9yaWdpbiIsInBheWxvYWQiLCJuZXdfdXNlcl9jcmVkZW50aWFscyIsInJlcXVlc3Rfb3B0aW9ucyIsInJlc3BvbnNlIiwiZXJyb3JEYXRhIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImFwaU9iamVjdCIsImVkaXRlZE5hbWUiLCJmb3JtU1ZHIiwiX3NmY19tYWluIiwiX2hvaXN0ZWRfMyIsIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCJfaG9pc3RlZF81IiwiX2hvaXN0ZWRfNCIsIl9ob2lzdGVkXzgiLCJfaG9pc3RlZF83IiwiX2hvaXN0ZWRfMTEiLCJfaG9pc3RlZF8xMCIsIl9vcGVuQmxvY2siLCJfY3JlYXRlRWxlbWVudEJsb2NrIiwiX2NvbXBvbmVudF9Sb3V0ZXJMaW5rIiwiX3dpdGhDdHgiLCJfbm9ybWFsaXplQ2xhc3MiLCJfaG9pc3RlZF82IiwiX2hvaXN0ZWRfOSIsIl9ob2lzdGVkXzEyIiwiX2NyZWF0ZVN0YXRpY1ZOb2RlIiwiZGJOYW1lIiwiZGJWZXJzaW9uIiwiZGIiLCJvcGVuREIiLCJyZXF1ZXN0IiwiYWRkSXRlbSIsInN0b3JlIiwibmV3SXRlbSIsImdldEFsbEl0ZW1zIiwiX19kZWZhdWx0X18iLCJNb2JpbGVOYXZCYXIiLCJNb2JpbGVIZWFkZXIiLCJuZXdTdGF0dXMiLCJpdGVtcyIsInVzZXIiLCJfRnJhZ21lbnQiLCJfcmVuZGVyTGlzdCIsInNlY3Rpb24iLCJfdG9EaXNwbGF5U3RyaW5nIiwiZW50cnkiLCJvcHRpb25JbmRleCIsIl9jcmVhdGVDb21tZW50Vk5vZGUiLCJfY3JlYXRlVGV4dFZOb2RlIiwiX2NvbXBvbmVudF92X2ljb24iLCJzZWN1cml0eUZvcm0iLCJpbmZyYXN0cnVjdHVyZUZvcm0iLCJjb21tdW5pY2F0aW9uc0Zvcm0iLCJjaGVja0xvY2F0aW9uUGVybWlzc2lvbiIsInBlcm1pc3Npb25TdGF0dXMiLCJnZXRMb2NhdGlvbiIsIkJvaWxlcnBsYXRlRm9ybSIsInVzZXJQb3NpdGlvbiIsImRhdGUiLCJpdGVtSWQiLCJfd2l0aE1vZGlmaWVycyIsIl9ob2lzdGVkXzEzIiwiX2NvbXBvbmVudF9Cb2lsZXJwbGF0ZUZvcm0iLCJxZSIsIkJlIiwic2UiLCJOIiwiVSIsIkxlIiwiZWUiLCJTZSIsInEiLCJVZSIsIkRlIiwiZGUiLCJSIiwiVCIsImYiLCJ3IiwiRSIsIngiLCJGZSIsImhlIiwicGUiLCJWZSIsIlAiLCJ5IiwiRyIsIk8iLCJJIiwiWiIsIk0iLCJGIiwiTWUiLCJCIiwidGUiLCJ6ZSIsIkdlIiwiWSIsIlgiLCJhZSIsIlEiLCJaZSIsIk5lIiwiRXQiLCJIZSIsIldlIiwiJCIsIktlIiwiSmUiLCJEIiwiQyIsIkoiLCJ3dCIsIkVlIiwiX3QiLCJrdCIsIlBlIiwiT2UiLCIkdCIsImNsaWNrZWRMYXRMbmciLCJsYXQiLCJsbmciLCJfaG9pc3RlZF8xNCIsIl9ob2lzdGVkXzE1IiwiX2hvaXN0ZWRfMjAiLCJfY3JlYXRlQmxvY2siLCJfaG9pc3RlZF8xNiIsIl9ob2lzdGVkXzE4IiwiX2hvaXN0ZWRfMTciLCJfaG9pc3RlZF8xOSIsIl9ob2lzdGVkXzIxIiwiUmVnaXN0ZXJVc2VyIiwiX2NvbXBvbmVudF9SZWdpc3RlclVzZXIiLCJTZW5kVXBkYXRlIiwi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Q0gsS0FBTSxDQUNGLEtBQU0sTUFDVCxFQUNELE9BQVEsQ0FDSixLQUFNLE9BQ1YsQ0FDSCxFQUNELFdBQVksQ0FDUixhQUFBNEgsRUFDSCxFQUNELE1BQU8sQ0FDSCxNQUFPLENBQ0gsY0FBZSxFQUNuQixDQUNILEVBQ0QsUUFBUyxDQUNMLE1BQU0sbUJBQW1CdEksRUFBUyxDQUM5QixHQUFJLENBQ0EsS0FBSyxjQUFnQixHQUNyQixNQUFNMEMsRUFBTyxNQUFNLEtBQUssS0FBSyxhQUFhMUMsQ0FBTyxDQUNuRCxPQUFPbGtDLEVBQU8sQ0FDWixRQUFRLElBQUlBLEVBQU0sTUFBTSxFQUNwQkEsRUFBTSxTQUFXLElBQ2pCLEtBQUssY0FBZ0IsR0FHckIsUUFBUSxJQUFJLGVBQWdCQSxDQUFLLENBRXpDLENBRUosQ0FDSCxDQUdMLE1BbERBLElBQUEsRUFDd0IsTUFBTSx5RkFHakJxdUIsR0FBQSxDQUFBLE1BQU0sMkJBQTJCLHNEQUo5QyxPQUFBZ1gsR0FBQSxFQUFBQyxHQUFBdUIsR0FBQSxLQUFBLENBQ2dCclksRUFBTSxPQUR0QjJZLEdBQUEsR0FBQSxFQUFBLFFBQ0k3QixHQUVNLE1BRk5sWCxHQUFrSCw4QkFFbEgsR0FDQTBXLEVBS1UsVUFMVnpXLEdBS1UsRUFIZUcsRUFBSSxLQUFDLFdBQVMsQ0FBS0EsRUFBTSxhQUE5QzBkLEdBRWVPLEVBQUEsQ0FSdkIsSUFBQSxFQU15RCxxQkFBb0I5ZCxFQUFrQixtQkFDbEYsY0FBZUQsRUFBYSxpRUFQekN5WSxHQUFBLEdBQUEsRUFBQSx5Q0NNTTlKLEdBQVN5QyxHQUFhLENBQzFCLFFBQVN4SixHQUFpQixHQUF3QixFQUNsRCxPQUFRLENBQ04sQ0FDRSxLQUFNLElBQ04sS0FBTSxPQUNOLFVBQVdvVyxFQUNiLEVBQ0EsQ0FDRSxLQUFNLE9BQ04sS0FBTSxNQUNOLFVBQVdDLEVBQ2IsRUFDQSxDQUNFLEtBQU0sV0FDTixLQUFNLFVBQ04sVUFBV0MsRUFDYixFQUNBLENBQ0UsS0FBTSxZQUNOLEtBQU0sV0FDTixVQUFXQyxFQUNiLENBQ0YsQ0FDRixDQUFDLEVDckJLdGlDLEdBQU00aEIsR0FBVTJnQixFQUFHLEVBRXpCdmlDLEdBQUksSUFBSXNpQixJQUFhLEVBQ3JCdGlCLEdBQUksSUFBSTh5QixFQUFNLEVBQ2Q5eUIsR0FBSSxJQUFJd2pCLEdBQWEsQ0FFbkIsU0FBVSxZQUNWLFNBQVUsR0FDWixDQUFDLEVBRUR4akIsR0FBSSxNQUFNLE1BQU0iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsMTldfQ==
