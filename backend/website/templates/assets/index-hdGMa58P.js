(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ps(e,t){const n=new Set(e.split(","));return t?s=>n.has(s.toLowerCase()):s=>n.has(s)}const ce={},un=[],Ve=()=>{},Xa=()=>!1,Zn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ho=e=>e.startsWith("onUpdate:"),ge=Object.assign,Uo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ec=Object.prototype.hasOwnProperty,ie=(e,t)=>ec.call(e,t),q=Array.isArray,fn=e=>En(e)==="[object Map]",Yt=e=>En(e)==="[object Set]",Sr=e=>En(e)==="[object Date]",tc=e=>En(e)==="[object RegExp]",X=e=>typeof e=="function",ye=e=>typeof e=="string",Rt=e=>typeof e=="symbol",de=e=>e!==null&&typeof e=="object",Do=e=>(de(e)||X(e))&&X(e.then)&&X(e.catch),Hi=Object.prototype.toString,En=e=>Hi.call(e),nc=e=>En(e).slice(8,-1),Ui=e=>En(e)==="[object Object]",qo=e=>ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,dn=Ps(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),As=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sc=/-(\w)/g,Ne=As(e=>e.replace(sc,(t,n)=>n?n.toUpperCase():"")),oc=/\B([A-Z])/g,Ke=As(e=>e.replace(oc,"-$1").toLowerCase()),Yn=As(e=>e.charAt(0).toUpperCase()+e.slice(1)),An=As(e=>e?`on${Yn(e)}`:""),et=(e,t)=>!Object.is(e,t),hn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vs=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ws=e=>{const t=ye(e)?Number(e):NaN;return isNaN(t)?e:t};let kr;const Di=()=>kr||(kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rc="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",ic=Ps(rc);function Qn(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=ye(s)?uc(s):Qn(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(ye(e)||de(e))return e}const lc=/;(?![^(]*\))/g,ac=/:([^]+)/,cc=/\/\*[^]*?\*\//g;function uc(e){const t={};return e.replace(cc,"").split(lc).forEach(n=>{if(n){const s=n.split(ac);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Be(e){let t="";if(ye(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const s=Be(e[n]);s&&(t+=s+" ")}else if(de(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function qi(e){if(!e)return null;let{class:t,style:n}=e;return t&&!ye(t)&&(e.class=Be(t)),n&&(e.style=Qn(n)),e}const fc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dc=Ps(fc);function Ki(e){return!!e||e===""}function hc(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=Lt(e[s],t[s]);return n}function Lt(e,t){if(e===t)return!0;let n=Sr(e),s=Sr(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Rt(e),s=Rt(t),n||s)return e===t;if(n=q(e),s=q(t),n||s)return n&&s?hc(e,t):!1;if(n=de(e),s=de(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const i in e){const l=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(l&&!a||!l&&a||!Lt(e[i],t[i]))return!1}}return String(e)===String(t)}function Ms(e,t){return e.findIndex(n=>Lt(n,t))}const Ae=e=>ye(e)?e:e==null?"":q(e)||de(e)&&(e.toString===Hi||!X(e.toString))?JSON.stringify(e,Gi,2):String(e),Gi=(e,t)=>t&&t.__v_isRef?Gi(e,t.value):fn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[no(s,r)+" =>"]=o,n),{})}:Yt(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>no(n))}:Rt(t)?no(t):de(t)&&!q(t)&&!Ui(t)?String(t):t,no=(e,t="")=>{var n;return Rt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let De;class Ko{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=De,!t&&De&&(this.index=(De.scopes||(De.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=De;try{return De=this,t()}finally{De=n}}}on(){De=this}off(){De=this.parent}stop(t){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function zi(e){return new Ko(e)}function Wi(e,t=De){t&&t.active&&t.effects.push(e)}function Ji(){return De}function pc(e){De&&De.cleanups.push(e)}let jt;class bn{constructor(t,n,s,o){this.fn=t,this.trigger=n,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Wi(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Qt();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(mc(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xt()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=Tt,n=jt;try{return Tt=!0,jt=this,this._runnings++,Tr(this),this.fn()}finally{Or(this),this._runnings--,jt=n,Tt=t}}stop(){var t;this.active&&(Tr(this),Or(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function mc(e){return e.value}function Tr(e){e._trackId++,e._depsLength=0}function Or(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Zi(e.deps[t],e);e.deps.length=e._depsLength}}function Zi(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}function gc(e,t){e.effect instanceof bn&&(e=e.effect.fn);const n=new bn(e,Ve,()=>{n.dirty&&n.run()});t&&(ge(n,t),t.scope&&Wi(n,t.scope)),(!t||!t.lazy)&&n.run();const s=n.run.bind(n);return s.effect=n,s}function yc(e){e.effect.stop()}let Tt=!0,go=0;const Yi=[];function Qt(){Yi.push(Tt),Tt=!1}function Xt(){const e=Yi.pop();Tt=e===void 0?!0:e}function Go(){go++}function zo(){for(go--;!go&&yo.length;)yo.shift()()}function Qi(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const s=e.deps[e._depsLength];s!==t?(s&&Zi(s,e),e.deps[e._depsLength++]=t):e._depsLength++}}const yo=[];function Xi(e,t,n){Go();for(const s of e.keys()){let o;s._dirtyLevel<t&&(o??(o=e.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(o??(o=e.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&yo.push(s.scheduler)))}zo()}const el=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Cs=new WeakMap,Bt=Symbol(""),bo=Symbol("");function He(e,t,n){if(Tt&&jt){let s=Cs.get(e);s||Cs.set(e,s=new Map);let o=s.get(n);o||s.set(n,o=el(()=>s.delete(n))),Qi(jt,o)}}function ft(e,t,n,s,o,r){const i=Cs.get(e);if(!i)return;let l=[];if(t==="clear")l=[...i.values()];else if(n==="length"&&q(e)){const a=Number(s);i.forEach((u,c)=>{(c==="length"||!Rt(c)&&c>=a)&&l.push(u)})}else switch(n!==void 0&&l.push(i.get(n)),t){case"add":q(e)?qo(n)&&l.push(i.get("length")):(l.push(i.get(Bt)),fn(e)&&l.push(i.get(bo)));break;case"delete":q(e)||(l.push(i.get(Bt)),fn(e)&&l.push(i.get(bo)));break;case"set":fn(e)&&l.push(i.get(Bt));break}Go();for(const a of l)a&&Xi(a,4);zo()}function bc(e,t){var n;return(n=Cs.get(e))==null?void 0:n.get(t)}const _c=Ps("__proto__,__v_isRef,__isVue"),tl=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Rt)),Rr=vc();function vc(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=oe(this);for(let r=0,i=this.length;r<i;r++)He(s,"get",r+"");const o=s[t](...n);return o===-1||o===!1?s[t](...n.map(oe)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Qt(),Go();const s=oe(this)[t].apply(this,n);return zo(),Xt(),s}}),e}function wc(e){const t=oe(this);return He(t,"has",e),t.hasOwnProperty(e)}class nl{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?al:ll:r?il:rl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=q(t);if(!o){if(i&&ie(Rr,n))return Reflect.get(Rr,n,s);if(n==="hasOwnProperty")return wc}const l=Reflect.get(t,n,s);return(Rt(n)?tl.has(n):_c(n))||(o||He(t,"get",n),r)?l:Se(l)?i&&qo(n)?l:l.value:de(l)?o?Zo(l):Kt(l):l}}class sl extends nl{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const a=Gt(r);if(!Bn(s)&&!Gt(s)&&(r=oe(r),s=oe(s)),!q(t)&&Se(r)&&!Se(s))return a?!1:(r.value=s,!0)}const i=q(t)&&qo(n)?Number(n)<t.length:ie(t,n),l=Reflect.set(t,n,s,o);return t===oe(o)&&(i?et(s,r)&&ft(t,"set",n,s):ft(t,"add",n,s)),l}deleteProperty(t,n){const s=ie(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&ft(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Rt(n)||!tl.has(n))&&He(t,"has",n),s}ownKeys(t){return He(t,"iterate",q(t)?"length":Bt),Reflect.ownKeys(t)}}class ol extends nl{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Cc=new sl,xc=new ol,Ec=new sl(!0),Sc=new ol(!0),Wo=e=>e,Ns=e=>Reflect.getPrototypeOf(e);function rs(e,t,n=!1,s=!1){e=e.__v_raw;const o=oe(e),r=oe(t);n||(et(t,r)&&He(o,"get",t),He(o,"get",r));const{has:i}=Ns(o),l=s?Wo:n?Qo:Hn;if(i.call(o,t))return l(e.get(t));if(i.call(o,r))return l(e.get(r));e!==o&&e.get(t)}function is(e,t=!1){const n=this.__v_raw,s=oe(n),o=oe(e);return t||(et(e,o)&&He(s,"has",e),He(s,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function ls(e,t=!1){return e=e.__v_raw,!t&&He(oe(e),"iterate",Bt),Reflect.get(e,"size",e)}function Lr(e){e=oe(e);const t=oe(this);return Ns(t).has.call(t,e)||(t.add(e),ft(t,"add",e,e)),this}function Pr(e,t){t=oe(t);const n=oe(this),{has:s,get:o}=Ns(n);let r=s.call(n,e);r||(e=oe(e),r=s.call(n,e));const i=o.call(n,e);return n.set(e,t),r?et(t,i)&&ft(n,"set",e,t):ft(n,"add",e,t),this}function Ar(e){const t=oe(this),{has:n,get:s}=Ns(t);let o=n.call(t,e);o||(e=oe(e),o=n.call(t,e)),s&&s.call(t,e);const r=t.delete(e);return o&&ft(t,"delete",e,void 0),r}function Mr(){const e=oe(this),t=e.size!==0,n=e.clear();return t&&ft(e,"clear",void 0,void 0),n}function as(e,t){return function(s,o){const r=this,i=r.__v_raw,l=oe(i),a=t?Wo:e?Qo:Hn;return!e&&He(l,"iterate",Bt),i.forEach((u,c)=>s.call(o,a(u),a(c),r))}}function cs(e,t,n){return function(...s){const o=this.__v_raw,r=oe(o),i=fn(r),l=e==="entries"||e===Symbol.iterator&&i,a=e==="keys"&&i,u=o[e](...s),c=n?Wo:t?Qo:Hn;return!t&&He(r,"iterate",a?bo:Bt),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:l?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function yt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function kc(){const e={get(r){return rs(this,r)},get size(){return ls(this)},has:is,add:Lr,set:Pr,delete:Ar,clear:Mr,forEach:as(!1,!1)},t={get(r){return rs(this,r,!1,!0)},get size(){return ls(this)},has:is,add:Lr,set:Pr,delete:Ar,clear:Mr,forEach:as(!1,!0)},n={get(r){return rs(this,r,!0)},get size(){return ls(this,!0)},has(r){return is.call(this,r,!0)},add:yt("add"),set:yt("set"),delete:yt("delete"),clear:yt("clear"),forEach:as(!0,!1)},s={get(r){return rs(this,r,!0,!0)},get size(){return ls(this,!0)},has(r){return is.call(this,r,!0)},add:yt("add"),set:yt("set"),delete:yt("delete"),clear:yt("clear"),forEach:as(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=cs(r,!1,!1),n[r]=cs(r,!0,!1),t[r]=cs(r,!1,!0),s[r]=cs(r,!0,!0)}),[e,n,t,s]}const[Tc,Oc,Rc,Lc]=kc();function Is(e,t){const n=t?e?Lc:Rc:e?Oc:Tc;return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(ie(n,o)&&o in s?n:s,o,r)}const Pc={get:Is(!1,!1)},Ac={get:Is(!1,!0)},Mc={get:Is(!0,!1)},Nc={get:Is(!0,!0)},rl=new WeakMap,il=new WeakMap,ll=new WeakMap,al=new WeakMap;function Ic(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fc(e){return e.__v_skip||!Object.isExtensible(e)?0:Ic(nc(e))}function Kt(e){return Gt(e)?e:Fs(e,!1,Cc,Pc,rl)}function Jo(e){return Fs(e,!1,Ec,Ac,il)}function Zo(e){return Fs(e,!0,xc,Mc,ll)}function $c(e){return Fs(e,!0,Sc,Nc,al)}function Fs(e,t,n,s,o){if(!de(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const i=Fc(e);if(i===0)return e;const l=new Proxy(e,i===2?s:n);return o.set(e,l),l}function Ht(e){return Gt(e)?Ht(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function Bn(e){return!!(e&&e.__v_isShallow)}function Yo(e){return Ht(e)||Gt(e)}function oe(e){const t=e&&e.__v_raw;return t?oe(t):e}function it(e){return Object.isExtensible(e)&&vs(e,"__v_skip",!0),e}const Hn=e=>de(e)?Kt(e):e,Qo=e=>de(e)?Zo(e):e;class cl{constructor(t,n,s,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new bn(()=>t(this._value),()=>pn(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const t=oe(this);return(!t._cacheable||t.effect.dirty)&&et(t._value,t._value=t.effect.run())&&pn(t,4),Xo(t),t.effect._dirtyLevel>=2&&pn(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Vc(e,t,n=!1){let s,o;const r=X(e);return r?(s=e,o=Ve):(s=e.get,o=e.set),new cl(s,o,r||!o,n)}function Xo(e){var t;Tt&&jt&&(e=oe(e),Qi(jt,(t=e.dep)!=null?t:e.dep=el(()=>e.dep=void 0,e instanceof cl?e:void 0)))}function pn(e,t=4,n){e=oe(e);const s=e.dep;s&&Xi(s,t)}function Se(e){return!!(e&&e.__v_isRef===!0)}function be(e){return fl(e,!1)}function ul(e){return fl(e,!0)}function fl(e,t){return Se(e)?e:new jc(e,t)}class jc{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:oe(t),this._value=n?t:Hn(t)}get value(){return Xo(this),this._value}set value(t){const n=this.__v_isShallow||Bn(t)||Gt(t);t=n?t:oe(t),et(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Hn(t),pn(this,4))}}function Bc(e){pn(e,4)}function $e(e){return Se(e)?e.value:e}function Hc(e){return X(e)?e():$e(e)}const Uc={get:(e,t,n)=>$e(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Se(o)&&!Se(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function er(e){return Ht(e)?e:new Proxy(e,Uc)}class Dc{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:s}=t(()=>Xo(this),()=>pn(this));this._get=n,this._set=s}get value(){return this._get()}set value(t){this._set(t)}}function dl(e){return new Dc(e)}function qc(e){const t=q(e)?new Array(e.length):{};for(const n in e)t[n]=hl(e,n);return t}class Kc{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bc(oe(this._object),this._key)}}class Gc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function tr(e,t,n){return Se(e)?e:X(e)?new Gc(e):de(e)&&arguments.length>1?hl(e,t,n):be(e)}function hl(e,t,n){const s=e[t];return Se(s)?s:new Kc(e,t,n)}const zc={GET:"get",HAS:"has",ITERATE:"iterate"},Wc={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jc(e,t){}const Zc={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Yc={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function dt(e,t,n,s){try{return s?e(...s):e()}catch(o){en(o,t,n)}}function Ge(e,t,n,s){if(X(e)){const r=dt(e,t,n,s);return r&&Do(r)&&r.catch(i=>{en(i,t,n)}),r}const o=[];for(let r=0;r<e.length;r++)o.push(Ge(e[r],t,n,s));return o}function en(e,t,n,s=!0){const o=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;r;){const u=r.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,i,l)===!1)return}r=r.parent}const a=t.appContext.config.errorHandler;if(a){dt(a,null,10,[e,i,l]);return}}Qc(e,n,o,s)}function Qc(e,t,n,s=!0){console.error(e)}let Un=!1,_o=!1;const Te=[];let rt=0;const mn=[];let Ct=null,Ft=0;const pl=Promise.resolve();let nr=null;function Xn(e){const t=nr||pl;return e?t.then(this?e.bind(this):e):t}function Xc(e){let t=rt+1,n=Te.length;for(;t<n;){const s=t+n>>>1,o=Te[s],r=Dn(o);r<e||r===e&&o.pre?t=s+1:n=s}return t}function $s(e){(!Te.length||!Te.includes(e,Un&&e.allowRecurse?rt+1:rt))&&(e.id==null?Te.push(e):Te.splice(Xc(e.id),0,e),ml())}function ml(){!Un&&!_o&&(_o=!0,nr=pl.then(gl))}function eu(e){const t=Te.indexOf(e);t>rt&&Te.splice(t,1)}function xs(e){q(e)?mn.push(...e):(!Ct||!Ct.includes(e,e.allowRecurse?Ft+1:Ft))&&mn.push(e),ml()}function Nr(e,t,n=Un?rt+1:0){for(;n<Te.length;n++){const s=Te[n];if(s&&s.pre){if(e&&s.id!==e.uid)continue;Te.splice(n,1),n--,s()}}}function Es(e){if(mn.length){const t=[...new Set(mn)].sort((n,s)=>Dn(n)-Dn(s));if(mn.length=0,Ct){Ct.push(...t);return}for(Ct=t,Ft=0;Ft<Ct.length;Ft++)Ct[Ft]();Ct=null,Ft=0}}const Dn=e=>e.id==null?1/0:e.id,tu=(e,t)=>{const n=Dn(e)-Dn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function gl(e){_o=!1,Un=!0,Te.sort(tu);try{for(rt=0;rt<Te.length;rt++){const t=Te[rt];t&&t.active!==!1&&dt(t,null,14)}}finally{rt=0,Te.length=0,Es(),Un=!1,nr=null,(Te.length||mn.length)&&gl()}}let ln,us=[];function yl(e,t){var n,s;ln=e,ln?(ln.enabled=!0,us.forEach(({event:o,args:r})=>ln.emit(o,...r)),us=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{yl(r,t)}),setTimeout(()=>{ln||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,us=[])},3e3)):us=[]}function nu(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ce;let o=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in s){const c=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:d}=s[c]||ce;d&&(o=n.map(g=>ye(g)?g.trim():g)),f&&(o=n.map(jn))}let l,a=s[l=An(t)]||s[l=An(Ne(t))];!a&&r&&(a=s[l=An(Ke(t))]),a&&Ge(a,e,6,o);const u=s[l+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ge(u,e,6,o)}}function bl(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!X(e)){const a=u=>{const c=bl(u,t,!0);c&&(l=!0,ge(i,c))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(de(e)&&s.set(e,null),null):(q(r)?r.forEach(a=>i[a]=null):ge(i,r),de(e)&&s.set(e,i),i)}function Vs(e,t){return!e||!Zn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ie(e,t[0].toLowerCase()+t.slice(1))||ie(e,Ke(t))||ie(e,t))}let ve=null,js=null;function qn(e){const t=ve;return ve=e,js=e&&e.type.__scopeId||null,t}function su(e){js=e}function ou(){js=null}const ru=e=>Qe;function Qe(e,t=ve,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&To(-1);const r=qn(t);let i;try{i=e(...o)}finally{qn(r),s._d&&To(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ys(e){const{type:t,vnode:n,proxy:s,withProxy:o,props:r,propsOptions:[i],slots:l,attrs:a,emit:u,render:c,renderCache:f,data:d,setupState:g,ctx:y,inheritAttrs:k}=e;let P,A;const w=qn(e);try{if(n.shapeFlag&4){const _=o||s,C=_;P=qe(c.call(C,_,f,r,g,d,y)),A=a}else{const _=t;P=qe(_.length>1?_(r,{attrs:a,slots:l,emit:u}):_(r,null)),A=t.props?a:lu(a)}}catch(_){In.length=0,en(_,e,1),P=ne(xe)}let m=P;if(A&&k!==!1){const _=Object.keys(A),{shapeFlag:C}=m;_.length&&C&7&&(i&&_.some(Ho)&&(A=au(A,i)),m=lt(m,A))}return n.dirs&&(m=lt(m),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),P=m,qn(w),P}function iu(e,t=!0){let n;for(let s=0;s<e.length;s++){const o=e[s];if(Pt(o)){if(o.type!==xe||o.children==="v-if"){if(n)return;n=o}}else return}return n}const lu=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zn(n))&&((t||(t={}))[n]=e[n]);return t},au=(e,t)=>{const n={};for(const s in e)(!Ho(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function cu(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:a}=t,u=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Ir(s,i,u):!!i;if(a&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(i[d]!==s[d]&&!Vs(u,d))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?Ir(s,i,u):!0:!!i;return!1}function Ir(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Vs(n,r))return!0}return!1}function sr({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const or="components",uu="directives";function es(e,t){return rr(or,e,!0,t)||e}const _l=Symbol.for("v-ndc");function fu(e){return ye(e)?rr(or,e,!1)||e:e||_l}function du(e){return rr(uu,e)}function rr(e,t,n=!0,s=!1){const o=ve||we;if(o){const r=o.type;if(e===or){const l=Ao(r,!1);if(l&&(l===t||l===Ne(t)||l===Yn(Ne(t))))return r}const i=Fr(o[e]||r[e],t)||Fr(o.appContext[e],t);return!i&&s?r:i}}function Fr(e,t){return e&&(e[t]||e[Ne(t)]||e[Yn(Ne(t))])}const vl=e=>e.__isSuspense;let vo=0;const hu={name:"Suspense",__isSuspense:!0,process(e,t,n,s,o,r,i,l,a,u){if(e==null)mu(t,n,s,o,r,i,l,a,u);else{if(r&&r.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}gu(e,t,n,s,o,i,l,a,u)}},hydrate:yu,create:ir,normalize:bu},pu=hu;function Kn(e,t){const n=e.props&&e.props[t];X(n)&&n()}function mu(e,t,n,s,o,r,i,l,a){const{p:u,o:{createElement:c}}=a,f=c("div"),d=e.suspense=ir(e,o,s,t,f,n,r,i,l,a);u(null,d.pendingBranch=e.ssContent,f,null,s,d,r,i),d.deps>0?(Kn(e,"onPending"),Kn(e,"onFallback"),u(null,e.ssFallback,t,n,s,null,r,i),gn(d,e.ssFallback)):d.resolve(!1,!0)}function gu(e,t,n,s,o,r,i,l,{p:a,um:u,o:{createElement:c}}){const f=t.suspense=e.suspense;f.vnode=t,t.el=e.el;const d=t.ssContent,g=t.ssFallback,{activeBranch:y,pendingBranch:k,isInFallback:P,isHydrating:A}=f;if(k)f.pendingBranch=d,Ye(d,k)?(a(k,d,f.hiddenContainer,null,o,f,r,i,l),f.deps<=0?f.resolve():P&&(A||(a(y,g,n,s,o,null,r,i,l),gn(f,g)))):(f.pendingId=vo++,A?(f.isHydrating=!1,f.activeBranch=k):u(k,o,f),f.deps=0,f.effects.length=0,f.hiddenContainer=c("div"),P?(a(null,d,f.hiddenContainer,null,o,f,r,i,l),f.deps<=0?f.resolve():(a(y,g,n,s,o,null,r,i,l),gn(f,g))):y&&Ye(d,y)?(a(y,d,n,s,o,f,r,i,l),f.resolve(!0)):(a(null,d,f.hiddenContainer,null,o,f,r,i,l),f.deps<=0&&f.resolve()));else if(y&&Ye(d,y))a(y,d,n,s,o,f,r,i,l),gn(f,d);else if(Kn(t,"onPending"),f.pendingBranch=d,d.shapeFlag&512?f.pendingId=d.component.suspenseId:f.pendingId=vo++,a(null,d,f.hiddenContainer,null,o,f,r,i,l),f.deps<=0)f.resolve();else{const{timeout:w,pendingId:m}=f;w>0?setTimeout(()=>{f.pendingId===m&&f.fallback(g)},w):w===0&&f.fallback(g)}}function ir(e,t,n,s,o,r,i,l,a,u,c=!1){const{p:f,m:d,um:g,n:y,o:{parentNode:k,remove:P}}=u;let A;const w=_u(e);w&&t!=null&&t.pendingBranch&&(A=t.pendingId,t.deps++);const m=e.props?ws(e.props.timeout):void 0,_=r,C={vnode:e,parent:t,parentComponent:n,namespace:i,container:s,hiddenContainer:o,deps:0,pendingId:vo++,timeout:typeof m=="number"?m:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(x=!1,I=!1){const{vnode:N,activeBranch:S,pendingBranch:E,pendingId:$,effects:L,parentComponent:G,container:re}=C;let ue=!1;C.isHydrating?C.isHydrating=!1:x||(ue=S&&E.transition&&E.transition.mode==="out-in",ue&&(S.transition.afterLeave=()=>{$===C.pendingId&&(d(E,re,r===_?y(S):r,0),xs(L))}),S&&(k(S.el)!==C.hiddenContainer&&(r=y(S)),g(S,G,C,!0)),ue||d(E,re,r,0)),gn(C,E),C.pendingBranch=null,C.isInFallback=!1;let K=C.parent,te=!1;for(;K;){if(K.pendingBranch){K.effects.push(...L),te=!0;break}K=K.parent}!te&&!ue&&xs(L),C.effects=[],w&&t&&t.pendingBranch&&A===t.pendingId&&(t.deps--,t.deps===0&&!I&&t.resolve()),Kn(N,"onResolve")},fallback(x){if(!C.pendingBranch)return;const{vnode:I,activeBranch:N,parentComponent:S,container:E,namespace:$}=C;Kn(I,"onFallback");const L=y(N),G=()=>{C.isInFallback&&(f(null,x,E,L,S,null,$,l,a),gn(C,x))},re=x.transition&&x.transition.mode==="out-in";re&&(N.transition.afterLeave=G),C.isInFallback=!0,g(N,S,null,!0),re||G()},move(x,I,N){C.activeBranch&&d(C.activeBranch,x,I,N),C.container=x},next(){return C.activeBranch&&y(C.activeBranch)},registerDep(x,I){const N=!!C.pendingBranch;N&&C.deps++;const S=x.vnode.el;x.asyncDep.catch(E=>{en(E,x,0)}).then(E=>{if(x.isUnmounted||C.isUnmounted||C.pendingId!==x.suspenseId)return;x.asyncResolved=!0;const{vnode:$}=x;Lo(x,E,!1),S&&($.el=S);const L=!S&&x.subTree.el;I(x,$,k(S||x.subTree.el),S?null:y(x.subTree),C,i,a),L&&P(L),sr(x,$.el),N&&--C.deps===0&&C.resolve()})},unmount(x,I){C.isUnmounted=!0,C.activeBranch&&g(C.activeBranch,n,x,I),C.pendingBranch&&g(C.pendingBranch,n,x,I)}};return C}function yu(e,t,n,s,o,r,i,l,a){const u=t.suspense=ir(t,s,n,e.parentNode,document.createElement("div"),null,o,r,i,l,!0),c=a(e,u.pendingBranch=t.ssContent,n,u,r,i);return u.deps===0&&u.resolve(!1,!0),c}function bu(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=$r(s?n.default:n),e.ssFallback=s?$r(n.fallback):ne(xe)}function $r(e){let t;if(X(e)){const n=Jt&&e._c;n&&(e._d=!1,Z()),e=e(),n&&(e._d=!0,t=je,Xl())}return q(e)&&(e=iu(e)),e=qe(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function wl(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):xs(e)}function gn(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e;let o=t.el;for(;!o&&t.component;)t=t.component.subTree,o=t.el;n.el=o,s&&s.subTree===n&&(s.vnode.el=o,sr(s,o))}function _u(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}const Cl=Symbol.for("v-scx"),xl=()=>Le(Cl);function vu(e,t){return ts(e,null,t)}function El(e,t){return ts(e,null,{flush:"post"})}function Sl(e,t){return ts(e,null,{flush:"sync"})}const fs={};function Xe(e,t,n){return ts(e,t,n)}function ts(e,t,{immediate:n,deep:s,flush:o,once:r,onTrack:i,onTrigger:l}=ce){if(t&&r){const x=t;t=(...I)=>{x(...I),C()}}const a=we,u=x=>s===!0?x:Vt(x,s===!1?1:void 0);let c,f=!1,d=!1;if(Se(e)?(c=()=>e.value,f=Bn(e)):Ht(e)?(c=()=>u(e),f=!0):q(e)?(d=!0,f=e.some(x=>Ht(x)||Bn(x)),c=()=>e.map(x=>{if(Se(x))return x.value;if(Ht(x))return u(x);if(X(x))return dt(x,a,2)})):X(e)?t?c=()=>dt(e,a,2):c=()=>(g&&g(),Ge(e,a,3,[y])):c=Ve,t&&s){const x=c;c=()=>Vt(x())}let g,y=x=>{g=m.onStop=()=>{dt(x,a,4),g=m.onStop=void 0}},k;if(ss)if(y=Ve,t?n&&Ge(t,a,3,[c(),d?[]:void 0,y]):c(),o==="sync"){const x=xl();k=x.__watcherHandles||(x.__watcherHandles=[])}else return Ve;let P=d?new Array(e.length).fill(fs):fs;const A=()=>{if(!(!m.active||!m.dirty))if(t){const x=m.run();(s||f||(d?x.some((I,N)=>et(I,P[N])):et(x,P)))&&(g&&g(),Ge(t,a,3,[x,P===fs?void 0:d&&P[0]===fs?[]:P,y]),P=x)}else m.run()};A.allowRecurse=!!t;let w;o==="sync"?w=A:o==="post"?w=()=>Ee(A,a&&a.suspense):(A.pre=!0,a&&(A.id=a.uid),w=()=>$s(A));const m=new bn(c,Ve,w),_=Ji(),C=()=>{m.stop(),_&&Uo(_.effects,m)};return t?n?A():P=m.run():o==="post"?Ee(m.run.bind(m),a&&a.suspense):m.run(),k&&k.push(C),C}function wu(e,t,n){const s=this.proxy,o=ye(e)?e.includes(".")?kl(s,e):()=>s[e]:e.bind(s,s);let r;X(t)?r=t:(r=t.handler,n=t);const i=Zt(this),l=ts(o,r.bind(s),n);return i(),l}function kl(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function Vt(e,t,n=0,s){if(!de(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(s=s||new Set,s.has(e))return e;if(s.add(e),Se(e))Vt(e.value,t,n,s);else if(q(e))for(let o=0;o<e.length;o++)Vt(e[o],t,n,s);else if(Yt(e)||fn(e))e.forEach(o=>{Vt(o,t,n,s)});else if(Ui(e))for(const o in e)Vt(e[o],t,n,s);return e}function Oe(e,t){if(ve===null)return e;const n=Js(ve)||ve.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,a=ce]=t[o];r&&(X(r)&&(r={mounted:r,updated:r}),r.deep&&Vt(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:a}))}return e}function ot(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let a=l.dir[s];a&&(Qt(),Ge(a,n,8,[e.el,l,e,t]),Xt())}}const xt=Symbol("_leaveCb"),ds=Symbol("_enterCb");function lr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tn(()=>{e.isMounted=!0}),nn(()=>{e.isUnmounting=!0}),e}const ze=[Function,Array],ar={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ze,onEnter:ze,onAfterEnter:ze,onEnterCancelled:ze,onBeforeLeave:ze,onLeave:ze,onAfterLeave:ze,onLeaveCancelled:ze,onBeforeAppear:ze,onAppear:ze,onAfterAppear:ze,onAppearCancelled:ze},Cu={name:"BaseTransition",props:ar,setup(e,{slots:t}){const n=mt(),s=lr();return()=>{const o=t.default&&Bs(t.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const d of o)if(d.type!==xe){r=d;break}}const i=oe(e),{mode:l}=i;if(s.isLeaving)return so(r);const a=Vr(r);if(!a)return so(r);const u=_n(a,i,s,n);zt(a,u);const c=n.subTree,f=c&&Vr(c);if(f&&f.type!==xe&&!Ye(a,f)){const d=_n(f,i,s,n);if(zt(f,d),l==="out-in")return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},so(r);l==="in-out"&&a.type!==xe&&(d.delayLeave=(g,y,k)=>{const P=Ol(s,f);P[String(f.key)]=f,g[xt]=()=>{y(),g[xt]=void 0,delete u.delayedLeave},u.delayedLeave=k})}return r}}},Tl=Cu;function Ol(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function _n(e,t,n,s){const{appear:o,mode:r,persisted:i=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:f,onLeave:d,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:k,onAppear:P,onAfterAppear:A,onAppearCancelled:w}=t,m=String(e.key),_=Ol(n,e),C=(N,S)=>{N&&Ge(N,s,9,S)},x=(N,S)=>{const E=S[1];C(N,S),q(N)?N.every($=>$.length<=1)&&E():N.length<=1&&E()},I={mode:r,persisted:i,beforeEnter(N){let S=l;if(!n.isMounted)if(o)S=k||l;else return;N[xt]&&N[xt](!0);const E=_[m];E&&Ye(e,E)&&E.el[xt]&&E.el[xt](),C(S,[N])},enter(N){let S=a,E=u,$=c;if(!n.isMounted)if(o)S=P||a,E=A||u,$=w||c;else return;let L=!1;const G=N[ds]=re=>{L||(L=!0,re?C($,[N]):C(E,[N]),I.delayedLeave&&I.delayedLeave(),N[ds]=void 0)};S?x(S,[N,G]):G()},leave(N,S){const E=String(e.key);if(N[ds]&&N[ds](!0),n.isUnmounting)return S();C(f,[N]);let $=!1;const L=N[xt]=G=>{$||($=!0,S(),G?C(y,[N]):C(g,[N]),N[xt]=void 0,_[E]===e&&delete _[E])};_[E]=e,d?x(d,[N,L]):L()},clone(N){return _n(N,t,n,s)}};return I}function so(e){if(ns(e))return e=lt(e),e.children=null,e}function Vr(e){return ns(e)?e.children?e.children[0]:void 0:e}function zt(e,t){e.shapeFlag&6&&e.component?zt(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Bs(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===he?(i.patchFlag&128&&o++,s=s.concat(Bs(i.children,t,l))):(t||i.type!==xe)&&s.push(l!=null?lt(i,{key:l}):i)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ht(e,t){return X(e)?ge({name:e.name},t,{setup:e}):e}const Ut=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function xu(e){X(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:o=200,timeout:r,suspensible:i=!0,onError:l}=e;let a=null,u,c=0;const f=()=>(c++,a=null,d()),d=()=>{let g;return a||(g=a=t().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),l)return new Promise((k,P)=>{l(y,()=>k(f()),()=>P(y),c+1)});throw y}).then(y=>g!==a&&a?a:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),u=y,y)))};return ht({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return u},setup(){const g=we;if(u)return()=>oo(u,g);const y=w=>{a=null,en(w,g,13,!s)};if(i&&g.suspense||ss)return d().then(w=>()=>oo(w,g)).catch(w=>(y(w),()=>s?ne(s,{error:w}):null));const k=be(!1),P=be(),A=be(!!o);return o&&setTimeout(()=>{A.value=!1},o),r!=null&&setTimeout(()=>{if(!k.value&&!P.value){const w=new Error(`Async component timed out after ${r}ms.`);y(w),P.value=w}},r),d().then(()=>{k.value=!0,g.parent&&ns(g.parent.vnode)&&(g.parent.effect.dirty=!0,$s(g.parent.update))}).catch(w=>{y(w),P.value=w}),()=>{if(k.value&&u)return oo(u,g);if(P.value&&s)return ne(s,{error:P.value});if(n&&!A.value)return ne(n)}}})}function oo(e,t){const{ref:n,props:s,children:o,ce:r}=t.vnode,i=ne(e,s,o);return i.ref=n,i.ce=r,delete t.vnode.ce,i}const ns=e=>e.type.__isKeepAlive,Eu={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=mt(),s=n.ctx;if(!s.renderer)return()=>{const w=t.default&&t.default();return w&&w.length===1?w[0]:w};const o=new Map,r=new Set;let i=null;const l=n.suspense,{renderer:{p:a,m:u,um:c,o:{createElement:f}}}=s,d=f("div");s.activate=(w,m,_,C,x)=>{const I=w.component;u(w,m,_,0,l),a(I.vnode,w,m,_,I,l,C,w.slotScopeIds,x),Ee(()=>{I.isDeactivated=!1,I.a&&hn(I.a);const N=w.props&&w.props.onVnodeMounted;N&&Fe(N,I.parent,w)},l)},s.deactivate=w=>{const m=w.component;u(w,d,null,1,l),Ee(()=>{m.da&&hn(m.da);const _=w.props&&w.props.onVnodeUnmounted;_&&Fe(_,m.parent,w),m.isDeactivated=!0},l)};function g(w){ro(w),c(w,n,l,!0)}function y(w){o.forEach((m,_)=>{const C=Ao(m.type);C&&(!w||!w(C))&&k(_)})}function k(w){const m=o.get(w);!i||!Ye(m,i)?g(m):i&&ro(i),o.delete(w),r.delete(w)}Xe(()=>[e.include,e.exclude],([w,m])=>{w&&y(_=>Ln(w,_)),m&&y(_=>!Ln(m,_))},{flush:"post",deep:!0});let P=null;const A=()=>{P!=null&&o.set(P,io(n.subTree))};return tn(A),Us(A),nn(()=>{o.forEach(w=>{const{subTree:m,suspense:_}=n,C=io(m);if(w.type===C.type&&w.key===C.key){ro(C);const x=C.component.da;x&&Ee(x,_);return}g(w)})}),()=>{if(P=null,!t.default)return null;const w=t.default(),m=w[0];if(w.length>1)return i=null,w;if(!Pt(m)||!(m.shapeFlag&4)&&!(m.shapeFlag&128))return i=null,m;let _=io(m);const C=_.type,x=Ao(Ut(_)?_.type.__asyncResolved||{}:C),{include:I,exclude:N,max:S}=e;if(I&&(!x||!Ln(I,x))||N&&x&&Ln(N,x))return i=_,m;const E=_.key==null?C:_.key,$=o.get(E);return _.el&&(_=lt(_),m.shapeFlag&128&&(m.ssContent=_)),P=E,$?(_.el=$.el,_.component=$.component,_.transition&&zt(_,_.transition),_.shapeFlag|=512,r.delete(E),r.add(E)):(r.add(E),S&&r.size>parseInt(S,10)&&k(r.values().next().value)),_.shapeFlag|=256,i=_,vl(m.type)?m:_}}},Su=Eu;function Ln(e,t){return q(e)?e.some(n=>Ln(n,t)):ye(e)?e.split(",").includes(t):tc(e)?e.test(t):!1}function Rl(e,t){Pl(e,"a",t)}function Ll(e,t){Pl(e,"da",t)}function Pl(e,t,n=we){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Hs(t,s,n),n){let o=n.parent;for(;o&&o.parent;)ns(o.parent.vnode)&&ku(s,t,n,o),o=o.parent}}function ku(e,t,n,s){const o=Hs(t,e,s,!0);Ds(()=>{Uo(s[t],o)},n)}function ro(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function io(e){return e.shapeFlag&128?e.ssContent:e}function Hs(e,t,n=we,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Qt();const l=Zt(n),a=Ge(t,n,e,i);return l(),Xt(),a});return s?o.unshift(r):o.push(r),r}}const pt=e=>(t,n=we)=>(!ss||e==="sp")&&Hs(e,(...s)=>t(...s),n),Al=pt("bm"),tn=pt("m"),Ml=pt("bu"),Us=pt("u"),nn=pt("bum"),Ds=pt("um"),Nl=pt("sp"),Il=pt("rtg"),Fl=pt("rtc");function $l(e,t=we){Hs("ec",e,t)}function Dt(e,t,n,s){let o;const r=n&&n[s];if(q(e)||ye(e)){o=new Array(e.length);for(let i=0,l=e.length;i<l;i++)o[i]=t(e[i],i,void 0,r&&r[i])}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r&&r[i])}else if(de(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,r&&r[l]));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,a=i.length;l<a;l++){const u=i[l];o[l]=t(e[u],u,l,r&&r[l])}}else o=[];return n&&(n[s]=o),o}function Tu(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(q(s))for(let o=0;o<s.length;o++)e[s[o].name]=s[o].fn;else s&&(e[s.name]=s.key?(...o)=>{const r=s.fn(...o);return r&&(r.key=s.key),r}:s.fn)}return e}function qs(e,t,n={},s,o){if(ve.isCE||ve.parent&&Ut(ve.parent)&&ve.parent.isCE)return t!=="default"&&(n.name=t),ne("slot",n,s&&s());let r=e[t];r&&r._c&&(r._d=!1),Z();const i=r&&Vl(r(n)),l=Ks(he,{key:n.key||i&&i.key||`_${t}`},i||(s?s():[]),i&&e._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Vl(e){return e.some(t=>Pt(t)?!(t.type===xe||t.type===he&&!Vl(t.children)):!0)?e:null}function Ou(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:An(s)]=e[s];return n}const wo=e=>e?sa(e)?Js(e)||e.proxy:wo(e.parent):null,Mn=ge(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wo(e.parent),$root:e=>wo(e.root),$emit:e=>e.emit,$options:e=>cr(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,$s(e.update)}),$nextTick:e=>e.n||(e.n=Xn.bind(e.proxy)),$watch:e=>wu.bind(e)}),lo=(e,t)=>e!==ce&&!e.__isScriptSetup&&ie(e,t),Co={get({_:e},t){const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:a}=e;let u;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(lo(s,t))return i[t]=1,s[t];if(o!==ce&&ie(o,t))return i[t]=2,o[t];if((u=e.propsOptions[0])&&ie(u,t))return i[t]=3,r[t];if(n!==ce&&ie(n,t))return i[t]=4,n[t];xo&&(i[t]=0)}}const c=Mn[t];let f,d;if(c)return t==="$attrs"&&He(e,"get",t),c(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==ce&&ie(n,t))return i[t]=4,n[t];if(d=a.config.globalProperties,ie(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return lo(o,t)?(o[t]=n,!0):s!==ce&&ie(s,t)?(s[t]=n,!0):ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==ce&&ie(e,i)||lo(t,i)||(l=r[0])&&ie(l,i)||ie(s,i)||ie(Mn,i)||ie(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ie(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Ru=ge({},Co,{get(e,t){if(t!==Symbol.unscopables)return Co.get(e,t,e)},has(e,t){return t[0]!=="_"&&!ic(t)}});function Lu(){return null}function Pu(){return null}function Au(e){}function Mu(e){}function Nu(){return null}function Iu(){}function Fu(e,t){return null}function $u(){return jl().slots}function Vu(){return jl().attrs}function jl(){const e=mt();return e.setupContext||(e.setupContext=ia(e))}function Gn(e){return q(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function ju(e,t){const n=Gn(e);for(const s in t){if(s.startsWith("__skip"))continue;let o=n[s];o?q(o)||X(o)?o=n[s]={type:o,default:t[s]}:o.default=t[s]:o===null&&(o=n[s]={default:t[s]}),o&&t[`__skip_${s}`]&&(o.skipFactory=!0)}return n}function Bu(e,t){return!e||!t?e||t:q(e)&&q(t)?e.concat(t):ge({},Gn(e),Gn(t))}function Hu(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function Uu(e){const t=mt();let n=e();return Ro(),Do(n)&&(n=n.catch(s=>{throw Zt(t),s})),[n,()=>Zt(t)]}let xo=!0;function Du(e){const t=cr(e),n=e.proxy,s=e.ctx;xo=!1,t.beforeCreate&&jr(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:a,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:g,updated:y,activated:k,deactivated:P,beforeDestroy:A,beforeUnmount:w,destroyed:m,unmounted:_,render:C,renderTracked:x,renderTriggered:I,errorCaptured:N,serverPrefetch:S,expose:E,inheritAttrs:$,components:L,directives:G,filters:re}=t;if(u&&qu(u,s,null),i)for(const te in i){const W=i[te];X(W)&&(s[te]=W.bind(n))}if(o){const te=o.call(n,n);de(te)&&(e.data=Kt(te))}if(xo=!0,r)for(const te in r){const W=r[te],Je=X(W)?W.bind(n,n):X(W.get)?W.get.bind(n,n):Ve,gt=!X(W)&&X(W.set)?W.set.bind(n):Ve,nt=Re({get:Je,set:gt});Object.defineProperty(s,te,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Ie=>nt.value=Ie})}if(l)for(const te in l)Bl(l[te],s,n,te);if(a){const te=X(a)?a.call(n):a;Reflect.ownKeys(te).forEach(W=>{Ot(W,te[W])})}c&&jr(c,e,"c");function K(te,W){q(W)?W.forEach(Je=>te(Je.bind(n))):W&&te(W.bind(n))}if(K(Al,f),K(tn,d),K(Ml,g),K(Us,y),K(Rl,k),K(Ll,P),K($l,N),K(Fl,x),K(Il,I),K(nn,w),K(Ds,_),K(Nl,S),q(E))if(E.length){const te=e.exposed||(e.exposed={});E.forEach(W=>{Object.defineProperty(te,W,{get:()=>n[W],set:Je=>n[W]=Je})})}else e.exposed||(e.exposed={});C&&e.render===Ve&&(e.render=C),$!=null&&(e.inheritAttrs=$),L&&(e.components=L),G&&(e.directives=G)}function qu(e,t,n=Ve){q(e)&&(e=Eo(e));for(const s in e){const o=e[s];let r;de(o)?"default"in o?r=Le(o.from||s,o.default,!0):r=Le(o.from||s):r=Le(o),Se(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function jr(e,t,n){Ge(q(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Bl(e,t,n,s){const o=s.includes(".")?kl(n,s):()=>n[s];if(ye(e)){const r=t[e];X(r)&&Xe(o,r)}else if(X(e))Xe(o,e.bind(n));else if(de(e))if(q(e))e.forEach(r=>Bl(r,t,n,s));else{const r=X(e.handler)?e.handler.bind(n):t[e.handler];X(r)&&Xe(o,r,e)}}function cr(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let a;return l?a=l:!o.length&&!n&&!s?a=t:(a={},o.length&&o.forEach(u=>Ss(a,u,i,!0)),Ss(a,t,i)),de(t)&&r.set(t,a),a}function Ss(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Ss(e,r,n,!0),o&&o.forEach(i=>Ss(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=Ku[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const Ku={data:Br,props:Hr,emits:Hr,methods:Pn,computed:Pn,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:Pn,directives:Pn,watch:zu,provide:Br,inject:Gu};function Br(e,t){return t?e?function(){return ge(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function Gu(e,t){return Pn(Eo(e),Eo(t))}function Eo(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pe(e,t){return e?[...new Set([].concat(e,t))]:t}function Pn(e,t){return e?ge(Object.create(null),e,t):t}function Hr(e,t){return e?q(e)&&q(t)?[...new Set([...e,...t])]:ge(Object.create(null),Gn(e),Gn(t??{})):t}function zu(e,t){if(!e)return t;if(!t)return e;const n=ge(Object.create(null),e);for(const s in t)n[s]=Pe(e[s],t[s]);return n}function Hl(){return{app:null,config:{isNativeTag:Xa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wu=0;function Ju(e,t){return function(s,o=null){X(s)||(s=ge({},s)),o!=null&&!de(o)&&(o=null);const r=Hl(),i=new WeakSet;let l=!1;const a=r.app={_uid:Wu++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:aa,get config(){return r.config},set config(u){},use(u,...c){return i.has(u)||(u&&X(u.install)?(i.add(u),u.install(a,...c)):X(u)&&(i.add(u),u(a,...c))),a},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),a},component(u,c){return c?(r.components[u]=c,a):r.components[u]},directive(u,c){return c?(r.directives[u]=c,a):r.directives[u]},mount(u,c,f){if(!l){const d=ne(s,o);return d.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),c&&t?t(d,u):e(d,u,f),l=!0,a._container=u,u.__vue_app__=a,Js(d.component)||d.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(u,c){return r.provides[u]=c,a},runWithContext(u){const c=yn;yn=a;try{return u()}finally{yn=c}}};return a}}let yn=null;function Ot(e,t){if(we){let n=we.provides;const s=we.parent&&we.parent.provides;s===n&&(n=we.provides=Object.create(s)),n[e]=t}}function Le(e,t,n=!1){const s=we||ve;if(s||yn){const o=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:yn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&X(t)?t.call(s&&s.proxy):t}}function Zu(){return!!(we||ve||yn)}function Yu(e,t,n,s=!1){const o={},r={};vs(r,Gs,1),e.propsDefaults=Object.create(null),Ul(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Jo(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Qu(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=oe(o),[a]=e.propsOptions;let u=!1;if((s||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(Vs(e.emitsOptions,d))continue;const g=t[d];if(a)if(ie(r,d))g!==r[d]&&(r[d]=g,u=!0);else{const y=Ne(d);o[y]=So(a,l,y,g,e,!1)}else g!==r[d]&&(r[d]=g,u=!0)}}}else{Ul(e,t,o,r)&&(u=!0);let c;for(const f in l)(!t||!ie(t,f)&&((c=Ke(f))===f||!ie(t,c)))&&(a?n&&(n[f]!==void 0||n[c]!==void 0)&&(o[f]=So(a,l,f,void 0,e,!0)):delete o[f]);if(r!==l)for(const f in r)(!t||!ie(t,f))&&(delete r[f],u=!0)}u&&ft(e,"set","$attrs")}function Ul(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let a in t){if(dn(a))continue;const u=t[a];let c;o&&ie(o,c=Ne(a))?!r||!r.includes(c)?n[c]=u:(l||(l={}))[c]=u:Vs(e.emitsOptions,a)||(!(a in s)||u!==s[a])&&(s[a]=u,i=!0)}if(r){const a=oe(n),u=l||ce;for(let c=0;c<r.length;c++){const f=r[c];n[f]=So(o,a,f,u[f],e,!ie(u,f))}}return i}function So(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=ie(i,"default");if(l&&s===void 0){const a=i.default;if(i.type!==Function&&!i.skipFactory&&X(a)){const{propsDefaults:u}=o;if(n in u)s=u[n];else{const c=Zt(o);s=u[n]=a.call(null,t),c()}}else s=a}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===Ke(n))&&(s=!0))}return s}function Dl(e,t,n=!1){const s=t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let a=!1;if(!X(e)){const c=f=>{a=!0;const[d,g]=Dl(f,t,!0);ge(i,d),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!r&&!a)return de(e)&&s.set(e,un),un;if(q(r))for(let c=0;c<r.length;c++){const f=Ne(r[c]);Ur(f)&&(i[f]=ce)}else if(r)for(const c in r){const f=Ne(c);if(Ur(f)){const d=r[c],g=i[f]=q(d)||X(d)?{type:d}:ge({},d);if(g){const y=Kr(Boolean,g.type),k=Kr(String,g.type);g[0]=y>-1,g[1]=k<0||y<k,(y>-1||ie(g,"default"))&&l.push(f)}}}const u=[i,l];return de(e)&&s.set(e,u),u}function Ur(e){return e[0]!=="$"&&!dn(e)}function Dr(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function qr(e,t){return Dr(e)===Dr(t)}function Kr(e,t){return q(t)?t.findIndex(n=>qr(n,e)):X(t)&&qr(t,e)?0:-1}const ql=e=>e[0]==="_"||e==="$stable",ur=e=>q(e)?e.map(qe):[qe(e)],Xu=(e,t,n)=>{if(t._n)return t;const s=Qe((...o)=>ur(t(...o)),n);return s._c=!1,s},Kl=(e,t,n)=>{const s=e._ctx;for(const o in e){if(ql(o))continue;const r=e[o];if(X(r))t[o]=Xu(o,r,s);else if(r!=null){const i=ur(r);t[o]=()=>i}}},Gl=(e,t)=>{const n=ur(t);e.slots.default=()=>n},ef=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=oe(t),vs(t,"_",n)):Kl(t,e.slots={})}else e.slots={},t&&Gl(e,t);vs(e.slots,Gs,1)},tf=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=ce;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:(ge(o,t),!n&&l===1&&delete o._):(r=!t.$stable,Kl(t,o)),i=t}else t&&(Gl(e,t),i={default:1});if(r)for(const l in o)!ql(l)&&i[l]==null&&delete o[l]};function ks(e,t,n,s,o=!1){if(q(e)){e.forEach((d,g)=>ks(d,t&&(q(t)?t[g]:t),n,s,o));return}if(Ut(s)&&!o)return;const r=s.shapeFlag&4?Js(s.component)||s.component.proxy:s.el,i=o?null:r,{i:l,r:a}=e,u=t&&t.r,c=l.refs===ce?l.refs={}:l.refs,f=l.setupState;if(u!=null&&u!==a&&(ye(u)?(c[u]=null,ie(f,u)&&(f[u]=null)):Se(u)&&(u.value=null)),X(a))dt(a,l,12,[i,c]);else{const d=ye(a),g=Se(a);if(d||g){const y=()=>{if(e.f){const k=d?ie(f,a)?f[a]:c[a]:a.value;o?q(k)&&Uo(k,r):q(k)?k.includes(r)||k.push(r):d?(c[a]=[r],ie(f,a)&&(f[a]=c[a])):(a.value=[r],e.k&&(c[e.k]=a.value))}else d?(c[a]=i,ie(f,a)&&(f[a]=i)):g&&(a.value=i,e.k&&(c[e.k]=i))};i?(y.id=-1,Ee(y,n)):y()}}}let bt=!1;const nf=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",sf=e=>e.namespaceURI.includes("MathML"),hs=e=>{if(nf(e))return"svg";if(sf(e))return"mathml"},ps=e=>e.nodeType===8;function of(e){const{mt:t,p:n,o:{patchProp:s,createText:o,nextSibling:r,parentNode:i,remove:l,insert:a,createComment:u}}=e,c=(m,_)=>{if(!_.hasChildNodes()){n(null,m,_),Es(),_._vnode=m;return}bt=!1,f(_.firstChild,m,null,null,null),Es(),_._vnode=m,bt&&console.error("Hydration completed but contains mismatches.")},f=(m,_,C,x,I,N=!1)=>{const S=ps(m)&&m.data==="[",E=()=>k(m,_,C,x,I,S),{type:$,ref:L,shapeFlag:G,patchFlag:re}=_;let ue=m.nodeType;_.el=m,re===-2&&(N=!1,_.dynamicChildren=null);let K=null;switch($){case Wt:ue!==3?_.children===""?(a(_.el=o(""),i(m),m),K=m):K=E():(m.data!==_.children&&(bt=!0,m.data=_.children),K=r(m));break;case xe:w(m)?(K=r(m),A(_.el=m.content.firstChild,m,C)):ue!==8||S?K=E():K=r(m);break;case qt:if(S&&(m=r(m),ue=m.nodeType),ue===1||ue===3){K=m;const te=!_.children.length;for(let W=0;W<_.staticCount;W++)te&&(_.children+=K.nodeType===1?K.outerHTML:K.data),W===_.staticCount-1&&(_.anchor=K),K=r(K);return S?r(K):K}else E();break;case he:S?K=y(m,_,C,x,I,N):K=E();break;default:if(G&1)(ue!==1||_.type.toLowerCase()!==m.tagName.toLowerCase())&&!w(m)?K=E():K=d(m,_,C,x,I,N);else if(G&6){_.slotScopeIds=I;const te=i(m);if(S?K=P(m):ps(m)&&m.data==="teleport start"?K=P(m,m.data,"teleport end"):K=r(m),t(_,te,null,C,x,hs(te),N),Ut(_)){let W;S?(W=ne(he),W.anchor=K?K.previousSibling:te.lastChild):W=m.nodeType===3?zs(""):ne("div"),W.el=m,_.component.subTree=W}}else G&64?ue!==8?K=E():K=_.type.hydrate(m,_,C,x,I,N,e,g):G&128&&(K=_.type.hydrate(m,_,C,x,hs(i(m)),I,N,e,f))}return L!=null&&ks(L,null,x,_),K},d=(m,_,C,x,I,N)=>{N=N||!!_.dynamicChildren;const{type:S,props:E,patchFlag:$,shapeFlag:L,dirs:G,transition:re}=_,ue=S==="input"||S==="option";if(ue||$!==-1){G&&ot(_,null,C,"created");let K=!1;if(w(m)){K=Zl(x,re)&&C&&C.vnode.props&&C.vnode.props.appear;const W=m.content.firstChild;K&&re.beforeEnter(W),A(W,m,C),_.el=m=W}if(L&16&&!(E&&(E.innerHTML||E.textContent))){let W=g(m.firstChild,_,m,C,x,I,N);for(;W;){bt=!0;const Je=W;W=W.nextSibling,l(Je)}}else L&8&&m.textContent!==_.children&&(bt=!0,m.textContent=_.children);if(E)if(ue||!N||$&48)for(const W in E)(ue&&(W.endsWith("value")||W==="indeterminate")||Zn(W)&&!dn(W)||W[0]===".")&&s(m,W,null,E[W],void 0,void 0,C);else E.onClick&&s(m,"onClick",null,E.onClick,void 0,void 0,C);let te;(te=E&&E.onVnodeBeforeMount)&&Fe(te,C,_),G&&ot(_,null,C,"beforeMount"),((te=E&&E.onVnodeMounted)||G||K)&&wl(()=>{te&&Fe(te,C,_),K&&re.enter(m),G&&ot(_,null,C,"mounted")},x)}return m.nextSibling},g=(m,_,C,x,I,N,S)=>{S=S||!!_.dynamicChildren;const E=_.children,$=E.length;for(let L=0;L<$;L++){const G=S?E[L]:E[L]=qe(E[L]);if(m)m=f(m,G,x,I,N,S);else{if(G.type===Wt&&!G.children)continue;bt=!0,n(null,G,C,null,x,I,hs(C),N)}}return m},y=(m,_,C,x,I,N)=>{const{slotScopeIds:S}=_;S&&(I=I?I.concat(S):S);const E=i(m),$=g(r(m),_,E,C,x,I,N);return $&&ps($)&&$.data==="]"?r(_.anchor=$):(bt=!0,a(_.anchor=u("]"),E,$),$)},k=(m,_,C,x,I,N)=>{if(bt=!0,_.el=null,N){const $=P(m);for(;;){const L=r(m);if(L&&L!==$)l(L);else break}}const S=r(m),E=i(m);return l(m),n(null,_,E,S,C,x,hs(E),I),S},P=(m,_="[",C="]")=>{let x=0;for(;m;)if(m=r(m),m&&ps(m)&&(m.data===_&&x++,m.data===C)){if(x===0)return r(m);x--}return m},A=(m,_,C)=>{const x=_.parentNode;x&&x.replaceChild(m,_);let I=C;for(;I;)I.vnode.el===_&&(I.vnode.el=I.subTree.el=m),I=I.parent},w=m=>m.nodeType===1&&m.tagName.toLowerCase()==="template";return[c,f]}const Ee=wl;function zl(e){return Jl(e)}function Wl(e){return Jl(e,of)}function Jl(e,t){const n=Di();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:a,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:g=Ve,insertStaticContent:y}=e,k=(h,p,v,R=null,T=null,V=null,H=void 0,F=null,j=!!p.dynamicChildren)=>{if(h===p)return;h&&!Ye(h,p)&&(R=O(h),Ie(h,T,V,!0),h=null),p.patchFlag===-2&&(j=!1,p.dynamicChildren=null);const{type:M,ref:D,shapeFlag:Y}=p;switch(M){case Wt:P(h,p,v,R);break;case xe:A(h,p,v,R);break;case qt:h==null&&w(p,v,R,H);break;case he:L(h,p,v,R,T,V,H,F,j);break;default:Y&1?C(h,p,v,R,T,V,H,F,j):Y&6?G(h,p,v,R,T,V,H,F,j):(Y&64||Y&128)&&M.process(h,p,v,R,T,V,H,F,j,z)}D!=null&&T&&ks(D,h&&h.ref,V,p||h,!p)},P=(h,p,v,R)=>{if(h==null)s(p.el=l(p.children),v,R);else{const T=p.el=h.el;p.children!==h.children&&u(T,p.children)}},A=(h,p,v,R)=>{h==null?s(p.el=a(p.children||""),v,R):p.el=h.el},w=(h,p,v,R)=>{[h.el,h.anchor]=y(h.children,p,v,R,h.el,h.anchor)},m=({el:h,anchor:p},v,R)=>{let T;for(;h&&h!==p;)T=d(h),s(h,v,R),h=T;s(p,v,R)},_=({el:h,anchor:p})=>{let v;for(;h&&h!==p;)v=d(h),o(h),h=v;o(p)},C=(h,p,v,R,T,V,H,F,j)=>{p.type==="svg"?H="svg":p.type==="math"&&(H="mathml"),h==null?x(p,v,R,T,V,H,F,j):S(h,p,T,V,H,F,j)},x=(h,p,v,R,T,V,H,F)=>{let j,M;const{props:D,shapeFlag:Y,transition:J,dirs:ee}=h;if(j=h.el=i(h.type,V,D&&D.is,D),Y&8?c(j,h.children):Y&16&&N(h.children,j,null,R,T,ao(h,V),H,F),ee&&ot(h,null,R,"created"),I(j,h,h.scopeId,H,R),D){for(const fe in D)fe!=="value"&&!dn(fe)&&r(j,fe,null,D[fe],V,h.children,R,T,ke);"value"in D&&r(j,"value",null,D.value,V),(M=D.onVnodeBeforeMount)&&Fe(M,R,h)}ee&&ot(h,null,R,"beforeMount");const se=Zl(T,J);se&&J.beforeEnter(j),s(j,p,v),((M=D&&D.onVnodeMounted)||se||ee)&&Ee(()=>{M&&Fe(M,R,h),se&&J.enter(j),ee&&ot(h,null,R,"mounted")},T)},I=(h,p,v,R,T)=>{if(v&&g(h,v),R)for(let V=0;V<R.length;V++)g(h,R[V]);if(T){let V=T.subTree;if(p===V){const H=T.vnode;I(h,H,H.scopeId,H.slotScopeIds,T.parent)}}},N=(h,p,v,R,T,V,H,F,j=0)=>{for(let M=j;M<h.length;M++){const D=h[M]=F?Et(h[M]):qe(h[M]);k(null,D,p,v,R,T,V,H,F)}},S=(h,p,v,R,T,V,H)=>{const F=p.el=h.el;let{patchFlag:j,dynamicChildren:M,dirs:D}=p;j|=h.patchFlag&16;const Y=h.props||ce,J=p.props||ce;let ee;if(v&&Nt(v,!1),(ee=J.onVnodeBeforeUpdate)&&Fe(ee,v,p,h),D&&ot(p,h,v,"beforeUpdate"),v&&Nt(v,!0),M?E(h.dynamicChildren,M,F,v,R,ao(p,T),V):H||W(h,p,F,null,v,R,ao(p,T),V,!1),j>0){if(j&16)$(F,p,Y,J,v,R,T);else if(j&2&&Y.class!==J.class&&r(F,"class",null,J.class,T),j&4&&r(F,"style",Y.style,J.style,T),j&8){const se=p.dynamicProps;for(let fe=0;fe<se.length;fe++){const me=se[fe],Ce=Y[me],Ze=J[me];(Ze!==Ce||me==="value")&&r(F,me,Ce,Ze,T,h.children,v,R,ke)}}j&1&&h.children!==p.children&&c(F,p.children)}else!H&&M==null&&$(F,p,Y,J,v,R,T);((ee=J.onVnodeUpdated)||D)&&Ee(()=>{ee&&Fe(ee,v,p,h),D&&ot(p,h,v,"updated")},R)},E=(h,p,v,R,T,V,H)=>{for(let F=0;F<p.length;F++){const j=h[F],M=p[F],D=j.el&&(j.type===he||!Ye(j,M)||j.shapeFlag&70)?f(j.el):v;k(j,M,D,null,R,T,V,H,!0)}},$=(h,p,v,R,T,V,H)=>{if(v!==R){if(v!==ce)for(const F in v)!dn(F)&&!(F in R)&&r(h,F,v[F],null,H,p.children,T,V,ke);for(const F in R){if(dn(F))continue;const j=R[F],M=v[F];j!==M&&F!=="value"&&r(h,F,M,j,H,p.children,T,V,ke)}"value"in R&&r(h,"value",v.value,R.value,H)}},L=(h,p,v,R,T,V,H,F,j)=>{const M=p.el=h?h.el:l(""),D=p.anchor=h?h.anchor:l("");let{patchFlag:Y,dynamicChildren:J,slotScopeIds:ee}=p;ee&&(F=F?F.concat(ee):ee),h==null?(s(M,v,R),s(D,v,R),N(p.children||[],v,D,T,V,H,F,j)):Y>0&&Y&64&&J&&h.dynamicChildren?(E(h.dynamicChildren,J,v,T,V,H,F),(p.key!=null||T&&p===T.subTree)&&fr(h,p,!0)):W(h,p,v,D,T,V,H,F,j)},G=(h,p,v,R,T,V,H,F,j)=>{p.slotScopeIds=F,h==null?p.shapeFlag&512?T.ctx.activate(p,v,R,H,j):re(p,v,R,T,V,H,j):ue(h,p,j)},re=(h,p,v,R,T,V,H)=>{const F=h.component=na(h,R,T);if(ns(h)&&(F.ctx.renderer=z),oa(F),F.asyncDep){if(T&&T.registerDep(F,K),!h.el){const j=F.subTree=ne(xe);A(null,j,p,v)}}else K(F,h,p,v,T,V,H)},ue=(h,p,v)=>{const R=p.component=h.component;if(cu(h,p,v))if(R.asyncDep&&!R.asyncResolved){te(R,p,v);return}else R.next=p,eu(R.update),R.effect.dirty=!0,R.update();else p.el=h.el,R.vnode=p},K=(h,p,v,R,T,V,H)=>{const F=()=>{if(h.isMounted){let{next:D,bu:Y,u:J,parent:ee,vnode:se}=h;{const rn=Yl(h);if(rn){D&&(D.el=se.el,te(h,D,H)),rn.asyncDep.then(()=>{h.isUnmounted||F()});return}}let fe=D,me;Nt(h,!1),D?(D.el=se.el,te(h,D,H)):D=se,Y&&hn(Y),(me=D.props&&D.props.onVnodeBeforeUpdate)&&Fe(me,ee,D,se),Nt(h,!0);const Ce=ys(h),Ze=h.subTree;h.subTree=Ce,k(Ze,Ce,f(Ze.el),O(Ze),h,T,V),D.el=Ce.el,fe===null&&sr(h,Ce.el),J&&Ee(J,T),(me=D.props&&D.props.onVnodeUpdated)&&Ee(()=>Fe(me,ee,D,se),T)}else{let D;const{el:Y,props:J}=p,{bm:ee,m:se,parent:fe}=h,me=Ut(p);if(Nt(h,!1),ee&&hn(ee),!me&&(D=J&&J.onVnodeBeforeMount)&&Fe(D,fe,p),Nt(h,!0),Y&&pe){const Ce=()=>{h.subTree=ys(h),pe(Y,h.subTree,h,T,null)};me?p.type.__asyncLoader().then(()=>!h.isUnmounted&&Ce()):Ce()}else{const Ce=h.subTree=ys(h);k(null,Ce,v,R,h,T,V),p.el=Ce.el}if(se&&Ee(se,T),!me&&(D=J&&J.onVnodeMounted)){const Ce=p;Ee(()=>Fe(D,fe,Ce),T)}(p.shapeFlag&256||fe&&Ut(fe.vnode)&&fe.vnode.shapeFlag&256)&&h.a&&Ee(h.a,T),h.isMounted=!0,p=v=R=null}},j=h.effect=new bn(F,Ve,()=>$s(M),h.scope),M=h.update=()=>{j.dirty&&j.run()};M.id=h.uid,Nt(h,!0),M()},te=(h,p,v)=>{p.component=h;const R=h.vnode.props;h.vnode=p,h.next=null,Qu(h,p.props,R,v),tf(h,p.children,v),Qt(),Nr(h),Xt()},W=(h,p,v,R,T,V,H,F,j=!1)=>{const M=h&&h.children,D=h?h.shapeFlag:0,Y=p.children,{patchFlag:J,shapeFlag:ee}=p;if(J>0){if(J&128){gt(M,Y,v,R,T,V,H,F,j);return}else if(J&256){Je(M,Y,v,R,T,V,H,F,j);return}}ee&8?(D&16&&ke(M,T,V),Y!==M&&c(v,Y)):D&16?ee&16?gt(M,Y,v,R,T,V,H,F,j):ke(M,T,V,!0):(D&8&&c(v,""),ee&16&&N(Y,v,R,T,V,H,F,j))},Je=(h,p,v,R,T,V,H,F,j)=>{h=h||un,p=p||un;const M=h.length,D=p.length,Y=Math.min(M,D);let J;for(J=0;J<Y;J++){const ee=p[J]=j?Et(p[J]):qe(p[J]);k(h[J],ee,v,null,T,V,H,F,j)}M>D?ke(h,T,V,!0,!1,Y):N(p,v,R,T,V,H,F,j,Y)},gt=(h,p,v,R,T,V,H,F,j)=>{let M=0;const D=p.length;let Y=h.length-1,J=D-1;for(;M<=Y&&M<=J;){const ee=h[M],se=p[M]=j?Et(p[M]):qe(p[M]);if(Ye(ee,se))k(ee,se,v,null,T,V,H,F,j);else break;M++}for(;M<=Y&&M<=J;){const ee=h[Y],se=p[J]=j?Et(p[J]):qe(p[J]);if(Ye(ee,se))k(ee,se,v,null,T,V,H,F,j);else break;Y--,J--}if(M>Y){if(M<=J){const ee=J+1,se=ee<D?p[ee].el:R;for(;M<=J;)k(null,p[M]=j?Et(p[M]):qe(p[M]),v,se,T,V,H,F,j),M++}}else if(M>J)for(;M<=Y;)Ie(h[M],T,V,!0),M++;else{const ee=M,se=M,fe=new Map;for(M=se;M<=J;M++){const Ue=p[M]=j?Et(p[M]):qe(p[M]);Ue.key!=null&&fe.set(Ue.key,M)}let me,Ce=0;const Ze=J-se+1;let rn=!1,Cr=0;const kn=new Array(Ze);for(M=0;M<Ze;M++)kn[M]=0;for(M=ee;M<=Y;M++){const Ue=h[M];if(Ce>=Ze){Ie(Ue,T,V,!0);continue}let st;if(Ue.key!=null)st=fe.get(Ue.key);else for(me=se;me<=J;me++)if(kn[me-se]===0&&Ye(Ue,p[me])){st=me;break}st===void 0?Ie(Ue,T,V,!0):(kn[st-se]=M+1,st>=Cr?Cr=st:rn=!0,k(Ue,p[st],v,null,T,V,H,F,j),Ce++)}const xr=rn?rf(kn):un;for(me=xr.length-1,M=Ze-1;M>=0;M--){const Ue=se+M,st=p[Ue],Er=Ue+1<D?p[Ue+1].el:R;kn[M]===0?k(null,st,v,Er,T,V,H,F,j):rn&&(me<0||M!==xr[me]?nt(st,v,Er,2):me--)}}},nt=(h,p,v,R,T=null)=>{const{el:V,type:H,transition:F,children:j,shapeFlag:M}=h;if(M&6){nt(h.component.subTree,p,v,R);return}if(M&128){h.suspense.move(p,v,R);return}if(M&64){H.move(h,p,v,z);return}if(H===he){s(V,p,v);for(let Y=0;Y<j.length;Y++)nt(j[Y],p,v,R);s(h.anchor,p,v);return}if(H===qt){m(h,p,v);return}if(R!==2&&M&1&&F)if(R===0)F.beforeEnter(V),s(V,p,v),Ee(()=>F.enter(V),T);else{const{leave:Y,delayLeave:J,afterLeave:ee}=F,se=()=>s(V,p,v),fe=()=>{Y(V,()=>{se(),ee&&ee()})};J?J(V,se,fe):fe()}else s(V,p,v)},Ie=(h,p,v,R=!1,T=!1)=>{const{type:V,props:H,ref:F,children:j,dynamicChildren:M,shapeFlag:D,patchFlag:Y,dirs:J}=h;if(F!=null&&ks(F,null,v,h,!0),D&256){p.ctx.deactivate(h);return}const ee=D&1&&J,se=!Ut(h);let fe;if(se&&(fe=H&&H.onVnodeBeforeUnmount)&&Fe(fe,p,h),D&6)os(h.component,v,R);else{if(D&128){h.suspense.unmount(v,R);return}ee&&ot(h,null,p,"beforeUnmount"),D&64?h.type.remove(h,p,v,T,z,R):M&&(V!==he||Y>0&&Y&64)?ke(M,p,v,!1,!0):(V===he&&Y&384||!T&&D&16)&&ke(j,p,v),R&&sn(h)}(se&&(fe=H&&H.onVnodeUnmounted)||ee)&&Ee(()=>{fe&&Fe(fe,p,h),ee&&ot(h,null,p,"unmounted")},v)},sn=h=>{const{type:p,el:v,anchor:R,transition:T}=h;if(p===he){on(v,R);return}if(p===qt){_(h);return}const V=()=>{o(v),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(h.shapeFlag&1&&T&&!T.persisted){const{leave:H,delayLeave:F}=T,j=()=>H(v,V);F?F(h.el,V,j):j()}else V()},on=(h,p)=>{let v;for(;h!==p;)v=d(h),o(h),h=v;o(p)},os=(h,p,v)=>{const{bum:R,scope:T,update:V,subTree:H,um:F}=h;R&&hn(R),T.stop(),V&&(V.active=!1,Ie(H,h,p,v)),F&&Ee(F,p),Ee(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},ke=(h,p,v,R=!1,T=!1,V=0)=>{for(let H=V;H<h.length;H++)Ie(h[H],p,v,R,T)},O=h=>h.shapeFlag&6?O(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el);let U=!1;const B=(h,p,v)=>{h==null?p._vnode&&Ie(p._vnode,null,null,!0):k(p._vnode||null,h,p,null,null,null,v),U||(U=!0,Nr(),Es(),U=!1),p._vnode=h},z={p:k,um:Ie,m:nt,r:sn,mt:re,mc:N,pc:W,pbc:E,n:O,o:e};let le,pe;return t&&([le,pe]=t(z)),{render:B,hydrate:le,createApp:Ju(B,le)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Nt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Zl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function fr(e,t,n=!1){const s=e.children,o=t.children;if(q(s)&&q(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=Et(o[r]),l.el=i.el),n||fr(i,l)),l.type===Wt&&(l.el=i.el)}}function rf(e){const t=e.slice(),n=[0];let s,o,r,i,l;const a=e.length;for(s=0;s<a;s++){const u=e[s];if(u!==0){if(o=n[n.length-1],e[o]<u){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<u?r=l+1:i=l;u<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function Yl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Yl(t)}const lf=e=>e.__isTeleport,Nn=e=>e&&(e.disabled||e.disabled===""),Gr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,zr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ko=(e,t)=>{const n=e&&e.to;return ye(n)?t?t(n):null:n},af={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,i,l,a,u){const{mc:c,pc:f,pbc:d,o:{insert:g,querySelector:y,createText:k,createComment:P}}=u,A=Nn(t.props);let{shapeFlag:w,children:m,dynamicChildren:_}=t;if(e==null){const C=t.el=k(""),x=t.anchor=k("");g(C,n,s),g(x,n,s);const I=t.target=ko(t.props,y),N=t.targetAnchor=k("");I&&(g(N,I),i==="svg"||Gr(I)?i="svg":(i==="mathml"||zr(I))&&(i="mathml"));const S=(E,$)=>{w&16&&c(m,E,$,o,r,i,l,a)};A?S(n,x):I&&S(I,N)}else{t.el=e.el;const C=t.anchor=e.anchor,x=t.target=e.target,I=t.targetAnchor=e.targetAnchor,N=Nn(e.props),S=N?n:x,E=N?C:I;if(i==="svg"||Gr(x)?i="svg":(i==="mathml"||zr(x))&&(i="mathml"),_?(d(e.dynamicChildren,_,S,o,r,i,l),fr(e,t,!0)):a||f(e,t,S,E,o,r,i,l,!1),A)N?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ms(t,n,C,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const $=t.target=ko(t.props,y);$&&ms(t,$,null,u,0)}else N&&ms(t,x,I,u,1)}Ql(t)},remove(e,t,n,s,{um:o,o:{remove:r}},i){const{shapeFlag:l,children:a,anchor:u,targetAnchor:c,target:f,props:d}=e;if(f&&r(c),i&&r(u),l&16){const g=i||!Nn(d);for(let y=0;y<a.length;y++){const k=a[y];o(k,t,n,g,!!k.dynamicChildren)}}},move:ms,hydrate:cf};function ms(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:a,children:u,props:c}=e,f=r===2;if(f&&s(i,t,n),(!f||Nn(c))&&a&16)for(let d=0;d<u.length;d++)o(u[d],t,n,2);f&&s(l,t,n)}function cf(e,t,n,s,o,r,{o:{nextSibling:i,parentNode:l,querySelector:a}},u){const c=t.target=ko(t.props,a);if(c){const f=c._lpa||c.firstChild;if(t.shapeFlag&16)if(Nn(t.props))t.anchor=u(i(e),t,l(e),n,s,o,r),t.targetAnchor=f;else{t.anchor=i(e);let d=f;for(;d;)if(d=i(d),d&&d.nodeType===8&&d.data==="teleport anchor"){t.targetAnchor=d,c._lpa=t.targetAnchor&&i(t.targetAnchor);break}u(f,t,c,n,s,o,r)}Ql(t)}return t.anchor&&i(t.anchor)}const uf=af;function Ql(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const he=Symbol.for("v-fgt"),Wt=Symbol.for("v-txt"),xe=Symbol.for("v-cmt"),qt=Symbol.for("v-stc"),In=[];let je=null;function Z(e=!1){In.push(je=e?null:[])}function Xl(){In.pop(),je=In[In.length-1]||null}let Jt=1;function To(e){Jt+=e}function ea(e){return e.dynamicChildren=Jt>0?je||un:null,Xl(),Jt>0&&je&&je.push(e),e}function Q(e,t,n,s,o,r){return ea(b(e,t,n,s,o,r,!0))}function Ks(e,t,n,s,o){return ea(ne(e,t,n,s,o,!0))}function Pt(e){return e?e.__v_isVNode===!0:!1}function Ye(e,t){return e.type===t.type&&e.key===t.key}function ff(e){}const Gs="__vInternal",ta=({key:e})=>e??null,bs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ye(e)||Se(e)||X(e)?{i:ve,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,s=0,o=null,r=e===he?0:1,i=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ta(t),ref:t&&bs(t),scopeId:js,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ve};return l?(hr(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=ye(n)?8:16),Jt>0&&!i&&je&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&je.push(a),a}const ne=df;function df(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===_l)&&(e=xe),Pt(e)){const l=lt(e,t,!0);return n&&hr(l,n),Jt>0&&!r&&je&&(l.shapeFlag&6?je[je.indexOf(e)]=l:je.push(l)),l.patchFlag|=-2,l}if(_f(e)&&(e=e.__vccOpts),t){t=dr(t);let{class:l,style:a}=t;l&&!ye(l)&&(t.class=Be(l)),de(a)&&(Yo(a)&&!q(a)&&(a=ge({},a)),t.style=Qn(a))}const i=ye(e)?1:vl(e)?128:lf(e)?64:de(e)?4:X(e)?2:0;return b(e,t,n,s,o,i,r,!0)}function dr(e){return e?Yo(e)||Gs in e?ge({},e):e:null}function lt(e,t,n=!1){const{props:s,ref:o,patchFlag:r,children:i}=e,l=t?Ws(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ta(l),ref:t&&t.ref?n&&o?q(o)?o.concat(bs(t)):[o,bs(t)]:bs(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==he?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&lt(e.ssContent),ssFallback:e.ssFallback&&lt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function zs(e=" ",t=0){return ne(Wt,null,e,t)}function Sn(e,t){const n=ne(qt,null,e);return n.staticCount=t,n}function _e(e="",t=!1){return t?(Z(),Ks(xe,null,e)):ne(xe,null,e)}function qe(e){return e==null||typeof e=="boolean"?ne(xe):q(e)?ne(he,null,e.slice()):typeof e=="object"?Et(e):ne(Wt,null,String(e))}function Et(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:lt(e)}function hr(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),hr(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Gs in t)?t._ctx=ve:o===3&&ve&&(ve.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:ve},n=32):(t=String(t),s&64?(n=16,t=[zs(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ws(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Be([t.class,s.class]));else if(o==="style")t.style=Qn([t.style,s.style]);else if(Zn(o)){const r=t[o],i=s[o];i&&r!==i&&!(q(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function Fe(e,t,n,s=null){Ge(e,t,7,[n,s])}const hf=Hl();let pf=0;function na(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||hf,r={uid:pf++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ko(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dl(s,o),emitsOptions:bl(s,o),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:s.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=nu.bind(null,r),e.ce&&e.ce(r),r}let we=null;const mt=()=>we||ve;let Ts,Oo;{const e=Di(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Ts=t("__VUE_INSTANCE_SETTERS__",n=>we=n),Oo=t("__VUE_SSR_SETTERS__",n=>ss=n)}const Zt=e=>{const t=we;return Ts(e),e.scope.on(),()=>{e.scope.off(),Ts(t)}},Ro=()=>{we&&we.scope.off(),Ts(null)};function sa(e){return e.vnode.shapeFlag&4}let ss=!1;function oa(e,t=!1){t&&Oo(t);const{props:n,children:s}=e.vnode,o=sa(e);Yu(e,n,o,t),ef(e,s);const r=o?mf(e,t):void 0;return t&&Oo(!1),r}function mf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=it(new Proxy(e.ctx,Co));const{setup:s}=n;if(s){const o=e.setupContext=s.length>1?ia(e):null,r=Zt(e);Qt();const i=dt(s,e,0,[e.props,o]);if(Xt(),r(),Do(i)){if(i.then(Ro,Ro),t)return i.then(l=>{Lo(e,l,t)}).catch(l=>{en(l,e,0)});e.asyncDep=i}else Lo(e,i,t)}else ra(e,t)}function Lo(e,t,n){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:de(t)&&(e.setupState=er(t)),ra(e,n)}let Os,Po;function gf(e){Os=e,Po=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Ru))}}const yf=()=>!Os;function ra(e,t,n){const s=e.type;if(!e.render){if(!t&&Os&&!s.render){const o=s.template||cr(e).template;if(o){const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:l,compilerOptions:a}=s,u=ge(ge({isCustomElement:r,delimiters:l},i),a);s.render=Os(o,u)}}e.render=s.render||Ve,Po&&Po(e)}{const o=Zt(e);Qt();try{Du(e)}finally{Xt(),o()}}}function bf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return He(e,"get","$attrs"),t[n]}}))}function ia(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return bf(e)},slots:e.slots,emit:e.emit,expose:t}}function Js(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(er(it(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Mn)return Mn[n](e)},has(t,n){return n in t||n in Mn}}))}function Ao(e,t=!0){return X(e)?e.displayName||e.name:e.name||t&&e.__name}function _f(e){return X(e)&&"__vccOpts"in e}const Re=(e,t)=>Vc(e,t,ss);function vf(e,t,n=ce){const s=mt(),o=Ne(t),r=Ke(t),i=dl((a,u)=>{let c;return Sl(()=>{const f=e[t];et(c,f)&&(c=f,u())}),{get(){return a(),n.get?n.get(c):c},set(f){const d=s.vnode.props;!(d&&(t in d||o in d||r in d)&&(`onUpdate:${t}`in d||`onUpdate:${o}`in d||`onUpdate:${r}`in d))&&et(f,c)&&(c=f,u()),s.emit(`update:${t}`,n.set?n.set(f):f)}}}),l=t==="modelValue"?"modelModifiers":`${t}Modifiers`;return i[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?e[l]||{}:i,done:!1}:{done:!0}}}},i}function Zs(e,t,n){const s=arguments.length;return s===2?de(t)&&!q(t)?Pt(t)?ne(e,null,[t]):ne(e,t):ne(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Pt(n)&&(n=[n]),ne(e,t,n))}function wf(){}function Cf(e,t,n,s){const o=n[s];if(o&&la(o,e))return o;const r=t();return r.memo=e.slice(),n[s]=r}function la(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(et(n[s],t[s]))return!1;return Jt>0&&je&&je.push(e),!0}const aa="3.4.21",xf=Ve,Ef=Yc,Sf=ln,kf=yl,Tf={createComponentInstance:na,setupComponent:oa,renderComponentRoot:ys,setCurrentRenderingInstance:qn,isVNode:Pt,normalizeVNode:qe},Of=Tf,Rf=null,Lf=null,Pf=null;/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Af="http://www.w3.org/2000/svg",Mf="http://www.w3.org/1998/Math/MathML",St=typeof document<"u"?document:null,Wr=St&&St.createElement("template"),Nf={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?St.createElementNS(Af,e):t==="mathml"?St.createElementNS(Mf,e):St.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>St.createTextNode(e),createComment:e=>St.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>St.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Wr.innerHTML=s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e;const l=Wr.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},_t="transition",Tn="animation",vn=Symbol("_vtc"),pr=(e,{slots:t})=>Zs(Tl,ua(e),t);pr.displayName="Transition";const ca={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},If=pr.props=ge({},ar,ca),It=(e,t=[])=>{q(e)?e.forEach(n=>n(...t)):e&&e(...t)},Jr=e=>e?q(e)?e.some(t=>t.length>1):e.length>1:!1;function ua(e){const t={};for(const L in e)L in ca||(t[L]=e[L]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:u=i,appearToClass:c=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,y=Ff(o),k=y&&y[0],P=y&&y[1],{onBeforeEnter:A,onEnter:w,onEnterCancelled:m,onLeave:_,onLeaveCancelled:C,onBeforeAppear:x=A,onAppear:I=w,onAppearCancelled:N=m}=t,S=(L,G,re)=>{wt(L,G?c:l),wt(L,G?u:i),re&&re()},E=(L,G)=>{L._isLeaving=!1,wt(L,f),wt(L,g),wt(L,d),G&&G()},$=L=>(G,re)=>{const ue=L?I:w,K=()=>S(G,L,re);It(ue,[G,K]),Zr(()=>{wt(G,L?a:r),ct(G,L?c:l),Jr(ue)||Yr(G,s,k,K)})};return ge(t,{onBeforeEnter(L){It(A,[L]),ct(L,r),ct(L,i)},onBeforeAppear(L){It(x,[L]),ct(L,a),ct(L,u)},onEnter:$(!1),onAppear:$(!0),onLeave(L,G){L._isLeaving=!0;const re=()=>E(L,G);ct(L,f),da(),ct(L,d),Zr(()=>{L._isLeaving&&(wt(L,f),ct(L,g),Jr(_)||Yr(L,s,P,re))}),It(_,[L,re])},onEnterCancelled(L){S(L,!1),It(m,[L])},onAppearCancelled(L){S(L,!0),It(N,[L])},onLeaveCancelled(L){E(L),It(C,[L])}})}function Ff(e){if(e==null)return null;if(de(e))return[co(e.enter),co(e.leave)];{const t=co(e);return[t,t]}}function co(e){return ws(e)}function ct(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[vn]||(e[vn]=new Set)).add(t)}function wt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[vn];n&&(n.delete(t),n.size||(e[vn]=void 0))}function Zr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let $f=0;function Yr(e,t,n,s){const o=e._endId=++$f,r=()=>{o===e._endId&&s()};if(n)return setTimeout(r,n);const{type:i,timeout:l,propCount:a}=fa(e,t);if(!i)return s();const u=i+"end";let c=0;const f=()=>{e.removeEventListener(u,d),r()},d=g=>{g.target===e&&++c>=a&&f()};setTimeout(()=>{c<a&&f()},l+1),e.addEventListener(u,d)}function fa(e,t){const n=window.getComputedStyle(e),s=y=>(n[y]||"").split(", "),o=s(`${_t}Delay`),r=s(`${_t}Duration`),i=Qr(o,r),l=s(`${Tn}Delay`),a=s(`${Tn}Duration`),u=Qr(l,a);let c=null,f=0,d=0;t===_t?i>0&&(c=_t,f=i,d=r.length):t===Tn?u>0&&(c=Tn,f=u,d=a.length):(f=Math.max(i,u),c=f>0?i>u?_t:Tn:null,d=c?c===_t?r.length:a.length:0);const g=c===_t&&/\b(transform|all)(,|$)/.test(s(`${_t}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:g}}function Qr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Xr(n)+Xr(e[s])))}function Xr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function da(){return document.body.offsetHeight}function Vf(e,t,n){const s=e[vn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rs=Symbol("_vod"),ha=Symbol("_vsh"),pa={beforeMount(e,{value:t},{transition:n}){e[Rs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):On(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),On(e,!0),s.enter(e)):s.leave(e,()=>{On(e,!1)}):On(e,t))},beforeUnmount(e,{value:t}){On(e,t)}};function On(e,t){e.style.display=t?e[Rs]:"none",e[ha]=!t}function jf(){pa.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const ma=Symbol("");function Bf(e){const t=mt();if(!t)return;const n=t.ut=(o=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>No(r,o))},s=()=>{const o=e(t.proxy);Mo(t.subTree,o),n(o)};El(s),tn(()=>{const o=new MutationObserver(s);o.observe(t.subTree.el.parentNode,{childList:!0}),Ds(()=>o.disconnect())})}function Mo(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Mo(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)No(e.el,t);else if(e.type===he)e.children.forEach(n=>Mo(n,t));else if(e.type===qt){let{el:n,anchor:s}=e;for(;n&&(No(n,t),n!==s);)n=n.nextSibling}}function No(e,t){if(e.nodeType===1){const n=e.style;let s="";for(const o in t)n.setProperty(`--${o}`,t[o]),s+=`--${o}: ${t[o]};`;n[ma]=s}}const Hf=/(^|;)\s*display\s*:/;function Uf(e,t,n){const s=e.style,o=ye(n);let r=!1;if(n&&!o){if(t)if(ye(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&_s(s,l,"")}else for(const i in t)n[i]==null&&_s(s,i,"");for(const i in n)i==="display"&&(r=!0),_s(s,i,n[i])}else if(o){if(t!==n){const i=s[ma];i&&(n+=";"+i),s.cssText=n,r=Hf.test(n)}}else t&&e.removeAttribute("style");Rs in e&&(e[Rs]=r?s.display:"",e[ha]&&(s.display="none"))}const ei=/\s*!important$/;function _s(e,t,n){if(q(n))n.forEach(s=>_s(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=Df(e,t);ei.test(n)?e.setProperty(Ke(s),n.replace(ei,""),"important"):e[s]=n}}const ti=["Webkit","Moz","ms"],uo={};function Df(e,t){const n=uo[t];if(n)return n;let s=Ne(t);if(s!=="filter"&&s in e)return uo[t]=s;s=Yn(s);for(let o=0;o<ti.length;o++){const r=ti[o]+s;if(r in e)return uo[t]=r}return t}const ni="http://www.w3.org/1999/xlink";function qf(e,t,n,s,o){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ni,t.slice(6,t.length)):e.setAttributeNS(ni,t,n);else{const r=dc(t);n==null||r&&!Ki(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function Kf(e,t,n,s,o,r,i){if(t==="innerHTML"||t==="textContent"){s&&i(s,o,r),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?e.getAttribute("value")||"":e.value,c=n??"";(u!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Ki(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function ut(e,t,n,s){e.addEventListener(t,n,s)}function Gf(e,t,n,s){e.removeEventListener(t,n,s)}const si=Symbol("_vei");function zf(e,t,n,s,o=null){const r=e[si]||(e[si]={}),i=r[t];if(s&&i)i.value=s;else{const[l,a]=Wf(t);if(s){const u=r[t]=Yf(s,o);ut(e,l,u,a)}else i&&(Gf(e,l,i,a),r[t]=void 0)}}const oi=/(?:Once|Passive|Capture)$/;function Wf(e){let t;if(oi.test(e)){t={};let s;for(;s=e.match(oi);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ke(e.slice(2)),t]}let fo=0;const Jf=Promise.resolve(),Zf=()=>fo||(Jf.then(()=>fo=0),fo=Date.now());function Yf(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ge(Qf(s,n.value),t,5,[s])};return n.value=e,n.attached=Zf(),n}function Qf(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const ri=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xf=(e,t,n,s,o,r,i,l,a)=>{const u=o==="svg";t==="class"?Vf(e,s,u):t==="style"?Uf(e,n,s):Zn(t)?Ho(t)||zf(e,t,n,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ed(e,t,s,u))?Kf(e,t,s,r,i,l,a):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),qf(e,t,s,u))};function ed(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&ri(t)&&X(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ri(t)&&ye(n)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function ga(e,t){const n=ht(e);class s extends Ys{constructor(r){super(n,r,t)}}return s.def=n,s}/*! #__NO_SIDE_EFFECTS__ */const td=e=>ga(e,Ta),nd=typeof HTMLElement<"u"?HTMLElement:class{};class Ys extends nd{constructor(t,n={},s){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&s?s(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),Xn(()=>{this._connected||(Io(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const o of s)this._setAttr(o.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(s,o=!1)=>{const{props:r,styles:i}=s;let l;if(r&&!q(r))for(const a in r){const u=r[a];(u===Number||u&&u.type===Number)&&(a in this._props&&(this._props[a]=ws(this._props[a])),(l||(l=Object.create(null)))[Ne(a)]=!0)}this._numberProps=l,o&&this._resolveProps(s),this._applyStyles(i),this._update()},n=this._def.__asyncLoader;n?n().then(s=>t(s,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,s=q(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&s.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of s.map(Ne))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(r){this._setProp(o,r)}})}_setAttr(t){let n=this.getAttribute(t);const s=Ne(t);this._numberProps&&this._numberProps[s]&&(n=ws(n)),this._setProp(s,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,o=!0){n!==this._props[t]&&(this._props[t]=n,o&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Ke(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Ke(t),n+""):n||this.removeAttribute(Ke(t))))}_update(){Io(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ne(this._def,ge({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const s=(r,i)=>{this.dispatchEvent(new CustomEvent(r,{detail:i}))};n.emit=(r,...i)=>{s(r,i),Ke(r)!==r&&s(Ke(r),i)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof Ys){n.parent=o._instance,n.provides=o._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const s=document.createElement("style");s.textContent=n,this.shadowRoot.appendChild(s)})}}function sd(e="$style"){{const t=mt();if(!t)return ce;const n=t.type.__cssModules;if(!n)return ce;const s=n[e];return s||ce}}const ya=new WeakMap,ba=new WeakMap,Ls=Symbol("_moveCb"),ii=Symbol("_enterCb"),_a={name:"TransitionGroup",props:ge({},If,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=mt(),s=lr();let o,r;return Us(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!cd(o[0].el,n.vnode.el,i))return;o.forEach(id),o.forEach(ld);const l=o.filter(ad);da(),l.forEach(a=>{const u=a.el,c=u.style;ct(u,i),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[Ls]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[Ls]=null,wt(u,i))};u.addEventListener("transitionend",f)})}),()=>{const i=oe(e),l=ua(i);let a=i.tag||he;o=r,r=t.default?Bs(t.default()):[];for(let u=0;u<r.length;u++){const c=r[u];c.key!=null&&zt(c,_n(c,l,s,n))}if(o)for(let u=0;u<o.length;u++){const c=o[u];zt(c,_n(c,l,s,n)),ya.set(c,c.el.getBoundingClientRect())}return ne(a,null,r)}}},od=e=>delete e.mode;_a.props;const rd=_a;function id(e){const t=e.el;t[Ls]&&t[Ls](),t[ii]&&t[ii]()}function ld(e){ba.set(e,e.el.getBoundingClientRect())}function ad(e){const t=ya.get(e),n=ba.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${o}px)`,r.transitionDuration="0s",e}}function cd(e,t,n){const s=e.cloneNode(),o=e[vn];o&&o.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:i}=fa(s);return r.removeChild(s),i}const At=e=>{const t=e.props["onUpdate:modelValue"]||!1;return q(t)?n=>hn(t,n):t};function ud(e){e.target.composing=!0}function li(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const We=Symbol("_assign"),Me={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[We]=At(o);const r=s||o.props&&o.props.type==="number";ut(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=jn(l)),e[We](l)}),n&&ut(e,"change",()=>{e.value=e.value.trim()}),t||(ut(e,"compositionstart",ud),ut(e,"compositionend",li),ut(e,"change",li))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:o}},r){if(e[We]=At(r),e.composing)return;const i=o||e.type==="number"?jn(e.value):e.value,l=t??"";i!==l&&(document.activeElement===e&&e.type!=="range"&&(n||s&&e.value.trim()===l)||(e.value=l))}},zn={deep:!0,created(e,t,n){e[We]=At(n),ut(e,"change",()=>{const s=e._modelValue,o=wn(e),r=e.checked,i=e[We];if(q(s)){const l=Ms(s,o),a=l!==-1;if(r&&!a)i(s.concat(o));else if(!r&&a){const u=[...s];u.splice(l,1),i(u)}}else if(Yt(s)){const l=new Set(s);r?l.add(o):l.delete(o),i(l)}else i(va(e,r))})},mounted:ai,beforeUpdate(e,t,n){e[We]=At(n),ai(e,t,n)}};function ai(e,{value:t,oldValue:n},s){e._modelValue=t,q(t)?e.checked=Ms(t,s.props.value)>-1:Yt(t)?e.checked=t.has(s.props.value):t!==n&&(e.checked=Lt(t,va(e,!0)))}const mr={created(e,{value:t},n){e.checked=Lt(t,n.props.value),e[We]=At(n),ut(e,"change",()=>{e[We](wn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[We]=At(s),t!==n&&(e.checked=Lt(t,s.props.value))}},Qs={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=Yt(t);ut(e,"change",()=>{const r=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?jn(wn(i)):wn(i));e[We](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,Xn(()=>{e._assigning=!1})}),e[We]=At(s)},mounted(e,{value:t,modifiers:{number:n}}){ci(e,t,n)},beforeUpdate(e,t,n){e[We]=At(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||ci(e,t,n)}};function ci(e,t,n){const s=e.multiple,o=q(t);if(!(s&&!o&&!Yt(t))){for(let r=0,i=e.options.length;r<i;r++){const l=e.options[r],a=wn(l);if(s)if(o){const u=typeof a;u==="string"||u==="number"?l.selected=t.includes(n?jn(a):a):l.selected=Ms(t,a)>-1}else l.selected=t.has(a);else if(Lt(wn(l),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wn(e){return"_value"in e?e._value:e.value}function va(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const wa={created(e,t,n){gs(e,t,n,null,"created")},mounted(e,t,n){gs(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){gs(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){gs(e,t,n,s,"updated")}};function Ca(e,t){switch(e){case"SELECT":return Qs;case"TEXTAREA":return Me;default:switch(t){case"checkbox":return zn;case"radio":return mr;default:return Me}}}function gs(e,t,n,s,o){const i=Ca(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,s)}function fd(){Me.getSSRProps=({value:e})=>({value:e}),mr.getSSRProps=({value:e},t)=>{if(t.props&&Lt(t.props.value,e))return{checked:!0}},zn.getSSRProps=({value:e},t)=>{if(q(e)){if(t.props&&Ms(e,t.props.value)>-1)return{checked:!0}}else if(Yt(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},wa.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Ca(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const dd=["ctrl","shift","alt","meta"],hd={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>dd.some(n=>e[`${n}Key`]&&!t.includes(n))},xa=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let i=0;i<t.length;i++){const l=hd[t[i]];if(l&&l(o,t))return}return e(o,...r)})},pd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},md=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Ke(o.key);if(t.some(i=>i===r||pd[i]===r))return e(o)})},Ea=ge({patchProp:Xf},Nf);let Fn,ui=!1;function Sa(){return Fn||(Fn=zl(Ea))}function ka(){return Fn=ui?Fn:Wl(Ea),ui=!0,Fn}const Io=(...e)=>{Sa().render(...e)},Ta=(...e)=>{ka().hydrate(...e)},Oa=(...e)=>{const t=Sa().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=La(s);if(!o)return;const r=t._component;!X(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.innerHTML="";const i=n(o,!1,Ra(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t},gd=(...e)=>{const t=ka().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=La(s);if(o)return n(o,!0,Ra(o))},t};function Ra(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function La(e){return ye(e)?document.querySelector(e):e}let fi=!1;const yd=()=>{fi||(fi=!0,fd(),jf())};/**
* vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bd=()=>{},_d=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Tl,BaseTransitionPropsValidators:ar,Comment:xe,DeprecationTypes:Pf,EffectScope:Ko,ErrorCodes:Zc,ErrorTypeStrings:Ef,Fragment:he,KeepAlive:Su,ReactiveEffect:bn,Static:qt,Suspense:pu,Teleport:uf,Text:Wt,TrackOpTypes:zc,Transition:pr,TransitionGroup:rd,TriggerOpTypes:Wc,VueElement:Ys,assertNumber:Jc,callWithAsyncErrorHandling:Ge,callWithErrorHandling:dt,camelize:Ne,capitalize:Yn,cloneVNode:lt,compatUtils:Lf,compile:bd,computed:Re,createApp:Oa,createBlock:Ks,createCommentVNode:_e,createElementBlock:Q,createElementVNode:b,createHydrationRenderer:Wl,createPropsRestProxy:Hu,createRenderer:zl,createSSRApp:gd,createSlots:Tu,createStaticVNode:Sn,createTextVNode:zs,createVNode:ne,customRef:dl,defineAsyncComponent:xu,defineComponent:ht,defineCustomElement:ga,defineEmits:Pu,defineExpose:Au,defineModel:Iu,defineOptions:Mu,defineProps:Lu,defineSSRCustomElement:td,defineSlots:Nu,devtools:Sf,effect:gc,effectScope:zi,getCurrentInstance:mt,getCurrentScope:Ji,getTransitionRawChildren:Bs,guardReactiveProps:dr,h:Zs,handleError:en,hasInjectionContext:Zu,hydrate:Ta,initCustomFormatter:wf,initDirectivesForSSR:yd,inject:Le,isMemoSame:la,isProxy:Yo,isReactive:Ht,isReadonly:Gt,isRef:Se,isRuntimeOnly:yf,isShallow:Bn,isVNode:Pt,markRaw:it,mergeDefaults:ju,mergeModels:Bu,mergeProps:Ws,nextTick:Xn,normalizeClass:Be,normalizeProps:qi,normalizeStyle:Qn,onActivated:Rl,onBeforeMount:Al,onBeforeUnmount:nn,onBeforeUpdate:Ml,onDeactivated:Ll,onErrorCaptured:$l,onMounted:tn,onRenderTracked:Fl,onRenderTriggered:Il,onScopeDispose:pc,onServerPrefetch:Nl,onUnmounted:Ds,onUpdated:Us,openBlock:Z,popScopeId:ou,provide:Ot,proxyRefs:er,pushScopeId:su,queuePostFlushCb:xs,reactive:Kt,readonly:Zo,ref:be,registerRuntimeCompiler:gf,render:Io,renderList:Dt,renderSlot:qs,resolveComponent:es,resolveDirective:du,resolveDynamicComponent:fu,resolveFilter:Rf,resolveTransitionHooks:_n,setBlockTracking:To,setDevtoolsHook:kf,setTransitionHooks:zt,shallowReactive:Jo,shallowReadonly:$c,shallowRef:ul,ssrContextKey:Cl,ssrUtils:Of,stop:yc,toDisplayString:Ae,toHandlerKey:An,toHandlers:Ou,toRaw:oe,toRef:tr,toRefs:qc,toValue:Hc,transformVNodeArgs:ff,triggerRef:Bc,unref:$e,useAttrs:Vu,useCssModule:sd,useCssVars:Bf,useModel:vf,useSSRContext:xl,useSlots:$u,useTransitionState:lr,vModelCheckbox:zn,vModelDynamic:wa,vModelRadio:mr,vModelSelect:Qs,vModelText:Me,vShow:pa,version:aa,warn:xf,watch:Xe,watchEffect:vu,watchPostEffect:El,watchSyncEffect:Sl,withAsyncContext:Uu,withCtx:Qe,withDefaults:Fu,withDirectives:Oe,withKeys:md,withMemo:Cf,withModifiers:xa,withScopeId:ru},Symbol.toStringTag,{value:"Module"}));var vd=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */const wd=Symbol();var di;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(di||(di={}));function Cd(){const e=zi(!0),t=e.run(()=>be({}));let n=[],s=[];const o=it({install(r){o._a=r,r.provide(wd,o),r.config.globalProperties.$pinia=o,s.forEach(i=>n.push(i)),s=[]},use(r){return!this._a&&!vd?s.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sd(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var o=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return e[s]}})}),n}var Pa={exports:{}};const kd=Sd(_d);(function(e,t){(function(s,o){e.exports=o(kd)})(xd,n=>(()=>{var s={772:(l,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.default=(u,c)=>{const f=u.__vccOpts||u;for(const[d,g]of c)f[d]=g;return f}},976:l=>{l.exports=n}},o={};function r(l){var a=o[l];if(a!==void 0)return a.exports;var u=o[l]={exports:{}};return s[l](u,u.exports,r),u.exports}r.d=(l,a)=>{for(var u in a)r.o(a,u)&&!r.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:a[u]})},r.o=(l,a)=>Object.prototype.hasOwnProperty.call(l,a),r.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var i={};return(()=>{r.r(i),r.d(i,{ToastComponent:()=>C,ToastPlugin:()=>I,ToastPositions:()=>y,default:()=>N,useToast:()=>x});var l=r(976);const a=(0,l.createElementVNode)("div",{class:"v-toast__icon"},null,-1),u=["innerHTML"];function c(S,E,$,L,G,re){return(0,l.openBlock)(),(0,l.createBlock)(l.Transition,{"enter-active-class":S.transition.enter,"leave-active-class":S.transition.leave},{default:(0,l.withCtx)(()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{ref:"root",role:"alert",class:(0,l.normalizeClass)(["v-toast__item",[`v-toast__item--${S.type}`,`v-toast__item--${S.position}`]]),onMouseover:E[0]||(E[0]=ue=>S.toggleTimer(!0)),onMouseleave:E[1]||(E[1]=ue=>S.toggleTimer(!1)),onClick:E[2]||(E[2]=function(){return S.whenClicked&&S.whenClicked(...arguments)})},[a,(0,l.createElementVNode)("p",{class:"v-toast__text",innerHTML:S.message},null,8,u)],34),[[l.vShow,S.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function f(S){var E;typeof S.remove<"u"?S.remove():(E=S.parentNode)==null||E.removeChild(S)}function d(S,E,$){let L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const G=(0,l.h)(S,E,L),re=document.createElement("div");return re.classList.add("v-toast--pending"),$.appendChild(re),(0,l.render)(G,re),G.component}class g{constructor(E,$){this.startedAt=Date.now(),this.callback=E,this.delay=$,this.timer=setTimeout(E,$)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const y=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function k(S){return{all:S=S||new Map,on:function(E,$){var L=S.get(E);L?L.push($):S.set(E,[$])},off:function(E,$){var L=S.get(E);L&&($?L.splice(L.indexOf($)>>>0,1):S.set(E,[]))},emit:function(E,$){var L=S.get(E);L&&L.slice().map(function(G){G($)}),(L=S.get("*"))&&L.slice().map(function(G){G(E,$)})}}}const A=k(),w=(0,l.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:y.BOTTOM_RIGHT,validator(S){return Object.values(y).includes(S)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),A.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const S=document.body;S.appendChild(this.parentTop),S.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const S=this.$refs.root;(0,l.render)(null,S),f(S)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const S=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),f(S),this.isActive=!0,this.duration&&(this.timer=new g(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(S){!this.pauseOnHover||!this.timer||(S?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case y.TOP:case y.TOP_RIGHT:case y.TOP_LEFT:return this.parentTop;case y.BOTTOM:case y.BOTTOM_RIGHT:case y.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case y.TOP:case y.TOP_RIGHT:case y.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case y.BOTTOM:case y.BOTTOM_RIGHT:case y.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){A.off("toast-clear",this.dismiss)}});var m=r(772);const C=(0,m.default)(w,[["render",c]]),x=function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(E){let $=null;typeof E=="string"&&($=E);const G=Object.assign({},{message:$},S,E);return{dismiss:d(C,G,document.body).ctx.dismiss}},clear(){A.emit("toast-clear")},success(E){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"success"},$))},error(E){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"error"},$))},info(E){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"info"},$))},warning(E){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"warning"},$))},default(E){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"default"},$))}}},I={install:function(S){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=x(E);S.config.globalProperties.$toast=$,S.provide("$toast",$)}},N=I})(),i})())})(Pa);var Td=Pa.exports;const Od=Ed(Td);/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const an=typeof document<"u";function Rd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ae=Object.assign;function ho(e,t){const n={};for(const s in t){const o=t[s];n[s]=tt(o)?o.map(e):e(o)}return n}const $n=()=>{},tt=Array.isArray,Aa=/#/g,Ld=/&/g,Pd=/\//g,Ad=/=/g,Md=/\?/g,Ma=/\+/g,Nd=/%5B/g,Id=/%5D/g,Na=/%5E/g,Fd=/%60/g,Ia=/%7B/g,$d=/%7C/g,Fa=/%7D/g,Vd=/%20/g;function gr(e){return encodeURI(""+e).replace($d,"|").replace(Nd,"[").replace(Id,"]")}function jd(e){return gr(e).replace(Ia,"{").replace(Fa,"}").replace(Na,"^")}function Fo(e){return gr(e).replace(Ma,"%2B").replace(Vd,"+").replace(Aa,"%23").replace(Ld,"%26").replace(Fd,"`").replace(Ia,"{").replace(Fa,"}").replace(Na,"^")}function Bd(e){return Fo(e).replace(Ad,"%3D")}function Hd(e){return gr(e).replace(Aa,"%23").replace(Md,"%3F")}function Ud(e){return e==null?"":Hd(e).replace(Pd,"%2F")}function Wn(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Dd=/\/$/,qd=e=>e.replace(Dd,"");function po(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),r=t.slice(a+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=Wd(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:Wn(i)}}function Kd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function hi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Gd(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Cn(t.matched[s],n.matched[o])&&$a(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Cn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $a(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!zd(e[n],t[n]))return!1;return!0}function zd(e,t){return tt(e)?pi(e,t):tt(t)?pi(t,e):e===t}function pi(e,t){return tt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function Wd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}var Jn;(function(e){e.pop="pop",e.push="push"})(Jn||(Jn={}));var Vn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Vn||(Vn={}));function Jd(e){if(!e)if(an){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qd(e)}const Zd=/^[^#]+#/;function Yd(e,t){return e.replace(Zd,"#")+t}function Qd(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const Xs=()=>({left:window.scrollX,top:window.scrollY});function Xd(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Qd(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function mi(e,t){return(history.state?history.state.position-t:-1)+e}const $o=new Map;function eh(e,t){$o.set(e,t)}function th(e){const t=$o.get(e);return $o.delete(e),t}let nh=()=>location.protocol+"//"+location.host;function Va(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,a=o.slice(l);return a[0]!=="/"&&(a="/"+a),hi(a,"")}return hi(n,e)+s+o}function sh(e,t,n,s){let o=[],r=[],i=null;const l=({state:d})=>{const g=Va(e,location),y=n.value,k=t.value;let P=0;if(d){if(n.value=g,t.value=d,i&&i===y){i=null;return}P=k?d.position-k.position:0}else s(g);o.forEach(A=>{A(n.value,y,{delta:P,type:Jn.pop,direction:P?P>0?Vn.forward:Vn.back:Vn.unknown})})};function a(){i=n.value}function u(d){o.push(d);const g=()=>{const y=o.indexOf(d);y>-1&&o.splice(y,1)};return r.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(ae({},d.state,{scroll:Xs()}),"")}function f(){for(const d of r)d();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:a,listen:u,destroy:f}}function gi(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?Xs():null}}function oh(e){const{history:t,location:n}=window,s={value:Va(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(a,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+a:nh()+e+a;try{t[c?"replaceState":"pushState"](u,"",d),o.value=u}catch(g){console.error(g),n[c?"replace":"assign"](d)}}function i(a,u){const c=ae({},t.state,gi(o.value.back,a,o.value.forward,!0),u,{position:o.value.position});r(a,c,!0),s.value=a}function l(a,u){const c=ae({},o.value,t.state,{forward:a,scroll:Xs()});r(c.current,c,!0);const f=ae({},gi(s.value,a,null),{position:c.position+1},u);r(a,f,!1),s.value=a}return{location:s,state:o,push:l,replace:i}}function rh(e){e=Jd(e);const t=oh(e),n=sh(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=ae({location:"",base:e,go:s,createHref:Yd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function ih(e){return typeof e=="string"||e&&typeof e=="object"}function ja(e){return typeof e=="string"||typeof e=="symbol"}const vt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ba=Symbol("");var yi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(yi||(yi={}));function xn(e,t){return ae(new Error,{type:e,[Ba]:!0},t)}function at(e,t){return e instanceof Error&&Ba in e&&(t==null||!!(e.type&t))}const bi="[^/]+?",lh={sensitive:!1,strict:!1,start:!0,end:!0},ah=/[.+*?^${}()[\]/\\]/g;function ch(e,t){const n=ae({},lh,t),s=[];let o=n.start?"^":"";const r=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(o+="/");for(let f=0;f<u.length;f++){const d=u[f];let g=40+(n.sensitive?.25:0);if(d.type===0)f||(o+="/"),o+=d.value.replace(ah,"\\$&"),g+=40;else if(d.type===1){const{value:y,repeatable:k,optional:P,regexp:A}=d;r.push({name:y,repeatable:k,optional:P});const w=A||bi;if(w!==bi){g+=10;try{new RegExp(`(${w})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+_.message)}}let m=k?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(m=P&&u.length<2?`(?:/${m})`:"/"+m),P&&(m+="?"),o+=m,g+=20,P&&(g+=-8),k&&(g+=-20),w===".*"&&(g+=-50)}c.push(g)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(u){const c=u.match(i),f={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",y=r[d-1];f[y.name]=g&&y.repeatable?g.split("/"):g}return f}function a(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:y,repeatable:k,optional:P}=g,A=y in u?u[y]:"";if(tt(A)&&!k)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=tt(A)?A.join("/"):A;if(!w)if(P)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);c+=w}}return c||"/"}return{re:i,score:s,keys:r,parse:l,stringify:a}}function uh(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function fh(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=uh(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(_i(s))return 1;if(_i(o))return-1}return o.length-s.length}function _i(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const dh={type:0,value:""},hh=/[a-zA-Z0-9_]/;function ph(e){if(!e)return[[]];if(e==="/")return[[dh]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,a,u="",c="";function f(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:c,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(u&&f(),i()):a===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:a==="("?n=2:hh.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),i(),o}function mh(e,t,n){const s=ch(ph(e.path),n),o=ae(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function gh(e,t){const n=[],s=new Map;t=Ci({strict:!1,end:!0,sensitive:!1},t);function o(c){return s.get(c)}function r(c,f,d){const g=!d,y=yh(c);y.aliasOf=d&&d.record;const k=Ci(t,c),P=[y];if("alias"in c){const m=typeof c.alias=="string"?[c.alias]:c.alias;for(const _ of m)P.push(ae({},y,{components:d?d.record.components:y.components,path:_,aliasOf:d?d.record:y}))}let A,w;for(const m of P){const{path:_}=m;if(f&&_[0]!=="/"){const C=f.record.path,x=C[C.length-1]==="/"?"":"/";m.path=f.record.path+(_&&x+_)}if(A=mh(m,f,k),d?d.alias.push(A):(w=w||A,w!==A&&w.alias.push(A),g&&c.name&&!wi(A)&&i(c.name)),y.children){const C=y.children;for(let x=0;x<C.length;x++)r(C[x],A,d&&d.children[x])}d=d||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&a(A)}return w?()=>{i(w)}:$n}function i(c){if(ja(c)){const f=s.get(c);f&&(s.delete(c),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(c);f>-1&&(n.splice(f,1),c.record.name&&s.delete(c.record.name),c.children.forEach(i),c.alias.forEach(i))}}function l(){return n}function a(c){let f=0;for(;f<n.length&&fh(c,n[f])>=0&&(c.record.path!==n[f].record.path||!Ha(c,n[f]));)f++;n.splice(f,0,c),c.record.name&&!wi(c)&&s.set(c.record.name,c)}function u(c,f){let d,g={},y,k;if("name"in c&&c.name){if(d=s.get(c.name),!d)throw xn(1,{location:c});k=d.record.name,g=ae(vi(f.params,d.keys.filter(w=>!w.optional).concat(d.parent?d.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),c.params&&vi(c.params,d.keys.map(w=>w.name))),y=d.stringify(g)}else if(c.path!=null)y=c.path,d=n.find(w=>w.re.test(y)),d&&(g=d.parse(y),k=d.record.name);else{if(d=f.name?s.get(f.name):n.find(w=>w.re.test(f.path)),!d)throw xn(1,{location:c,currentLocation:f});k=d.record.name,g=ae({},f.params,c.params),y=d.stringify(g)}const P=[];let A=d;for(;A;)P.unshift(A.record),A=A.parent;return{name:k,path:y,params:g,matched:P,meta:_h(P)}}return e.forEach(c=>r(c)),{addRoute:r,resolve:u,removeRoute:i,getRoutes:l,getRecordMatcher:o}}function vi(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function yh(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:bh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function bh(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function wi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _h(e){return e.reduce((t,n)=>ae(t,n.meta),{})}function Ci(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Ha(e,t){return t.children.some(n=>n===e||Ha(e,n))}function vh(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Ma," "),i=r.indexOf("="),l=Wn(i<0?r:r.slice(0,i)),a=i<0?null:Wn(r.slice(i+1));if(l in t){let u=t[l];tt(u)||(u=t[l]=[u]),u.push(a)}else t[l]=a}return t}function xi(e){let t="";for(let n in e){const s=e[n];if(n=Bd(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(tt(s)?s.map(r=>r&&Fo(r)):[s&&Fo(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function wh(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=tt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Ch=Symbol(""),Ei=Symbol(""),yr=Symbol(""),Ua=Symbol(""),Vo=Symbol("");function Rn(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function kt(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,a)=>{const u=d=>{d===!1?a(xn(4,{from:n,to:t})):d instanceof Error?a(d):ih(d)?a(xn(2,{from:t,to:d})):(i&&s.enterCallbacks[o]===i&&typeof d=="function"&&i.push(d),l())},c=r(()=>e.call(s&&s.instances[o],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(d=>a(d))})}function mo(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let a=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(xh(a)){const c=(a.__vccOpts||a)[t];c&&r.push(kt(c,n,s,i,l,o))}else{let u=a();r.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${i.path}"`));const f=Rd(c)?c.default:c;i.components[l]=f;const g=(f.__vccOpts||f)[t];return g&&kt(g,n,s,i,l,o)()}))}}return r}function xh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Si(e){const t=Le(yr),n=Le(Ua),s=Re(()=>t.resolve($e(e.to))),o=Re(()=>{const{matched:a}=s.value,{length:u}=a,c=a[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(Cn.bind(null,c));if(d>-1)return d;const g=ki(a[u-2]);return u>1&&ki(c)===g&&f[f.length-1].path!==g?f.findIndex(Cn.bind(null,a[u-2])):d}),r=Re(()=>o.value>-1&&Th(n.params,s.value.params)),i=Re(()=>o.value>-1&&o.value===n.matched.length-1&&$a(n.params,s.value.params));function l(a={}){return kh(a)?t[$e(e.replace)?"replace":"push"]($e(e.to)).catch($n):Promise.resolve()}return{route:s,href:Re(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}const Eh=ht({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Si,setup(e,{slots:t}){const n=Kt(Si(e)),{options:s}=Le(yr),o=Re(()=>({[Ti(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Ti(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Zs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Sh=Eh;function kh(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Th(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!tt(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function ki(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ti=(e,t,n)=>e??t??n,Oh=ht({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Le(Vo),o=Re(()=>e.route||s.value),r=Le(Ei,0),i=Re(()=>{let u=$e(r);const{matched:c}=o.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),l=Re(()=>o.value.matched[i.value]);Ot(Ei,Re(()=>i.value+1)),Ot(Ch,l),Ot(Vo,o);const a=be();return Xe(()=>[a.value,l.value,e.name],([u,c,f],[d,g,y])=>{c&&(c.instances[f]=u,g&&g!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!Cn(c,g)||!d)&&(c.enterCallbacks[f]||[]).forEach(k=>k(u))},{flush:"post"}),()=>{const u=o.value,c=e.name,f=l.value,d=f&&f.components[c];if(!d)return Oi(n.default,{Component:d,route:u});const g=f.props[c],y=g?g===!0?u.params:typeof g=="function"?g(u):g:null,P=Zs(d,ae({},y,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(f.instances[c]=null)},ref:a}));return Oi(n.default,{Component:P,route:u})||P}}});function Oi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Da=Oh;function Rh(e){const t=gh(e.routes,e),n=e.parseQuery||vh,s=e.stringifyQuery||xi,o=e.history,r=Rn(),i=Rn(),l=Rn(),a=ul(vt);let u=vt;an&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=ho.bind(null,O=>""+O),f=ho.bind(null,Ud),d=ho.bind(null,Wn);function g(O,U){let B,z;return ja(O)?(B=t.getRecordMatcher(O),z=U):z=O,t.addRoute(z,B)}function y(O){const U=t.getRecordMatcher(O);U&&t.removeRoute(U)}function k(){return t.getRoutes().map(O=>O.record)}function P(O){return!!t.getRecordMatcher(O)}function A(O,U){if(U=ae({},U||a.value),typeof O=="string"){const p=po(n,O,U.path),v=t.resolve({path:p.path},U),R=o.createHref(p.fullPath);return ae(p,v,{params:d(v.params),hash:Wn(p.hash),redirectedFrom:void 0,href:R})}let B;if(O.path!=null)B=ae({},O,{path:po(n,O.path,U.path).path});else{const p=ae({},O.params);for(const v in p)p[v]==null&&delete p[v];B=ae({},O,{params:f(p)}),U.params=f(U.params)}const z=t.resolve(B,U),le=O.hash||"";z.params=c(d(z.params));const pe=Kd(s,ae({},O,{hash:jd(le),path:z.path})),h=o.createHref(pe);return ae({fullPath:pe,hash:le,query:s===xi?wh(O.query):O.query||{}},z,{redirectedFrom:void 0,href:h})}function w(O){return typeof O=="string"?po(n,O,a.value.path):ae({},O)}function m(O,U){if(u!==O)return xn(8,{from:U,to:O})}function _(O){return I(O)}function C(O){return _(ae(w(O),{replace:!0}))}function x(O){const U=O.matched[O.matched.length-1];if(U&&U.redirect){const{redirect:B}=U;let z=typeof B=="function"?B(O):B;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=w(z):{path:z},z.params={}),ae({query:O.query,hash:O.hash,params:z.path!=null?{}:O.params},z)}}function I(O,U){const B=u=A(O),z=a.value,le=O.state,pe=O.force,h=O.replace===!0,p=x(B);if(p)return I(ae(w(p),{state:typeof p=="object"?ae({},le,p.state):le,force:pe,replace:h}),U||B);const v=B;v.redirectedFrom=U;let R;return!pe&&Gd(s,z,B)&&(R=xn(16,{to:v,from:z}),nt(z,z,!0,!1)),(R?Promise.resolve(R):E(v,z)).catch(T=>at(T)?at(T,2)?T:gt(T):W(T,v,z)).then(T=>{if(T){if(at(T,2))return I(ae({replace:h},w(T.to),{state:typeof T.to=="object"?ae({},le,T.to.state):le,force:pe}),U||v)}else T=L(v,z,!0,h,le);return $(v,z,T),T})}function N(O,U){const B=m(O,U);return B?Promise.reject(B):Promise.resolve()}function S(O){const U=on.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(O):O()}function E(O,U){let B;const[z,le,pe]=Lh(O,U);B=mo(z.reverse(),"beforeRouteLeave",O,U);for(const p of z)p.leaveGuards.forEach(v=>{B.push(kt(v,O,U))});const h=N.bind(null,O,U);return B.push(h),ke(B).then(()=>{B=[];for(const p of r.list())B.push(kt(p,O,U));return B.push(h),ke(B)}).then(()=>{B=mo(le,"beforeRouteUpdate",O,U);for(const p of le)p.updateGuards.forEach(v=>{B.push(kt(v,O,U))});return B.push(h),ke(B)}).then(()=>{B=[];for(const p of pe)if(p.beforeEnter)if(tt(p.beforeEnter))for(const v of p.beforeEnter)B.push(kt(v,O,U));else B.push(kt(p.beforeEnter,O,U));return B.push(h),ke(B)}).then(()=>(O.matched.forEach(p=>p.enterCallbacks={}),B=mo(pe,"beforeRouteEnter",O,U,S),B.push(h),ke(B))).then(()=>{B=[];for(const p of i.list())B.push(kt(p,O,U));return B.push(h),ke(B)}).catch(p=>at(p,8)?p:Promise.reject(p))}function $(O,U,B){l.list().forEach(z=>S(()=>z(O,U,B)))}function L(O,U,B,z,le){const pe=m(O,U);if(pe)return pe;const h=U===vt,p=an?history.state:{};B&&(z||h?o.replace(O.fullPath,ae({scroll:h&&p&&p.scroll},le)):o.push(O.fullPath,le)),a.value=O,nt(O,U,B,h),gt()}let G;function re(){G||(G=o.listen((O,U,B)=>{if(!os.listening)return;const z=A(O),le=x(z);if(le){I(ae(le,{replace:!0}),z).catch($n);return}u=z;const pe=a.value;an&&eh(mi(pe.fullPath,B.delta),Xs()),E(z,pe).catch(h=>at(h,12)?h:at(h,2)?(I(h.to,z).then(p=>{at(p,20)&&!B.delta&&B.type===Jn.pop&&o.go(-1,!1)}).catch($n),Promise.reject()):(B.delta&&o.go(-B.delta,!1),W(h,z,pe))).then(h=>{h=h||L(z,pe,!1),h&&(B.delta&&!at(h,8)?o.go(-B.delta,!1):B.type===Jn.pop&&at(h,20)&&o.go(-1,!1)),$(z,pe,h)}).catch($n)}))}let ue=Rn(),K=Rn(),te;function W(O,U,B){gt(O);const z=K.list();return z.length?z.forEach(le=>le(O,U,B)):console.error(O),Promise.reject(O)}function Je(){return te&&a.value!==vt?Promise.resolve():new Promise((O,U)=>{ue.add([O,U])})}function gt(O){return te||(te=!O,re(),ue.list().forEach(([U,B])=>O?B(O):U()),ue.reset()),O}function nt(O,U,B,z){const{scrollBehavior:le}=e;if(!an||!le)return Promise.resolve();const pe=!B&&th(mi(O.fullPath,0))||(z||!B)&&history.state&&history.state.scroll||null;return Xn().then(()=>le(O,U,pe)).then(h=>h&&Xd(h)).catch(h=>W(h,O,U))}const Ie=O=>o.go(O);let sn;const on=new Set,os={currentRoute:a,listening:!0,addRoute:g,removeRoute:y,hasRoute:P,getRoutes:k,resolve:A,options:e,push:_,replace:C,go:Ie,back:()=>Ie(-1),forward:()=>Ie(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:K.add,isReady:Je,install(O){const U=this;O.component("RouterLink",Sh),O.component("RouterView",Da),O.config.globalProperties.$router=U,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(a)}),an&&!sn&&a.value===vt&&(sn=!0,_(o.location).catch(le=>{}));const B={};for(const le in vt)Object.defineProperty(B,le,{get:()=>a.value[le],enumerable:!0});O.provide(yr,U),O.provide(Ua,Jo(B)),O.provide(Vo,a);const z=O.unmount;on.add(O),O.unmount=function(){on.delete(O),on.size<1&&(u=vt,G&&G(),G=null,a.value=vt,sn=!1,te=!1),z()}}};function ke(O){return O.reduce((U,B)=>U.then(()=>S(B)),Promise.resolve())}return os}function Lh(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(u=>Cn(u,l))?s.push(l):n.push(l));const a=e.matched[i];a&&(t.matched.find(u=>Cn(u,a))||o.push(a))}return[n,s,o]}class Ph{constructor(t){this.domainOrigin=t,this.id="",this.name="",this.username="",this.loggedIn=!1,this.sessionJwt="",this.latitude="",this.longitude=""}async apiRegister(t){console.log("In apiRegister");const n={name:t.name,username:t.username,password:t.password};console.log(n);const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},o=this.domainOrigin+"/api/users/";try{const r=await fetch(o,s);if(!r.ok){const l=await r.json();throw{status:r.status,message:l.message||"Network response was not ok"}}return(await r.json()).new_user}catch(r){throw r.status?{status:r.status}:new Error("Failed to add user: "+r.message)}}async apiLogin(t,n){console.log("In api_login");const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})},r=this.domainOrigin+"/api/auth/login";try{const i=await fetch(r,o);if(!i.ok){const u=await i.json();throw{status:i.status,message:u.message||"Network response was not ok"}}const l=await i.json();return console.log(l),this.id=l.package.id,this.name=l.package.name,this.username=l.package.username,this.loggedIn=!0,this.sessionJwt=l.package.session_jwt,{status:i.status,message:l.message}}catch(i){throw i.status?{status:i.status}:new Error("Failed to login")}}async apiEditUser(t){console.log("In api_edit_user");const n={edited_name:t},s={method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.sessionJwt}`},body:JSON.stringify(n)},o=this.domainOrigin+"/api/users/";try{const r=await fetch(o,s);if(!r.ok){const l=await r.json();throw{status:r.status,message:l.message||"Network response was not ok"}}const i=await r.json();return this.name=i.user.name,i.user}catch(r){throw r.status?{status:r.status}:new Error("Failed to edit user: "+r.message)}}async apiSubmitForm(t,n){console.log("In apiSubmitForm");const s={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.sessionJwt}`},body:JSON.stringify(n)},o=this.domainOrigin+`/api/forms/${t}`;try{const r=await fetch(o,s);if(!r.ok){const l=await r.json();throw{status:r.status,message:l.message||"Network response was not ok"}}return(await r.json()).form}catch(r){throw r.status?{status:r.status}:new Error("Failed to submit form: "+r.message)}}}class Ah{constructor(t,n){this.domainOrigin=t,this.user=n}async apiGetMapsSearchRequest(t){console.log("In apiGetSearchRequest");const n=[];console.log(t.categories);for(const i in t.categories)console.log("printing"),console.log(i),t.categories[i]&&n.push(i.toLowerCase());console.log(n);const s={categories:n,dateFrom:t.dateFrom,dateTo:t.dateTo,searchRadiusKm:t.searchRadiusKm,searchLatitude:t.latitude,searchLongitude:t.longitude},o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.user.sessionJwt}`},body:JSON.stringify(s)},r=this.domainOrigin+"/api/maps/";try{const i=await fetch(r,o);if(!i.ok){const a=await i.json();throw{status:i.status,message:a.message||"Network response was not ok"}}return(await i.json()).results}catch(i){throw i.status?{status:i.status}:new Error("Failed to get search results: "+i.message)}}}const Mh="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='24px'%20height='24px'%20viewBox='-5.2%20-5.2%2062.40%2062.40'%20xmlns='http://www.w3.org/2000/svg'%20fill='%23ffffff'%20stroke='%23000000'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3crect%20fill='none'%20height='4.8'%20rx='1.6'%20width='27.2'%20x='12.4'%20y='26'/%3e%3crect%20fill='none'%20height='4.8'%20rx='1.6'%20width='24'%20x='12.4'%20y='35.6'/%3e%3cg%3e%3cpath%20d='m36.4%2014.8h8.48a1.09%201.09%200%200%200%201.12-1.12%201%201%200%200%200%20-.32-.8l-10.56-10.56a1%201%200%200%200%20-.8-.32%201.09%201.09%200%200%200%20-1.12%201.12v8.48a3.21%203.21%200%200%200%203.2%203.2z'/%3e%3cpath%20d='m44.4%2019.6h-11.2a4.81%204.81%200%200%201%20-4.8-4.8v-11.2a1.6%201.6%200%200%200%20-1.6-1.6h-16a4.81%204.81%200%200%200%20-4.8%204.8v38.4a4.81%204.81%200%200%200%204.8%204.8h30.4a4.81%204.81%200%200%200%204.8-4.8v-24a1.6%201.6%200%200%200%20-1.6-1.6zm-32-1.6a1.62%201.62%200%200%201%201.6-1.55h6.55a1.56%201.56%200%200%201%201.57%201.55v1.59a1.63%201.63%200%200%201%20-1.59%201.58h-6.53a1.55%201.55%200%200%201%20-1.58-1.58zm24%2020.77a1.6%201.6%200%200%201%20-1.6%201.6h-20.8a1.6%201.6%200%200%201%20-1.6-1.6v-1.57a1.6%201.6%200%200%201%201.6-1.6h20.8a1.6%201.6%200%200%201%201.6%201.6zm3.2-9.6a1.6%201.6%200%200%201%20-1.6%201.63h-24a1.6%201.6%200%200%201%20-1.6-1.6v-1.6a1.6%201.6%200%200%201%201.6-1.6h24a1.6%201.6%200%200%201%201.6%201.6z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ri="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20License:%20MIT.%20Made%20by%20Esri:%20https://github.com/Esri/calcite-ui-icons%20--%3e%3csvg%20width='24px'%20height='24px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%2022.943C3.533%2018.32%202.498%2012.026%203.16%204.723l.08-.869.871-.042c3.31-.166%205.668-.934%207.21-2.35L12%20.838l.68.624c1.54%201.416%203.9%202.184%207.21%202.35l.87.042.08.869c.666%207.34-.407%2013.61-8.84%2018.22zM4.16%204.811c-.543%205.988-.04%2012.694%207.838%2016.993%207.88-4.3%208.39-11.001%207.845-16.99-3.553-.178-6.12-1.036-7.84-2.616-1.72%201.58-4.29%202.435-7.842%202.613z'/%3e%3cpath%20fill='none'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e",Li="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20License:%20PD.%20Made%20by%20Mary%20Akveo:%20https://maryakveo.com/%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20id='phone'%20data-name='Line%20Color'%20xmlns='http://www.w3.org/2000/svg'%20class='icon%20line-color'%3e%3cpath%20id='primary'%20d='M21,15v3.93a2,2,0,0,1-2.29,2A18,18,0,0,1,3.14,5.29,2,2,0,0,1,5.13,3H9a1,1,0,0,1,1,.89,10.74,10.74,0,0,0,1,3.78,1,1,0,0,1-.42,1.26l-.86.49a1,1,0,0,0-.33,1.46,14.08,14.08,0,0,0,3.69,3.69,1,1,0,0,0,1.46-.33l.49-.86A1,1,0,0,1,16.33,13a10.74,10.74,0,0,0,3.78,1A1,1,0,0,1,21,15Z'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%202;'%3e%3c/path%3e%3c/svg%3e",Pi="data:image/svg+xml,%3c!--%20License:%20PD.%20Made%20by%20mapbox:%20https://github.com/mapbox/maki%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2015%2015'%20version='1.1'%20id='building'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3,2v11h5v-3h3v3h1V2H3z%20M7,12H4v-2h3V12z%20M7,9H4V7h3V9z%20M7,6H4V4h3V6z%20M11,9H8V7h3V9z%20M11,6H8V4h3V6z'/%3e%3c/svg%3e",Mt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Nh={props:{user:{type:Object}},data(){return{formSVG:Mh}}},Ih={class:"bg-off-black text-white text-center fixed inset-x-0 bottom-0 pb-3 pt-2 px-6"},Fh={class:"max-w-lg mx-auto"},$h={class:"flex justify-between font-montserrat text-xs"},Vh=b("svg",{class:"h-6 w-6 fill-current",viewBox:"-5.2 -5.2 62.40 62.40",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"},[b("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),b("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),b("g",{id:"SVGRepo_iconCarrier"},[b("rect",{fill:"none",height:"4.8",rx:"1.6",width:"27.2",x:"12.4",y:"26"}),b("rect",{fill:"none",height:"4.8",rx:"1.6",width:"24",x:"12.4",y:"35.6"}),b("g",null,[b("path",{d:"m36.4 14.8h8.48a1.09 1.09 0 0 0 1.12-1.12 1 1 0 0 0 -.32-.8l-10.56-10.56a1 1 0 0 0 -.8-.32 1.09 1.09 0 0 0 -1.12 1.12v8.48a3.21 3.21 0 0 0 3.2 3.2z"}),b("path",{d:"m44.4 19.6h-11.2a4.81 4.81 0 0 1 -4.8-4.8v-11.2a1.6 1.6 0 0 0 -1.6-1.6h-16a4.81 4.81 0 0 0 -4.8 4.8v38.4a4.81 4.81 0 0 0 4.8 4.8h30.4a4.81 4.81 0 0 0 4.8-4.8v-24a1.6 1.6 0 0 0 -1.6-1.6zm-32-1.6a1.62 1.62 0 0 1 1.6-1.55h6.55a1.56 1.56 0 0 1 1.57 1.55v1.59a1.63 1.63 0 0 1 -1.59 1.58h-6.53a1.55 1.55 0 0 1 -1.58-1.58zm24 20.77a1.6 1.6 0 0 1 -1.6 1.6h-20.8a1.6 1.6 0 0 1 -1.6-1.6v-1.57a1.6 1.6 0 0 1 1.6-1.6h20.8a1.6 1.6 0 0 1 1.6 1.6zm3.2-9.6a1.6 1.6 0 0 1 -1.6 1.63h-24a1.6 1.6 0 0 1 -1.6-1.6v-1.6a1.6 1.6 0 0 1 1.6-1.6h24a1.6 1.6 0 0 1 1.6 1.6z"})])])],-1),jh=b("p",{class:"pt-1"},"Update",-1),Bh=[Vh,jh],Hh=b("svg",{class:"h-5 w-5 fill-current",version:"1.0",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64","xml:space":"preserve"},[b("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),b("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),b("g",{id:"SVGRepo_iconCarrier"},[b("path",{d:"M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289l16,24 C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289C54.289,34.008,56,29.219,56,24 C56,10.746,45.254,0,32,0z M32,32c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S36.418,32,32,32z"})])],-1),Uh=b("p",{class:"pt-1"},"Maps",-1),Dh=[Hh,Uh],qh=b("svg",{class:"h-5 w-5 fill-current",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[b("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),b("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),b("g",{id:"SVGRepo_iconCarrier"},[b("title",null,"profile_round [#1342]"),b("desc",null,"Created with Sketch."),b("defs"),b("g",{id:"Page-1",stroke:"none","stroke-width":"1"},[b("g",{id:"Dribbble-Light-Preview",transform:"translate(-140.000000, -2159.000000)"},[b("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[b("path",{d:"M100.562548,2016.99998 L87.4381713,2016.99998 C86.7317804,2016.99998 86.2101535,2016.30298 86.4765813,2015.66198 C87.7127655,2012.69798 90.6169306,2010.99998 93.9998492,2010.99998 C97.3837885,2010.99998 100.287954,2012.69798 101.524138,2015.66198 C101.790566,2016.30298 101.268939,2016.99998 100.562548,2016.99998 M89.9166645,2004.99998 C89.9166645,2002.79398 91.7489936,2000.99998 93.9998492,2000.99998 C96.2517256,2000.99998 98.0830339,2002.79398 98.0830339,2004.99998 C98.0830339,2007.20598 96.2517256,2008.99998 93.9998492,2008.99998 C91.7489936,2008.99998 89.9166645,2007.20598 89.9166645,2004.99998 M103.955674,2016.63598 C103.213556,2013.27698 100.892265,2010.79798 97.837022,2009.67298 C99.4560048,2008.39598 100.400241,2006.33098 100.053171,2004.06998 C99.6509769,2001.44698 97.4235996,1999.34798 94.7348224,1999.04198 C91.0232075,1998.61898 87.8750721,2001.44898 87.8750721,2004.99998 C87.8750721,2006.88998 88.7692896,2008.57398 90.1636971,2009.67298 C87.1074334,2010.79798 84.7871636,2013.27698 84.044024,2016.63598 C83.7745338,2017.85698 84.7789973,2018.99998 86.0539717,2018.99998 L101.945727,2018.99998 C103.221722,2018.99998 104.226185,2017.85698 103.955674,2016.63598",id:"profile_round-[#1342]"})])])])])],-1),Kh={class:"pt-1"};function Gh(e,t,n,s,o,r){const i=es("RouterLink");return Z(),Q("nav",Ih,[b("div",Fh,[b("div",$h,[ne(i,{to:"/"},{default:Qe(()=>[b("div",{class:Be(["flex flex-col items-center pb-2",{"text-orange-500":e.$route.name=="home"}])},Bh,2)]),_:1}),ne(i,{to:"/map"},{default:Qe(()=>[b("div",{class:Be(["flex flex-col items-center pb-2",{"text-orange-500":e.$route.name=="map"}])},Dh,2)]),_:1}),ne(i,{to:"/profile"},{default:Qe(()=>[b("div",{class:Be(["flex flex-col items-center pb-2",{"text-orange-500":e.$route.name=="profile"}])},[qh,b("p",Kh,Ae(n.user.loggedIn?"Profile":"Login"),1)],2)]),_:1})])])])}const qa=Mt(Nh,[["render",Gh]]),zh={props:{onLine:{type:Boolean,default:!0}},data(){return{mobileMenuOpen:!1}},methods:{toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}}},Wh={class:"bg-off-black text-white py-3 fixed inset-x-0 top-0"},Jh={class:"flex justify-between text-center items-center max-container mx-auto px-8"},Zh={key:0,class:"sm:w-24"},Yh=Sn('<svg fill="#f97316" width="34px" height="34px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke="#f97316" stroke-width="0.00024000000000000003"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g data-name="Layer 2"><g data-name="wifi-off"><rect width="24" height="24" opacity="0"></rect><circle cx="12" cy="19" r="1"></circle><path d="M12.44 11l-1.9-1.89-2.46-2.44-1.55-1.55-1.82-1.83a1 1 0 0 0-1.42 1.42l1.38 1.37 1.46 1.46 2.23 2.24 1.55 1.54 2.74 2.74 2.79 2.8 3.85 3.85a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path><path d="M21.72 7.93A13.93 13.93 0 0 0 12 4a14.1 14.1 0 0 0-4.44.73l1.62 1.62a11.89 11.89 0 0 1 11.16 3 1 1 0 0 0 .69.28 1 1 0 0 0 .72-.31 1 1 0 0 0-.03-1.39z"></path><path d="M3.82 6.65a14.32 14.32 0 0 0-1.54 1.28 1 1 0 0 0 1.38 1.44 13.09 13.09 0 0 1 1.6-1.29z"></path><path d="M17 13.14a1 1 0 0 0 .71.3 1 1 0 0 0 .72-1.69A9 9 0 0 0 12 9h-.16l2.35 2.35A7 7 0 0 1 17 13.14z"></path><path d="M7.43 10.26a8.8 8.8 0 0 0-1.9 1.49A1 1 0 0 0 7 13.14a7.3 7.3 0 0 1 2-1.41z"></path><path d="M8.53 15.4a1 1 0 1 0 1.39 1.44 3.06 3.06 0 0 1 3.84-.25l-2.52-2.52a5 5 0 0 0-2.71 1.33z"></path></g></g></g></svg>',1),Qh=[Yh],Xh={key:1,class:"sm:w-24"},ep=Sn('<svg width="34px" height="34px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#343236"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><circle cx="1" cy="1" r="1" transform="matrix(1 0 0 -1 11 19)" fill="#f97316"></circle><path d="M20.1915 10.2642C19.2864 8.97153 18.0881 7.9114 16.6947 7.17053C15.3014 6.42965 13.7524 6.02907 12.1746 6.00152C10.5967 5.97398 9.03471 6.32026 7.61632 7.01206C6.19793 7.70385 4.9634 8.72152 4.01367 9.98185M17.7341 12.985C17.1005 12.0801 16.2617 11.338 15.2863 10.8194C14.311 10.3008 13.2267 10.0203 12.1222 10.0011C11.0177 9.98179 9.9243 10.2242 8.93143 10.7084C7.93856 11.1927 7.07439 11.9051 6.40958 12.7873M14.4575 15.2793C14.1859 14.8915 13.8265 14.5734 13.4084 14.3512C12.9904 14.1289 12.5257 14.0087 12.0524 14.0005C11.579 13.9922 11.1104 14.0961 10.6849 14.3036C10.2594 14.5112 9.88904 14.8165 9.60412 15.1946" stroke="#f97316" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>',1),tp=[ep],np=b("div",null,[b("h1",{class:"flex font-montserrat font-semibold text-xl text-orange-500"},"[ ResQHub ] ")],-1),sp={class:"flex flex-col gap-1 pb-1 h-5 justify-center hover:cursor-pointer"},op=b("div",{class:"hidden sm:block sm:w-24"},[b("ul",{class:"flex justify-center space-x-4"},[b("li",{class:"hover:cursor-pointer text-orange-500 font-semibold"},"FAQ"),b("li",{class:"hover:cursor-pointer text-orange-500 font-semibold"},"Language")])],-1);function rp(e,t,n,s,o,r){return Z(),Q("div",Wh,[b("div",Jh,[n.onLine?(Z(),Q("div",Xh,tp)):(Z(),Q("div",Zh,Qh)),np,b("div",{class:"flex pt-1 sm:items-center sm:hidden",onClick:t[0]||(t[0]=(...i)=>r.toggleMobileMenu&&r.toggleMobileMenu(...i))},[b("button",sp,[b("span",{class:Be(["w-6 h-[2px] bg-orange-500 transition transform duration-200",{"rotate-45 translate-y-[3px]":o.mobileMenuOpen}])},null,2),b("span",{class:Be(["w-6 h-[2px] bg-orange-500 transition transform",{hidden:o.mobileMenuOpen}])},null,2),b("span",{class:Be(["w-6 h-[2px] bg-orange-500 transition transform duration-200",{"rotate-[-45deg] translate-y-[-3px]":o.mobileMenuOpen}])},null,2)])]),op])])}const Ka=Mt(zh,[["render",rp]]),ip="offlineDB",lp=1;let Ai;const br=()=>new Promise((e,t)=>{const n=indexedDB.open(ip,lp);n.onerror=s=>{t("Error opening IndexedDB database: "+s.target.errorCode)},n.onsuccess=s=>{Ai=s.target.result,e(Ai)},n.onupgradeneeded=s=>{const o=s.target.result;o.objectStoreNames.contains("sessionJwt")||o.createObjectStore("sessionJwt",{keyPath:"id",autoIncrement:!0}),o.objectStoreNames.contains("formEntries")||o.createObjectStore("formEntries",{keyPath:"id",autoIncrement:!0})}}),Ga=async(e,t)=>{console.log(e);try{const n=await br();return new Promise((s,o)=>{const r=n.transaction([t],"readwrite"),i=r.objectStore(t);e.id&&delete e.id;const l=i.add(e);l.onerror=a=>{o("Error adding item to IndexedDB: "+a.target.errorCode)},l.onsuccess=a=>{s(a.target.result)},r.oncomplete=()=>{n.close()}})}catch(n){throw new Error("Failed to add item to database: "+n.message)}},jo=async e=>{try{const t=await br();return new Promise((n,s)=>{const o=t.transaction([e],"readonly"),i=o.objectStore(e).getAll();i.onerror=l=>{s("Error fetching items from IndexedDB: "+l.target.errorCode)},i.onsuccess=l=>{n(l.target.result)},o.oncomplete=()=>{t.close()}})}catch(t){throw new Error("Failed to fetch items from database: "+t.message)}},za=async e=>{try{const t=await br();return new Promise((n,s)=>{const o=t.transaction([e],"readwrite"),i=o.objectStore(e).clear();i.onerror=l=>{s("Error clearing store in IndexedDB: "+l.target.errorCode)},i.onsuccess=l=>{n()},o.oncomplete=()=>{t.close()}})}catch(t){throw new Error("Failed to clear store in database: "+t.message)}},ap={class:"bg-black min-h-[calc(100vh-118px)]"},cp={class:"relative z-10"},up={class:"relative z-0"},fp={class:"relative z-10"},dp={components:{MobileNavBar:qa,MobileHeader:Ka},data(){return{onLine:navigator.onLine,sessionJwt:""}},watch:{async onLine(e){try{if(e){const t=this.parseFormEntriesToJson(await jo("formEntries")),n=(await jo("sessionJwt"))[0].sessionJwt;if(t){const s=await this.apiSubmitOfflineForms(t,n);this.$toast.success(`Back online. ${s.forms.length} forms posted successfully`),await za("formEntries")}}}catch(t){console.log(t)}}},methods:{handleOnlineStatus(){this.onLine=navigator.onLine},parseFormEntriesToJson(e){const t=[];for(let n=0;n<e.length;n++)t.push(JSON.parse(e[n].payload));return console.log(t),t},async apiSubmitOfflineForms(e,t){"In apiSubmitOfflineForms";let n=window.location.origin;n.slice(-5)==":5173"&&(n=n.replace(":5173",":5000")),console.log("In apiSubmitOfflineForms");const s={payload:e},o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)},r=n+"/api/forms/";try{const i=await fetch(r,o);if(!i.ok){const a=await i.json();throw{status:i.status,message:a.message||"Network response was not ok"}}return await i.json()}catch(i){throw i.status?{status:i.status}:new Error("Failed to submit forms: "+i.message)}}},mounted(){window.addEventListener("online",this.handleOnlineStatus),window.addEventListener("offline",this.handleOnlineStatus),this.$router.push("/profile")},beforeUnmount(){window.removeEventListener("online",this.handleOnlineStatus),window.removeEventListener("offline",this.handleOnlineStatus)}},hp=Object.assign(dp,{__name:"App",setup(e){let t=window.location.origin;t.slice(-5)==":5173"&&(t=t.replace(":5173",":5000"));const n=Kt(new Ph(t)),s=Kt(new Ah(t,n));return(o,r)=>(Z(),Q("div",ap,[b("header",cp,[ne(Ka,{onLine:o.onLine,user:n},null,8,["onLine","user"])]),b("main",up,[ne($e(Da),{onLine:o.onLine,user:n,maps:s},null,8,["onLine","user","maps"])]),b("footer",fp,[ne(qa,{user:n},null,8,["user"])])]))}}),pp={emits:["submitForm"],props:{formObj:{type:Object}},data(){return{payload:{}}},methods:{submitForm(){this.payload.formName=this.formObj.category,this.$emit("submitForm",this.payload),this.payload={}}},watch:{formObj(e,t){e!=t&&(this.payload={})}}},mp={class:"flex flex-wrap gap-x-6"},gp={class:"rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},yp={class:"block uppercase text-white text-md font-bold"},bp=["for"],_p={class:"relative mb-3"},vp=["id","onUpdate:modelValue"],wp=["id","onUpdate:modelValue"],Cp={key:2,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white"},xp=b("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[b("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Ep=[xp],Sp={key:3,class:"text-sm"},kp={class:"pb-10 flex justify-center"};function Tp(e,t,n,s,o,r){return Z(),Q(he,null,[b("div",mp,[(Z(!0),Q(he,null,Dt(n.formObj.sections,(i,l)=>(Z(),Q("section",{key:l,class:"pb-4 px-4 w-full"},[b("div",gp,[b("label",yp,Ae(i.title),1),(Z(!0),Q(he,null,Dt(i.formEntries,(a,u)=>(Z(),Q("div",{key:u,class:""},[b("label",{class:"block uppercase text-white text-sm mb-2",for:a.label},Ae(a.title),9,bp),b("div",_p,[a.textarea?Oe((Z(),Q("textarea",{key:1,class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",id:a.label,"onUpdate:modelValue":c=>o.payload[a.payloadLabel]=c,rows:"4",maxlength:"250"},null,8,wp)),[[Me,o.payload[a.payloadLabel]]]):Oe((Z(),Q("select",{key:0,class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",id:a.label,"onUpdate:modelValue":c=>o.payload[a.payloadLabel]=c},[(Z(!0),Q(he,null,Dt(a.options,(c,f)=>(Z(),Q("option",{key:f},Ae(c),1))),128))],8,vp)),[[Qs,o.payload[a.payloadLabel]]]),a.textarea?_e("",!0):(Z(),Q("div",Cp,Ep)),a.textarea?(Z(),Q("span",Sp,Ae(o.payload[a.payloadLabel]?o.payload[a.payloadLabel].length:0)+"/250",1)):_e("",!0)])]))),128))])]))),128))]),b("section",kp,[b("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded",onClick:t[0]||(t[0]=(...i)=>r.submitForm&&r.submitForm(...i))},"Submit ")])],64)}const Op=Mt(pp,[["render",Tp]]),Rp={category:"security",sections:[{title:"Security risks",formName:"security",formEntries:[{label:"risk-armed-groups",payloadLabel:"armedGroupsPresence",title:"Presence of armed groups",options:["Present","Absent","Unknown"]},{label:"risk-report",payloadLabel:"reportOfViolence",title:"Reports of violence or unrest",options:["Confirmed","Suspected","Not reported"]},{label:"risk-local-enforcement",payloadLabel:"localEnforcementPresence",title:"Law enforcement or military presence",options:["Present","Absent","Unknown"]},{label:"risk-comments",payloadLabel:"securityRiskComments",title:"Additional Comments",textarea:!0}]},{title:"Incidents",formName:"incidents",formEntries:[{label:"incidents-reported",payloadLabel:"incidentsReported",title:"Reported incidents",options:["Looting","Theft","Vandalism","Violence","No reported incidents"]},{label:"incidents-risk-to-relief",payloadLabel:"riskToRelief",title:"Security incidents affecting relief efforts",options:["High risk","Moderate risk","Low risk","Unknown"]},{label:"incidents-comments",payloadLabel:"incidentsComments",title:"Additional Comments",textarea:!0}]}]},Lp={category:"infrastructure",sections:[{title:"Roads",formName:"roads",formEntries:[{title:"Condition",label:"road-condition",payloadLabel:"roadCondition",options:["Clear","Damaged","Blocked"]},{title:"Type of damage",label:"road-damage",payloadLabel:"roadDamage",options:["Flooded","Debris","Collapsed","None"]},{title:"Accessibility",label:"road-access",payloadLabel:"roadAccess",options:["Passable","Impassable"]},{label:"road-comments",payloadLabel:"roadComments",title:"Additional Comments",textarea:!0}]},{title:"Buildings",formName:"buildings",formEntries:[{title:"Structural Integrity",label:"building-integrity",payloadLabel:"buildingIntegrity",options:["Intact","Damaged","Collapsed"]},{title:"Type",label:"building-type",payloadLabel:"buildingType",options:["Residential","Commercial","Government","None"]},{title:"Damage Assessment",label:"building-damage",payloadLabel:"buildingDamage",options:["Minor","Moderate","Severe"]},{label:"building-comments",payloadLabel:"buildingComments",title:"Additional Comments",textarea:!0}]},{title:"Utilities",formName:"utilities",formEntries:[{title:"Power Supply",label:"utility-power",payloadLabel:"utilityPower",options:["Available","Outages","Generators"]},{title:"Water Supply",label:"utility-water",payloadLabel:"utilityWater",options:["Functional","Contaminated","Shortages"]},{title:"Communications",label:"utility-comms",payloadLabel:"utilityComms",options:["Functional","Cell Service Only","Internet Connectivity","Limited"]},{label:"utility-comments",payloadLabel:"utilityComments",title:"Additional Comments",textarea:!0}]}]},Pp={category:"communications",sections:[{title:"Communications",formName:"communications",formEntries:[{label:"comms-infrastructure",payloadLabel:"commsInfrastructure",title:"Status of cell towers and internet infrastructure",options:["Fully operational","Partly operational","Offline"]},{label:"comms-phone-and-internet",payloadLabel:"commsPhoneAndInternet",title:"Reliability of phone and internet connectivity",options:["High (consistent signal and bandwidth)","Moderate (intermittent signal and/or reduced bandwidth)","Low (unreliable signal and insufficient bandwidth)"]},{label:"comms-availablity",payloadLabel:"commsAvailability",title:"Availability of communication devices",options:["Abundant (phones, radios, satellite phones)","Limited (some devices available, may not be enough for all teams)","Scarce (very few devices, priority for critical communications only)"]},{label:"comms-alternative",payloadLabel:"commsAlternative",title:"Alternative communication methods",options:["Satellite phones","High-frequency radios","None"]},{label:"comms-comments",payloadLabel:"commsComments",title:"Additional Comments",textarea:!0}]},{title:"Connectivity",formName:"connectivity",formEntries:[{label:"connect-electricity",payloadLabel:"connectElectricity",title:"Electricity Availability",options:["Stable grid supply","Occasional outages, backup available","Unstable grid, reliance on generators"]},{label:"connect-fuel-availability",payloadLabel:"connectFuelAvailability",title:"Fuel Availability for Generators",options:["Sufficient (reliable supply chain)","Limited (supply chain disruptions possible)","Scarce (no reliable supply chain)"]},{label:"connect-backup-power",payloadLabel:"connectBackupPower",title:"Backup Power Sources",options:["Solar panels (available and reliable)","Batteries (available but unreliable)","None"]},{label:"connect-local-control",payloadLabel:"connectLocalControl",title:"Local Control of Electricity Supply",options:["Government-controlled grid","Independent local entities","No local control, dependent on external sources"]},{label:"connect-comments",payloadLabel:"connectComments",title:"Additional Comments",textarea:!0}]}]};function Wa(){return"permissions"in navigator&&"geolocation"in navigator?navigator.permissions.query({name:"geolocation"}).then(function(e){return e.state==="granted"?Mi():new Promise((t,n)=>{navigator.geolocation.getCurrentPosition(t,n)})}):"geolocation"in navigator?Mi():(console.error("Geolocation is not supported by this browser."),Promise.reject("Geolocation is not supported by this browser."))}function Mi(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)})}const Ap={components:{BoilerplateForm:Op},props:{user:{type:Object},onLine:{type:Boolean}},data(){return{infrastructureForm:Lp,securityForm:Rp,communicationsForm:Pp,selectedForm:"Infrastructure",items:[]}},methods:{async submitForm(e){if(navigator.onLine){this.user.loggedIn||(this.$router.push("/profile"),this.$toast.info("Please login to post update"));try{e=this.addUserLocationToPayload(e),await this.user.apiSubmitForm(this.selectedForm.toLowerCase(),e),this.$toast.success("Form successfully submitted")}catch(t){console.log(t.status),t.status===401?this.$toast.warning("Please login first"):console.log("Other error:",t)}}else try{e=await this.addUserLocationToPayload(e),await this.addItemToDb(JSON.stringify(e)),this.$toast.success("Form saved. Will attempt to send when back online")}catch(t){console.error("Failed to save form offline:",t),this.$toast.error("Failed to save form offline")}},async addUserLocationToPayload(e){try{const t=await Wa();return e.latitude=t.coords.latitude,e.longitude=t.coords.longitude,e.timestamp=Date.now(),e}catch(t){console.error("Error getting location:",t)}},async addItemToDb(e){try{console.log(`The payload is ${e}`);const t={payload:e},n=await Ga(t,"formEntries");this.items.push({id:n,...t})}catch(t){console.error(t),alert("Failed to add item")}}},computed:{selectedFormObj(){switch(this.selectedForm.toLowerCase()){case"infrastructure":return this.infrastructureForm;case"security":return this.securityForm;case"communications":return this.communicationsForm;default:return null}}}},Mp={class:"mt-12 mb-16 pt-4"},Np={class:"w-full px-3 mb-6"},Ip=b("label",{class:"block uppercase text-white text-md font-bold mb-2",for:"grid-state"}," Category ",-1),Fp={class:"relative"},$p=b("option",null,"Infrastructure",-1),Vp=b("option",null,"Medical",-1),jp=b("option",null,"Security",-1),Bp=b("option",null,"Logistics",-1),Hp=b("option",null,"Environment",-1),Up=b("option",null,"Health",-1),Dp=b("option",null,"Communications",-1),qp=[$p,Vp,jp,Bp,Hp,Up,Dp],Kp=b("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-white"},[b("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[b("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function Gp(e,t,n,s,o,r){const i=es("BoilerplateForm");return Z(),Q("section",Mp,[b("form",{class:"w-full max-w-lg mx-auto flex flex-col",onSubmit:t[1]||(t[1]=xa(()=>{},["prevent"]))},[b("div",Np,[Ip,b("div",Fp,[Oe(b("select",{class:"shadow bg-black text-white appearance-none border border-gray-700 rounded w-full py-2 px-3 leading-tight focus:outline-none focus:shadow-outline",id:"grid-state","onUpdate:modelValue":t[0]||(t[0]=l=>o.selectedForm=l)},qp,512),[[Qs,o.selectedForm]]),Kp])]),ne(i,{formObj:r.selectedFormObj,onSubmitForm:r.submitForm},null,8,["formObj","onSubmitForm"])],32)])}const zp=Mt(Ap,[["render",Gp]]);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".mapdiv[data-v-dbf82c40]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var Wp=Object.defineProperty,Jp=(e,t,n)=>t in e?Wp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ni=(e,t,n)=>(Jp(e,typeof t!="symbol"?t+"":t,n),n);const _r=Symbol("map"),vr=Symbol("api"),Zp=Symbol("marker"),Yp=Symbol("markerCluster"),eo=Symbol("CustomMarker"),Qp=Symbol("mapTilesLoaded"),Ja=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Xp(e,t,n,s){function o(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function l(c){try{u(s.next(c))}catch(f){i(f)}}function a(c){try{u(s.throw(c))}catch(f){i(f)}}function u(c){c.done?r(c.value):o(c.value).then(l,a)}u((s=s.apply(e,t||[])).next())})}var em=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,o,r;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(r=Object.keys(t),s=r.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=s;o--!==0;){var i=r[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Ii="__googleMapsScriptId";var cn;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(cn||(cn={}));class $t{constructor({apiKey:t,authReferrerPolicy:n,channel:s,client:o,id:r=Ii,language:i,libraries:l=[],mapIds:a,nonce:u,region:c,retries:f=3,url:d="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=s,this.client=o,this.id=r||Ii,this.language=i,this.libraries=l,this.mapIds=a,this.nonce=u,this.region=c,this.retries=f,this.url=d,this.version=g,$t.instance){if(!em(this.options,$t.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify($t.instance.options)}`);return $t.instance}$t.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?cn.FAILURE:this.done?cn.SUCCESS:this.loading?cn.LOADING:cn.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(s=>{s?n(s.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}const s={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(s).forEach(r=>!s[r]&&delete s[r]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(r=>{let i,l,a,u="The Google Maps JavaScript API",c="google",f="importLibrary",d="__ib__",g=document,y=window;y=y[c]||(y[c]={});const k=y.maps||(y.maps={}),P=new Set,A=new URLSearchParams,w=()=>i||(i=new Promise((m,_)=>Xp(this,void 0,void 0,function*(){var C;yield l=g.createElement("script"),l.id=this.id,A.set("libraries",[...P]+"");for(a in r)A.set(a.replace(/[A-Z]/g,x=>"_"+x[0].toLowerCase()),r[a]);A.set("callback",c+".maps."+d),l.src=this.url+"?"+A,k[d]=m,l.onerror=()=>i=_(Error(u+" could not load.")),l.nonce=this.nonce||((C=g.querySelector("script[nonce]"))===null||C===void 0?void 0:C.nonce)||"",g.head.append(l)})));k[f]?console.warn(u+" only loads once. Ignoring:",r):k[f]=(m,..._)=>P.add(m)&&w().then(()=>k[f](m,..._))})(s);const o=this.libraries.map(r=>this.importLibrary(r));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),r=>{const i=new ErrorEvent("error",{error:r});this.loadErrorCallback(i)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}function tm(e){return class extends e.OverlayView{constructor(t){super(),Ni(this,"element"),Ni(this,"opts");const{element:n,...s}=t;this.element=n,this.opts=s,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof e.LatLng?this.opts.position:new e.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const t=this.element;return t.style.display!=="none"&&t.style.visibility!=="hidden"&&(t.style.opacity===""||Number(t.style.opacity)>.01)}onAdd(){if(!this.element)return;const t=this.getPanes();t&&t.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const t=this.getProjection(),n=t==null?void 0:t.fromLatLngToDivPixel(this.getPosition());if(n){this.element.style.position="absolute";const s=this.element.offsetHeight,o=this.element.offsetWidth;let r,i;switch(this.opts.anchorPoint){case"TOP_CENTER":r=n.x-o/2,i=n.y;break;case"BOTTOM_CENTER":r=n.x-o/2,i=n.y-s;break;case"LEFT_CENTER":r=n.x,i=n.y-s/2;break;case"RIGHT_CENTER":r=n.x-o,i=n.y-s/2;break;case"TOP_LEFT":r=n.x,i=n.y;break;case"TOP_RIGHT":r=n.x-o,i=n.y;break;case"BOTTOM_LEFT":r=n.x,i=n.y-s;break;case"BOTTOM_RIGHT":r=n.x-o,i=n.y-s;break;default:r=n.x-o/2,i=n.y-s/2}this.element.style.left=r+"px",this.element.style.top=i+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(t){const{element:n,...s}=t;this.element=n,this.opts=s,this.draw()}}}let Fi;const $i=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],nm=ht({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:$i,setup(e,{emit:t}){const n=be(),s=be(!1),o=be(),r=be(),i=be(!1);Ot(_r,o),Ot(vr,r),Ot(Qp,i);const l=()=>{const f={...e};Object.keys(f).forEach(y=>{f[y]===void 0&&delete f[y]});const d=y=>{var k;return y?{position:(k=r.value)==null?void 0:k.ControlPosition[y]}:{}},g={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:d(e.panControlPosition),zoomControlOptions:d(e.zoomControlPosition),rotateControlOptions:d(e.rotateControlPosition),streetViewControlOptions:d(e.streetViewControlPosition),fullscreenControlOptions:d(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi};return{...f,...g}},a=Xe([r,o],([f,d])=>{const g=f,y=d;g&&y&&(g.event.addListenerOnce(y,"tilesloaded",()=>{i.value=!0}),setTimeout(a,0))},{immediate:!0}),u=()=>{try{const{apiKey:f,region:d,version:g,language:y,libraries:k,nonce:P}=e;Fi=new $t({apiKey:f,region:d,version:g,language:y,libraries:k,nonce:P})}catch(f){console.error(f)}},c=f=>{r.value=it(f.maps),o.value=it(new f.maps.Map(n.value,l()));const d=tm(r.value);r.value[eo]=d,$i.forEach(y=>{var k;(k=o.value)==null||k.addListener(y,P=>t(y,P))}),s.value=!0;const g=Object.keys(e).filter(y=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(y)).map(y=>tr(e,y));Xe([()=>e.center,()=>e.zoom,...g],([y,k],[P,A])=>{var w,m,_;const{center:C,zoom:x,...I}=l();(w=o.value)==null||w.setOptions(I),k!==void 0&&k!==A&&((m=o.value)==null||m.setZoom(k));const N=!P||y.lng!==P.lng||y.lat!==P.lat;y&&N&&((_=o.value)==null||_.panTo(y))})};return tn(()=>{e.apiPromise&&e.apiPromise instanceof Promise?e.apiPromise.then(c):(u(),Fi.load().then(c))}),nn(()=>{var f;i.value=!1,o.value&&((f=r.value)==null||f.event.clearInstanceListeners(o.value))}),{mapRef:n,ready:s,map:o,api:r,mapTilesLoaded:i}}}),wr=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},sm={ref:"mapRef",class:"mapdiv"};function om(e,t,n,s,o,r){return Z(),Q("div",null,[b("div",sm,null,512),qs(e.$slots,"default",qi(dr({ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded})),void 0,!0)])}const rm=wr(nm,[["render",om],["__scopeId","data-v-dbf82c40"]]);function im(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,o,r;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(o=s;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(r=Object.keys(t),s=r.length,s!==Object.keys(n).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=s;o--!==0;){var i=r[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n};const Za=im(lm),am=e=>e==="Marker",cm=e=>e===eo,Ya=(e,t,n,s)=>{const o=be(),r=Le(_r,be()),i=Le(vr,be()),l=Le(Yp,be()),a=Re(()=>!!(l.value&&i.value&&(o.value instanceof i.value.Marker||o.value instanceof i.value[eo])));return Xe([r,n],(u,[c,f])=>{var d,g,y;const k=!Za(n.value,f)||r.value!==c;!r.value||!i.value||!k||(o.value?(o.value.setOptions(n.value),a.value&&((d=l.value)==null||d.removeMarker(o.value),(g=l.value)==null||g.addMarker(o.value))):(am(e)?o.value=it(new i.value[e](n.value)):cm(e)?o.value=it(new i.value[e](n.value)):o.value=it(new i.value[e]({...n.value,map:r.value})),a.value?(y=l.value)==null||y.addMarker(o.value):o.value.setMap(r.value),t.forEach(P=>{var A;(A=o.value)==null||A.addListener(P,w=>s(P,w))})))},{immediate:!0}),nn(()=>{var u,c;o.value&&((u=i.value)==null||u.event.clearInstanceListeners(o.value),a.value?(c=l.value)==null||c.removeMarker(o.value):o.value.setMap(null))}),o};Ja.concat(["bounds_changed"]);const Vi=Ja.concat(["center_changed","radius_changed"]),um=ht({name:"Circle",props:{options:{type:Object,required:!0}},emits:Vi,setup(e,{emit:t}){const n=tr(e,"options");return{circle:Ya("Circle",Vi,n,t)}},render:()=>null}),ji=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"],fm=ht({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...ji,"update:modelValue"],setup(e,{slots:t,emit:n,expose:s}){const o=be(),r=be(),i=Le(_r,be()),l=Le(vr,be()),a=Le(Zp,be());let u,c=e.modelValue;const f=Re(()=>{var k;return(k=t.default)==null?void 0:k.call(t).some(P=>P.type!==xe)}),d=k=>{c=k,n("update:modelValue",k)},g=k=>{o.value&&(o.value.open({map:i.value,anchor:a.value,...k}),d(!0))},y=()=>{o.value&&(o.value.close(),d(!1))};return tn(()=>{Xe([i,()=>e.options],([k,P],[A,w])=>{var m;const _=!Za(P,w)||i.value!==A;i.value&&l.value&&_&&(o.value?(o.value.setOptions({...P,content:f.value?r.value:P.content}),a.value||g()):(o.value=it(new l.value.InfoWindow({...P,content:f.value?r.value:P.content})),a.value&&(u=a.value.addListener("click",()=>{g()})),(!a.value||c)&&g(),ji.forEach(C=>{var x;(x=o.value)==null||x.addListener(C,I=>n(C,I))}),(m=o.value)==null||m.addListener("closeclick",()=>d(!1))))},{immediate:!0}),Xe(()=>e.modelValue,k=>{k!==c&&(k?g():y())})}),nn(()=>{var k;u&&u.remove(),o.value&&((k=l.value)==null||k.event.clearInstanceListeners(o.value),y())}),s({infoWindow:o,open:g,close:y}),{infoWindow:o,infoWindowRef:r,hasSlotContent:f,open:g,close:y}}}),dm={key:0,class:"info-window-wrapper"};function hm(e,t,n,s,o,r){return e.hasSlotContent?(Z(),Q("div",dm,[b("div",Ws({ref:"infoWindowRef"},e.$attrs),[qs(e.$slots,"default",{},void 0,!0)],16)])):_e("",!0)}const pm=wr(fm,[["render",hm],["__scopeId","data-v-cbe1707b"]]);var Bo;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Bo||(Bo={}));Object.values(Bo);const mm=ht({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(e,{slots:t,emit:n,expose:s}){const o=be(),r=Re(()=>{var a;return(a=t.default)==null?void 0:a.call(t).some(u=>u.type!==xe)}),i=Re(()=>({...e.options,element:o.value})),l=Ya(eo,[],i,n);return s({customMarker:l}),{customMarkerRef:o,customMarker:l,hasSlotContent:r}}}),gm={key:0,class:"custom-marker-wrapper"};function ym(e,t,n,s,o,r){return e.hasSlotContent?(Z(),Q("div",gm,[b("div",Ws({ref:"customMarkerRef",style:{cursor:e.$attrs.onClick?"pointer":void 0}},e.$attrs),[qs(e.$slots,"default",{},void 0,!0)],16)])):_e("",!0)}const Bi=wr(mm,[["render",ym],["__scopeId","data-v-2d2d343a"]]),bm={emits:["toggleModalVisibility","saveSettings"],props:{visible:{type:Boolean,default:!1},user:{type:Object}},data(){return{categories:["Infrastructure","Medical","Security","Logistics","Environment","Health","Communications"],ownLocation:!1,selectedCategories:{},dateFrom:null,dateTo:null,searchRadiusKm:6}},created(){const e=new Date,t=new Date(e);t.setDate(e.getDate()-7),this.dateFrom=this.formatDate(t),this.dateTo=this.formatDate(e)},methods:{toggleModal(){this.$emit("toggleModalVisibility")},saveSettings(){const e={};e.ownLocation=this.ownLocation,e.categories=this.selectedCategories,e.dateFrom=this.dateFrom,e.dateTo=this.dateTo,e.searchRadiusKm=parseInt(this.searchRadiusKm),this.$emit("saveSettings",e)},formatDate(e){const t=e.getFullYear();let n=e.getMonth()+1,s=e.getDate();return n=n<10?"0"+n:n,s=s<10?"0"+s:s,`${t}-${n}-${s}`}}},_m={key:0},vm={class:"fixed inset-0 flex items-center justify-center z-20"},wm={class:"bg-off-black text-white rounded-lg p-6 w-80 sm:w-96 max-w-full shadow-lg transform transition-all duration-300"},Cm={class:"flex justify-between items-center border-b-2 pb-4"},xm=b("h2",{class:"text-2xl font-semibold"},"Map settings",-1),Em=b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-x"},[b("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),b("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1),Sm=[Em],km={class:"mt-6 space-y-4 flex flex-col"},Tm={class:"flex items-center"},Om=b("label",{for:"checkbox-own-location",class:"w-full ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Show own location on map",-1),Rm={class:"flex flex-col"},Lm=b("h1",null,"Categories",-1),Pm={class:"flex flex-col flex-wrap max-h-20"},Am=["onUpdate:modelValue","id","name"],Mm=["for"],Nm={class:"flex flex-col"},Im=b("h1",null,"Set timeframe",-1),Fm={class:"flex space-x-4 items-center text-sm"},$m={class:"max-w-sm text-black"},Vm=b("span",null,"to",-1),jm={class:"max-w-sm text-black text-sm"},Bm=b("label",{for:"default-range",class:""},"Search Radius",-1),Hm={class:"flex justify-center"};function Um(e,t,n,s,o,r){return n.visible?(Z(),Q("div",_m,[b("div",vm,[b("div",wm,[b("div",Cm,[xm,b("button",{onClick:t[0]||(t[0]=(...i)=>r.toggleModal&&r.toggleModal(...i)),class:"text-white focus:outline-none"},Sm)]),b("div",km,[b("div",Tm,[Oe(b("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>o.ownLocation=i),id:"checkbox-own-location",type:"checkbox",name:"checkbox-own-location",class:"w-4 h-4 rounded accent-orange-500"},null,512),[[zn,o.ownLocation]]),Om]),b("div",Rm,[Lm,b("div",Pm,[(Z(!0),Q(he,null,Dt(o.categories,(i,l)=>(Z(),Q("div",{key:l,class:"flex"},[Oe(b("input",{"onUpdate:modelValue":a=>o.selectedCategories[i]=a,id:i,type:"checkbox",name:i,class:"w-4 h-4 rounded accent-orange-500"},null,8,Am),[[zn,o.selectedCategories[i]]]),b("label",{for:i,class:"w-full ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},Ae(i),9,Mm)]))),128))])]),b("div",Nm,[Im,b("div",Fm,[b("div",$m,[Oe(b("input",{type:"date",id:"from-date",name:"from-date",class:"rounded-sm text-center","onUpdate:modelValue":t[2]||(t[2]=i=>o.dateFrom=i)},null,512),[[Me,o.dateFrom]])]),Vm,b("div",jm,[Oe(b("input",{type:"date",id:"to-date",name:"to-date",class:"rounded-sm text-center","onUpdate:modelValue":t[3]||(t[3]=i=>o.dateTo=i)},null,512),[[Me,o.dateTo]])])])]),b("div",null,[Bm,zs(),b("span",null,"- "+Ae(o.searchRadiusKm)+"km",1),Oe(b("input",{id:"default-range",type:"range",min:"0",max:"12",value:"6","onUpdate:modelValue":t[4]||(t[4]=i=>o.searchRadiusKm=i),class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,512),[[Me,o.searchRadiusKm]])]),b("div",Hm,[b("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-6 rounded",onClick:t[5]||(t[5]=(...i)=>r.saveSettings&&r.saveSettings(...i))},"Save ")])])])])])):_e("",!0)}const Qa=Mt(bm,[["render",Um]]),Dm={key:0,class:"mt-12 px-3 py-3 block uppercase text-white text-md font-bold bg-slate-400 text-center"},qm={key:1,class:"fixed inset-0 bg-black opacity-50 z-20"},Km={key:2,class:"mt-11 pt-3 relative"},Gm={class:"absolute top-6 right-32 z-10"},zm=Sn('<svg class="size-5 fill-current text-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M19 12C19 15.866 15.866 19 12 19M19 12C19 8.13401 15.866 5 12 5M19 12H21M12 19C8.13401 19 5 15.866 5 12M12 19V21M5 12C5 8.13401 8.13401 5 12 5M5 12H3M12 5V3M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g></svg>',1),Wm=[zm],Jm={class:"absolute top-6 right-16 z-10"},Zm=Sn('<svg class="h-5 w-5 fill-current text-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7848 0.449982C13.8239 0.449982 14.7167 1.16546 14.9122 2.15495L14.9991 2.59495C15.3408 4.32442 17.1859 5.35722 18.9016 4.7794L19.3383 4.63233C20.3199 4.30175 21.4054 4.69358 21.9249 5.56605L22.7097 6.88386C23.2293 7.75636 23.0365 8.86366 22.2504 9.52253L21.9008 9.81555C20.5267 10.9672 20.5267 13.0328 21.9008 14.1844L22.2504 14.4774C23.0365 15.1363 23.2293 16.2436 22.7097 17.1161L21.925 18.4339C21.4054 19.3064 20.3199 19.6982 19.3382 19.3676L18.9017 19.2205C17.1859 18.6426 15.3408 19.6754 14.9991 21.405L14.9122 21.845C14.7167 22.8345 13.8239 23.55 12.7848 23.55H11.2152C10.1761 23.55 9.28331 22.8345 9.08781 21.8451L9.00082 21.4048C8.65909 19.6754 6.81395 18.6426 5.09822 19.2205L4.66179 19.3675C3.68016 19.6982 2.59465 19.3063 2.07505 18.4338L1.2903 17.1161C0.770719 16.2436 0.963446 15.1363 1.74956 14.4774L2.09922 14.1844C3.47324 13.0327 3.47324 10.9672 2.09922 9.8156L1.74956 9.52254C0.963446 8.86366 0.77072 7.75638 1.2903 6.8839L2.07508 5.56608C2.59466 4.69359 3.68014 4.30176 4.66176 4.63236L5.09831 4.77939C6.81401 5.35722 8.65909 4.32449 9.00082 2.59506L9.0878 2.15487C9.28331 1.16542 10.176 0.449982 11.2152 0.449982H12.7848ZM12 15.3C13.8225 15.3 15.3 13.8225 15.3 12C15.3 10.1774 13.8225 8.69998 12 8.69998C10.1774 8.69998 8.69997 10.1774 8.69997 12C8.69997 13.8225 10.1774 15.3 12 15.3Z"></path></g></svg>',1),Ym=[Zm],Qm={class:"absolute bottom-4 left-0 right-0 z-10 flex justify-center"},Xm={key:0},e0=b("div",{style:{"text-align":"center"},class:"hover:cursor-pointer"},[b("svg",{class:"h-8 w-8 fill-current text-red-500",version:"1.0",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 64 64","enable-background":"new 0 0 64 64","xml:space":"preserve"},[b("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),b("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),b("g",{id:"SVGRepo_iconCarrier"},[b("path",{d:"M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289l16,24 C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289C54.289,34.008,56,29.219,56,24 C56,10.746,45.254,0,32,0z M32,32c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S36.418,32,32,32z"})])])],-1),t0={key:1},n0={style:{"text-align":"center"},class:"hover:cursor-pointer"},s0=["src"],o0={key:0},r0={props:{user:{type:Object},maps:{type:Object},onLine:{type:Boolean}},components:{SettingsModal:Qa},data(){return{googleMapsApiKey:"AIzaSyDXjC1FcOxhFWaPYaPqA4jnjocup7wr0fw",mapZoom:2,mapCenter:{lat:33,lng:44},userSelectedLat:"",userSelectedLong:"",userPosition:{},ownLocationMarkerOptions:{},ownLocationRequested:!1,selectedLocationMarkerOptions:{},selectedLocationCenter:{lat:0,lng:0},selectedLocation:!1,settingsModalVisibility:!1,payload:"",queryResults:[],infrastructureSVG:Pi,securitySVG:Ri,communicationsSVG:Li,circleOptions:{center:{lat:0,lng:0},radius:6e3,strokeColor:"#FF0000",strokeOpacity:.4,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.15},infoWindow:{}}},methods:{async getMyLocation(){try{const e=await Wa();this.userPosition={lat:e.coords.latitude,lng:e.coords.longitude},this.ownLocationMarkerOptions={position:this.userPosition},this.mapCenter=this.userPosition,this.mapZoom=12,this.ownLocationRequested=!0}catch(e){console.error("Error getting location:",e)}},handleMapClick(e){const t=e.latLng,n=t.lat(),s=t.lng();this.circleOptions={...this.circleOptions,center:{lat:n,lng:s}},this.selectedLocationCenter={lat:n,lng:s},this.selectedLocation=!0,this.selectedLocationMarkerOptions={position:this.selectedLocationCenter},this.mapCenter=this.selectedLocationCenter,this.userSelectedLat=n,this.userSelectedLong=s},toggleSettingsModalVisibility(){this.settingsModalVisibility=!this.settingsModalVisibility},saveSettings(e){this.payload=e,this.circleOptions={...this.circleOptions,radius:e.searchRadiusKm*1e3},e.ownLocation?this.getMyLocation():this.ownLocationRequested=!1,this.toggleSettingsModalVisibility()},returnSvg(e){switch(e){case"security":return Ri;case"communications":return Li;case"infrastructure":return Pi}},async searchArea(){if(this.payload=="")this.$toast.error("Please update map settings first");else if(this.userSelectedLat==""||this.userSelectedLong=="")this.$toast.error("Please click on the map to set search location");else if(this.payload.dateTo==""||this.payload.dateFrom=="")this.$toast.error("Please select a date range");else try{this.queryResults="",this.payload.latitude=this.userSelectedLat,this.payload.longitude=this.userSelectedLong;const e=await this.maps.apiGetMapsSearchRequest(this.payload);console.log(e),this.queryResults=e,this.$toast.success("Results successful"),this.infoWindow=[];const t=this.queryResults.length;for(let n=0;n<t;n++)this.infoWindow[n]=!1}catch(e){console.log(e.status),e.status===409||console.log("Other error:",e)}}}},i0=Object.assign(r0,{__name:"MapView",setup(e){return(t,n)=>(Z(),Q(he,null,[e.onLine?_e("",!0):(Z(),Q("div",Dm," No accesss in offline mode ")),t.settingsModalVisibility?(Z(),Q("div",qm)):_e("",!0),e.onLine?(Z(),Q("section",Km,[ne(Qa,{visible:t.settingsModalVisibility,onToggleModalVisibility:t.toggleSettingsModalVisibility,onSaveSettings:t.saveSettings},null,8,["visible","onToggleModalVisibility","onSaveSettings"]),b("div",Gm,[b("button",{class:"bg-orange-500 hover:bg-orange-600 font-bold py-2 px-4 rounded absolute",onClick:n[0]||(n[0]=(...s)=>t.getMyLocation&&t.getMyLocation(...s))},Wm)]),b("div",Jm,[b("button",{class:"bg-orange-500 hover:bg-orange-600 font-bold py-2 px-4 rounded absolute",onClick:n[1]||(n[1]=(...s)=>t.toggleSettingsModalVisibility&&t.toggleSettingsModalVisibility(...s))},Ym)]),b("div",Qm,[b("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded",onClick:n[2]||(n[2]=(...s)=>t.searchArea&&t.searchArea(...s))},"Search area ")]),ne($e(rm),{class:"h-[calc(100vh-128px)]","api-key":t.googleMapsApiKey,style:{width:"100%"},center:t.mapCenter,zoom:t.mapZoom,fullscreenControl:!1,onClick:t.handleMapClick},{default:Qe(()=>[ne($e(um),{options:t.circleOptions},null,8,["options"]),t.ownLocationRequested?(Z(),Q("div",Xm,[ne($e(Bi),{options:t.ownLocationMarkerOptions},{default:Qe(()=>[e0]),_:1},8,["options"])])):_e("",!0),t.queryResults.length>0?(Z(),Q("div",t0,[(Z(!0),Q(he,null,Dt(t.queryResults,(s,o)=>(Z(),Q("div",{key:o},[ne($e(Bi),{options:{position:{lat:s.latitude,lng:s.longitude},anchorPoint:"BOTTOM_CENTER"},onClick:r=>t.infoWindow[o]=!0},{default:Qe(()=>[b("div",n0,[b("img",{src:t.returnSvg(s.category),class:"h-10 w-10",alt:""},null,8,s0)])]),_:2},1032,["options","onClick"]),t.infoWindow[o]?(Z(),Q("div",o0,[ne($e(pm),{options:{position:{lat:s.latitude,lng:s.longitude}},modelValue:t.infoWindow[o],"onUpdate:modelValue":r=>t.infoWindow[o]=r},{default:Qe(()=>[b("div",null,[b("p",null,"Username: "+Ae(s.username),1),b("p",null,"Timestamp: "+Ae(s.timestamp),1),(Z(!0),Q(he,null,Dt(Object.entries(s.form_data),(r,i)=>(Z(),Q("div",{key:i},[b("p",null,Ae(r[0])+": "+Ae(r[1]?r[1]:"N/A"),1)]))),128))])]),_:2},1032,["options","modelValue","onUpdate:modelValue"])])):_e("",!0)]))),128))])):_e("",!0)]),_:1},8,["api-key","center","zoom","onClick"])])):_e("",!0)],64))}}),l0={props:{user:{type:Object},maps:{type:Object},onLine:{type:Boolean}},components:{},data(){return{username:"",password:"",incorrectCredentials:!1,errorMessage:"",editingName:!1,editedName:this.user.name}},methods:{async login(){try{await this.user.apiLogin(this.username,this.password),this.incorrectCredentials=!1,this.$toast.success("Login successful"),jo("sessionJwt")&&za("sessionJwt");const t={sessionJwt:this.user.sessionJwt};await Ga(t,"sessionJwt"),this.$router.push("/")}catch(e){console.log(e.status),e.status===401?(this.incorrectCredentials=!0,this.errorMessage="Incorrect username or password"):e.status===404?(this.incorrectCredentials=!0,this.errorMessage="User not found"):console.log("Other error:",e)}},editName(){this.editingName=!0},async saveName(){if(this.editedName!=this.user.name)try{await this.user.apiEditUser(this.editedName),this.$toast.success("Profile updated")}catch(e){console.log(e.status),e.status===401?this.$toast.error("Error updating profile"):console.log("Other error:",e)}this.editingName=!1}}},a0={key:0,class:"mt-12 px-3 py-3 block uppercase text-white text-md font-bold bg-slate-400 text-center"},c0={key:1,class:"mt-12 pt-6"},u0={class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},f0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"username"},"Username",-1),d0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"password"},"Password",-1),h0={key:0,class:"text-red-500 text-sm mb-3"},p0={class:"mt-5 max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},m0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"username"},"Not registered?",-1),g0=b("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-4 rounded w-full"},"Create an account",-1),y0={key:2,class:"mt-12 pt-6 pb-4"},b0={class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},_0={class:"flex justify-between mb-2"},v0={class:"flex"},w0=b("label",{class:"block uppercase text-white text-sm",for:"username"},"Username:",-1),C0={class:"px-4 text-sm"},x0=Sn('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M21.2799 6.40005L11.7399 15.94C10.7899 16.89 7.96987 17.33 7.33987 16.7C6.70987 16.07 7.13987 13.25 8.08987 12.3L17.6399 2.75002C17.8754 2.49308 18.1605 2.28654 18.4781 2.14284C18.7956 1.99914 19.139 1.92124 19.4875 1.9139C19.8359 1.90657 20.1823 1.96991 20.5056 2.10012C20.8289 2.23033 21.1225 2.42473 21.3686 2.67153C21.6147 2.91833 21.8083 3.21243 21.9376 3.53609C22.0669 3.85976 22.1294 4.20626 22.1211 4.55471C22.1128 4.90316 22.0339 5.24635 21.8894 5.5635C21.7448 5.88065 21.5375 6.16524 21.2799 6.40005V6.40005Z" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11 4H6C4.93913 4 3.92178 4.42142 3.17163 5.17157C2.42149 5.92172 2 6.93913 2 8V18C2 19.0609 2.42149 20.0783 3.17163 20.8284C3.92178 21.5786 4.93913 22 6 22H17C19.21 22 20 20.2 20 18V13" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g>',3),E0=[x0],S0=b("g",{id:"SVGRepo_bgCarrier","stroke-width":"1.5"},null,-1),k0=b("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),T0=b("g",{id:"SVGRepo_iconCarrier"},[b("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.1716 1C18.702 1 19.2107 1.21071 19.5858 1.58579L22.4142 4.41421C22.7893 4.78929 23 5.29799 23 5.82843V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V4C1 2.34315 2.34315 1 4 1H18.1716ZM4 3C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21L5 21L5 15C5 13.3431 6.34315 12 8 12L16 12C17.6569 12 19 13.3431 19 15V21H20C20.5523 21 21 20.5523 21 20V6.82843C21 6.29799 20.7893 5.78929 20.4142 5.41421L18.5858 3.58579C18.2107 3.21071 17.702 3 17.1716 3H17V5C17 6.65685 15.6569 8 14 8H10C8.34315 8 7 6.65685 7 5V3H4ZM17 21V15C17 14.4477 16.5523 14 16 14L8 14C7.44772 14 7 14.4477 7 15L7 21L17 21ZM9 3H15V5C15 5.55228 14.5523 6 14 6H10C9.44772 6 9 5.55228 9 5V3Z"})],-1),O0=[S0,k0,T0],R0={class:"flex mb-2"},L0=b("label",{class:"block uppercase text-white text-sm",for:"password"},"Name:",-1),P0={key:0,class:"px-4 text-sm"},A0={key:1,class:"px-4"},M0={key:3},N0=b("div",{class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"}," Previous updates ",-1),I0=[N0];function F0(e,t,n,s,o,r){const i=es("RouterLink");return Z(),Q(he,null,[n.onLine?_e("",!0):(Z(),Q("div",a0," No accesss in offline mode ")),!n.user.loggedIn&&n.onLine?(Z(),Q("section",c0,[b("div",u0,[f0,Oe(b("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",id:"username",type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>o.username=l)},null,512),[[Me,o.username]]),d0,Oe(b("input",{class:Be(["shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",{"mb-3":!o.incorrectCredentials}]),id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=l=>o.password=l)},null,2),[[Me,o.password]]),o.incorrectCredentials?(Z(),Q("span",h0,"["+Ae(o.errorMessage)+"]",1)):_e("",!0),b("button",{class:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-1 px-4 rounded",onClick:t[2]||(t[2]=(...l)=>r.login&&r.login(...l))},"Sign in")]),b("div",p0,[m0,ne(i,{to:"/register"},{default:Qe(()=>[g0]),_:1})])])):_e("",!0),n.user.loggedIn&&n.onLine?(Z(),Q("section",y0,[b("div",b0,[b("div",_0,[b("div",v0,[w0,b("p",C0,Ae(n.user.username),1)]),o.editingName?(Z(),Q("svg",{key:1,class:"hover:cursor-pointer size-5 fill-current text-white",onClick:t[4]||(t[4]=(...l)=>r.saveName&&r.saveName(...l)),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"},O0)):(Z(),Q("svg",{key:0,class:"hover:cursor-pointer size-5",onClick:t[3]||(t[3]=(...l)=>r.editName&&r.editName(...l)),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"#000000"},E0))]),b("div",R0,[L0,o.editingName?(Z(),Q("div",A0,[Oe(b("input",{class:"bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[5]||(t[5]=l=>o.editedName=l)},null,512),[[Me,o.editedName]])])):(Z(),Q("p",P0,Ae(n.user.name),1))])])])):_e("",!0),n.user.loggedIn&&n.onLine?(Z(),Q("section",M0,I0)):_e("",!0)],64)}const $0=Mt(l0,[["render",F0]]),V0={emits:["submitRegistration"],props:{usernameInUse:{type:Boolean}},data(){return{name:"",username:"",password:"",password2:""}},methods:{submitForm(){const e={name:this.name,username:this.username,password:this.password};console.log("submit form"),this.$emit("submitRegistration",e)},checkDisabledButton(){return!this.name||!this.username||!this.password||!this.password2||this.checkPassword()},checkPassword(){return this.password2&&this.password!=this.password2}}},j0={class:"pt-3"},B0={class:"max-w-xs mx-auto rounded-lg border border-gray-700 bg-[#161b22] flex flex-col text-white px-4 py-3"},H0=b("label",{class:"block uppercase text-white font-semibold mb-2"}," Register ",-1),U0={class:"w-full mb-3"},D0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"name"}," Name ",-1),q0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"username"}," Username ",-1),K0={key:0,class:"text-red-500 mb-3"},G0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"password"}," Password ",-1),z0=b("label",{class:"block uppercase text-white text-sm mb-2",for:"password2"}," Re-enter Password ",-1),W0={key:1,class:"text-red-500 text-sm"},J0=["disabled"];function Z0(e,t,n,s,o,r){return Z(),Q("section",j0,[b("div",B0,[H0,b("div",U0,[D0,Oe(b("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",id:"name",type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>o.name=i)},null,512),[[Me,o.name]]),q0,Oe(b("input",{class:Be(["sshadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",{"mb-3":!n.usernameInUse}]),id:"username",type:"text","onUpdate:modelValue":t[1]||(t[1]=i=>o.username=i)},null,2),[[Me,o.username]]),n.usernameInUse?(Z(),Q("span",K0,"[Username already taken]")):_e("",!0),G0,Oe(b("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline mb-3",id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=i=>o.password=i)},null,512),[[Me,o.password]]),z0,Oe(b("input",{class:"shadow bg-black appearance-none border border-gray-700 rounded w-full py-1 px-3 leading-tight focus:outline-none focus:shadow-outline",id:"password2",type:"password","onUpdate:modelValue":t[3]||(t[3]=i=>o.password2=i)},null,512),[[Me,o.password2]]),r.checkPassword()?(Z(),Q("span",W0,"[Passwords must match]")):_e("",!0)]),b("button",{class:Be(["bg-orange-500 text-white font-bold py-1 px-4 rounded",r.checkDisabledButton()?"opacity-50":"hover:bg-orange-600 hover:cursor-pointer"]),onClick:t[4]||(t[4]=(...i)=>r.submitForm&&r.submitForm(...i)),disabled:r.checkDisabledButton()},"Sign Up ",10,J0)])])}const Y0=Mt(V0,[["render",Z0]]),Q0={props:{user:{type:Object},onLine:{type:Boolean}},components:{RegisterUser:Y0},data(){return{usernameInUse:!1}},methods:{async submitRegistration(e){try{this.usernameInUse=!1,await this.user.apiRegister(e),this.$toast.success("Registration successful. Please login"),this.$route.push("/login")}catch(t){console.log(t.status),t.status===409?this.usernameInUse=!0:console.log("Other error:",t)}}}},X0={key:0,class:"mt-12 px-3 py-3 block uppercase text-white text-md font-bold bg-slate-400 text-center"},eg={class:"mt-12 mb-16 pt-3 bg-black"};function tg(e,t,n,s,o,r){const i=es("RegisterUser");return Z(),Q(he,null,[n.onLine?_e("",!0):(Z(),Q("div",X0," No accesss in offline mode ")),b("section",eg,[!n.user.logged_in||!n.onLine?(Z(),Ks(i,{key:0,onSubmitRegistration:r.submitRegistration,usernameInUse:o.usernameInUse},null,8,["onSubmitRegistration","usernameInUse"])):_e("",!0)])],64)}const ng=Mt(Q0,[["render",tg]]),sg=Rh({history:rh("/"),routes:[{path:"/",name:"home",component:zp},{path:"/map",name:"map",component:i0},{path:"/profile",name:"profile",component:$0},{path:"/register",name:"register",component:ng}]}),to=Oa(hp);to.use(Cd());to.use(sg);to.use(Od,{position:"top-right",duration:3e3});to.mount("#app");
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtaGRHTWE1OFAuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AdnVlL3NoYXJlZC9kaXN0L3NoYXJlZC5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AdnVlL3JlYWN0aXZpdHkvZGlzdC9yZWFjdGl2aXR5LmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1kb20vZGlzdC9ydW50aW1lLWRvbS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUucnVudGltZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9waW5pYS9ub2RlX21vZHVsZXMvdnVlLWRlbWkvbGliL2luZGV4Lm1qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9waW5pYS9kaXN0L3BpbmlhLm1qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy92dWUtdG9hc3Qtbm90aWZpY2F0aW9uL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9ub2RlX21vZHVsZXMvdnVlLXJvdXRlci9kaXN0L3Z1ZS1yb3V0ZXIubWpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3N0b3Jlcy9Vc2VyLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3N0b3Jlcy9NYXBzLmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2Fzc2V0cy9zdmcvZm9ybS5zdmciLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvYXNzZXRzL3N2Zy9zZWN1cml0eS5zdmciLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvYXNzZXRzL3N2Zy9jb21tdW5pY2F0aW9ucy5zdmciLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvYXNzZXRzL3N2Zy9pbmZyYXN0cnVjdHVyZS5zdmciLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9Nb2JpbGVOYXZCYXIudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvTW9iaWxlSGVhZGVyLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9zdG9yZXMvb2ZmbGluZVdvcmtlci5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9BcHAudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvQm9pbGVycGxhdGVGb3JtLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy9jb21wb25lbnRzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3N0b3Jlcy9nZW9Mb2NhdGlvbi5qcyIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy92aWV3cy9TZW5kVXBkYXRlLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL25vZGVfbW9kdWxlcy92dWUzLWdvb2dsZS1tYXAvZGlzdC9pbmRleC5tanMiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9TZXR0aW5nc01vZGFsLnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy92aWV3cy9NYXBWaWV3LnZ1ZSIsIi4uLy4uLy4uLy4uL2Zyb250ZW5kL3NyYy92aWV3cy9Vc2VyUHJvZmlsZS52dWUiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvY29tcG9uZW50cy9SZWdpc3RlclVzZXIudnVlIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL3ZpZXdzL1JlZ2lzdGVyVmlldy52dWUiLCIuLi8uLi8uLi8uLi9mcm9udGVuZC9zcmMvcm91dGVyL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vZnJvbnRlbmQvc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjQuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XG4gIGNvbnN0IHNldCA9IG5ldyBTZXQoc3RyLnNwbGl0KFwiLFwiKSk7XG4gIHJldHVybiBleHBlY3RzTG93ZXJDYXNlID8gKHZhbCkgPT4gc2V0Lmhhcyh2YWwudG9Mb3dlckNhc2UoKSkgOiAodmFsKSA9PiBzZXQuaGFzKHZhbCk7XG59XG5cbmNvbnN0IEVNUFRZX09CSiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKHt9KSA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4ge1xufTtcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBpc09uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIHVwcGVyY2FzZSBsZXR0ZXJcbihrZXkuY2hhckNvZGVBdCgyKSA+IDEyMiB8fCBrZXkuY2hhckNvZGVBdCgyKSA8IDk3KTtcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKFwib25VcGRhdGU6XCIpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XG4gIGlmIChpID4gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xuICB9XG59O1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE1hcF1cIjtcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBTZXRdXCI7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG5jb25zdCBpc1JlZ0V4cCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgUmVnRXhwXVwiO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIjtcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzeW1ib2xcIjtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCI7XG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XG4gIHJldHVybiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmIGtleSAhPT0gXCJOYU5cIiAmJiBrZXlbMF0gIT09IFwiLVwiICYmIFwiXCIgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuICBcIixrZXkscmVmLHJlZl9mb3IscmVmX2tleSxvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCxvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkXCJcbik7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCxtZW1vXCJcbik7XG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59O1xuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gYyA/IGMudG9VcHBlckNhc2UoKSA6IFwiXCIpO1xufSk7XG5jb25zdCBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG5jb25zdCBoeXBoZW5hdGUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKFxuICAoc3RyKSA9PiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgXCItJDFcIikudG9Mb3dlckNhc2UoKVxuKTtcbmNvbnN0IGNhcGl0YWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn0pO1xuY29uc3QgdG9IYW5kbGVyS2V5ID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIGNvbnN0IHMgPSBzdHIgPyBgb24ke2NhcGl0YWxpemUoc3RyKX1gIDogYGA7XG4gIHJldHVybiBzO1xufSk7XG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gIU9iamVjdC5pcyh2YWx1ZSwgb2xkVmFsdWUpO1xuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCBhcmcpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICBmbnNbaV0oYXJnKTtcbiAgfVxufTtcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHZhbHVlXG4gIH0pO1xufTtcbmNvbnN0IGxvb3NlVG9OdW1iZXIgPSAodmFsKSA9PiB7XG4gIGNvbnN0IG4gPSBwYXJzZUZsb2F0KHZhbCk7XG4gIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XG59O1xuY29uc3QgdG9OdW1iZXIgPSAodmFsKSA9PiB7XG4gIGNvbnN0IG4gPSBpc1N0cmluZyh2YWwpID8gTnVtYmVyKHZhbCkgOiBOYU47XG4gIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XG59O1xubGV0IF9nbG9iYWxUaGlzO1xuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcbiAgcmV0dXJuIF9nbG9iYWxUaGlzIHx8IChfZ2xvYmFsVGhpcyA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDoge30pO1xufTtcbmNvbnN0IGlkZW50UkUgPSAvXltfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qJC87XG5mdW5jdGlvbiBnZW5Qcm9wc0FjY2Vzc0V4cChuYW1lKSB7XG4gIHJldHVybiBpZGVudFJFLnRlc3QobmFtZSkgPyBgX19wcm9wcy4ke25hbWV9YCA6IGBfX3Byb3BzWyR7SlNPTi5zdHJpbmdpZnkobmFtZSl9XWA7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkhPSVNURURcIjogLTEsXG4gIFwiLTFcIjogXCJIT0lTVEVEXCIsXG4gIFwiQkFJTFwiOiAtMixcbiAgXCItMlwiOiBcIkJBSUxcIlxufTtcbmNvbnN0IFBhdGNoRmxhZ05hbWVzID0ge1xuICBbMV06IGBURVhUYCxcbiAgWzJdOiBgQ0xBU1NgLFxuICBbNF06IGBTVFlMRWAsXG4gIFs4XTogYFBST1BTYCxcbiAgWzE2XTogYEZVTExfUFJPUFNgLFxuICBbMzJdOiBgTkVFRF9IWURSQVRJT05gLFxuICBbNjRdOiBgU1RBQkxFX0ZSQUdNRU5UYCxcbiAgWzEyOF06IGBLRVlFRF9GUkFHTUVOVGAsXG4gIFsyNTZdOiBgVU5LRVlFRF9GUkFHTUVOVGAsXG4gIFs1MTJdOiBgTkVFRF9QQVRDSGAsXG4gIFsxMDI0XTogYERZTkFNSUNfU0xPVFNgLFxuICBbMjA0OF06IGBERVZfUk9PVF9GUkFHTUVOVGAsXG4gIFstMV06IGBIT0lTVEVEYCxcbiAgWy0yXTogYEJBSUxgXG59O1xuXG5jb25zdCBTaGFwZUZsYWdzID0ge1xuICBcIkVMRU1FTlRcIjogMSxcbiAgXCIxXCI6IFwiRUxFTUVOVFwiLFxuICBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCI6IDIsXG4gIFwiMlwiOiBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCIsXG4gIFwiU1RBVEVGVUxfQ09NUE9ORU5UXCI6IDQsXG4gIFwiNFwiOiBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiLFxuICBcIlRFWFRfQ0hJTERSRU5cIjogOCxcbiAgXCI4XCI6IFwiVEVYVF9DSElMRFJFTlwiLFxuICBcIkFSUkFZX0NISUxEUkVOXCI6IDE2LFxuICBcIjE2XCI6IFwiQVJSQVlfQ0hJTERSRU5cIixcbiAgXCJTTE9UU19DSElMRFJFTlwiOiAzMixcbiAgXCIzMlwiOiBcIlNMT1RTX0NISUxEUkVOXCIsXG4gIFwiVEVMRVBPUlRcIjogNjQsXG4gIFwiNjRcIjogXCJURUxFUE9SVFwiLFxuICBcIlNVU1BFTlNFXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJTVVNQRU5TRVwiLFxuICBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIjogNTEyLFxuICBcIjUxMlwiOiBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVFwiXG59O1xuXG5jb25zdCBTbG90RmxhZ3MgPSB7XG4gIFwiU1RBQkxFXCI6IDEsXG4gIFwiMVwiOiBcIlNUQUJMRVwiLFxuICBcIkRZTkFNSUNcIjogMixcbiAgXCIyXCI6IFwiRFlOQU1JQ1wiLFxuICBcIkZPUldBUkRFRFwiOiAzLFxuICBcIjNcIjogXCJGT1JXQVJERURcIlxufTtcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XG4gIFsxXTogXCJTVEFCTEVcIixcbiAgWzJdOiBcIkRZTkFNSUNcIixcbiAgWzNdOiBcIkZPUldBUkRFRFwiXG59O1xuXG5jb25zdCBHTE9CQUxTX0FMTE9XRUQgPSBcIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yXCI7XG5jb25zdCBpc0dsb2JhbGx5QWxsb3dlZCA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKEdMT0JBTFNfQUxMT1dFRCk7XG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSBpc0dsb2JhbGx5QWxsb3dlZDtcblxuY29uc3QgcmFuZ2UgPSAyO1xuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcbiAgbGV0IGxpbmVzID0gc291cmNlLnNwbGl0KC8oXFxyP1xcbikvKTtcbiAgY29uc3QgbmV3bGluZVNlcXVlbmNlcyA9IGxpbmVzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggJSAyID09PSAxKTtcbiAgbGluZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMCk7XG4gIGxldCBjb3VudCA9IDA7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgKG5ld2xpbmVTZXF1ZW5jZXNbaV0gJiYgbmV3bGluZVNlcXVlbmNlc1tpXS5sZW5ndGggfHwgMCk7XG4gICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XG4gICAgICBmb3IgKGxldCBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XG4gICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aClcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbGluZSA9IGogKyAxO1xuICAgICAgICByZXMucHVzaChcbiAgICAgICAgICBgJHtsaW5lfSR7XCIgXCIucmVwZWF0KE1hdGgubWF4KDMgLSBTdHJpbmcobGluZSkubGVuZ3RoLCAwKSl9fCAgJHtsaW5lc1tqXX1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lc1tqXS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5ld0xpbmVTZXFMZW5ndGggPSBuZXdsaW5lU2VxdWVuY2VzW2pdICYmIG5ld2xpbmVTZXF1ZW5jZXNbal0ubGVuZ3RoIHx8IDA7XG4gICAgICAgIGlmIChqID09PSBpKSB7XG4gICAgICAgICAgY29uc3QgcGFkID0gc3RhcnQgLSAoY291bnQgLSAobGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGgpKTtcbiAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIiBcIi5yZXBlYXQocGFkKSArIFwiXlwiLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChqID4gaSkge1xuICAgICAgICAgIGlmIChlbmQgPiBjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpLCAxKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUodmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaXRlbSA9IHZhbHVlW2ldO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGlzU3RyaW5nKGl0ZW0pID8gcGFyc2VTdHJpbmdTdHlsZShpdGVtKSA6IG5vcm1hbGl6ZVN0eWxlKGl0ZW0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9ybWFsaXplZCkge1xuICAgICAgICAgIHJlc1trZXldID0gbm9ybWFsaXplZFtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuY29uc3QgbGlzdERlbGltaXRlclJFID0gLzsoPyFbXihdKlxcKSkvZztcbmNvbnN0IHByb3BlcnR5RGVsaW1pdGVyUkUgPSAvOihbXl0rKS87XG5jb25zdCBzdHlsZUNvbW1lbnRSRSA9IC9cXC9cXCpbXl0qP1xcKlxcLy9nO1xuZnVuY3Rpb24gcGFyc2VTdHJpbmdTdHlsZShjc3NUZXh0KSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBjc3NUZXh0LnJlcGxhY2Uoc3R5bGVDb21tZW50UkUsIFwiXCIpLnNwbGl0KGxpc3REZWxpbWl0ZXJSRSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyUkUpO1xuICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJldFt0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlTdHlsZShzdHlsZXMpIHtcbiAgbGV0IHJldCA9IFwiXCI7XG4gIGlmICghc3R5bGVzIHx8IGlzU3RyaW5nKHN0eWxlcykpIHtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV07XG4gICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldCArPSBgJHtub3JtYWxpemVkS2V5fToke3ZhbHVlfTtgO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcbiAgbGV0IHJlcyA9IFwiXCI7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXMgPSB2YWx1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArIFwiIFwiO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZVtuYW1lXSkge1xuICAgICAgICByZXMgKz0gbmFtZSArIFwiIFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLnRyaW0oKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpXG4gICAgcmV0dXJuIG51bGw7XG4gIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICBpZiAoa2xhc3MgJiYgIWlzU3RyaW5nKGtsYXNzKSkge1xuICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICB9XG4gIGlmIChzdHlsZSkge1xuICAgIHByb3BzLnN0eWxlID0gbm9ybWFsaXplU3R5bGUoc3R5bGUpO1xuICB9XG4gIHJldHVybiBwcm9wcztcbn1cblxuY29uc3QgSFRNTF9UQUdTID0gXCJodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsaDEsaDIsaDMsaDQsaDUsaDYsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdFwiO1xuY29uc3QgU1ZHX1RBR1MgPSBcInN2ZyxhbmltYXRlLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxjaXJjbGUsY2xpcFBhdGgsY29sb3ItcHJvZmlsZSxkZWZzLGRlc2MsZGlzY2FyZCxlbGxpcHNlLGZlQmxlbmQsZmVDb2xvck1hdHJpeCxmZUNvbXBvbmVudFRyYW5zZmVyLGZlQ29tcG9zaXRlLGZlQ29udm9sdmVNYXRyaXgsZmVEaWZmdXNlTGlnaHRpbmcsZmVEaXNwbGFjZW1lbnRNYXAsZmVEaXN0YW50TGlnaHQsZmVEcm9wU2hhZG93LGZlRmxvb2QsZmVGdW5jQSxmZUZ1bmNCLGZlRnVuY0csZmVGdW5jUixmZUdhdXNzaWFuQmx1cixmZUltYWdlLGZlTWVyZ2UsZmVNZXJnZU5vZGUsZmVNb3JwaG9sb2d5LGZlT2Zmc2V0LGZlUG9pbnRMaWdodCxmZVNwZWN1bGFyTGlnaHRpbmcsZmVTcG90TGlnaHQsZmVUaWxlLGZlVHVyYnVsZW5jZSxmaWx0ZXIsZm9yZWlnbk9iamVjdCxnLGhhdGNoLGhhdGNocGF0aCxpbWFnZSxsaW5lLGxpbmVhckdyYWRpZW50LG1hcmtlcixtYXNrLG1lc2gsbWVzaGdyYWRpZW50LG1lc2hwYXRjaCxtZXNocm93LG1ldGFkYXRhLG1wYXRoLHBhdGgscGF0dGVybixwb2x5Z29uLHBvbHlsaW5lLHJhZGlhbEdyYWRpZW50LHJlY3Qsc2V0LHNvbGlkY29sb3Isc3RvcCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dFBhdGgsdGl0bGUsdHNwYW4sdW5rbm93bix1c2Usdmlld1wiO1xuY29uc3QgTUFUSF9UQUdTID0gXCJhbm5vdGF0aW9uLGFubm90YXRpb24teG1sLG1hY3Rpb24sbWFsaWduZ3JvdXAsbWFsaWdubWFyayxtYXRoLG1lbmNsb3NlLG1lcnJvcixtZmVuY2VkLG1mcmFjLG1mcmFjdGlvbixtZ2x5cGgsbWksbWxhYmVsZWR0cixtbG9uZ2RpdixtbXVsdGlzY3JpcHRzLG1uLG1vLG1vdmVyLG1wYWRkZWQsbXBoYW50b20sbXByZXNjcmlwdHMsbXJvb3QsbXJvdyxtcyxtc2NhcnJpZXMsbXNjYXJyeSxtc2dyb3VwLG1zbGluZSxtc3BhY2UsbXNxcnQsbXNyb3csbXN0YWNrLG1zdHlsZSxtc3ViLG1zdWJzdXAsbXN1cCxtdGFibGUsbXRkLG10ZXh0LG10cixtdW5kZXIsbXVuZGVyb3Zlcixub25lLHNlbWFudGljc1wiO1xuY29uc3QgVk9JRF9UQUdTID0gXCJhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGhyLGltZyxpbnB1dCxsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdiclwiO1xuY29uc3QgaXNIVE1MVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoSFRNTF9UQUdTKTtcbmNvbnN0IGlzU1ZHVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoU1ZHX1RBR1MpO1xuY29uc3QgaXNNYXRoTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChNQVRIX1RBR1MpO1xuY29uc3QgaXNWb2lkVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoVk9JRF9UQUdTKTtcblxuY29uc3Qgc3BlY2lhbEJvb2xlYW5BdHRycyA9IGBpdGVtc2NvcGUsYWxsb3dmdWxsc2NyZWVuLGZvcm1ub3ZhbGlkYXRlLGlzbWFwLG5vbW9kdWxlLG5vdmFsaWRhdGUscmVhZG9ubHlgO1xuY29uc3QgaXNTcGVjaWFsQm9vbGVhbkF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChzcGVjaWFsQm9vbGVhbkF0dHJzKTtcbmNvbnN0IGlzQm9vbGVhbkF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgc3BlY2lhbEJvb2xlYW5BdHRycyArIGAsYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNvbnRyb2xzLGRlZmF1bHQsZGVmZXIsZGlzYWJsZWQsaGlkZGVuLGluZXJ0LGxvb3Asb3BlbixyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3MsY2hlY2tlZCxtdXRlZCxtdWx0aXBsZSxzZWxlY3RlZGBcbik7XG5mdW5jdGlvbiBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgfHwgdmFsdWUgPT09IFwiXCI7XG59XG5jb25zdCB1bnNhZmVBdHRyQ2hhclJFID0gL1s+Lz1cIidcXHUwMDA5XFx1MDAwYVxcdTAwMGNcXHUwMDIwXS87XG5jb25zdCBhdHRyVmFsaWRhdGlvbkNhY2hlID0ge307XG5mdW5jdGlvbiBpc1NTUlNhZmVBdHRyTmFtZShuYW1lKSB7XG4gIGlmIChhdHRyVmFsaWRhdGlvbkNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV07XG4gIH1cbiAgY29uc3QgaXNVbnNhZmUgPSB1bnNhZmVBdHRyQ2hhclJFLnRlc3QobmFtZSk7XG4gIGlmIChpc1Vuc2FmZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYHVuc2FmZSBhdHRyaWJ1dGUgbmFtZTogJHtuYW1lfWApO1xuICB9XG4gIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdID0gIWlzVW5zYWZlO1xufVxuY29uc3QgcHJvcHNUb0F0dHJNYXAgPSB7XG4gIGFjY2VwdENoYXJzZXQ6IFwiYWNjZXB0LWNoYXJzZXRcIixcbiAgY2xhc3NOYW1lOiBcImNsYXNzXCIsXG4gIGh0bWxGb3I6IFwiZm9yXCIsXG4gIGh0dHBFcXVpdjogXCJodHRwLWVxdWl2XCJcbn07XG5jb25zdCBpc0tub3duSHRtbEF0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYGFjY2VwdCxhY2NlcHQtY2hhcnNldCxhY2Nlc3NrZXksYWN0aW9uLGFsaWduLGFsbG93LGFsdCxhc3luYyxhdXRvY2FwaXRhbGl6ZSxhdXRvY29tcGxldGUsYXV0b2ZvY3VzLGF1dG9wbGF5LGJhY2tncm91bmQsYmdjb2xvcixib3JkZXIsYnVmZmVyZWQsY2FwdHVyZSxjaGFsbGVuZ2UsY2hhcnNldCxjaGVja2VkLGNpdGUsY2xhc3MsY29kZSxjb2RlYmFzZSxjb2xvcixjb2xzLGNvbHNwYW4sY29udGVudCxjb250ZW50ZWRpdGFibGUsY29udGV4dG1lbnUsY29udHJvbHMsY29vcmRzLGNyb3Nzb3JpZ2luLGNzcCxkYXRhLGRhdGV0aW1lLGRlY29kaW5nLGRlZmF1bHQsZGVmZXIsZGlyLGRpcm5hbWUsZGlzYWJsZWQsZG93bmxvYWQsZHJhZ2dhYmxlLGRyb3B6b25lLGVuY3R5cGUsZW50ZXJrZXloaW50LGZvcixmb3JtLGZvcm1hY3Rpb24sZm9ybWVuY3R5cGUsZm9ybW1ldGhvZCxmb3Jtbm92YWxpZGF0ZSxmb3JtdGFyZ2V0LGhlYWRlcnMsaGVpZ2h0LGhpZGRlbixoaWdoLGhyZWYsaHJlZmxhbmcsaHR0cC1lcXVpdixpY29uLGlkLGltcG9ydGFuY2UsaW5lcnQsaW50ZWdyaXR5LGlzbWFwLGl0ZW1wcm9wLGtleXR5cGUsa2luZCxsYWJlbCxsYW5nLGxhbmd1YWdlLGxvYWRpbmcsbGlzdCxsb29wLGxvdyxtYW5pZmVzdCxtYXgsbWF4bGVuZ3RoLG1pbmxlbmd0aCxtZWRpYSxtaW4sbXVsdGlwbGUsbXV0ZWQsbmFtZSxub3ZhbGlkYXRlLG9wZW4sb3B0aW11bSxwYXR0ZXJuLHBpbmcscGxhY2Vob2xkZXIscG9zdGVyLHByZWxvYWQscmFkaW9ncm91cCxyZWFkb25seSxyZWZlcnJlcnBvbGljeSxyZWwscmVxdWlyZWQscmV2ZXJzZWQscm93cyxyb3dzcGFuLHNhbmRib3gsc2NvcGUsc2NvcGVkLHNlbGVjdGVkLHNoYXBlLHNpemUsc2l6ZXMsc2xvdCxzcGFuLHNwZWxsY2hlY2ssc3JjLHNyY2RvYyxzcmNsYW5nLHNyY3NldCxzdGFydCxzdGVwLHN0eWxlLHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHRyYW5zbGF0ZSx0eXBlLHVzZW1hcCx2YWx1ZSx3aWR0aCx3cmFwYFxuKTtcbmNvbnN0IGlzS25vd25TdmdBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGB4bWxucyxhY2NlbnQtaGVpZ2h0LGFjY3VtdWxhdGUsYWRkaXRpdmUsYWxpZ25tZW50LWJhc2VsaW5lLGFscGhhYmV0aWMsYW1wbGl0dWRlLGFyYWJpYy1mb3JtLGFzY2VudCxhdHRyaWJ1dGVOYW1lLGF0dHJpYnV0ZVR5cGUsYXppbXV0aCxiYXNlRnJlcXVlbmN5LGJhc2VsaW5lLXNoaWZ0LGJhc2VQcm9maWxlLGJib3gsYmVnaW4sYmlhcyxieSxjYWxjTW9kZSxjYXAtaGVpZ2h0LGNsYXNzLGNsaXAsY2xpcFBhdGhVbml0cyxjbGlwLXBhdGgsY2xpcC1ydWxlLGNvbG9yLGNvbG9yLWludGVycG9sYXRpb24sY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzLGNvbG9yLXByb2ZpbGUsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnRTY3JpcHRUeXBlLGNvbnRlbnRTdHlsZVR5cGUsY3Jvc3NvcmlnaW4sY3Vyc29yLGN4LGN5LGQsZGVjZWxlcmF0ZSxkZXNjZW50LGRpZmZ1c2VDb25zdGFudCxkaXJlY3Rpb24sZGlzcGxheSxkaXZpc29yLGRvbWluYW50LWJhc2VsaW5lLGR1cixkeCxkeSxlZGdlTW9kZSxlbGV2YXRpb24sZW5hYmxlLWJhY2tncm91bmQsZW5kLGV4cG9uZW50LGZpbGwsZmlsbC1vcGFjaXR5LGZpbGwtcnVsZSxmaWx0ZXIsZmlsdGVyUmVzLGZpbHRlclVuaXRzLGZsb29kLWNvbG9yLGZsb29kLW9wYWNpdHksZm9udC1mYW1pbHksZm9udC1zaXplLGZvbnQtc2l6ZS1hZGp1c3QsZm9udC1zdHJldGNoLGZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZvcm1hdCxmcm9tLGZyLGZ4LGZ5LGcxLGcyLGdseXBoLW5hbWUsZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCxnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCxnbHlwaFJlZixncmFkaWVudFRyYW5zZm9ybSxncmFkaWVudFVuaXRzLGhhbmdpbmcsaGVpZ2h0LGhyZWYsaHJlZmxhbmcsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWQsaWRlb2dyYXBoaWMsaW1hZ2UtcmVuZGVyaW5nLGluLGluMixpbnRlcmNlcHQsayxrMSxrMixrMyxrNCxrZXJuZWxNYXRyaXgsa2VybmVsVW5pdExlbmd0aCxrZXJuaW5nLGtleVBvaW50cyxrZXlTcGxpbmVzLGtleVRpbWVzLGxhbmcsbGVuZ3RoQWRqdXN0LGxldHRlci1zcGFjaW5nLGxpZ2h0aW5nLWNvbG9yLGxpbWl0aW5nQ29uZUFuZ2xlLGxvY2FsLG1hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLG1hcmtlcldpZHRoLG1hc2ssbWFza0NvbnRlbnRVbml0cyxtYXNrVW5pdHMsbWF0aGVtYXRpY2FsLG1heCxtZWRpYSxtZXRob2QsbWluLG1vZGUsbmFtZSxudW1PY3RhdmVzLG9mZnNldCxvcGFjaXR5LG9wZXJhdG9yLG9yZGVyLG9yaWVudCxvcmllbnRhdGlvbixvcmlnaW4sb3ZlcmZsb3csb3ZlcmxpbmUtcG9zaXRpb24sb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLHBhaW50LW9yZGVyLHBhdGgscGF0aExlbmd0aCxwYXR0ZXJuQ29udGVudFVuaXRzLHBhdHRlcm5UcmFuc2Zvcm0scGF0dGVyblVuaXRzLHBpbmcscG9pbnRlci1ldmVudHMscG9pbnRzLHBvaW50c0F0WCxwb2ludHNBdFkscG9pbnRzQXRaLHByZXNlcnZlQWxwaGEscHJlc2VydmVBc3BlY3RSYXRpbyxwcmltaXRpdmVVbml0cyxyLHJhZGl1cyxyZWZlcnJlclBvbGljeSxyZWZYLHJlZlkscmVsLHJlbmRlcmluZy1pbnRlbnQscmVwZWF0Q291bnQscmVwZWF0RHVyLHJlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscmVzdWx0LHJvdGF0ZSxyeCxyeSxzY2FsZSxzZWVkLHNoYXBlLXJlbmRlcmluZyxzbG9wZSxzcGFjaW5nLHNwZWN1bGFyQ29uc3RhbnQsc3BlY3VsYXJFeHBvbmVudCxzcGVlZCxzcHJlYWRNZXRob2Qsc3RhcnRPZmZzZXQsc3RkRGV2aWF0aW9uLHN0ZW1oLHN0ZW12LHN0aXRjaFRpbGVzLHN0b3AtY29sb3Isc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3RyaW5nLHN0cm9rZSxzdHJva2UtZGFzaGFycmF5LHN0cm9rZS1kYXNob2Zmc2V0LHN0cm9rZS1saW5lY2FwLHN0cm9rZS1saW5lam9pbixzdHJva2UtbWl0ZXJsaW1pdCxzdHJva2Utb3BhY2l0eSxzdHJva2Utd2lkdGgsc3R5bGUsc3VyZmFjZVNjYWxlLHN5c3RlbUxhbmd1YWdlLHRhYmluZGV4LHRhYmxlVmFsdWVzLHRhcmdldCx0YXJnZXRYLHRhcmdldFksdGV4dC1hbmNob3IsdGV4dC1kZWNvcmF0aW9uLHRleHQtcmVuZGVyaW5nLHRleHRMZW5ndGgsdG8sdHJhbnNmb3JtLHRyYW5zZm9ybS1vcmlnaW4sdHlwZSx1MSx1Mix1bmRlcmxpbmUtcG9zaXRpb24sdW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtYmlkaSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2LWFscGhhYmV0aWMsdi1oYW5naW5nLHYtaWRlb2dyYXBoaWMsdi1tYXRoZW1hdGljYWwsdmFsdWVzLHZlY3Rvci1lZmZlY3QsdmVyc2lvbix2ZXJ0LWFkdi15LHZlcnQtb3JpZ2luLXgsdmVydC1vcmlnaW4teSx2aWV3Qm94LHZpZXdUYXJnZXQsdmlzaWJpbGl0eSx3aWR0aCx3aWR0aHMsd29yZC1zcGFjaW5nLHdyaXRpbmctbW9kZSx4LHgtaGVpZ2h0LHgxLHgyLHhDaGFubmVsU2VsZWN0b3IseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOmhyZWYseGxpbms6cm9sZSx4bGluazpzaG93LHhsaW5rOnRpdGxlLHhsaW5rOnR5cGUseG1sbnM6eGxpbmsseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHkseTEseTIseUNoYW5uZWxTZWxlY3Rvcix6LHpvb21BbmRQYW5gXG4pO1xuZnVuY3Rpb24gaXNSZW5kZXJhYmxlQXR0clZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiB0eXBlID09PSBcInN0cmluZ1wiIHx8IHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJib29sZWFuXCI7XG59XG5cbmNvbnN0IGVzY2FwZVJFID0gL1tcIicmPD5dLztcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyaW5nKSB7XG4gIGNvbnN0IHN0ciA9IFwiXCIgKyBzdHJpbmc7XG4gIGNvbnN0IG1hdGNoID0gZXNjYXBlUkUuZXhlYyhzdHIpO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBsZXQgaHRtbCA9IFwiXCI7XG4gIGxldCBlc2NhcGVkO1xuICBsZXQgaW5kZXg7XG4gIGxldCBsYXN0SW5kZXggPSAwO1xuICBmb3IgKGluZGV4ID0gbWF0Y2guaW5kZXg7IGluZGV4IDwgc3RyLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIHN3aXRjaCAoc3RyLmNoYXJDb2RlQXQoaW5kZXgpKSB7XG4gICAgICBjYXNlIDM0OlxuICAgICAgICBlc2NhcGVkID0gXCImcXVvdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM4OlxuICAgICAgICBlc2NhcGVkID0gXCImYW1wO1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzk6XG4gICAgICAgIGVzY2FwZWQgPSBcIiYjMzk7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2MDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmx0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjI6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZndDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGxhc3RJbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGh0bWwgKz0gc3RyLnNsaWNlKGxhc3RJbmRleCwgaW5kZXgpO1xuICAgIH1cbiAgICBsYXN0SW5kZXggPSBpbmRleCArIDE7XG4gICAgaHRtbCArPSBlc2NhcGVkO1xuICB9XG4gIHJldHVybiBsYXN0SW5kZXggIT09IGluZGV4ID8gaHRtbCArIHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KSA6IGh0bWw7XG59XG5jb25zdCBjb21tZW50U3RyaXBSRSA9IC9eLT8+fDwhLS18LS0+fC0tIT58PCEtJC9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbENvbW1lbnQoc3JjKSB7XG4gIHJldHVybiBzcmMucmVwbGFjZShjb21tZW50U3RyaXBSRSwgXCJcIik7XG59XG5cbmZ1bmN0aW9uIGxvb3NlQ29tcGFyZUFycmF5cyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBsZXQgZXF1YWwgPSB0cnVlO1xuICBmb3IgKGxldCBpID0gMDsgZXF1YWwgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICBlcXVhbCA9IGxvb3NlRXF1YWwoYVtpXSwgYltpXSk7XG4gIH1cbiAgcmV0dXJuIGVxdWFsO1xufVxuZnVuY3Rpb24gbG9vc2VFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKVxuICAgIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbCkgPyB2YWwgOiB2YWwgPT0gbnVsbCA/IFwiXCIgOiBpc0FycmF5KHZhbCkgfHwgaXNPYmplY3QodmFsKSAmJiAodmFsLnRvU3RyaW5nID09PSBvYmplY3RUb1N0cmluZyB8fCAhaXNGdW5jdGlvbih2YWwudG9TdHJpbmcpKSA/IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpIDogU3RyaW5nKHZhbCk7XG59O1xuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XG4gIGlmICh2YWwgJiYgdmFsLl9fdl9pc1JlZikge1xuICAgIHJldHVybiByZXBsYWNlcihfa2V5LCB2YWwudmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzTWFwKHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BNYXAoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwuZW50cmllcygpXS5yZWR1Y2UoXG4gICAgICAgIChlbnRyaWVzLCBba2V5LCB2YWwyXSwgaSkgPT4ge1xuICAgICAgICAgIGVudHJpZXNbc3RyaW5naWZ5U3ltYm9sKGtleSwgaSkgKyBcIiA9PlwiXSA9IHZhbDI7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXS5tYXAoKHYpID0+IHN0cmluZ2lmeVN5bWJvbCh2KSlcbiAgICB9O1xuICB9IGVsc2UgaWYgKGlzU3ltYm9sKHZhbCkpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5U3ltYm9sKHZhbCk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNBcnJheSh2YWwpICYmICFpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG5jb25zdCBzdHJpbmdpZnlTeW1ib2wgPSAodiwgaSA9IFwiXCIpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gaXNTeW1ib2wodikgPyBgU3ltYm9sKCR7KF9hID0gdi5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IF9hIDogaX0pYCA6IHY7XG59O1xuXG5leHBvcnQgeyBFTVBUWV9BUlIsIEVNUFRZX09CSiwgTk8sIE5PT1AsIFBhdGNoRmxhZ05hbWVzLCBQYXRjaEZsYWdzLCBTaGFwZUZsYWdzLCBTbG90RmxhZ3MsIGNhbWVsaXplLCBjYXBpdGFsaXplLCBkZWYsIGVzY2FwZUh0bWwsIGVzY2FwZUh0bWxDb21tZW50LCBleHRlbmQsIGdlblByb3BzQWNjZXNzRXhwLCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2V0R2xvYmFsVGhpcywgaGFzQ2hhbmdlZCwgaGFzT3duLCBoeXBoZW5hdGUsIGluY2x1ZGVCb29sZWFuQXR0ciwgaW52b2tlQXJyYXlGbnMsIGlzQXJyYXksIGlzQm9vbGVhbkF0dHIsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgaXNEYXRlLCBpc0Z1bmN0aW9uLCBpc0dsb2JhbGx5QWxsb3dlZCwgaXNHbG9iYWxseVdoaXRlbGlzdGVkLCBpc0hUTUxUYWcsIGlzSW50ZWdlcktleSwgaXNLbm93bkh0bWxBdHRyLCBpc0tub3duU3ZnQXR0ciwgaXNNYXAsIGlzTWF0aE1MVGFnLCBpc01vZGVsTGlzdGVuZXIsIGlzT2JqZWN0LCBpc09uLCBpc1BsYWluT2JqZWN0LCBpc1Byb21pc2UsIGlzUmVnRXhwLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUsIGlzUmVzZXJ2ZWRQcm9wLCBpc1NTUlNhZmVBdHRyTmFtZSwgaXNTVkdUYWcsIGlzU2V0LCBpc1NwZWNpYWxCb29sZWFuQXR0ciwgaXNTdHJpbmcsIGlzU3ltYm9sLCBpc1ZvaWRUYWcsIGxvb3NlRXF1YWwsIGxvb3NlSW5kZXhPZiwgbG9vc2VUb051bWJlciwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgb2JqZWN0VG9TdHJpbmcsIHBhcnNlU3RyaW5nU3R5bGUsIHByb3BzVG9BdHRyTWFwLCByZW1vdmUsIHNsb3RGbGFnc1RleHQsIHN0cmluZ2lmeVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSwgdG9OdW1iZXIsIHRvUmF3VHlwZSwgdG9UeXBlU3RyaW5nIH07XG4iLCIvKipcbiogQHZ1ZS9yZWFjdGl2aXR5IHYzLjQuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IE5PT1AsIGV4dGVuZCwgaXNBcnJheSwgaXNTeW1ib2wsIGlzTWFwLCBpc0ludGVnZXJLZXksIGhhc093biwgaGFzQ2hhbmdlZCwgaXNPYmplY3QsIG1ha2VNYXAsIGNhcGl0YWxpemUsIHRvUmF3VHlwZSwgZGVmLCBpc0Z1bmN0aW9uIH0gZnJvbSAnQHZ1ZS9zaGFyZWQnO1xuXG5mdW5jdGlvbiB3YXJuKG1zZywgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oYFtWdWUgd2Fybl0gJHttc2d9YCwgLi4uYXJncyk7XG59XG5cbmxldCBhY3RpdmVFZmZlY3RTY29wZTtcbmNsYXNzIEVmZmVjdFNjb3BlIHtcbiAgY29uc3RydWN0b3IoZGV0YWNoZWQgPSBmYWxzZSkge1xuICAgIHRoaXMuZGV0YWNoZWQgPSBkZXRhY2hlZDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZWZmZWN0cyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cHMgPSBbXTtcbiAgICB0aGlzLnBhcmVudCA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgIGlmICghZGV0YWNoZWQgJiYgYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgICAgIHRoaXMuaW5kZXggPSAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzIHx8IChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgPSBbXSkpLnB1c2goXG4gICAgICAgIHRoaXNcbiAgICAgICkgLSAxO1xuICAgIH1cbiAgfVxuICBnZXQgYWN0aXZlKCkge1xuICAgIHJldHVybiB0aGlzLl9hY3RpdmU7XG4gIH1cbiAgcnVuKGZuKSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgY29uc3QgY3VycmVudEVmZmVjdFNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICB0cnkge1xuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSBjdXJyZW50RWZmZWN0U2NvcGU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGBjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5gKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvbigpIHtcbiAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIG5vbi1kZXRhY2hlZCBzY29wZXNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBvZmYoKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnBhcmVudDtcbiAgfVxuICBzdG9wKGZyb21QYXJlbnQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICBsZXQgaSwgbDtcbiAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuZWZmZWN0c1tpXS5zdG9wKCk7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5jbGVhbnVwc1tpXSgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGV0YWNoZWQgJiYgdGhpcy5wYXJlbnQgJiYgIWZyb21QYXJlbnQpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFyZW50LnNjb3Blcy5wb3AoKTtcbiAgICAgICAgaWYgKGxhc3QgJiYgbGFzdCAhPT0gdGhpcykge1xuICAgICAgICAgIHRoaXMucGFyZW50LnNjb3Blc1t0aGlzLmluZGV4XSA9IGxhc3Q7XG4gICAgICAgICAgbGFzdC5pbmRleCA9IHRoaXMuaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucGFyZW50ID0gdm9pZCAwO1xuICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBlZmZlY3RTY29wZShkZXRhY2hlZCkge1xuICByZXR1cm4gbmV3IEVmZmVjdFNjb3BlKGRldGFjaGVkKTtcbn1cbmZ1bmN0aW9uIHJlY29yZEVmZmVjdFNjb3BlKGVmZmVjdCwgc2NvcGUgPSBhY3RpdmVFZmZlY3RTY29wZSkge1xuICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XG4gICAgc2NvcGUuZWZmZWN0cy5wdXNoKGVmZmVjdCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEN1cnJlbnRTY29wZSgpIHtcbiAgcmV0dXJuIGFjdGl2ZUVmZmVjdFNjb3BlO1xufVxuZnVuY3Rpb24gb25TY29wZURpc3Bvc2UoZm4pIHtcbiAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4oXG4gICAgICBgb25TY29wZURpc3Bvc2UoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgZWZmZWN0IHNjb3BlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC5gXG4gICAgKTtcbiAgfVxufVxuXG5sZXQgYWN0aXZlRWZmZWN0O1xuY2xhc3MgUmVhY3RpdmVFZmZlY3Qge1xuICBjb25zdHJ1Y3RvcihmbiwgdHJpZ2dlciwgc2NoZWR1bGVyLCBzY29wZSkge1xuICAgIHRoaXMuZm4gPSBmbjtcbiAgICB0aGlzLnRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLmRlcHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9kaXJ0eUxldmVsID0gNDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl90cmFja0lkID0gMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9ydW5uaW5ncyA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fc2hvdWxkU2NoZWR1bGUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9kZXBzTGVuZ3RoID0gMDtcbiAgICByZWNvcmRFZmZlY3RTY29wZSh0aGlzLCBzY29wZSk7XG4gIH1cbiAgZ2V0IGRpcnR5KCkge1xuICAgIGlmICh0aGlzLl9kaXJ0eUxldmVsID09PSAyIHx8IHRoaXMuX2RpcnR5TGV2ZWwgPT09IDMpIHtcbiAgICAgIHRoaXMuX2RpcnR5TGV2ZWwgPSAxO1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9kZXBzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZGVwID0gdGhpcy5kZXBzW2ldO1xuICAgICAgICBpZiAoZGVwLmNvbXB1dGVkKSB7XG4gICAgICAgICAgdHJpZ2dlckNvbXB1dGVkKGRlcC5jb21wdXRlZCk7XG4gICAgICAgICAgaWYgKHRoaXMuX2RpcnR5TGV2ZWwgPj0gNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fZGlydHlMZXZlbCA9PT0gMSkge1xuICAgICAgICB0aGlzLl9kaXJ0eUxldmVsID0gMDtcbiAgICAgIH1cbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2RpcnR5TGV2ZWwgPj0gNDtcbiAgfVxuICBzZXQgZGlydHkodikge1xuICAgIHRoaXMuX2RpcnR5TGV2ZWwgPSB2ID8gNCA6IDA7XG4gIH1cbiAgcnVuKCkge1xuICAgIHRoaXMuX2RpcnR5TGV2ZWwgPSAwO1xuICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfVxuICAgIGxldCBsYXN0U2hvdWxkVHJhY2sgPSBzaG91bGRUcmFjaztcbiAgICBsZXQgbGFzdEVmZmVjdCA9IGFjdGl2ZUVmZmVjdDtcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICAgICAgYWN0aXZlRWZmZWN0ID0gdGhpcztcbiAgICAgIHRoaXMuX3J1bm5pbmdzKys7XG4gICAgICBwcmVDbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcG9zdENsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICB0aGlzLl9ydW5uaW5ncy0tO1xuICAgICAgYWN0aXZlRWZmZWN0ID0gbGFzdEVmZmVjdDtcbiAgICAgIHNob3VsZFRyYWNrID0gbGFzdFNob3VsZFRyYWNrO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgIHByZUNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICBwb3N0Q2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIChfYSA9IHRoaXMub25TdG9wKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyQ29tcHV0ZWQoY29tcHV0ZWQpIHtcbiAgcmV0dXJuIGNvbXB1dGVkLnZhbHVlO1xufVxuZnVuY3Rpb24gcHJlQ2xlYW51cEVmZmVjdChlZmZlY3QyKSB7XG4gIGVmZmVjdDIuX3RyYWNrSWQrKztcbiAgZWZmZWN0Mi5fZGVwc0xlbmd0aCA9IDA7XG59XG5mdW5jdGlvbiBwb3N0Q2xlYW51cEVmZmVjdChlZmZlY3QyKSB7XG4gIGlmIChlZmZlY3QyLmRlcHMubGVuZ3RoID4gZWZmZWN0Mi5fZGVwc0xlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSBlZmZlY3QyLl9kZXBzTGVuZ3RoOyBpIDwgZWZmZWN0Mi5kZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjbGVhbnVwRGVwRWZmZWN0KGVmZmVjdDIuZGVwc1tpXSwgZWZmZWN0Mik7XG4gICAgfVxuICAgIGVmZmVjdDIuZGVwcy5sZW5ndGggPSBlZmZlY3QyLl9kZXBzTGVuZ3RoO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRGVwRWZmZWN0KGRlcCwgZWZmZWN0Mikge1xuICBjb25zdCB0cmFja0lkID0gZGVwLmdldChlZmZlY3QyKTtcbiAgaWYgKHRyYWNrSWQgIT09IHZvaWQgMCAmJiBlZmZlY3QyLl90cmFja0lkICE9PSB0cmFja0lkKSB7XG4gICAgZGVwLmRlbGV0ZShlZmZlY3QyKTtcbiAgICBpZiAoZGVwLnNpemUgPT09IDApIHtcbiAgICAgIGRlcC5jbGVhbnVwKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgaWYgKGZuLmVmZmVjdCBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgZm4gPSBmbi5lZmZlY3QuZm47XG4gIH1cbiAgY29uc3QgX2VmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChmbiwgTk9PUCwgKCkgPT4ge1xuICAgIGlmIChfZWZmZWN0LmRpcnR5KSB7XG4gICAgICBfZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfSk7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZXh0ZW5kKF9lZmZlY3QsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnNjb3BlKVxuICAgICAgcmVjb3JkRWZmZWN0U2NvcGUoX2VmZmVjdCwgb3B0aW9ucy5zY29wZSk7XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLmxhenkpIHtcbiAgICBfZWZmZWN0LnJ1bigpO1xuICB9XG4gIGNvbnN0IHJ1bm5lciA9IF9lZmZlY3QucnVuLmJpbmQoX2VmZmVjdCk7XG4gIHJ1bm5lci5lZmZlY3QgPSBfZWZmZWN0O1xuICByZXR1cm4gcnVubmVyO1xufVxuZnVuY3Rpb24gc3RvcChydW5uZXIpIHtcbiAgcnVubmVyLmVmZmVjdC5zdG9wKCk7XG59XG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xubGV0IHBhdXNlU2NoZWR1bGVTdGFjayA9IDA7XG5jb25zdCB0cmFja1N0YWNrID0gW107XG5mdW5jdGlvbiBwYXVzZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IGZhbHNlO1xufVxuZnVuY3Rpb24gZW5hYmxlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlc2V0VHJhY2tpbmcoKSB7XG4gIGNvbnN0IGxhc3QgPSB0cmFja1N0YWNrLnBvcCgpO1xuICBzaG91bGRUcmFjayA9IGxhc3QgPT09IHZvaWQgMCA/IHRydWUgOiBsYXN0O1xufVxuZnVuY3Rpb24gcGF1c2VTY2hlZHVsaW5nKCkge1xuICBwYXVzZVNjaGVkdWxlU3RhY2srKztcbn1cbmZ1bmN0aW9uIHJlc2V0U2NoZWR1bGluZygpIHtcbiAgcGF1c2VTY2hlZHVsZVN0YWNrLS07XG4gIHdoaWxlICghcGF1c2VTY2hlZHVsZVN0YWNrICYmIHF1ZXVlRWZmZWN0U2NoZWR1bGVycy5sZW5ndGgpIHtcbiAgICBxdWV1ZUVmZmVjdFNjaGVkdWxlcnMuc2hpZnQoKSgpO1xuICB9XG59XG5mdW5jdGlvbiB0cmFja0VmZmVjdChlZmZlY3QyLCBkZXAsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgdmFyIF9hO1xuICBpZiAoZGVwLmdldChlZmZlY3QyKSAhPT0gZWZmZWN0Mi5fdHJhY2tJZCkge1xuICAgIGRlcC5zZXQoZWZmZWN0MiwgZWZmZWN0Mi5fdHJhY2tJZCk7XG4gICAgY29uc3Qgb2xkRGVwID0gZWZmZWN0Mi5kZXBzW2VmZmVjdDIuX2RlcHNMZW5ndGhdO1xuICAgIGlmIChvbGREZXAgIT09IGRlcCkge1xuICAgICAgaWYgKG9sZERlcCkge1xuICAgICAgICBjbGVhbnVwRGVwRWZmZWN0KG9sZERlcCwgZWZmZWN0Mik7XG4gICAgICB9XG4gICAgICBlZmZlY3QyLmRlcHNbZWZmZWN0Mi5fZGVwc0xlbmd0aCsrXSA9IGRlcDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0Mi5fZGVwc0xlbmd0aCsrO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgKF9hID0gZWZmZWN0Mi5vblRyYWNrKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChlZmZlY3QyLCBleHRlbmQoeyBlZmZlY3Q6IGVmZmVjdDIgfSwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykpO1xuICAgIH1cbiAgfVxufVxuY29uc3QgcXVldWVFZmZlY3RTY2hlZHVsZXJzID0gW107XG5mdW5jdGlvbiB0cmlnZ2VyRWZmZWN0cyhkZXAsIGRpcnR5TGV2ZWwsIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pIHtcbiAgdmFyIF9hO1xuICBwYXVzZVNjaGVkdWxpbmcoKTtcbiAgZm9yIChjb25zdCBlZmZlY3QyIG9mIGRlcC5rZXlzKCkpIHtcbiAgICBsZXQgdHJhY2tpbmc7XG4gICAgaWYgKGVmZmVjdDIuX2RpcnR5TGV2ZWwgPCBkaXJ0eUxldmVsICYmICh0cmFja2luZyAhPSBudWxsID8gdHJhY2tpbmcgOiB0cmFja2luZyA9IGRlcC5nZXQoZWZmZWN0MikgPT09IGVmZmVjdDIuX3RyYWNrSWQpKSB7XG4gICAgICBlZmZlY3QyLl9zaG91bGRTY2hlZHVsZSB8fCAoZWZmZWN0Mi5fc2hvdWxkU2NoZWR1bGUgPSBlZmZlY3QyLl9kaXJ0eUxldmVsID09PSAwKTtcbiAgICAgIGVmZmVjdDIuX2RpcnR5TGV2ZWwgPSBkaXJ0eUxldmVsO1xuICAgIH1cbiAgICBpZiAoZWZmZWN0Mi5fc2hvdWxkU2NoZWR1bGUgJiYgKHRyYWNraW5nICE9IG51bGwgPyB0cmFja2luZyA6IHRyYWNraW5nID0gZGVwLmdldChlZmZlY3QyKSA9PT0gZWZmZWN0Mi5fdHJhY2tJZCkpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIChfYSA9IGVmZmVjdDIub25UcmlnZ2VyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChlZmZlY3QyLCBleHRlbmQoeyBlZmZlY3Q6IGVmZmVjdDIgfSwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykpO1xuICAgICAgfVxuICAgICAgZWZmZWN0Mi50cmlnZ2VyKCk7XG4gICAgICBpZiAoKCFlZmZlY3QyLl9ydW5uaW5ncyB8fCBlZmZlY3QyLmFsbG93UmVjdXJzZSkgJiYgZWZmZWN0Mi5fZGlydHlMZXZlbCAhPT0gMikge1xuICAgICAgICBlZmZlY3QyLl9zaG91bGRTY2hlZHVsZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZWZmZWN0Mi5zY2hlZHVsZXIpIHtcbiAgICAgICAgICBxdWV1ZUVmZmVjdFNjaGVkdWxlcnMucHVzaChlZmZlY3QyLnNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVzZXRTY2hlZHVsaW5nKCk7XG59XG5cbmNvbnN0IGNyZWF0ZURlcCA9IChjbGVhbnVwLCBjb21wdXRlZCkgPT4ge1xuICBjb25zdCBkZXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBkZXAuY2xlYW51cCA9IGNsZWFudXA7XG4gIGRlcC5jb21wdXRlZCA9IGNvbXB1dGVkO1xuICByZXR1cm4gZGVwO1xufTtcblxuY29uc3QgdGFyZ2V0TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBJVEVSQVRFX0tFWSA9IFN5bWJvbCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJpdGVyYXRlXCIgOiBcIlwiKTtcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiTWFwIGtleSBpdGVyYXRlXCIgOiBcIlwiKTtcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XG4gIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVFZmZlY3QpIHtcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoIWRlcHNNYXApIHtcbiAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCBkZXBzTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgfVxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xuICAgIGlmICghZGVwKSB7XG4gICAgICBkZXBzTWFwLnNldChrZXksIGRlcCA9IGNyZWF0ZURlcCgoKSA9PiBkZXBzTWFwLmRlbGV0ZShrZXkpKSk7XG4gICAgfVxuICAgIHRyYWNrRWZmZWN0KFxuICAgICAgYWN0aXZlRWZmZWN0LFxuICAgICAgZGVwLFxuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICB0eXBlLFxuICAgICAgICBrZXlcbiAgICAgIH0gOiB2b2lkIDBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyKHRhcmdldCwgdHlwZSwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUsIG9sZFRhcmdldCkge1xuICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoIWRlcHNNYXApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGRlcHMgPSBbXTtcbiAgaWYgKHR5cGUgPT09IFwiY2xlYXJcIikge1xuICAgIGRlcHMgPSBbLi4uZGVwc01hcC52YWx1ZXMoKV07XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcImxlbmd0aFwiICYmIGlzQXJyYXkodGFyZ2V0KSkge1xuICAgIGNvbnN0IG5ld0xlbmd0aCA9IE51bWJlcihuZXdWYWx1ZSk7XG4gICAgZGVwc01hcC5mb3JFYWNoKChkZXAsIGtleTIpID0+IHtcbiAgICAgIGlmIChrZXkyID09PSBcImxlbmd0aFwiIHx8ICFpc1N5bWJvbChrZXkyKSAmJiBrZXkyID49IG5ld0xlbmd0aCkge1xuICAgICAgICBkZXBzLnB1c2goZGVwKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoa2V5ICE9PSB2b2lkIDApIHtcbiAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChrZXkpKTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlzSW50ZWdlcktleShrZXkpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KFwibGVuZ3RoXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJkZWxldGVcIjpcbiAgICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KE1BUF9LRVlfSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHBhdXNlU2NoZWR1bGluZygpO1xuICBmb3IgKGNvbnN0IGRlcCBvZiBkZXBzKSB7XG4gICAgaWYgKGRlcCkge1xuICAgICAgdHJpZ2dlckVmZmVjdHMoXG4gICAgICAgIGRlcCxcbiAgICAgICAgNCxcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgb2xkVGFyZ2V0XG4gICAgICAgIH0gOiB2b2lkIDBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJlc2V0U2NoZWR1bGluZygpO1xufVxuZnVuY3Rpb24gZ2V0RGVwRnJvbVJlYWN0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IHRhcmdldE1hcC5nZXQob2JqZWN0KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdldChrZXkpO1xufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoXG4gIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpLmZpbHRlcigoa2V5KSA9PiBrZXkgIT09IFwiYXJndW1lbnRzXCIgJiYga2V5ICE9PSBcImNhbGxlclwiKS5tYXAoKGtleSkgPT4gU3ltYm9sW2tleV0pLmZpbHRlcihpc1N5bWJvbClcbik7XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMoKSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSB7fTtcbiAgW1wiaW5jbHVkZXNcIiwgXCJpbmRleE9mXCIsIFwibGFzdEluZGV4T2ZcIl0uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgY29uc3QgYXJyID0gdG9SYXcodGhpcyk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiwgaSArIFwiXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzID0gYXJyW2tleV0oLi4uYXJncyk7XG4gICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhcnJba2V5XSguLi5hcmdzLm1hcCh0b1JhdykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgW1wicHVzaFwiLCBcInBvcFwiLCBcInNoaWZ0XCIsIFwidW5zaGlmdFwiLCBcInNwbGljZVwiXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBwYXVzZVNjaGVkdWxpbmcoKTtcbiAgICAgIGNvbnN0IHJlcyA9IHRvUmF3KHRoaXMpW2tleV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICByZXNldFNjaGVkdWxpbmcoKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBpbnN0cnVtZW50YXRpb25zO1xufVxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkoa2V5KSB7XG4gIGNvbnN0IG9iaiA9IHRvUmF3KHRoaXMpO1xuICB0cmFjayhvYmosIFwiaGFzXCIsIGtleSk7XG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoa2V5KTtcbn1cbmNsYXNzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihfaXNSZWFkb25seSA9IGZhbHNlLCBfaXNTaGFsbG93ID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pc1JlYWRvbmx5ID0gX2lzUmVhZG9ubHk7XG4gICAgdGhpcy5faXNTaGFsbG93ID0gX2lzU2hhbGxvdztcbiAgfVxuICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgY29uc3QgaXNSZWFkb25seTIgPSB0aGlzLl9pc1JlYWRvbmx5LCBpc1NoYWxsb3cyID0gdGhpcy5faXNTaGFsbG93O1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiKSB7XG4gICAgICByZXR1cm4gaXNTaGFsbG93MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIGlmIChyZWNlaXZlciA9PT0gKGlzUmVhZG9ubHkyID8gaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFkb25seU1hcCA6IHJlYWRvbmx5TWFwIDogaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFjdGl2ZU1hcCA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSB8fCAvLyByZWNlaXZlciBpcyBub3QgdGhlIHJlYWN0aXZlIHByb3h5LCBidXQgaGFzIHRoZSBzYW1lIHByb3RvdHlwZVxuICAgICAgLy8gdGhpcyBtZWFucyB0aGUgcmVjaWV2ZXIgaXMgYSB1c2VyIHByb3h5IG9mIHRoZSByZWFjdGl2ZSBwcm94eVxuICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihyZWNlaXZlcikpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiBoYXNPd24oYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJoYXNPd25Qcm9wZXJ0eVwiKSB7XG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICghaXNSZWFkb25seTIpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzU2hhbGxvdzIpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0SXNBcnJheSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IHJlcyA6IHJlcy52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MiA/IHJlYWRvbmx5KHJlcykgOiByZWFjdGl2ZShyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59XG5jbGFzcyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyIGV4dGVuZHMgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKGlzU2hhbGxvdzIgPSBmYWxzZSkge1xuICAgIHN1cGVyKGZhbHNlLCBpc1NoYWxsb3cyKTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xuICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGlmICghdGhpcy5faXNTaGFsbG93KSB7XG4gICAgICBjb25zdCBpc09sZFZhbHVlUmVhZG9ubHkgPSBpc1JlYWRvbmx5KG9sZFZhbHVlKTtcbiAgICAgIGlmICghaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgb2xkVmFsdWUgPSB0b1JhdyhvbGRWYWx1ZSk7XG4gICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGlzT2xkVmFsdWVSZWFkb25seSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IE51bWJlcihrZXkpIDwgdGFyZ2V0Lmxlbmd0aCA6IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XG4gICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiwga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgaGFkS2V5ID0gaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xuICAgIGlmIChyZXN1bHQgJiYgaGFkS2V5KSB7XG4gICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiwga2V5LCB2b2lkIDAsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xuICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIG93bktleXModGFyZ2V0KSB7XG4gICAgdHJhY2soXG4gICAgICB0YXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzQXJyYXkodGFyZ2V0KSA/IFwibGVuZ3RoXCIgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9XG59XG5jbGFzcyBSZWFkb25seVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcih0cnVlLCBpc1NoYWxsb3cyKTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0YXJnZXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKCk7XG5jb25zdCByZWFkb25seUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBSZWFkb25seVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE11dGFibGVSZWFjdGl2ZUhhbmRsZXIoXG4gIHRydWVcbik7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIodHJ1ZSk7XG5cbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBnZXRQcm90byA9ICh2KSA9PiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHYpO1xuZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UsIGlzU2hhbGxvdyA9IGZhbHNlKSB7XG4gIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIl07XG4gIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gIGlmICghaXNSZWFkb25seSkge1xuICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCBrZXkpO1xuICAgIH1cbiAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIHJhd0tleSk7XG4gIH1cbiAgY29uc3QgeyBoYXM6IGhhczIgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gIGlmIChoYXMyLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcbiAgfSBlbHNlIGlmIChoYXMyLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcbiAgfSBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgIHRhcmdldC5nZXQoa2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzKGtleSwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiLCByYXdLZXkpO1xuICB9XG4gIHJldHVybiBrZXkgPT09IHJhd0tleSA/IHRhcmdldC5oYXMoa2V5KSA6IHRhcmdldC5oYXMoa2V5KSB8fCB0YXJnZXQuaGFzKHJhd0tleSk7XG59XG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIl07XG4gICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIFwic2l6ZVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgcHJvdG8gPSBnZXRQcm90byh0YXJnZXQpO1xuICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcbiAgaWYgKCFoYWRLZXkpIHtcbiAgICB0YXJnZXQuYWRkKHZhbHVlKTtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwgdmFsdWUsIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbmZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgeyBoYXM6IGhhczIsIGdldDogZ2V0MiB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgbGV0IGhhZEtleSA9IGhhczIuY2FsbCh0YXJnZXQsIGtleSk7XG4gIGlmICghaGFkS2V5KSB7XG4gICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICBoYWRLZXkgPSBoYXMyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhczIsIGtleSk7XG4gIH1cbiAgY29uc3Qgb2xkVmFsdWUgPSBnZXQyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xuICBpZiAoIWhhZEtleSkge1xuICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCBrZXksIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiwga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuZnVuY3Rpb24gZGVsZXRlRW50cnkoa2V5KSB7XG4gIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICBjb25zdCB7IGhhczogaGFzMiwgZ2V0OiBnZXQyIH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICBsZXQgaGFkS2V5ID0gaGFzMi5jYWxsKHRhcmdldCwga2V5KTtcbiAgaWYgKCFoYWRLZXkpIHtcbiAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgIGhhZEtleSA9IGhhczIuY2FsbCh0YXJnZXQsIGtleSk7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzMiwga2V5KTtcbiAgfVxuICBjb25zdCBvbGRWYWx1ZSA9IGdldDIgPyBnZXQyLmNhbGwodGFyZ2V0LCBrZXkpIDogdm9pZCAwO1xuICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XG4gIGlmIChoYWRLZXkpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiwga2V5LCB2b2lkIDAsIG9sZFZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICBjb25zdCBoYWRJdGVtcyA9IHRhcmdldC5zaXplICE9PSAwO1xuICBjb25zdCBvbGRUYXJnZXQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gaXNNYXAodGFyZ2V0KSA/IG5ldyBNYXAodGFyZ2V0KSA6IG5ldyBTZXQodGFyZ2V0KSA6IHZvaWQgMDtcbiAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmNsZWFyKCk7XG4gIGlmIChoYWRJdGVtcykge1xuICAgIHRyaWdnZXIodGFyZ2V0LCBcImNsZWFyXCIsIHZvaWQgMCwgdm9pZCAwLCBvbGRUYXJnZXQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcbiAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIsIElURVJBVEVfS0VZKTtcbiAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCB0YXJnZXRJc01hcCA9IGlzTWFwKHJhd1RhcmdldCk7XG4gICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSBcImVudHJpZXNcIiB8fCBtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpc0tleU9ubHkgPSBtZXRob2QgPT09IFwia2V5c1wiICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKFxuICAgICAgcmF3VGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpdGVyYXRvciBwcm90b2NvbFxuICAgICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBkb25lID8geyB2YWx1ZSwgZG9uZSB9IDoge1xuICAgICAgICAgIHZhbHVlOiBpc1BhaXIgPyBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSA6IHdyYXAodmFsdWUpLFxuICAgICAgICAgIGRvbmVcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxuICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0b1Jhdyh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgPyBmYWxzZSA6IHR5cGUgPT09IFwiY2xlYXJcIiA/IHZvaWQgMCA6IHRoaXM7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCkge1xuICBjb25zdCBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczIgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCBrZXkpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICB9LFxuICAgIGhhcyxcbiAgICBhZGQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgY2xlYXIsXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXG4gIH07XG4gIGNvbnN0IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICB9LFxuICAgIGhhcyxcbiAgICBhZGQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgY2xlYXIsXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcbiAgfTtcbiAgY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKSxcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIGZhbHNlKVxuICB9O1xuICBjb25zdCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKSxcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIHRydWUpXG4gIH07XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcImtleXNcIiwgXCJ2YWx1ZXNcIiwgXCJlbnRyaWVzXCIsIFN5bWJvbC5pdGVyYXRvcl07XG4gIGl0ZXJhdG9yTWV0aG9kcy5mb3JFYWNoKChtZXRob2QpID0+IHtcbiAgICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczJbbWV0aG9kXSA9IGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKFxuICAgICAgbWV0aG9kLFxuICAgICAgZmFsc2UsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICB0cnVlLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICBmYWxzZSxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMyW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChcbiAgICAgIG1ldGhvZCxcbiAgICAgIHRydWUsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSk7XG4gIHJldHVybiBbXG4gICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMyLFxuICAgIHJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIsXG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMyLFxuICAgIHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMyXG4gIF07XG59XG5jb25zdCBbXG4gIG11dGFibGVJbnN0cnVtZW50YXRpb25zLFxuICByZWFkb25seUluc3RydW1lbnRhdGlvbnMsXG4gIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zLFxuICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zXG5dID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMoKTtcbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5LCBzaGFsbG93KSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSBzaGFsbG93ID8gaXNSZWFkb25seSA/IHNoYWxsb3dSZWFkb25seUluc3RydW1lbnRhdGlvbnMgOiBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyA6IGlzUmVhZG9ubHkgPyByZWFkb25seUluc3RydW1lbnRhdGlvbnMgOiBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucztcbiAgcmV0dXJuICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHtcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmdldChcbiAgICAgIGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXQgPyBpbnN0cnVtZW50YXRpb25zIDogdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzMiwga2V5KSB7XG4gIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gIGlmIChyYXdLZXkgIT09IGtleSAmJiBoYXMyLmNhbGwodGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgY29uc3QgdHlwZSA9IHRvUmF3VHlwZSh0YXJnZXQpO1xuICAgIHdhcm4oXG4gICAgICBgUmVhY3RpdmUgJHt0eXBlfSBjb250YWlucyBib3RoIHRoZSByYXcgYW5kIHJlYWN0aXZlIHZlcnNpb25zIG9mIHRoZSBzYW1lIG9iamVjdCR7dHlwZSA9PT0gYE1hcGAgPyBgIGFzIGtleXNgIDogYGB9LCB3aGljaCBjYW4gbGVhZCB0byBpbmNvbnNpc3RlbmNpZXMuIEF2b2lkIGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuIHRoZSByYXcgYW5kIHJlYWN0aXZlIHZlcnNpb25zIG9mIGFuIG9iamVjdCBhbmQgb25seSB1c2UgdGhlIHJlYWN0aXZlIHZlcnNpb24gaWYgcG9zc2libGUuYFxuICAgICk7XG4gIH1cbn1cblxuY29uc3QgcmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHNoYWxsb3dSZWFkb25seU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gdGFyZ2V0VHlwZU1hcChyYXdUeXBlKSB7XG4gIHN3aXRjaCAocmF3VHlwZSkge1xuICAgIGNhc2UgXCJPYmplY3RcIjpcbiAgICBjYXNlIFwiQXJyYXlcIjpcbiAgICAgIHJldHVybiAxIC8qIENPTU1PTiAqLztcbiAgICBjYXNlIFwiTWFwXCI6XG4gICAgY2FzZSBcIlNldFwiOlxuICAgIGNhc2UgXCJXZWFrTWFwXCI6XG4gICAgY2FzZSBcIldlYWtTZXRcIjpcbiAgICAgIHJldHVybiAyIC8qIENPTExFQ1RJT04gKi87XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAwIC8qIElOVkFMSUQgKi87XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFRhcmdldFR5cGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlW1wiX192X3NraXBcIl0gfHwgIU9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpID8gMCAvKiBJTlZBTElEICovIDogdGFyZ2V0VHlwZU1hcCh0b1Jhd1R5cGUodmFsdWUpKTtcbn1cbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xuICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIG11dGFibGVIYW5kbGVycyxcbiAgICBtdXRhYmxlQ29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHJlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVhY3RpdmUodGFyZ2V0KSB7XG4gIHJldHVybiBjcmVhdGVSZWFjdGl2ZU9iamVjdChcbiAgICB0YXJnZXQsXG4gICAgZmFsc2UsXG4gICAgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMsXG4gICAgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhY3RpdmVNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHJlYWRvbmx5KHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIHRydWUsXG4gICAgcmVhZG9ubHlIYW5kbGVycyxcbiAgICByZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFkb25seU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIHRydWUsXG4gICAgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seU1hcFxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVhY3RpdmVPYmplY3QodGFyZ2V0LCBpc1JlYWRvbmx5MiwgYmFzZUhhbmRsZXJzLCBjb2xsZWN0aW9uSGFuZGxlcnMsIHByb3h5TWFwKSB7XG4gIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKGB2YWx1ZSBjYW5ub3QgYmUgbWFkZSByZWFjdGl2ZTogJHtTdHJpbmcodGFyZ2V0KX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBpZiAodGFyZ2V0W1wiX192X3Jhd1wiXSAmJiAhKGlzUmVhZG9ubHkyICYmIHRhcmdldFtcIl9fdl9pc1JlYWN0aXZlXCJdKSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdQcm94eSA9IHByb3h5TWFwLmdldCh0YXJnZXQpO1xuICBpZiAoZXhpc3RpbmdQcm94eSkge1xuICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xuICB9XG4gIGNvbnN0IHRhcmdldFR5cGUgPSBnZXRUYXJnZXRUeXBlKHRhcmdldCk7XG4gIGlmICh0YXJnZXRUeXBlID09PSAwIC8qIElOVkFMSUQgKi8pIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgIHRhcmdldCxcbiAgICB0YXJnZXRUeXBlID09PSAyIC8qIENPTExFQ1RJT04gKi8gPyBjb2xsZWN0aW9uSGFuZGxlcnMgOiBiYXNlSGFuZGxlcnNcbiAgKTtcbiAgcHJveHlNYXAuc2V0KHRhcmdldCwgcHJveHkpO1xuICByZXR1cm4gcHJveHk7XG59XG5mdW5jdGlvbiBpc1JlYWN0aXZlKHZhbHVlKSB7XG4gIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiXSk7XG4gIH1cbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzUmVhY3RpdmVcIl0pO1xufVxuZnVuY3Rpb24gaXNSZWFkb25seSh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFkb25seVwiXSk7XG59XG5mdW5jdGlvbiBpc1NoYWxsb3codmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlW1wiX192X2lzU2hhbGxvd1wiXSk7XG59XG5mdW5jdGlvbiBpc1Byb3h5KHZhbHVlKSB7XG4gIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlKSB8fCBpc1JlYWRvbmx5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgaWYgKE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpKSB7XG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIsIHRydWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG5cbmNvbnN0IENPTVBVVEVEX1NJREVfRUZGRUNUX1dBUk4gPSBgQ29tcHV0ZWQgaXMgc3RpbGwgZGlydHkgYWZ0ZXIgZ2V0dGVyIGV2YWx1YXRpb24sIGxpa2VseSBiZWNhdXNlIGEgY29tcHV0ZWQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmN5IGluIGl0cyBnZXR0ZXIuIFN0YXRlIG11dGF0aW9ucyBpbiBjb21wdXRlZCBnZXR0ZXJzIHNob3VsZCBiZSBhdm9pZGVkLiAgQ2hlY2sgdGhlIGRvY3MgZm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvZXNzZW50aWFscy9jb21wdXRlZC5odG1sI2dldHRlcnMtc2hvdWxkLWJlLXNpZGUtZWZmZWN0LWZyZWVgO1xuY2xhc3MgQ29tcHV0ZWRSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5LCBpc1NTUikge1xuICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyO1xuICAgIHRoaXMuX3NldHRlciA9IF9zZXR0ZXI7XG4gICAgdGhpcy5kZXAgPSB2b2lkIDA7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IGZhbHNlO1xuICAgIHRoaXMuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KFxuICAgICAgKCkgPT4gZ2V0dGVyKHRoaXMuX3ZhbHVlKSxcbiAgICAgICgpID0+IHRyaWdnZXJSZWZWYWx1ZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy5lZmZlY3QuX2RpcnR5TGV2ZWwgPT09IDIgPyAyIDogM1xuICAgICAgKVxuICAgICk7XG4gICAgdGhpcy5lZmZlY3QuY29tcHV0ZWQgPSB0aGlzO1xuICAgIHRoaXMuZWZmZWN0LmFjdGl2ZSA9IHRoaXMuX2NhY2hlYWJsZSA9ICFpc1NTUjtcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSBpc1JlYWRvbmx5O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdG9SYXcodGhpcyk7XG4gICAgaWYgKCghc2VsZi5fY2FjaGVhYmxlIHx8IHNlbGYuZWZmZWN0LmRpcnR5KSAmJiBoYXNDaGFuZ2VkKHNlbGYuX3ZhbHVlLCBzZWxmLl92YWx1ZSA9IHNlbGYuZWZmZWN0LnJ1bigpKSkge1xuICAgICAgdHJpZ2dlclJlZlZhbHVlKHNlbGYsIDQpO1xuICAgIH1cbiAgICB0cmFja1JlZlZhbHVlKHNlbGYpO1xuICAgIGlmIChzZWxmLmVmZmVjdC5fZGlydHlMZXZlbCA+PSAyKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0aGlzLl93YXJuUmVjdXJzaXZlKSB7XG4gICAgICAgIHdhcm4oQ09NUFVURURfU0lERV9FRkZFQ1RfV0FSTiwgYFxuXG5nZXR0ZXI6IGAsIHRoaXMuZ2V0dGVyKTtcbiAgICAgIH1cbiAgICAgIHRyaWdnZXJSZWZWYWx1ZShzZWxmLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XG4gIH1cbiAgLy8gI3JlZ2lvbiBwb2x5ZmlsbCBfZGlydHkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgdGhpcmQgcGFydHkgY29kZSBmb3IgVnVlIDw9IDMuMy54XG4gIGdldCBfZGlydHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWZmZWN0LmRpcnR5O1xuICB9XG4gIHNldCBfZGlydHkodikge1xuICAgIHRoaXMuZWZmZWN0LmRpcnR5ID0gdjtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG59XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgc2V0dGVyO1xuICBjb25zdCBvbmx5R2V0dGVyID0gaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpO1xuICBpZiAob25seUdldHRlcikge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcbiAgICBzZXR0ZXIgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgd2FybihcIldyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5XCIpO1xuICAgIH0gOiBOT09QO1xuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgfVxuICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgb25seUdldHRlciB8fCAhc2V0dGVyLCBpc1NTUik7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGRlYnVnT3B0aW9ucyAmJiAhaXNTU1IpIHtcbiAgICBjUmVmLmVmZmVjdC5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgY1JlZi5lZmZlY3Qub25UcmlnZ2VyID0gZGVidWdPcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICByZXR1cm4gY1JlZjtcbn1cblxuZnVuY3Rpb24gdHJhY2tSZWZWYWx1ZShyZWYyKSB7XG4gIHZhciBfYTtcbiAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZUVmZmVjdCkge1xuICAgIHJlZjIgPSB0b1JhdyhyZWYyKTtcbiAgICB0cmFja0VmZmVjdChcbiAgICAgIGFjdGl2ZUVmZmVjdCxcbiAgICAgIChfYSA9IHJlZjIuZGVwKSAhPSBudWxsID8gX2EgOiByZWYyLmRlcCA9IGNyZWF0ZURlcChcbiAgICAgICAgKCkgPT4gcmVmMi5kZXAgPSB2b2lkIDAsXG4gICAgICAgIHJlZjIgaW5zdGFuY2VvZiBDb21wdXRlZFJlZkltcGwgPyByZWYyIDogdm9pZCAwXG4gICAgICApLFxuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIlxuICAgICAgfSA6IHZvaWQgMFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWZWYWx1ZShyZWYyLCBkaXJ0eUxldmVsID0gNCwgbmV3VmFsKSB7XG4gIHJlZjIgPSB0b1JhdyhyZWYyKTtcbiAgY29uc3QgZGVwID0gcmVmMi5kZXA7XG4gIGlmIChkZXApIHtcbiAgICB0cmlnZ2VyRWZmZWN0cyhcbiAgICAgIGRlcCxcbiAgICAgIGRpcnR5TGV2ZWwsXG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICAgICAgICB0YXJnZXQ6IHJlZjIsXG4gICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICBuZXdWYWx1ZTogbmV3VmFsXG4gICAgICB9IDogdm9pZCAwXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNSZWYocikge1xuICByZXR1cm4gISEociAmJiByLl9fdl9pc1JlZiA9PT0gdHJ1ZSk7XG59XG5mdW5jdGlvbiByZWYodmFsdWUpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlZihyYXdWYWx1ZSwgc2hhbGxvdykge1xuICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XG4gICAgcmV0dXJuIHJhd1ZhbHVlO1xuICB9XG4gIHJldHVybiBuZXcgUmVmSW1wbChyYXdWYWx1ZSwgc2hhbGxvdyk7XG59XG5jbGFzcyBSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IodmFsdWUsIF9fdl9pc1NoYWxsb3cpIHtcbiAgICB0aGlzLl9fdl9pc1NoYWxsb3cgPSBfX3ZfaXNTaGFsbG93O1xuICAgIHRoaXMuZGVwID0gdm9pZCAwO1xuICAgIHRoaXMuX192X2lzUmVmID0gdHJ1ZTtcbiAgICB0aGlzLl9yYXdWYWx1ZSA9IF9fdl9pc1NoYWxsb3cgPyB2YWx1ZSA6IHRvUmF3KHZhbHVlKTtcbiAgICB0aGlzLl92YWx1ZSA9IF9fdl9pc1NoYWxsb3cgPyB2YWx1ZSA6IHRvUmVhY3RpdmUodmFsdWUpO1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICB0cmFja1JlZlZhbHVlKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgY29uc3QgdXNlRGlyZWN0VmFsdWUgPSB0aGlzLl9fdl9pc1NoYWxsb3cgfHwgaXNTaGFsbG93KG5ld1ZhbCkgfHwgaXNSZWFkb25seShuZXdWYWwpO1xuICAgIG5ld1ZhbCA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsIDogdG9SYXcobmV3VmFsKTtcbiAgICBpZiAoaGFzQ2hhbmdlZChuZXdWYWwsIHRoaXMuX3Jhd1ZhbHVlKSkge1xuICAgICAgdGhpcy5fcmF3VmFsdWUgPSBuZXdWYWw7XG4gICAgICB0aGlzLl92YWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsIDogdG9SZWFjdGl2ZShuZXdWYWwpO1xuICAgICAgdHJpZ2dlclJlZlZhbHVlKHRoaXMsIDQsIG5ld1ZhbCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZjIpIHtcbiAgdHJpZ2dlclJlZlZhbHVlKHJlZjIsIDQsICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyByZWYyLnZhbHVlIDogdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIHVucmVmKHJlZjIpIHtcbiAgcmV0dXJuIGlzUmVmKHJlZjIpID8gcmVmMi52YWx1ZSA6IHJlZjI7XG59XG5mdW5jdGlvbiB0b1ZhbHVlKHNvdXJjZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UpID8gc291cmNlKCkgOiB1bnJlZihzb3VyY2UpO1xufVxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xuICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcykgPyBvYmplY3RXaXRoUmVmcyA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgdGhpcy5kZXAgPSB2b2lkIDA7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoXG4gICAgICAoKSA9PiB0cmFja1JlZlZhbHVlKHRoaXMpLFxuICAgICAgKCkgPT4gdHJpZ2dlclJlZlZhbHVlKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLl9nZXQgPSBnZXQ7XG4gICAgdGhpcy5fc2V0ID0gc2V0O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0KCk7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIHRoaXMuX3NldChuZXdWYWwpO1xuICB9XG59XG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xuICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XG59XG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1Byb3h5KG9iamVjdCkpIHtcbiAgICB3YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcbiAgfVxuICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgcmV0W2tleV0gPSBwcm9wZXJ0eVRvUmVmKG9iamVjdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXksIF9kZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xuICAgIHRoaXMuX2tleSA9IF9rZXk7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gX2RlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB2YWwgPT09IHZvaWQgMCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHZhbDtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gIH1cbiAgZ2V0IGRlcCgpIHtcbiAgICByZXR1cm4gZ2V0RGVwRnJvbVJlYWN0aXZlKHRvUmF3KHRoaXMuX29iamVjdCksIHRoaXMuX2tleSk7XG4gIH1cbn1cbmNsYXNzIEdldHRlclJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihfZ2V0dGVyKSB7XG4gICAgdGhpcy5fZ2V0dGVyID0gX2dldHRlcjtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpcy5fX3ZfaXNSZWFkb25seSA9IHRydWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXR0ZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gdG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIG5ldyBHZXR0ZXJSZWZJbXBsKHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWYoc291cmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvcGVydHlUb1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGNvbnN0IHZhbCA9IHNvdXJjZVtrZXldO1xuICByZXR1cm4gaXNSZWYodmFsKSA/IHZhbCA6IG5ldyBPYmplY3RSZWZJbXBsKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG5jb25zdCBkZWZlcnJlZENvbXB1dGVkID0gY29tcHV0ZWQ7XG5cbmNvbnN0IFRyYWNrT3BUeXBlcyA9IHtcbiAgXCJHRVRcIjogXCJnZXRcIixcbiAgXCJIQVNcIjogXCJoYXNcIixcbiAgXCJJVEVSQVRFXCI6IFwiaXRlcmF0ZVwiXG59O1xuY29uc3QgVHJpZ2dlck9wVHlwZXMgPSB7XG4gIFwiU0VUXCI6IFwic2V0XCIsXG4gIFwiQUREXCI6IFwiYWRkXCIsXG4gIFwiREVMRVRFXCI6IFwiZGVsZXRlXCIsXG4gIFwiQ0xFQVJcIjogXCJjbGVhclwiXG59O1xuY29uc3QgUmVhY3RpdmVGbGFncyA9IHtcbiAgXCJTS0lQXCI6IFwiX192X3NraXBcIixcbiAgXCJJU19SRUFDVElWRVwiOiBcIl9fdl9pc1JlYWN0aXZlXCIsXG4gIFwiSVNfUkVBRE9OTFlcIjogXCJfX3ZfaXNSZWFkb25seVwiLFxuICBcIklTX1NIQUxMT1dcIjogXCJfX3ZfaXNTaGFsbG93XCIsXG4gIFwiUkFXXCI6IFwiX192X3Jhd1wiXG59O1xuXG5leHBvcnQgeyBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBjb21wdXRlZCwgY3VzdG9tUmVmLCBkZWZlcnJlZENvbXB1dGVkLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBlbmFibGVUcmFja2luZywgZ2V0Q3VycmVudFNjb3BlLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvblNjb3BlRGlzcG9zZSwgcGF1c2VTY2hlZHVsaW5nLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCByZXNldFNjaGVkdWxpbmcsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJhY2ssIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmIH07XG4iLCIvKipcbiogQHZ1ZS9ydW50aW1lLWNvcmUgdjMuNC4yMVxuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgcGF1c2VUcmFja2luZywgcmVzZXRUcmFja2luZywgaXNSZWYsIHRvUmF3LCBpc1NoYWxsb3csIGlzUmVhY3RpdmUsIFJlYWN0aXZlRWZmZWN0LCBnZXRDdXJyZW50U2NvcGUsIHJlZiwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcmVhY3RpdmUsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgY3VzdG9tUmVmLCBpc1JlYWRvbmx5IH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmV4cG9ydCB7IEVmZmVjdFNjb3BlLCBSZWFjdGl2ZUVmZmVjdCwgVHJhY2tPcFR5cGVzLCBUcmlnZ2VyT3BUeXBlcywgY3VzdG9tUmVmLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50U2NvcGUsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBpc1NoYWxsb3csIG1hcmtSYXcsIG9uU2NvcGVEaXNwb3NlLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIE5PT1AsIGdldEdsb2JhbFRoaXMsIGV4dGVuZCwgRU1QVFlfT0JKLCB0b0hhbmRsZXJLZXksIGxvb3NlVG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT2JqZWN0LCBpc09uLCBoYXNPd24sIGlzTW9kZWxMaXN0ZW5lciwgY2FwaXRhbGl6ZSwgdG9OdW1iZXIsIGhhc0NoYW5nZWQsIHJlbW92ZSwgaXNTZXQsIGlzTWFwLCBpc1BsYWluT2JqZWN0LCBpc0J1aWx0SW5EaXJlY3RpdmUsIGludm9rZUFycmF5Rm5zLCBpc1JlZ0V4cCwgaXNHbG9iYWxseUFsbG93ZWQsIE5PLCBkZWYsIGlzUmVzZXJ2ZWRQcm9wLCBFTVBUWV9BUlIsIHRvUmF3VHlwZSwgbWFrZU1hcCwgbm9ybWFsaXplQ2xhc3MsIHN0cmluZ2lmeVN0eWxlLCBub3JtYWxpemVTdHlsZSwgaXNLbm93blN2Z0F0dHIsIGlzQm9vbGVhbkF0dHIsIGlzS25vd25IdG1sQXR0ciwgaW5jbHVkZUJvb2xlYW5BdHRyLCBpc1JlbmRlcmFibGVBdHRyVmFsdWUgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcbiAgc3RhY2sucHVzaCh2bm9kZSk7XG59XG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcbiAgc3RhY2sucG9wKCk7XG59XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gIHBhdXNlVHJhY2tpbmcoKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBzdGFjay5sZW5ndGggPyBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5jb21wb25lbnQgOiBudWxsO1xuICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xuICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XG4gIGlmIChhcHBXYXJuSGFuZGxlcikge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIGFwcFdhcm5IYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAxMSxcbiAgICAgIFtcbiAgICAgICAgbXNnICsgYXJncy5tYXAoKGEpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBhLnRvU3RyaW5nKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhKSkgIT0gbnVsbCA/IF9iIDogSlNPTi5zdHJpbmdpZnkoYSk7XG4gICAgICAgIH0pLmpvaW4oXCJcIiksXG4gICAgICAgIGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5LFxuICAgICAgICB0cmFjZS5tYXAoXG4gICAgICAgICAgKHsgdm5vZGUgfSkgPT4gYGF0IDwke2Zvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIHZub2RlLnR5cGUpfT5gXG4gICAgICAgICkuam9pbihcIlxcblwiKSxcbiAgICAgICAgdHJhY2VcbiAgICAgIF1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHdhcm5BcmdzID0gW2BbVnVlIHdhcm5dOiAke21zZ31gLCAuLi5hcmdzXTtcbiAgICBpZiAodHJhY2UubGVuZ3RoICYmIC8vIGF2b2lkIHNwYW1taW5nIGNvbnNvbGUgZHVyaW5nIHRlc3RzXG4gICAgdHJ1ZSkge1xuICAgICAgd2FybkFyZ3MucHVzaChgXG5gLCAuLi5mb3JtYXRUcmFjZSh0cmFjZSkpO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oLi4ud2FybkFyZ3MpO1xuICB9XG4gIHJlc2V0VHJhY2tpbmcoKTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xuICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gIGlmICghY3VycmVudFZOb2RlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xuICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XG4gICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcbiAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgcmVjdXJzZUNvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xuICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xuICBjb25zdCBsb2dzID0gW107XG4gIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XG4gICAgbG9ncy5wdXNoKC4uLmkgPT09IDAgPyBbXSA6IFtgXG5gXSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICB9KTtcbiAgcmV0dXJuIGxvZ3M7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XG4gIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xuICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgIHZub2RlLmNvbXBvbmVudCxcbiAgICB2bm9kZS50eXBlLFxuICAgIGlzUm9vdFxuICApfWA7XG4gIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcbiAgcmV0dXJuIHZub2RlLnByb3BzID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdIDogW29wZW4gKyBjbG9zZV07XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xuICBjb25zdCByZXMgPSBbXTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICB9KTtcbiAgaWYgKGtleXMubGVuZ3RoID4gMykge1xuICAgIHJlcy5wdXNoKGAgLi4uYCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlcih2YWwsIHR5cGUpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKVxuICAgIHJldHVybjtcbiAgaWYgKHZhbCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgIT09IFwibnVtYmVyXCIpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gZ290ICR7SlNPTi5zdHJpbmdpZnkodmFsKX0uYCk7XG4gIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgIHdhcm4kMShgJHt0eXBlfSBpcyBOYU4gLSB0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuYCk7XG4gIH1cbn1cblxuY29uc3QgRXJyb3JDb2RlcyA9IHtcbiAgXCJTRVRVUF9GVU5DVElPTlwiOiAwLFxuICBcIjBcIjogXCJTRVRVUF9GVU5DVElPTlwiLFxuICBcIlJFTkRFUl9GVU5DVElPTlwiOiAxLFxuICBcIjFcIjogXCJSRU5ERVJfRlVOQ1RJT05cIixcbiAgXCJXQVRDSF9HRVRURVJcIjogMixcbiAgXCIyXCI6IFwiV0FUQ0hfR0VUVEVSXCIsXG4gIFwiV0FUQ0hfQ0FMTEJBQ0tcIjogMyxcbiAgXCIzXCI6IFwiV0FUQ0hfQ0FMTEJBQ0tcIixcbiAgXCJXQVRDSF9DTEVBTlVQXCI6IDQsXG4gIFwiNFwiOiBcIldBVENIX0NMRUFOVVBcIixcbiAgXCJOQVRJVkVfRVZFTlRfSEFORExFUlwiOiA1LFxuICBcIjVcIjogXCJOQVRJVkVfRVZFTlRfSEFORExFUlwiLFxuICBcIkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSXCIsXG4gIFwiVk5PREVfSE9PS1wiOiA3LFxuICBcIjdcIjogXCJWTk9ERV9IT09LXCIsXG4gIFwiRElSRUNUSVZFX0hPT0tcIjogOCxcbiAgXCI4XCI6IFwiRElSRUNUSVZFX0hPT0tcIixcbiAgXCJUUkFOU0lUSU9OX0hPT0tcIjogOSxcbiAgXCI5XCI6IFwiVFJBTlNJVElPTl9IT09LXCIsXG4gIFwiQVBQX0VSUk9SX0hBTkRMRVJcIjogMTAsXG4gIFwiMTBcIjogXCJBUFBfRVJST1JfSEFORExFUlwiLFxuICBcIkFQUF9XQVJOX0hBTkRMRVJcIjogMTEsXG4gIFwiMTFcIjogXCJBUFBfV0FSTl9IQU5ETEVSXCIsXG4gIFwiRlVOQ1RJT05fUkVGXCI6IDEyLFxuICBcIjEyXCI6IFwiRlVOQ1RJT05fUkVGXCIsXG4gIFwiQVNZTkNfQ09NUE9ORU5UX0xPQURFUlwiOiAxMyxcbiAgXCIxM1wiOiBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIixcbiAgXCJTQ0hFRFVMRVJcIjogMTQsXG4gIFwiMTRcIjogXCJTQ0hFRFVMRVJcIlxufTtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MkMSA9IHtcbiAgW1wic3BcIl06IFwic2VydmVyUHJlZmV0Y2ggaG9va1wiLFxuICBbXCJiY1wiXTogXCJiZWZvcmVDcmVhdGUgaG9va1wiLFxuICBbXCJjXCJdOiBcImNyZWF0ZWQgaG9va1wiLFxuICBbXCJibVwiXTogXCJiZWZvcmVNb3VudCBob29rXCIsXG4gIFtcIm1cIl06IFwibW91bnRlZCBob29rXCIsXG4gIFtcImJ1XCJdOiBcImJlZm9yZVVwZGF0ZSBob29rXCIsXG4gIFtcInVcIl06IFwidXBkYXRlZFwiLFxuICBbXCJidW1cIl06IFwiYmVmb3JlVW5tb3VudCBob29rXCIsXG4gIFtcInVtXCJdOiBcInVubW91bnRlZCBob29rXCIsXG4gIFtcImFcIl06IFwiYWN0aXZhdGVkIGhvb2tcIixcbiAgW1wiZGFcIl06IFwiZGVhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJlY1wiXTogXCJlcnJvckNhcHR1cmVkIGhvb2tcIixcbiAgW1wicnRjXCJdOiBcInJlbmRlclRyYWNrZWQgaG9va1wiLFxuICBbXCJydGdcIl06IFwicmVuZGVyVHJpZ2dlcmVkIGhvb2tcIixcbiAgWzBdOiBcInNldHVwIGZ1bmN0aW9uXCIsXG4gIFsxXTogXCJyZW5kZXIgZnVuY3Rpb25cIixcbiAgWzJdOiBcIndhdGNoZXIgZ2V0dGVyXCIsXG4gIFszXTogXCJ3YXRjaGVyIGNhbGxiYWNrXCIsXG4gIFs0XTogXCJ3YXRjaGVyIGNsZWFudXAgZnVuY3Rpb25cIixcbiAgWzVdOiBcIm5hdGl2ZSBldmVudCBoYW5kbGVyXCIsXG4gIFs2XTogXCJjb21wb25lbnQgZXZlbnQgaGFuZGxlclwiLFxuICBbN106IFwidm5vZGUgaG9va1wiLFxuICBbOF06IFwiZGlyZWN0aXZlIGhvb2tcIixcbiAgWzldOiBcInRyYW5zaXRpb24gaG9va1wiLFxuICBbMTBdOiBcImFwcCBlcnJvckhhbmRsZXJcIixcbiAgWzExXTogXCJhcHAgd2FybkhhbmRsZXJcIixcbiAgWzEyXTogXCJyZWYgZnVuY3Rpb25cIixcbiAgWzEzXTogXCJhc3luYyBjb21wb25lbnQgbG9hZGVyXCIsXG4gIFsxNF06IFwic2NoZWR1bGVyIGZsdXNoLiBUaGlzIGlzIGxpa2VseSBhIFZ1ZSBpbnRlcm5hbHMgYnVnLiBQbGVhc2Ugb3BlbiBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29yZSAuXCJcbn07XG5mdW5jdGlvbiBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGFyZ3MgPyBmbiguLi5hcmdzKSA6IGZuKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICB9XG59XG5mdW5jdGlvbiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgY29uc3QgcmVzID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncyk7XG4gICAgaWYgKHJlcyAmJiBpc1Byb21pc2UocmVzKSkge1xuICAgICAgcmVzLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xuICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcbiAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBlcnJvckluZm8gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdIDogYGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jcnVudGltZS0ke3R5cGV9YDtcbiAgICB3aGlsZSAoY3VyKSB7XG4gICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgfVxuICAgIGNvbnN0IGFwcEVycm9ySGFuZGxlciA9IGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLmVycm9ySGFuZGxlcjtcbiAgICBpZiAoYXBwRXJyb3JIYW5kbGVyKSB7XG4gICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICAgIGFwcEVycm9ySGFuZGxlcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMTAsXG4gICAgICAgIFtlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvXVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYpO1xufVxuZnVuY3Rpb24gbG9nRXJyb3IoZXJyLCB0eXBlLCBjb250ZXh0Vk5vZGUsIHRocm93SW5EZXYgPSB0cnVlKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgaW5mbyA9IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwdXNoV2FybmluZ0NvbnRleHQoY29udGV4dFZOb2RlKTtcbiAgICB9XG4gICAgd2FybiQxKGBVbmhhbmRsZWQgZXJyb3Ike2luZm8gPyBgIGR1cmluZyBleGVjdXRpb24gb2YgJHtpbmZvfWAgOiBgYH1gKTtcbiAgICBpZiAoY29udGV4dFZOb2RlKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgIH1cbiAgICBpZiAodGhyb3dJbkRldikge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5sZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xubGV0IGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XG5jb25zdCBxdWV1ZSA9IFtdO1xubGV0IGZsdXNoSW5kZXggPSAwO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xufVxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGlkKSB7XG4gIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICBjb25zdCBtaWRkbGUgPSBzdGFydCArIGVuZCA+Pj4gMTtcbiAgICBjb25zdCBtaWRkbGVKb2IgPSBxdWV1ZVttaWRkbGVdO1xuICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQobWlkZGxlSm9iKTtcbiAgICBpZiAobWlkZGxlSm9iSWQgPCBpZCB8fCBtaWRkbGVKb2JJZCA9PT0gaWQgJiYgbWlkZGxlSm9iLnByZSkge1xuICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQgPSBtaWRkbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xuICBpZiAoIXF1ZXVlLmxlbmd0aCB8fCAhcXVldWUuaW5jbHVkZXMoXG4gICAgam9iLFxuICAgIGlzRmx1c2hpbmcgJiYgam9iLmFsbG93UmVjdXJzZSA/IGZsdXNoSW5kZXggKyAxIDogZmx1c2hJbmRleFxuICApKSB7XG4gICAgaWYgKGpvYi5pZCA9PSBudWxsKSB7XG4gICAgICBxdWV1ZS5wdXNoKGpvYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iLmlkKSwgMCwgam9iKTtcbiAgICB9XG4gICAgcXVldWVGbHVzaCgpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZUZsdXNoKCkge1xuICBpZiAoIWlzRmx1c2hpbmcgJiYgIWlzRmx1c2hQZW5kaW5nKSB7XG4gICAgaXNGbHVzaFBlbmRpbmcgPSB0cnVlO1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xuICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlSm9iKGpvYikge1xuICBjb25zdCBpID0gcXVldWUuaW5kZXhPZihqb2IpO1xuICBpZiAoaSA+IGZsdXNoSW5kZXgpIHtcbiAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlUG9zdEZsdXNoQ2IoY2IpIHtcbiAgaWYgKCFpc0FycmF5KGNiKSkge1xuICAgIGlmICghYWN0aXZlUG9zdEZsdXNoQ2JzIHx8ICFhY3RpdmVQb3N0Rmx1c2hDYnMuaW5jbHVkZXMoXG4gICAgICBjYixcbiAgICAgIGNiLmFsbG93UmVjdXJzZSA/IHBvc3RGbHVzaEluZGV4ICsgMSA6IHBvc3RGbHVzaEluZGV4XG4gICAgKSkge1xuICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKC4uLmNiKTtcbiAgfVxuICBxdWV1ZUZsdXNoKCk7XG59XG5mdW5jdGlvbiBmbHVzaFByZUZsdXNoQ2JzKGluc3RhbmNlLCBzZWVuLCBpID0gaXNGbHVzaGluZyA/IGZsdXNoSW5kZXggKyAxIDogMCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNiID0gcXVldWVbaV07XG4gICAgaWYgKGNiICYmIGNiLnByZSkge1xuICAgICAgaWYgKGluc3RhbmNlICYmIGNiLmlkICE9PSBpbnN0YW5jZS51aWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgY2IpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgaS0tO1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGZsdXNoUG9zdEZsdXNoQ2JzKHNlZW4pIHtcbiAgaWYgKHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgY29uc3QgZGVkdXBlZCA9IFsuLi5uZXcgU2V0KHBlbmRpbmdQb3N0Rmx1c2hDYnMpXS5zb3J0KFxuICAgICAgKGEsIGIpID0+IGdldElkKGEpIC0gZ2V0SWQoYilcbiAgICApO1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoID0gMDtcbiAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzKSB7XG4gICAgICBhY3RpdmVQb3N0Rmx1c2hDYnMucHVzaCguLi5kZWR1cGVkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gZGVkdXBlZDtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZm9yIChwb3N0Rmx1c2hJbmRleCA9IDA7IHBvc3RGbHVzaEluZGV4IDwgYWN0aXZlUG9zdEZsdXNoQ2JzLmxlbmd0aDsgcG9zdEZsdXNoSW5kZXgrKykge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGFjdGl2ZVBvc3RGbHVzaENic1twb3N0Rmx1c2hJbmRleF0pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XSgpO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcbiAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IEluZmluaXR5IDogam9iLmlkO1xuY29uc3QgY29tcGFyYXRvciA9IChhLCBiKSA9PiB7XG4gIGNvbnN0IGRpZmYgPSBnZXRJZChhKSAtIGdldElkKGIpO1xuICBpZiAoZGlmZiA9PT0gMCkge1xuICAgIGlmIChhLnByZSAmJiAhYi5wcmUpXG4gICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGIucHJlICYmICFhLnByZSlcbiAgICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiBkaWZmO1xufTtcbmZ1bmN0aW9uIGZsdXNoSm9icyhzZWVuKSB7XG4gIGlzRmx1c2hQZW5kaW5nID0gZmFsc2U7XG4gIGlzRmx1c2hpbmcgPSB0cnVlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgcXVldWUuc29ydChjb21wYXJhdG9yKTtcbiAgY29uc3QgY2hlY2sgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKGpvYikgPT4gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGpvYikgOiBOT09QO1xuICB0cnkge1xuICAgIGZvciAoZmx1c2hJbmRleCA9IDA7IGZsdXNoSW5kZXggPCBxdWV1ZS5sZW5ndGg7IGZsdXNoSW5kZXgrKykge1xuICAgICAgY29uc3Qgam9iID0gcXVldWVbZmx1c2hJbmRleF07XG4gICAgICBpZiAoam9iICYmIGpvYi5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoam9iLCBudWxsLCAxNCk7XG4gICAgICB9XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIGZsdXNoSW5kZXggPSAwO1xuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoc2Vlbik7XG4gICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggfHwgcGVuZGluZ1Bvc3RGbHVzaENicy5sZW5ndGgpIHtcbiAgICAgIGZsdXNoSm9icyhzZWVuKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBmbikge1xuICBpZiAoIXNlZW4uaGFzKGZuKSkge1xuICAgIHNlZW4uc2V0KGZuLCAxKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb3VudCA9IHNlZW4uZ2V0KGZuKTtcbiAgICBpZiAoY291bnQgPiBSRUNVUlNJT05fTElNSVQpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gZm4ub3duZXJJbnN0YW5jZTtcbiAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgICAgaGFuZGxlRXJyb3IoXG4gICAgICAgIGBNYXhpbXVtIHJlY3Vyc2l2ZSB1cGRhdGVzIGV4Y2VlZGVkJHtjb21wb25lbnROYW1lID8gYCBpbiBjb21wb25lbnQgPCR7Y29tcG9uZW50TmFtZX0+YCA6IGBgfS4gVGhpcyBtZWFucyB5b3UgaGF2ZSBhIHJlYWN0aXZlIGVmZmVjdCB0aGF0IGlzIG11dGF0aW5nIGl0cyBvd24gZGVwZW5kZW5jaWVzIGFuZCB0aHVzIHJlY3Vyc2l2ZWx5IHRyaWdnZXJpbmcgaXRzZWxmLiBQb3NzaWJsZSBzb3VyY2VzIGluY2x1ZGUgY29tcG9uZW50IHRlbXBsYXRlLCByZW5kZXIgZnVuY3Rpb24sIHVwZGF0ZWQgaG9vayBvciB3YXRjaGVyIHNvdXJjZSBmdW5jdGlvbi5gLFxuICAgICAgICBudWxsLFxuICAgICAgICAxMFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWVuLnNldChmbiwgY291bnQgKyAxKTtcbiAgICB9XG4gIH1cbn1cblxubGV0IGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbmNvbnN0IGhtckRpcnR5Q29tcG9uZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfSE1SX1JVTlRJTUVfXyA9IHtcbiAgICBjcmVhdGVSZWNvcmQ6IHRyeVdyYXAoY3JlYXRlUmVjb3JkKSxcbiAgICByZXJlbmRlcjogdHJ5V3JhcChyZXJlbmRlciksXG4gICAgcmVsb2FkOiB0cnlXcmFwKHJlbG9hZClcbiAgfTtcbn1cbmNvbnN0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5mdW5jdGlvbiByZWdpc3RlckhNUihpbnN0YW5jZSkge1xuICBjb25zdCBpZCA9IGluc3RhbmNlLnR5cGUuX19obXJJZDtcbiAgbGV0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkge1xuICAgIGNyZWF0ZVJlY29yZChpZCwgaW5zdGFuY2UudHlwZSk7XG4gICAgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIH1cbiAgcmVjb3JkLmluc3RhbmNlcy5hZGQoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gdW5yZWdpc3RlckhNUihpbnN0YW5jZSkge1xuICBtYXAuZ2V0KGluc3RhbmNlLnR5cGUuX19obXJJZCkuaW5zdGFuY2VzLmRlbGV0ZShpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVSZWNvcmQoaWQsIGluaXRpYWxEZWYpIHtcbiAgaWYgKG1hcC5oYXMoaWQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIG1hcC5zZXQoaWQsIHtcbiAgICBpbml0aWFsRGVmOiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbml0aWFsRGVmKSxcbiAgICBpbnN0YW5jZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KClcbiAgfSk7XG4gIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkgPyBjb21wb25lbnQuX192Y2NPcHRzIDogY29tcG9uZW50O1xufVxuZnVuY3Rpb24gcmVyZW5kZXIoaWQsIG5ld1JlbmRlcikge1xuICBjb25zdCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmVjb3JkLmluaXRpYWxEZWYucmVuZGVyID0gbmV3UmVuZGVyO1xuICBbLi4ucmVjb3JkLmluc3RhbmNlc10uZm9yRWFjaCgoaW5zdGFuY2UpID0+IHtcbiAgICBpZiAobmV3UmVuZGVyKSB7XG4gICAgICBpbnN0YW5jZS5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgICBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKS5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gICAgfVxuICAgIGluc3RhbmNlLnJlbmRlckNhY2hlID0gW107XG4gICAgaXNIbXJVcGRhdGluZyA9IHRydWU7XG4gICAgaW5zdGFuY2UuZWZmZWN0LmRpcnR5ID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICBpc0htclVwZGF0aW5nID0gZmFsc2U7XG4gIH0pO1xufVxuZnVuY3Rpb24gcmVsb2FkKGlkLCBuZXdDb21wKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZClcbiAgICByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoIWhtckRpcnR5Q29tcG9uZW50cy5oYXMob2xkQ29tcCkpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKG9sZENvbXApO1xuICAgIH1cbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnByb3BzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQuZW1pdHNDYWNoZS5kZWxldGUoaW5zdGFuY2UudHlwZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5vcHRpb25zQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGlmIChpbnN0YW5jZS5jZVJlbG9hZCkge1xuICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChvbGRDb21wKTtcbiAgICAgIGluc3RhbmNlLmNlUmVsb2FkKG5ld0NvbXAuc3R5bGVzKTtcbiAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUob2xkQ29tcCk7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICAgIGluc3RhbmNlLnBhcmVudC5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgcXVldWVKb2IoaW5zdGFuY2UucGFyZW50LnVwZGF0ZSk7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCkge1xuICAgICAgaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIltITVJdIFJvb3Qgb3IgbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSBtb2RpZmllZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHF1ZXVlUG9zdEZsdXNoQ2IoKCkgPT4ge1xuICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgaW5zdGFuY2VzKSB7XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuZGVsZXRlKFxuICAgICAgICBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgZXh0ZW5kKG9sZENvbXAsIG5ld0NvbXApO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgaWYgKGtleSAhPT0gXCJfX2ZpbGVcIiAmJiAhKGtleSBpbiBuZXdDb21wKSkge1xuICAgICAgZGVsZXRlIG9sZENvbXBba2V5XTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcbiAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5cbmxldCBkZXZ0b29scyQxO1xubGV0IGJ1ZmZlciA9IFtdO1xubGV0IGRldnRvb2xzTm90SW5zdGFsbGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbWl0JDEoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgIGJ1ZmZlci5wdXNoKHsgZXZlbnQsIGFyZ3MgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayQxKGhvb2ssIHRhcmdldCkge1xuICB2YXIgX2EsIF9iO1xuICBkZXZ0b29scyQxID0gaG9vaztcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVuYWJsZWQgPSB0cnVlO1xuICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzJDEuZW1pdChldmVudCwgLi4uYXJncykpO1xuICAgIGJ1ZmZlciA9IFtdO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvLyBzb21lIGVudnMgbW9jayB3aW5kb3cgYnV0IG5vdCBmdWxseVxuICAgIHdpbmRvdy5IVE1MRWxlbWVudCAmJiAvLyBhbHNvIGV4Y2x1ZGUganNkb21cbiAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImpzZG9tXCIpKVxuICApIHtcbiAgICBjb25zdCByZXBsYXkgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdO1xuICAgIHJlcGxheS5wdXNoKChuZXdIb29rKSA9PiB7XG4gICAgICBzZXREZXZ0b29sc0hvb2skMShuZXdIb29rLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFkZXZ0b29scyQxKSB7XG4gICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gbnVsbDtcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgIH1cbiAgICB9LCAzZTMpO1xuICB9IGVsc2Uge1xuICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xuICBlbWl0JDEoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcbiAgICBGcmFnbWVudCxcbiAgICBUZXh0LFxuICAgIENvbW1lbnQsXG4gICAgU3RhdGljXG4gIH0pO1xufVxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xuICBlbWl0JDEoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXG4gIFwiY29tcG9uZW50OmFkZGVkXCIgLyogQ09NUE9ORU5UX0FEREVEICovXG4pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xuY29uc3QgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXG4gIFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IChjb21wb25lbnQpID0+IHtcbiAgaWYgKGRldnRvb2xzJDEgJiYgdHlwZW9mIGRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIC8vIHJlbW92ZSB0aGUgY29tcG9uZW50IGlmIGl0IHdhc24ndCBidWZmZXJlZFxuICAhZGV2dG9vbHMkMS5jbGVhbnVwQnVmZmVyKGNvbXBvbmVudCkpIHtcbiAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xuICAgIGVtaXQkMShcbiAgICAgIGhvb2ssXG4gICAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgICBjb21wb25lbnQudWlkLFxuICAgICAgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdm9pZCAwLFxuICAgICAgY29tcG9uZW50XG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IGRldnRvb2xzUGVyZlN0YXJ0ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFxuICBcInBlcmY6c3RhcnRcIiAvKiBQRVJGT1JNQU5DRV9TVEFSVCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzUGVyZkVuZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcbiAgXCJwZXJmOmVuZFwiIC8qIFBFUkZPUk1BTkNFX0VORCAqL1xuKTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcbiAgICBlbWl0JDEoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQsIHR5cGUsIHRpbWUpO1xuICB9O1xufVxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xuICBlbWl0JDEoXG4gICAgXCJjb21wb25lbnQ6ZW1pdFwiIC8qIENPTVBPTkVOVF9FTUlUICovLFxuICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICBjb21wb25lbnQsXG4gICAgZXZlbnQsXG4gICAgcGFyYW1zXG4gICk7XG59XG5cbmZ1bmN0aW9uIGVtaXQoaW5zdGFuY2UsIGV2ZW50LCAuLi5yYXdBcmdzKSB7XG4gIGlmIChpbnN0YW5jZS5pc1VubW91bnRlZClcbiAgICByZXR1cm47XG4gIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVtaXRzT3B0aW9ucyxcbiAgICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgICB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGVtaXRzT3B0aW9ucykge1xuICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSAmJiB0cnVlKSB7XG4gICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGV2ZW50KSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0b3IpKSB7XG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRvciguLi5yYXdBcmdzKTtcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBhcmdzID0gcmF3QXJncztcbiAgY29uc3QgaXNNb2RlbExpc3RlbmVyID0gZXZlbnQuc3RhcnRzV2l0aChcInVwZGF0ZTpcIik7XG4gIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xuICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcbiAgICBjb25zdCBtb2RpZmllcnNLZXkgPSBgJHttb2RlbEFyZyA9PT0gXCJtb2RlbFZhbHVlXCIgPyBcIm1vZGVsXCIgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xuICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcbiAgICBpZiAodHJpbSkge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKChhKSA9PiBpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSk7XG4gICAgfVxuICAgIGlmIChudW1iZXIpIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChsb29zZVRvTnVtYmVyKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50ICR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBpbnN0YW5jZS50eXBlXG4gICAgICAgICl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKFxuICAgICAgICAgIGV2ZW50XG4gICAgICAgICl9XCIgaW5zdGVhZCBvZiBcIiR7ZXZlbnR9XCIuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbGV0IGhhbmRsZXJOYW1lO1xuICBsZXQgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGV2ZW50KV0gfHwgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxuICBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpXTtcbiAgaWYgKCFoYW5kbGVyICYmIGlzTW9kZWxMaXN0ZW5lcikge1xuICAgIGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKV07XG4gIH1cbiAgaWYgKGhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxuICBjb25zdCBvbmNlSGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lICsgYE9uY2VgXTtcbiAgaWYgKG9uY2VIYW5kbGVyKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XG4gICAgICBpbnN0YW5jZS5lbWl0dGVkID0ge307XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSA9IHRydWU7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBvbmNlSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gYXBwQ29udGV4dC5lbWl0c0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5lbWl0cztcbiAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRFbWl0cyA9IChyYXcyKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcyLCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChub3JtYWxpemVkRnJvbUV4dGVuZCkge1xuICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgcmF3LmZvckVhY2goKGtleSkgPT4gbm9ybWFsaXplZFtrZXldID0gbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIG5vcm1hbGl6ZWQpO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XG4gIGlmICghb3B0aW9ucyB8fCAhaXNPbihrZXkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sIFwiXCIpO1xuICByZXR1cm4gaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fCBoYXNPd24ob3B0aW9ucywgaHlwaGVuYXRlKGtleSkpIHx8IGhhc093bihvcHRpb25zLCBrZXkpO1xufVxuXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG4gIGN1cnJlbnRTY29wZUlkID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWQgfHwgbnVsbDtcbiAgcmV0dXJuIHByZXY7XG59XG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xuICBjdXJyZW50U2NvcGVJZCA9IGlkO1xufVxuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xufVxuY29uc3Qgd2l0aFNjb3BlSWQgPSAoX2lkKSA9PiB3aXRoQ3R4O1xuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QpIHtcbiAgaWYgKCFjdHgpXG4gICAgcmV0dXJuIGZuO1xuICBpZiAoZm4uX24pIHtcbiAgICByZXR1cm4gZm47XG4gIH1cbiAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgIHNldEJsb2NrVHJhY2tpbmcoLTEpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBmbiguLi5hcmdzKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XG4gICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICBzZXRCbG9ja1RyYWNraW5nKDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChjdHgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9uID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2QgPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcbn1cblxubGV0IGFjY2Vzc2VkQXR0cnMgPSBmYWxzZTtcbmZ1bmN0aW9uIG1hcmtBdHRyc0FjY2Vzc2VkKCkge1xuICBhY2Nlc3NlZEF0dHJzID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIHR5cGU6IENvbXBvbmVudCxcbiAgICB2bm9kZSxcbiAgICBwcm94eSxcbiAgICB3aXRoUHJveHksXG4gICAgcHJvcHMsXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXSxcbiAgICBzbG90cyxcbiAgICBhdHRycyxcbiAgICBlbWl0LFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJDYWNoZSxcbiAgICBkYXRhLFxuICAgIHNldHVwU3RhdGUsXG4gICAgY3R4LFxuICAgIGluaGVyaXRBdHRyc1xuICB9ID0gaW5zdGFuY2U7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBmYWxsdGhyb3VnaEF0dHJzO1xuICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNCkge1xuICAgICAgY29uc3QgcHJveHlUb1VzZSA9IHdpdGhQcm94eSB8fCBwcm94eTtcbiAgICAgIGNvbnN0IHRoaXNQcm94eSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXAgPyBuZXcgUHJveHkocHJveHlUb1VzZSwge1xuICAgICAgICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYFByb3BlcnR5ICcke1N0cmluZyhcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApfScgd2FzIGFjY2Vzc2VkIHZpYSAndGhpcycuIEF2b2lkIHVzaW5nICd0aGlzJyBpbiB0ZW1wbGF0ZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcik7XG4gICAgICAgIH1cbiAgICAgIH0pIDogcHJveHlUb1VzZTtcbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIuY2FsbChcbiAgICAgICAgICB0aGlzUHJveHksXG4gICAgICAgICAgcHJveHlUb1VzZSxcbiAgICAgICAgICByZW5kZXJDYWNoZSxcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBzZXR1cFN0YXRlLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY3R4XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlcjIgPSBDb21wb25lbnQ7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIyLmxlbmd0aCA+IDEgPyByZW5kZXIyKFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgICAgICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbG90cyxcbiAgICAgICAgICAgIGVtaXRcbiAgICAgICAgICB9IDogeyBhdHRycywgc2xvdHMsIGVtaXQgfVxuICAgICAgICApIDogcmVuZGVyMihcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgICAgLyogd2Uga25vdyBpdCBkb2Vzbid0IG5lZWQgaXQgKi9cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBDb21wb25lbnQucHJvcHMgPyBhdHRycyA6IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaChhdHRycyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBibG9ja1N0YWNrLmxlbmd0aCA9IDA7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgMSk7XG4gICAgcmVzdWx0ID0gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH1cbiAgbGV0IHJvb3QgPSByZXN1bHQ7XG4gIGxldCBzZXRSb290ID0gdm9pZCAwO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByZXN1bHQucGF0Y2hGbGFnID4gMCAmJiByZXN1bHQucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIFtyb290LCBzZXRSb290XSA9IGdldENoaWxkUm9vdChyZXN1bHQpO1xuICB9XG4gIGlmIChmYWxsdGhyb3VnaEF0dHJzICYmIGluaGVyaXRBdHRycyAhPT0gZmFsc2UpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmFsbHRocm91Z2hBdHRycyk7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHJvb3Q7XG4gICAgaWYgKGtleXMubGVuZ3RoKSB7XG4gICAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2KSkge1xuICAgICAgICBpZiAocHJvcHNPcHRpb25zICYmIGtleXMuc29tZShpc01vZGVsTGlzdGVuZXIpKSB7XG4gICAgICAgICAgZmFsbHRocm91Z2hBdHRycyA9IGZpbHRlck1vZGVsTGlzdGVuZXJzKFxuICAgICAgICAgICAgZmFsbHRocm91Z2hBdHRycyxcbiAgICAgICAgICAgIHByb3BzT3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcm9vdCA9IGNsb25lVk5vZGUocm9vdCwgZmFsbHRocm91Z2hBdHRycyk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWFjY2Vzc2VkQXR0cnMgJiYgcm9vdC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgIGNvbnN0IGFsbEF0dHJzID0gT2JqZWN0LmtleXMoYXR0cnMpO1xuICAgICAgICBjb25zdCBldmVudEF0dHJzID0gW107XG4gICAgICAgIGNvbnN0IGV4dHJhQXR0cnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhbGxBdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBhbGxBdHRyc1tpXTtcbiAgICAgICAgICBpZiAoaXNPbihrZXkpKSB7XG4gICAgICAgICAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpKSB7XG4gICAgICAgICAgICAgIGV2ZW50QXR0cnMucHVzaChrZXlbMl0udG9Mb3dlckNhc2UoKSArIGtleS5zbGljZSgzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dHJhQXR0cnMucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0cmFBdHRycy5sZW5ndGgpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgRXh0cmFuZW91cyBub24tcHJvcHMgYXR0cmlidXRlcyAoJHtleHRyYUF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudEF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1lbWl0cyBldmVudCBsaXN0ZW5lcnMgKCR7ZXZlbnRBdHRycy5qb2luKFwiLCBcIil9KSB3ZXJlIHBhc3NlZCB0byBjb21wb25lbnQgYnV0IGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBiZWNhdXNlIGNvbXBvbmVudCByZW5kZXJzIGZyYWdtZW50IG9yIHRleHQgcm9vdCBub2Rlcy4gSWYgdGhlIGxpc3RlbmVyIGlzIGludGVuZGVkIHRvIGJlIGEgY29tcG9uZW50IGN1c3RvbSBldmVudCBsaXN0ZW5lciBvbmx5LCBkZWNsYXJlIGl0IHVzaW5nIHRoZSBcImVtaXRzXCIgb3B0aW9uLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh2bm9kZS5kaXJzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRWxlbWVudFJvb3Qocm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFJ1bnRpbWUgZGlyZWN0aXZlIHVzZWQgb24gY29tcG9uZW50IHdpdGggbm9uLWVsZW1lbnQgcm9vdCBub2RlLiBUaGUgZGlyZWN0aXZlcyB3aWxsIG5vdCBmdW5jdGlvbiBhcyBpbnRlbmRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByb290ID0gY2xvbmVWTm9kZShyb290KTtcbiAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgfVxuICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByb290LnRyYW5zaXRpb24gPSB2bm9kZS50cmFuc2l0aW9uO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldFJvb3QpIHtcbiAgICBzZXRSb290KHJvb3QpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHJvb3Q7XG4gIH1cbiAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IHJhd0NoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbiwgZmFsc2UpO1xuICBpZiAoIWNoaWxkUm9vdCkge1xuICAgIHJldHVybiBbdm5vZGUsIHZvaWQgMF07XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnID4gMCAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIHJldHVybiBnZXRDaGlsZFJvb3QoY2hpbGRSb290KTtcbiAgfVxuICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcbiAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xuICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XG4gICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgaWYgKGR5bmFtaWNJbmRleCA+IC0xKSB7XG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZWRSb290LnBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcbn07XG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuLCByZWN1cnNlID0gdHJ1ZSkge1xuICBsZXQgc2luZ2xlUm9vdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gXCJ2LWlmXCIpIHtcbiAgICAgICAgaWYgKHNpbmdsZVJvb3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2luZ2xlUm9vdCA9IGNoaWxkO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJlY3Vyc2UgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgPiAwICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlclNpbmdsZVJvb3Qoc2luZ2xlUm9vdC5jaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpbmdsZVJvb3Q7XG59XG5jb25zdCBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2ggPSAoYXR0cnMpID0+IHtcbiAgbGV0IHJlcztcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoa2V5ID09PSBcImNsYXNzXCIgfHwga2V5ID09PSBcInN0eWxlXCIgfHwgaXNPbihrZXkpKSB7XG4gICAgICAocmVzIHx8IChyZXMgPSB7fSkpW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGZpbHRlck1vZGVsTGlzdGVuZXJzID0gKGF0dHJzLCBwcm9wcykgPT4ge1xuICBjb25zdCByZXMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xuICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmICg2IHwgMSkgfHwgdm5vZGUudHlwZSA9PT0gQ29tbWVudDtcbn07XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xuICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xuICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xuICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9wdGltaXplZCAmJiBwYXRjaEZsYWcgPj0gMCkge1xuICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgIH1cbiAgICBpZiAoIW5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xuICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XG4gIGlmIChuZXh0S2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHByZXZQcm9wcykubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xuICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwpIHtcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGNvbnN0IHJvb3QgPSBwYXJlbnQuc3ViVHJlZTtcbiAgICBpZiAocm9vdC5zdXNwZW5zZSAmJiByb290LnN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9PT0gdm5vZGUpIHtcbiAgICAgIHJvb3QuZWwgPSB2bm9kZS5lbDtcbiAgICB9XG4gICAgaWYgKHJvb3QgPT09IHZub2RlKSB7XG4gICAgICAodm5vZGUgPSBwYXJlbnQudm5vZGUpLmVsID0gZWw7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IFwiY29tcG9uZW50c1wiO1xuY29uc3QgRElSRUNUSVZFUyA9IFwiZGlyZWN0aXZlc1wiO1xuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sLmZvcihcInYtbmRjXCIpO1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xuICAgICAgY29uc3Qgc2VsZk5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgaWYgKHNlbGZOYW1lICYmIChzZWxmTmFtZSA9PT0gbmFtZSB8fCBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHwgc2VsZk5hbWUgPT09IGNhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpKSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSAoXG4gICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxuICAgICAgcmVzb2x2ZShpbnN0YW5jZVt0eXBlXSB8fCBDb21wb25lbnRbdHlwZV0sIG5hbWUpIHx8IC8vIGdsb2JhbCByZWdpc3RyYXRpb25cbiAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSlcbiAgICApO1xuICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgICAgY29uc3QgZXh0cmEgPSB0eXBlID09PSBDT01QT05FTlRTID8gYFxuSWYgdGhpcyBpcyBhIG5hdGl2ZSBjdXN0b20gZWxlbWVudCwgbWFrZSBzdXJlIHRvIGV4Y2x1ZGUgaXQgZnJvbSBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gIDogYGA7XG4gICAgICB3YXJuJDEoYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9JHtleHRyYX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcbiAgcmV0dXJuIHJlZ2lzdHJ5ICYmIChyZWdpc3RyeVtuYW1lXSB8fCByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHwgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKTtcbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcbmxldCBzdXNwZW5zZUlkID0gMDtcbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcbiAgbmFtZTogXCJTdXNwZW5zZVwiLFxuICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XG4gIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXG4gIC8vIG9uIGEgdm5vZGUncyB0eXBlIGFuZCBjYWxscyB0aGUgYHByb2Nlc3NgIG1ldGhvZCwgcGFzc2luZyBpbiByZW5kZXJlclxuICAvLyBpbnRlcm5hbHMuXG4gIF9faXNTdXNwZW5zZTogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBtb3VudFN1c3BlbnNlKFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UuZGVwcyA+IDAgJiYgIW4xLnN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xuICAgICAgICBuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlO1xuICAgICAgICBuMi5zdXNwZW5zZS52bm9kZSA9IG4yO1xuICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXRjaFN1c3BlbnNlKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICAgICApO1xuICAgIH1cbiAgfSxcbiAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxuICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnksXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbmNvbnN0IFN1c3BlbnNlID0gU3VzcGVuc2VJbXBsIDtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgZXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkoXG4gICAgdm5vZGUsXG4gICAgcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgYW5jaG9yLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHMsXG4gICAgb3B0aW1pemVkLFxuICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICk7XG4gIHBhdGNoKFxuICAgIG51bGwsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgbnVsbCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkc1xuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25QZW5kaW5nXCIpO1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvbkZhbGxiYWNrXCIpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLnNzRmFsbGJhY2ssXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgbjIuZWwgPSBuMS5lbDtcbiAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyRXZlbnQobjIsIFwib25QZW5kaW5nXCIpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgIGlmIChuZXdCcmFuY2guc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IG5ld0JyYW5jaC5jb21wb25lbnQuc3VzcGVuc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIH1cbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/IFwiaW5mb1wiIDogXCJsb2dcIl0oXG4gICAgICBgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG06IG1vdmUsXG4gICAgdW06IHVubW91bnQsXG4gICAgbjogbmV4dCxcbiAgICBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgbGV0IHBhcmVudFN1c3BlbnNlSWQ7XG4gIGNvbnN0IGlzU3VzcGVuc2libGUgPSBpc1ZOb2RlU3VzcGVuc2libGUodm5vZGUpO1xuICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgcGFyZW50U3VzcGVuc2VJZCA9IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZDtcbiAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMrKztcbiAgICB9XG4gIH1cbiAgY29uc3QgdGltZW91dCA9IHZub2RlLnByb3BzID8gdG9OdW1iZXIodm5vZGUucHJvcHMudGltZW91dCkgOiB2b2lkIDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHRpbWVvdXQsIGBTdXNwZW5zZSB0aW1lb3V0YCk7XG4gIH1cbiAgY29uc3QgaW5pdGlhbEFuY2hvciA9IGFuY2hvcjtcbiAgY29uc3Qgc3VzcGVuc2UgPSB7XG4gICAgdm5vZGUsXG4gICAgcGFyZW50OiBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbmFtZXNwYWNlLFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgZGVwczogMCxcbiAgICBwZW5kaW5nSWQ6IHN1c3BlbnNlSWQrKyxcbiAgICB0aW1lb3V0OiB0eXBlb2YgdGltZW91dCA9PT0gXCJudW1iZXJcIiA/IHRpbWVvdXQgOiAtMSxcbiAgICBhY3RpdmVCcmFuY2g6IG51bGwsXG4gICAgcGVuZGluZ0JyYW5jaDogbnVsbCxcbiAgICBpc0luRmFsbGJhY2s6ICFpc0h5ZHJhdGluZyxcbiAgICBpc0h5ZHJhdGluZyxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgZWZmZWN0czogW10sXG4gICAgcmVzb2x2ZShyZXN1bWUgPSBmYWxzZSwgc3luYyA9IGZhbHNlKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBpZiAoIXJlc3VtZSAmJiAhc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIHdpdGhvdXQgYSBwZW5kaW5nIGJyYW5jaC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3VzcGVuc2UuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgc3VzcGVuc2UucmVzb2x2ZSgpIGlzIGNhbGxlZCBvbiBhbiBhbHJlYWR5IHVubW91bnRlZCBzdXNwZW5zZSBib3VuZGFyeS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qge1xuICAgICAgICB2bm9kZTogdm5vZGUyLFxuICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIHBlbmRpbmdJZCxcbiAgICAgICAgZWZmZWN0cyxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50OiBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcjJcbiAgICAgIH0gPSBzdXNwZW5zZTtcbiAgICAgIGxldCBkZWxheUVudGVyID0gZmFsc2U7XG4gICAgICBpZiAoc3VzcGVuc2UuaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoIXJlc3VtZSkge1xuICAgICAgICBkZWxheUVudGVyID0gYWN0aXZlQnJhbmNoICYmIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbiAmJiBwZW5kaW5nQnJhbmNoLnRyYW5zaXRpb24ubW9kZSA9PT0gXCJvdXQtaW5cIjtcbiAgICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgICBhY3RpdmVCcmFuY2gudHJhbnNpdGlvbi5hZnRlckxlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBlbmRpbmdJZCA9PT0gc3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgICAgIG1vdmUoXG4gICAgICAgICAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgICAgICAgIGFuY2hvciA9PT0gaW5pdGlhbEFuY2hvciA/IG5leHQoYWN0aXZlQnJhbmNoKSA6IGFuY2hvcixcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHF1ZXVlUG9zdEZsdXNoQ2IoZWZmZWN0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgICAgaWYgKHBhcmVudE5vZGUoYWN0aXZlQnJhbmNoLmVsKSAhPT0gc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQyLCBzdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IgJiYgIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcbiAgICAgIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmIHBhcmVudFN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCAmJiAhc3luYykge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvblJlc29sdmVcIik7XG4gICAgfSxcbiAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MiwgY29udGFpbmVyOiBjb250YWluZXIyLCBuYW1lc3BhY2U6IG5hbWVzcGFjZTIgfSA9IHN1c3BlbnNlO1xuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvbkZhbGxiYWNrXCIpO1xuICAgICAgY29uc3QgYW5jaG9yMiA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmFsbGJhY2tWTm9kZSxcbiAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgbmFtZXNwYWNlMixcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gXCJvdXQtaW5cIjtcbiAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSBtb3VudEZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIHVubW91bnQoXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xuICAgICAgICB0cnVlXG4gICAgICAgIC8vIHNob3VsZFJlbW92ZVxuICAgICAgKTtcbiAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICBtb3VudEZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb3ZlKGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpIHtcbiAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSk7XG4gICAgICBzdXNwZW5zZS5jb250YWluZXIgPSBjb250YWluZXIyO1xuICAgIH0sXG4gICAgbmV4dCgpIHtcbiAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xuICAgIH0sXG4gICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KSB7XG4gICAgICBjb25zdCBpc0luUGVuZGluZ1N1c3BlbnNlID0gISFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoO1xuICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcbiAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgfVxuICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgaW5zdGFuY2UuYXN5bmNEZXAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwKTtcbiAgICAgIH0pLnRoZW4oKGFzeW5jU2V0dXBSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xuICAgICAgICAgIHZub2RlMi5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB2bm9kZTIsXG4gICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxuICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxuICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXG4gICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cbiAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUyLmVsKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlMiwgZG9SZW1vdmUpIHtcbiAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2gsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlMixcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgbnVsbCxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFscyxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZFxuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzI7XG4gIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChcbiAgICBpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlblxuICApO1xuICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW4gPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICBsZXQgYmxvY2s7XG4gIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICBzLl9kID0gZmFsc2U7XG4gICAgICBvcGVuQmxvY2soKTtcbiAgICB9XG4gICAgcyA9IHMoKTtcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IHRydWU7XG4gICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgIGNsb3NlQmxvY2soKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQXJyYXkocykpIHtcbiAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXNpbmdsZUNoaWxkICYmIHMuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgIH1cbiAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gIH1cbiAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoKGMpID0+IGMgIT09IHMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICBsZXQgZWwgPSBicmFuY2guZWw7XG4gIHdoaWxlICghZWwgJiYgYnJhbmNoLmNvbXBvbmVudCkge1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wb25lbnQuc3ViVHJlZTtcbiAgICBlbCA9IGJyYW5jaC5lbDtcbiAgfVxuICB2bm9kZS5lbCA9IGVsO1xuICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuICgoX2EgPSB2bm9kZS5wcm9wcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN1c3BlbnNpYmxlKSAhPSBudWxsICYmIHZub2RlLnByb3BzLnN1c3BlbnNpYmxlICE9PSBmYWxzZTtcbn1cblxuY29uc3Qgc3NyQ29udGV4dEtleSA9IFN5bWJvbC5mb3IoXCJ2LXNjeFwiKTtcbmNvbnN0IHVzZVNTUkNvbnRleHQgPSAoKSA9PiB7XG4gIHtcbiAgICBjb25zdCBjdHggPSBpbmplY3Qoc3NyQ29udGV4dEtleSk7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgU2VydmVyIHJlbmRlcmluZyBjb250ZXh0IG5vdCBwcm92aWRlZC4gTWFrZSBzdXJlIHRvIG9ubHkgY2FsbCB1c2VTU1JDb250ZXh0KCkgY29uZGl0aW9uYWxseSBpbiB0aGUgc2VydmVyIGJ1aWxkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjdHg7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHdhdGNoRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gd2F0Y2hQb3N0RWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChcbiAgICBlZmZlY3QsXG4gICAgbnVsbCxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGZsdXNoOiBcInBvc3RcIiB9KSA6IHsgZmx1c2g6IFwicG9zdFwiIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHdhdGNoU3luY0VmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGRvV2F0Y2goXG4gICAgZWZmZWN0LFxuICAgIG51bGwsXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGV4dGVuZCh7fSwgb3B0aW9ucywgeyBmbHVzaDogXCJzeW5jXCIgfSkgOiB7IGZsdXNoOiBcInN5bmNcIiB9XG4gICk7XG59XG5jb25zdCBJTklUSUFMX1dBVENIRVJfVkFMVUUgPSB7fTtcbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCB7XG4gIGltbWVkaWF0ZSxcbiAgZGVlcCxcbiAgZmx1c2gsXG4gIG9uY2UsXG4gIG9uVHJhY2ssXG4gIG9uVHJpZ2dlclxufSA9IEVNUFRZX09CSikge1xuICBpZiAoY2IgJiYgb25jZSkge1xuICAgIGNvbnN0IF9jYiA9IGNiO1xuICAgIGNiID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIF9jYiguLi5hcmdzKTtcbiAgICAgIHVud2F0Y2goKTtcbiAgICB9O1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGRlZXAgIT09IHZvaWQgMCAmJiB0eXBlb2YgZGVlcCA9PT0gXCJudW1iZXJcIikge1xuICAgIHdhcm4kMShcbiAgICAgIGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiB3aXRoIG51bWJlciB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgd2F0Y2ggZGVwdGggaW4gZnV0dXJlIHZlcnNpb25zLiBQbGVhc2UgdXNlIGEgYm9vbGVhbiBpbnN0ZWFkIHRvIGF2b2lkIHBvdGVudGlhbCBicmVha2FnZS5gXG4gICAgKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJpbW1lZGlhdGVcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZGVlcCAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiZGVlcFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChvbmNlICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJvbmNlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xuICAgIHdhcm4kMShcbiAgICAgIGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCxcbiAgICAgIHMsXG4gICAgICBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmBcbiAgICApO1xuICB9O1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgY29uc3QgcmVhY3RpdmVHZXR0ZXIgPSAoc291cmNlMikgPT4gZGVlcCA9PT0gdHJ1ZSA/IHNvdXJjZTIgOiAoXG4gICAgLy8gZm9yIGRlZXA6IGZhbHNlLCBvbmx5IHRyYXZlcnNlIHJvb3QtbGV2ZWwgcHJvcGVydGllc1xuICAgIHRyYXZlcnNlKHNvdXJjZTIsIGRlZXAgPT09IGZhbHNlID8gMSA6IHZvaWQgMClcbiAgKTtcbiAgbGV0IGdldHRlcjtcbiAgbGV0IGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xuICBsZXQgaXNNdWx0aVNvdXJjZSA9IGZhbHNlO1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS52YWx1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBpc1NoYWxsb3coc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKHNvdXJjZSkpIHtcbiAgICBnZXR0ZXIgPSAoKSA9PiByZWFjdGl2ZUdldHRlcihzb3VyY2UpO1xuICAgIGZvcmNlVHJpZ2dlciA9IHRydWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XG4gICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoKHMpID0+IGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpKTtcbiAgICBnZXR0ZXIgPSAoKSA9PiBzb3VyY2UubWFwKChzKSA9PiB7XG4gICAgICBpZiAoaXNSZWYocykpIHtcbiAgICAgICAgcmV0dXJuIHMudmFsdWU7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcbiAgICAgICAgcmV0dXJuIHJlYWN0aXZlR2V0dGVyKHMpO1xuICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgICAgIHJldHVybiBjYWxsV2l0aEVycm9ySGFuZGxpbmcocywgaW5zdGFuY2UsIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGdldHRlciA9ICgpID0+IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzb3VyY2UsIGluc3RhbmNlLCAyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2V0dGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAoY2xlYW51cCkge1xuICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICAgICAgc291cmNlLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIDMsXG4gICAgICAgICAgW29uQ2xlYW51cF1cbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IE5PT1A7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzb3VyY2UpO1xuICB9XG4gIGlmIChjYiAmJiBkZWVwKSB7XG4gICAgY29uc3QgYmFzZUdldHRlciA9IGdldHRlcjtcbiAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCkpO1xuICB9XG4gIGxldCBjbGVhbnVwO1xuICBsZXQgb25DbGVhbnVwID0gKGZuKSA9PiB7XG4gICAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSAoKSA9PiB7XG4gICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCA0KTtcbiAgICAgIGNsZWFudXAgPSBlZmZlY3Qub25TdG9wID0gdm9pZCAwO1xuICAgIH07XG4gIH07XG4gIGxldCBzc3JDbGVhbnVwO1xuICBpZiAoaXNJblNTUkNvbXBvbmVudFNldHVwKSB7XG4gICAgb25DbGVhbnVwID0gTk9PUDtcbiAgICBpZiAoIWNiKSB7XG4gICAgICBnZXR0ZXIoKTtcbiAgICB9IGVsc2UgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzLCBbXG4gICAgICAgIGdldHRlcigpLFxuICAgICAgICBpc011bHRpU291cmNlID8gW10gOiB2b2lkIDAsXG4gICAgICAgIG9uQ2xlYW51cFxuICAgICAgXSk7XG4gICAgfVxuICAgIGlmIChmbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHVzZVNTUkNvbnRleHQoKTtcbiAgICAgIHNzckNsZWFudXAgPSBjdHguX193YXRjaGVySGFuZGxlcyB8fCAoY3R4Ll9fd2F0Y2hlckhhbmRsZXMgPSBbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBOT09QO1xuICAgIH1cbiAgfVxuICBsZXQgb2xkVmFsdWUgPSBpc011bHRpU291cmNlID8gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpLmZpbGwoSU5JVElBTF9XQVRDSEVSX1ZBTFVFKSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcbiAgY29uc3Qgam9iID0gKCkgPT4ge1xuICAgIGlmICghZWZmZWN0LmFjdGl2ZSB8fCAhZWZmZWN0LmRpcnR5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgKGlzTXVsdGlTb3VyY2UgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSkgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHx8IGZhbHNlKSB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGNiLCBpbnN0YW5jZSwgMywgW1xuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIC8vIHBhc3MgdW5kZWZpbmVkIGFzIHRoZSBvbGQgdmFsdWUgd2hlbiBpdCdzIGNoYW5nZWQgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHZvaWQgMCA6IGlzTXVsdGlTb3VyY2UgJiYgb2xkVmFsdWVbMF0gPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IFtdIDogb2xkVmFsdWUsXG4gICAgICAgICAgb25DbGVhbnVwXG4gICAgICAgIF0pO1xuICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9O1xuICBqb2IuYWxsb3dSZWN1cnNlID0gISFjYjtcbiAgbGV0IHNjaGVkdWxlcjtcbiAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgIHNjaGVkdWxlciA9IGpvYjtcbiAgfSBlbHNlIGlmIChmbHVzaCA9PT0gXCJwb3N0XCIpIHtcbiAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZVBvc3RSZW5kZXJFZmZlY3Qoam9iLCBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSk7XG4gIH0gZWxzZSB7XG4gICAgam9iLnByZSA9IHRydWU7XG4gICAgaWYgKGluc3RhbmNlKVxuICAgICAgam9iLmlkID0gaW5zdGFuY2UudWlkO1xuICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlSm9iKGpvYik7XG4gIH1cbiAgY29uc3QgZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KGdldHRlciwgTk9PUCwgc2NoZWR1bGVyKTtcbiAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgY29uc3QgdW53YXRjaCA9ICgpID0+IHtcbiAgICBlZmZlY3Quc3RvcCgpO1xuICAgIGlmIChzY29wZSkge1xuICAgICAgcmVtb3ZlKHNjb3BlLmVmZmVjdHMsIGVmZmVjdCk7XG4gICAgfVxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGVmZmVjdC5vblRyYWNrID0gb25UcmFjaztcbiAgICBlZmZlY3Qub25UcmlnZ2VyID0gb25UcmlnZ2VyO1xuICB9XG4gIGlmIChjYikge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGpvYigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbGRWYWx1ZSA9IGVmZmVjdC5ydW4oKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZmx1c2ggPT09IFwicG9zdFwiKSB7XG4gICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgZWZmZWN0LnJ1bi5iaW5kKGVmZmVjdCksXG4gICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5zdXNwZW5zZVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LnJ1bigpO1xuICB9XG4gIGlmIChzc3JDbGVhbnVwKVxuICAgIHNzckNsZWFudXAucHVzaCh1bndhdGNoKTtcbiAgcmV0dXJuIHVud2F0Y2g7XG59XG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XG4gIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSkgPyBzb3VyY2UuaW5jbHVkZXMoXCIuXCIpID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBzb3VyY2UpIDogKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdIDogc291cmNlLmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gIGxldCBjYjtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgY2IgPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XG4gICAgb3B0aW9ucyA9IHZhbHVlO1xuICB9XG4gIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRoaXMpO1xuICBjb25zdCByZXMgPSBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucyk7XG4gIHJlc2V0KCk7XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBjdXIgPSBjdHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcbiAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XG4gICAgfVxuICAgIHJldHVybiBjdXI7XG4gIH07XG59XG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWx1ZSwgZGVwdGgsIGN1cnJlbnREZXB0aCA9IDAsIHNlZW4pIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiXSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoZGVwdGggJiYgZGVwdGggPiAwKSB7XG4gICAgaWYgKGN1cnJlbnREZXB0aCA+PSBkZXB0aCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjdXJyZW50RGVwdGgrKztcbiAgfVxuICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4uYWRkKHZhbHVlKTtcbiAgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBkZXB0aCwgY3VycmVudERlcHRoLCBzZWVuKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBkZXB0aCwgY3VycmVudERlcHRoLCBzZWVuKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpIHx8IGlzTWFwKHZhbHVlKSkge1xuICAgIHZhbHVlLmZvckVhY2goKHYpID0+IHtcbiAgICAgIHRyYXZlcnNlKHYsIGRlcHRoLCBjdXJyZW50RGVwdGgsIHNlZW4pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIGRlcHRoLCBjdXJyZW50RGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGlyZWN0aXZlTmFtZShuYW1lKSB7XG4gIGlmIChpc0J1aWx0SW5EaXJlY3RpdmUobmFtZSkpIHtcbiAgICB3YXJuJDEoXCJEbyBub3QgdXNlIGJ1aWx0LWluIGRpcmVjdGl2ZSBpZHMgYXMgY3VzdG9tIGRpcmVjdGl2ZSBpZDogXCIgKyBuYW1lKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERpcmVjdGl2ZXModm5vZGUsIGRpcmVjdGl2ZXMpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9PT0gbnVsbCkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGB3aXRoRGlyZWN0aXZlcyBjYW4gb25seSBiZSB1c2VkIGluc2lkZSByZW5kZXIgZnVuY3Rpb25zLmApO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBjb25zdCBpbnN0YW5jZSA9IGdldEV4cG9zZVByb3h5KGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnByb3h5O1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICBpZiAoZGlyKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XG4gICAgICAgIGRpciA9IHtcbiAgICAgICAgICBtb3VudGVkOiBkaXIsXG4gICAgICAgICAgdXBkYXRlZDogZGlyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZGlyLmRlZXApIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgIGRpcixcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxuICAgICAgICBhcmcsXG4gICAgICAgIG1vZGlmaWVyc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xuICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICBpZiAob2xkQmluZGluZ3MpIHtcbiAgICAgIGJpbmRpbmcub2xkVmFsdWUgPSBvbGRCaW5kaW5nc1tpXS52YWx1ZTtcbiAgICB9XG4gICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICBpZiAoaG9vaykge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDgsIFtcbiAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgIGJpbmRpbmcsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBwcmV2Vk5vZGVcbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBsZWF2ZUNiS2V5ID0gU3ltYm9sKFwiX2xlYXZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNMZWF2aW5nOiBmYWxzZSxcbiAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxuICAgIGxlYXZpbmdWTm9kZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xuICB9KTtcbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBtb2RlOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAvLyBlbnRlclxuICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBsZWF2ZVxuICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBhcHBlYXJcbiAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3Jcbn07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXG4gIHByb3BzOiBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChjLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgICBcIjx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiBVc2UgPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSlcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtb2RlICYmIG1vZGUgIT09IFwiaW4tb3V0XCIgJiYgbW9kZSAhPT0gXCJvdXQtaW5cIiAmJiBtb2RlICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgICB3YXJuJDEoYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcbiAgICAgIGlmICghaW5uZXJDaGlsZCkge1xuICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgaW5uZXJDaGlsZCxcbiAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZVxuICAgICAgKTtcbiAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhpbm5lckNoaWxkLCBlbnRlckhvb2tzKTtcbiAgICAgIGNvbnN0IG9sZENoaWxkID0gaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICAgIGNvbnN0IG9sZElubmVyQ2hpbGQgPSBvbGRDaGlsZCAmJiBnZXRLZWVwQWxpdmVDaGlsZChvbGRDaGlsZCk7XG4gICAgICBpZiAob2xkSW5uZXJDaGlsZCAmJiBvbGRJbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQgJiYgIWlzU2FtZVZOb2RlVHlwZShpbm5lckNoaWxkLCBvbGRJbm5lckNoaWxkKSkge1xuICAgICAgICBjb25zdCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgIG9sZElubmVyQ2hpbGQsXG4gICAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XG4gICAgICAgIGlmIChtb2RlID09PSBcIm91dC1pblwiKSB7XG4gICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlLnVwZGF0ZS5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlLmVmZmVjdC5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiaW4tb3V0XCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcbiAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gKCkgPT4ge1xuICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gZGVsYXllZExlYXZlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICB9XG59O1xuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xuICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XG4gIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcbiAgfVxuICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgYXBwZWFyLFxuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkID0gZmFsc2UsXG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uQWZ0ZXJFbnRlcixcbiAgICBvbkVudGVyQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlTGVhdmUsXG4gICAgb25MZWF2ZSxcbiAgICBvbkFmdGVyTGVhdmUsXG4gICAgb25MZWF2ZUNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUFwcGVhcixcbiAgICBvbkFwcGVhcixcbiAgICBvbkFmdGVyQXBwZWFyLFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XG4gIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcbiAgY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgIGhvb2sgJiYgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBob29rLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA5LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH07XG4gIGNvbnN0IGNhbGxBc3luY0hvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgIGNvbnN0IGRvbmUgPSBhcmdzWzFdO1xuICAgIGNhbGxIb29rKGhvb2ssIGFyZ3MpO1xuICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICBpZiAoaG9vay5ldmVyeSgoaG9vazIpID0+IGhvb2syLmxlbmd0aCA8PSAxKSlcbiAgICAgICAgZG9uZSgpO1xuICAgIH0gZWxzZSBpZiAoaG9vay5sZW5ndGggPD0gMSkge1xuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaG9va3MgPSB7XG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQsXG4gICAgYmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgIGxldCBob29rID0gb25CZWZvcmVFbnRlcjtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25CZWZvcmVBcHBlYXIgfHwgb25CZWZvcmVFbnRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbFtsZWF2ZUNiS2V5XSkge1xuICAgICAgICBlbFtsZWF2ZUNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChsZWF2aW5nVk5vZGUgJiYgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSkge1xuICAgICAgICBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0oKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xuICAgIH0sXG4gICAgZW50ZXIoZWwpIHtcbiAgICAgIGxldCBob29rID0gb25FbnRlcjtcbiAgICAgIGxldCBhZnRlckhvb2sgPSBvbkFmdGVyRW50ZXI7XG4gICAgICBsZXQgY2FuY2VsSG9vayA9IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQXBwZWFyIHx8IG9uRW50ZXI7XG4gICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XG4gICAgICAgICAgY2FuY2VsSG9vayA9IG9uQXBwZWFyQ2FuY2VsbGVkIHx8IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb25lID0gZWxbZW50ZXJDYktleV0gPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XG4gICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbZW50ZXJDYktleV0gPSB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhob29rLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgIGNvbnN0IGtleTIgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICAgIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgICAgICBlbFtlbnRlckNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XG4gICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2xlYXZlQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmVtb3ZlKCk7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsSG9vayhvbkFmdGVyTGVhdmUsIFtlbF0pO1xuICAgICAgICB9XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldID0gdm9pZCAwO1xuICAgICAgICBpZiAobGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID09PSB2bm9kZSkge1xuICAgICAgICAgIGRlbGV0ZSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml0gPSB2bm9kZTtcbiAgICAgIGlmIChvbkxlYXZlKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2sob25MZWF2ZSwgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBjbG9uZSh2bm9kZTIpIHtcbiAgICAgIHJldHVybiByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKHZub2RlMiwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaG9va3M7XG59XG5mdW5jdGlvbiBlbXB0eVBsYWNlaG9sZGVyKHZub2RlKSB7XG4gIGlmIChpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgIHZub2RlLmNoaWxkcmVuID0gbnVsbDtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEtlZXBBbGl2ZUNoaWxkKHZub2RlKSB7XG4gIHJldHVybiBpc0tlZXBBbGl2ZSh2bm9kZSkgPyAoXG4gICAgLy8gIzcxMjEgZW5zdXJlIGdldCB0aGUgY2hpbGQgY29tcG9uZW50IHN1YnRyZWUgaW4gY2FzZVxuICAgIC8vIGl0J3MgYmVlbiByZXBsYWNlZCBkdXJpbmcgSE1SXG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA6IHZub2RlLmNoaWxkcmVuID8gdm5vZGUuY2hpbGRyZW5bMF0gOiB2b2lkIDBcbiAgKSA6IHZub2RlO1xufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAmJiB2bm9kZS5jb21wb25lbnQpIHtcbiAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGhvb2tzKTtcbiAgfSBlbHNlIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICB2bm9kZS5zc0NvbnRlbnQudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzQ29udGVudCk7XG4gICAgdm5vZGUuc3NGYWxsYmFjay50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NGYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgdm5vZGUudHJhbnNpdGlvbiA9IGhvb2tzO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGRyZW4sIGtlZXBDb21tZW50ID0gZmFsc2UsIHBhcmVudEtleSkge1xuICBsZXQgcmV0ID0gW107XG4gIGxldCBrZXllZEZyYWdtZW50Q291bnQgPSAwO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgY29uc3Qga2V5ID0gcGFyZW50S2V5ID09IG51bGwgPyBjaGlsZC5rZXkgOiBTdHJpbmcocGFyZW50S2V5KSArIFN0cmluZyhjaGlsZC5rZXkgIT0gbnVsbCA/IGNoaWxkLmtleSA6IGkpO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaWYgKGNoaWxkLnBhdGNoRmxhZyAmIDEyOClcbiAgICAgICAga2V5ZWRGcmFnbWVudENvdW50Kys7XG4gICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oY2hpbGQuY2hpbGRyZW4sIGtlZXBDb21tZW50LCBrZXkpXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoa2VlcENvbW1lbnQgfHwgY2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgcmV0LnB1c2goa2V5ICE9IG51bGwgPyBjbG9uZVZOb2RlKGNoaWxkLCB7IGtleSB9KSA6IGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleWVkRnJhZ21lbnRDb3VudCA+IDEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJldC5sZW5ndGg7IGkrKykge1xuICAgICAgcmV0W2ldLnBhdGNoRmxhZyA9IC0yO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBkZWZpbmVDb21wb25lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG9wdGlvbnMpID8gKFxuICAgIC8vICM4MzI2OiBleHRlbmQgY2FsbCBhbmQgb3B0aW9ucy5uYW1lIGFjY2VzcyBhcmUgY29uc2lkZXJlZCBzaWRlLWVmZmVjdHNcbiAgICAvLyBieSBSb2xsdXAsIHNvIHdlIGhhdmUgdG8gd3JhcCBpdCBpbiBhIHB1cmUtYW5ub3RhdGVkIElJRkUuXG4gICAgLyogQF9fUFVSRV9fICovICgoKSA9PiBleHRlbmQoeyBuYW1lOiBvcHRpb25zLm5hbWUgfSwgZXh0cmFPcHRpb25zLCB7IHNldHVwOiBvcHRpb25zIH0pKSgpXG4gICkgOiBvcHRpb25zO1xufVxuXG5jb25zdCBpc0FzeW5jV3JhcHBlciA9IChpKSA9PiAhIWkudHlwZS5fX2FzeW5jTG9hZGVyO1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQXN5bmNDb21wb25lbnQoc291cmNlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBzb3VyY2UgPSB7IGxvYWRlcjogc291cmNlIH07XG4gIH1cbiAgY29uc3Qge1xuICAgIGxvYWRlcixcbiAgICBsb2FkaW5nQ29tcG9uZW50LFxuICAgIGVycm9yQ29tcG9uZW50LFxuICAgIGRlbGF5ID0gMjAwLFxuICAgIHRpbWVvdXQsXG4gICAgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XG4gICAgc3VzcGVuc2libGUgPSB0cnVlLFxuICAgIG9uRXJyb3I6IHVzZXJPbkVycm9yXG4gIH0gPSBzb3VyY2U7XG4gIGxldCBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gIGxldCByZXNvbHZlZENvbXA7XG4gIGxldCByZXRyaWVzID0gMDtcbiAgY29uc3QgcmV0cnkgPSAoKSA9PiB7XG4gICAgcmV0cmllcysrO1xuICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICByZXR1cm4gbG9hZCgpO1xuICB9O1xuICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgIGxldCB0aGlzUmVxdWVzdDtcbiAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3QgfHwgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPSBsb2FkZXIoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBlcnIgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyKSk7XG4gICAgICBpZiAodXNlck9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCB1c2VyUmV0cnkgPSAoKSA9PiByZXNvbHZlKHJldHJ5KCkpO1xuICAgICAgICAgIGNvbnN0IHVzZXJGYWlsID0gKCkgPT4gcmVqZWN0KGVycik7XG4gICAgICAgICAgdXNlck9uRXJyb3IoZXJyLCB1c2VyUmV0cnksIHVzZXJGYWlsLCByZXRyaWVzICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0pLnRoZW4oKGNvbXApID0+IHtcbiAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNvbXApIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBBc3luYyBjb21wb25lbnQgbG9hZGVyIHJlc29sdmVkIHRvIHVuZGVmaW5lZC4gSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXAgJiYgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09IFwiTW9kdWxlXCIpKSB7XG4gICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXN5bmMgY29tcG9uZW50IGxvYWQgcmVzdWx0OiAke2NvbXB9YCk7XG4gICAgICB9XG4gICAgICByZXNvbHZlZENvbXAgPSBjb21wO1xuICAgICAgcmV0dXJuIGNvbXA7XG4gICAgfSkpO1xuICB9O1xuICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiBcIkFzeW5jQ29tcG9uZW50V3JhcHBlclwiLFxuICAgIF9fYXN5bmNMb2FkZXI6IGxvYWQsXG4gICAgZ2V0IF9fYXN5bmNSZXNvbHZlZCgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XG4gICAgfSxcbiAgICBzZXR1cCgpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICBoYW5kbGVFcnJvcihcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgMTMsXG4gICAgICAgICAgIWVycm9yQ29tcG9uZW50XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgaWYgKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlIHx8IGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgICAgICByZXR1cm4gbG9hZCgpLnRoZW4oKGNvbXApID0+IHtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnQgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xuICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcbiAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICB9XG4gICAgICBsb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQgJiYgaXNLZWVwQWxpdmUoaW5zdGFuY2UucGFyZW50LnZub2RlKSkge1xuICAgICAgICAgIGluc3RhbmNlLnBhcmVudC5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgICAgIHF1ZXVlSm9iKGluc3RhbmNlLnBhcmVudC51cGRhdGUpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChsb2FkZWQudmFsdWUgJiYgcmVzb2x2ZWRDb21wKSB7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci52YWx1ZSAmJiBlcnJvckNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9hZGluZ0NvbXBvbmVudCAmJiAhZGVsYXllZC52YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVWTm9kZShsb2FkaW5nQ29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5uZXJDb21wKGNvbXAsIHBhcmVudCkge1xuICBjb25zdCB7IHJlZjogcmVmMiwgcHJvcHMsIGNoaWxkcmVuLCBjZSB9ID0gcGFyZW50LnZub2RlO1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKGNvbXAsIHByb3BzLCBjaGlsZHJlbik7XG4gIHZub2RlLnJlZiA9IHJlZjI7XG4gIHZub2RlLmNlID0gY2U7XG4gIGRlbGV0ZSBwYXJlbnQudm5vZGUuY2U7XG4gIHJldHVybiB2bm9kZTtcbn1cblxuY29uc3QgaXNLZWVwQWxpdmUgPSAodm5vZGUpID0+IHZub2RlLnR5cGUuX19pc0tlZXBBbGl2ZTtcbmNvbnN0IEtlZXBBbGl2ZUltcGwgPSB7XG4gIG5hbWU6IGBLZWVwQWxpdmVgLFxuICAvLyBNYXJrZXIgZm9yIHNwZWNpYWwgaGFuZGxpbmcgaW5zaWRlIHRoZSByZW5kZXJlci4gV2UgYXJlIG5vdCB1c2luZyBhID09PVxuICAvLyBjaGVjayBkaXJlY3RseSBvbiBLZWVwQWxpdmUgaW4gdGhlIHJlbmRlcmVyLCBiZWNhdXNlIGltcG9ydGluZyBpdCBkaXJlY3RseVxuICAvLyB3b3VsZCBwcmV2ZW50IGl0IGZyb20gYmVpbmcgdHJlZS1zaGFrZW4uXG4gIF9faXNLZWVwQWxpdmU6IHRydWUsXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgZXhjbHVkZTogW1N0cmluZywgUmVnRXhwLCBBcnJheV0sXG4gICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHNoYXJlZENvbnRleHQgPSBpbnN0YW5jZS5jdHg7XG4gICAgaWYgKCFzaGFyZWRDb250ZXh0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID09PSAxID8gY2hpbGRyZW5bMF0gOiBjaGlsZHJlbjtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5fX3ZfY2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50U3VzcGVuc2UgPSBpbnN0YW5jZS5zdXNwZW5zZTtcbiAgICBjb25zdCB7XG4gICAgICByZW5kZXJlcjoge1xuICAgICAgICBwOiBwYXRjaCxcbiAgICAgICAgbTogbW92ZSxcbiAgICAgICAgdW06IF91bm1vdW50LFxuICAgICAgICBvOiB7IGNyZWF0ZUVsZW1lbnQgfVxuICAgICAgfVxuICAgIH0gPSBzaGFyZWRDb250ZXh0O1xuICAgIGNvbnN0IHN0b3JhZ2VDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNoYXJlZENvbnRleHQuYWN0aXZhdGUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgbW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIDAsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBpbnN0YW5jZTIudm5vZGUsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgaW5zdGFuY2UyLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGluc3RhbmNlMi5pc0RlYWN0aXZhdGVkID0gZmFsc2U7XG4gICAgICAgIGlmIChpbnN0YW5jZTIuYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5hKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2bm9kZUhvb2sgPSB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy5vblZub2RlTW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgIGRldnRvb2xzQ29tcG9uZW50QWRkZWQoaW5zdGFuY2UyKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHNoYXJlZENvbnRleHQuZGVhY3RpdmF0ZSA9ICh2bm9kZSkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UyID0gdm5vZGUuY29tcG9uZW50O1xuICAgICAgbW92ZSh2bm9kZSwgc3RvcmFnZUNvbnRhaW5lciwgbnVsbCwgMSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlMi5kYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5kYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZVVubW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZTIuaXNEZWFjdGl2YXRlZCA9IHRydWU7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZTIpO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xuICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XG4gICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xuICAgICAgICBpZiAobmFtZSAmJiAoIWZpbHRlciB8fCAhZmlsdGVyKG5hbWUpKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xuICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAoIWN1cnJlbnQgfHwgIWlzU2FtZVZOb2RlVHlwZShjYWNoZWQsIGN1cnJlbnQpKSB7XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sXG4gICAgICAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XG4gICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xuICAgICAgfSxcbiAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB7IGZsdXNoOiBcInBvc3RcIiwgZGVlcDogdHJ1ZSB9XG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgY2FjaGUuc2V0KHBlbmRpbmdDYWNoZUtleSwgZ2V0SW5uZXJDaGlsZChpbnN0YW5jZS5zdWJUcmVlKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBvbk1vdW50ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvblVwZGF0ZWQoY2FjaGVTdWJ0cmVlKTtcbiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgICAgY2FjaGUuZm9yRWFjaCgoY2FjaGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3ViVHJlZSwgc3VzcGVuc2UgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCB2bm9kZSA9IGdldElubmVyQ2hpbGQoc3ViVHJlZSk7XG4gICAgICAgIGlmIChjYWNoZWQudHlwZSA9PT0gdm5vZGUudHlwZSAmJiBjYWNoZWQua2V5ID09PSB2bm9kZS5rZXkpIHtcbiAgICAgICAgICByZXNldFNoYXBlRmxhZyh2bm9kZSk7XG4gICAgICAgICAgY29uc3QgZGEgPSB2bm9kZS5jb21wb25lbnQuZGE7XG4gICAgICAgICAgZGEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRhLCBzdXNwZW5zZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwZW5kaW5nQ2FjaGVLZXkgPSBudWxsO1xuICAgICAgaWYgKCFzbG90cy5kZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KCk7XG4gICAgICBjb25zdCByYXdWTm9kZSA9IGNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoYEtlZXBBbGl2ZSBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBjb21wb25lbnQgY2hpbGQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzVk5vZGUocmF3Vk5vZGUpIHx8ICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgNCkgJiYgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpKSB7XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHJhd1ZOb2RlKTtcbiAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xuICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoXG4gICAgICAgIGlzQXN5bmNXcmFwcGVyKHZub2RlKSA/IHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkIHx8IHt9IDogY29tcFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcbiAgICAgIGlmIChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkgfHwgZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpIHtcbiAgICAgICAgY3VycmVudCA9IHZub2RlO1xuICAgICAgICByZXR1cm4gcmF3Vk5vZGU7XG4gICAgICB9XG4gICAgICBjb25zdCBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbCA/IGNvbXAgOiB2bm9kZS5rZXk7XG4gICAgICBjb25zdCBjYWNoZWRWTm9kZSA9IGNhY2hlLmdldChrZXkpO1xuICAgICAgaWYgKHZub2RlLmVsKSB7XG4gICAgICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgICAgIGlmIChyYXdWTm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICByYXdWTm9kZS5zc0NvbnRlbnQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0ga2V5O1xuICAgICAgaWYgKGNhY2hlZFZOb2RlKSB7XG4gICAgICAgIHZub2RlLmVsID0gY2FjaGVkVk5vZGUuZWw7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudCA9IGNhY2hlZFZOb2RlLmNvbXBvbmVudDtcbiAgICAgICAgaWYgKHZub2RlLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIHZub2RlLnRyYW5zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSA1MTI7XG4gICAgICAgIGtleXMuZGVsZXRlKGtleSk7XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgICBpZiAobWF4ICYmIGtleXMuc2l6ZSA+IHBhcnNlSW50KG1heCwgMTApKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGtleXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm5vZGUuc2hhcGVGbGFnIHw9IDI1NjtcbiAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgIHJldHVybiBpc1N1c3BlbnNlKHJhd1ZOb2RlLnR5cGUpID8gcmF3Vk5vZGUgOiB2bm9kZTtcbiAgICB9O1xuICB9XG59O1xuY29uc3QgS2VlcEFsaXZlID0gS2VlcEFsaXZlSW1wbDtcbmZ1bmN0aW9uIG1hdGNoZXMocGF0dGVybiwgbmFtZSkge1xuICBpZiAoaXNBcnJheShwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNvbWUoKHApID0+IG1hdGNoZXMocCwgbmFtZSkpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoXCIsXCIpLmluY2x1ZGVzKG5hbWUpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBvbkFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiYVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gb25EZWFjdGl2YXRlZChob29rLCB0YXJnZXQpIHtcbiAgcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIFwiZGFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCB0eXBlLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgY29uc3Qgd3JhcHBlZEhvb2sgPSBob29rLl9fd2RjIHx8IChob29rLl9fd2RjID0gKCkgPT4ge1xuICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0O1xuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICBpZiAoY3VycmVudC5pc0RlYWN0aXZhdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIGhvb2soKTtcbiAgfSk7XG4gIGluamVjdEhvb2sodHlwZSwgd3JhcHBlZEhvb2ssIHRhcmdldCk7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldC5wYXJlbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC5wYXJlbnQpIHtcbiAgICAgIGlmIChpc0tlZXBBbGl2ZShjdXJyZW50LnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgaW5qZWN0VG9LZWVwQWxpdmVSb290KHdyYXBwZWRIb29rLCB0eXBlLCB0YXJnZXQsIGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0VG9LZWVwQWxpdmVSb290KGhvb2ssIHR5cGUsIHRhcmdldCwga2VlcEFsaXZlUm9vdCkge1xuICBjb25zdCBpbmplY3RlZCA9IGluamVjdEhvb2soXG4gICAgdHlwZSxcbiAgICBob29rLFxuICAgIGtlZXBBbGl2ZVJvb3QsXG4gICAgdHJ1ZVxuICAgIC8qIHByZXBlbmQgKi9cbiAgKTtcbiAgb25Vbm1vdW50ZWQoKCkgPT4ge1xuICAgIHJlbW92ZShrZWVwQWxpdmVSb290W3R5cGVdLCBpbmplY3RlZCk7XG4gIH0sIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZXNldFNoYXBlRmxhZyh2bm9kZSkge1xuICB2bm9kZS5zaGFwZUZsYWcgJj0gfjI1NjtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IH41MTI7XG59XG5mdW5jdGlvbiBnZXRJbm5lckNoaWxkKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5zaGFwZUZsYWcgJiAxMjggPyB2bm9kZS5zc0NvbnRlbnQgOiB2bm9kZTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SG9vayh0eXBlLCBob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UsIHByZXBlbmQgPSBmYWxzZSkge1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHwgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKHRhcmdldC5pc1VubW91bnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVkSG9vaztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgYXBpTmFtZSA9IHRvSGFuZGxlcktleShFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgXCJcIikpO1xuICAgIHdhcm4kMShcbiAgICAgIGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLiBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBob29rcyBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0IHN0YXRlbWVudC5gIClcbiAgICApO1xuICB9XG59XG5jb25zdCBjcmVhdGVIb29rID0gKGxpZmVjeWNsZSkgPT4gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4gKFxuICAvLyBwb3N0LWNyZWF0ZSBsaWZlY3ljbGUgcmVnaXN0cmF0aW9ucyBhcmUgbm9vcHMgZHVyaW5nIFNTUiAoZXhjZXB0IGZvciBzZXJ2ZXJQcmVmZXRjaClcbiAgKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIpICYmIGluamVjdEhvb2sobGlmZWN5Y2xlLCAoLi4uYXJncykgPT4gaG9vayguLi5hcmdzKSwgdGFyZ2V0KVxuKTtcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIik7XG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiKTtcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcImJ1XCIpO1xuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIik7XG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFwiYnVtXCIpO1xuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIik7XG5jb25zdCBvblNlcnZlclByZWZldGNoID0gY3JlYXRlSG9vayhcInNwXCIpO1xuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFxuICBcInJ0Z1wiXG4pO1xuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcbiAgXCJydGNcIlxuKTtcbmZ1bmN0aW9uIG9uRXJyb3JDYXB0dXJlZChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgaW5qZWN0SG9vayhcImVjXCIsIGhvb2ssIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckxpc3Qoc291cmNlLCByZW5kZXJJdGVtLCBjYWNoZSwgaW5kZXgpIHtcbiAgbGV0IHJldDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUgJiYgY2FjaGVbaW5kZXhdO1xuICBpZiAoaXNBcnJheShzb3VyY2UpIHx8IGlzU3RyaW5nKHNvdXJjZSkpIHtcbiAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtpXSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNvdXJjZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFOdW1iZXIuaXNJbnRlZ2VyKHNvdXJjZSkpIHtcbiAgICAgIHdhcm4kMShgVGhlIHYtZm9yIHJhbmdlIGV4cGVjdCBhbiBpbnRlZ2VyIHZhbHVlIGJ1dCBnb3QgJHtzb3VyY2V9LmApO1xuICAgIH1cbiAgICByZXQgPSBuZXcgQXJyYXkoc291cmNlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZTsgaSsrKSB7XG4gICAgICByZXRbaV0gPSByZW5kZXJJdGVtKGkgKyAxLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgaWYgKHNvdXJjZVtTeW1ib2wuaXRlcmF0b3JdKSB7XG4gICAgICByZXQgPSBBcnJheS5mcm9tKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIChpdGVtLCBpKSA9PiByZW5kZXJJdGVtKGl0ZW0sIGksIHZvaWQgMCwgY2FjaGVkICYmIGNhY2hlZFtpXSlcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgcmV0ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2Vba2V5XSwga2V5LCBpLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gW107XG4gIH1cbiAgaWYgKGNhY2hlKSB7XG4gICAgY2FjaGVbaW5kZXhdID0gcmV0O1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNsb3RzKHNsb3RzLCBkeW5hbWljU2xvdHMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljU2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzbG90ID0gZHluYW1pY1Nsb3RzW2ldO1xuICAgIGlmIChpc0FycmF5KHNsb3QpKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNsb3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgc2xvdHNbc2xvdFtqXS5uYW1lXSA9IHNsb3Rbal0uZm47XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzbG90KSB7XG4gICAgICBzbG90c1tzbG90Lm5hbWVdID0gc2xvdC5rZXkgPyAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSBzbG90LmZuKC4uLmFyZ3MpO1xuICAgICAgICBpZiAocmVzKVxuICAgICAgICAgIHJlcy5rZXkgPSBzbG90LmtleTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gOiBzbG90LmZuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2xvdHM7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIGZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5pc0NFIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5pc0NFKSB7XG4gICAgaWYgKG5hbWUgIT09IFwiZGVmYXVsdFwiKVxuICAgICAgcHJvcHMubmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFwic2xvdFwiLCBwcm9wcywgZmFsbGJhY2sgJiYgZmFsbGJhY2soKSk7XG4gIH1cbiAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGZ1bmN0aW9uLiBZb3UgbmVlZCB0byBtYXJrIHRoaXMgY29tcG9uZW50IHdpdGggJGR5bmFtaWMtc2xvdHMgaW4gdGhlIHBhcmVudCB0ZW1wbGF0ZS5gXG4gICAgKTtcbiAgICBzbG90ID0gKCkgPT4gW107XG4gIH1cbiAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgIHNsb3QuX2QgPSBmYWxzZTtcbiAgfVxuICBvcGVuQmxvY2soKTtcbiAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XG4gIGNvbnN0IHJlbmRlcmVkID0gY3JlYXRlQmxvY2soXG4gICAgRnJhZ21lbnQsXG4gICAge1xuICAgICAga2V5OiBwcm9wcy5rZXkgfHwgLy8gc2xvdCBjb250ZW50IGFycmF5IG9mIGEgZHluYW1pYyBjb25kaXRpb25hbCBzbG90IG1heSBoYXZlIGEgYnJhbmNoXG4gICAgICAvLyBrZXkgYXR0YWNoZWQgaW4gdGhlIGBjcmVhdGVTbG90c2AgaGVscGVyLCByZXNwZWN0IHRoYXRcbiAgICAgIHZhbGlkU2xvdENvbnRlbnQgJiYgdmFsaWRTbG90Q29udGVudC5rZXkgfHwgYF8ke25hbWV9YFxuICAgIH0sXG4gICAgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLFxuICAgIHZhbGlkU2xvdENvbnRlbnQgJiYgc2xvdHMuXyA9PT0gMSA/IDY0IDogLTJcbiAgKTtcbiAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xuICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgXCItc1wiXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkO1xufVxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcbiAgcmV0dXJuIHZub2Rlcy5zb21lKChjaGlsZCkgPT4ge1xuICAgIGlmICghaXNWTm9kZShjaGlsZCkpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmIChpc1N0YXRlZnVsQ29tcG9uZW50KGkpKVxuICAgIHJldHVybiBnZXRFeHBvc2VQcm94eShpKSB8fCBpLnByb3h5O1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGVtaXQ6IChpKSA9PiBpLmVtaXQsXG4gICAgJG9wdGlvbnM6IChpKSA9PiBfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUsXG4gICAgJGZvcmNlVXBkYXRlOiAoaSkgPT4gaS5mIHx8IChpLmYgPSAoKSA9PiB7XG4gICAgICBpLmVmZmVjdC5kaXJ0eSA9IHRydWU7XG4gICAgICBxdWV1ZUpvYihpLnVwZGF0ZSk7XG4gICAgfSksXG4gICAgJG5leHRUaWNrOiAoaSkgPT4gaS5uIHx8IChpLm4gPSBuZXh0VGljay5iaW5kKGkucHJveHkpKSxcbiAgICAkd2F0Y2g6IChpKSA9PiBfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUFxuICB9KVxuKTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcmVmaXggPSAoa2V5KSA9PiBrZXkgPT09IFwiX1wiIHx8IGtleSA9PT0gXCIkXCI7XG5jb25zdCBoYXNTZXR1cEJpbmRpbmcgPSAoc3RhdGUsIGtleSkgPT4gc3RhdGUgIT09IEVNUFRZX09CSiAmJiAhc3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzdGF0ZSwga2V5KTtcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcbiAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIl9faXNWdWVcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgaWYgKGtleVswXSAhPT0gXCIkXCIpIHtcbiAgICAgIGNvbnN0IG4gPSBhY2Nlc3NDYWNoZVtrZXldO1xuICAgICAgaWYgKG4gIT09IHZvaWQgMCkge1xuICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICBjYXNlIDEgLyogU0VUVVAgKi86XG4gICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgICAgIGNhc2UgMiAvKiBEQVRBICovOlxuICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgICBjYXNlIDQgLyogQ09OVEVYVCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgICBjYXNlIDMgLyogUFJPUFMgKi86XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMSAvKiBTRVRVUCAqLztcbiAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIERBVEEgKi87XG4gICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvLyBvbmx5IGNhY2hlIG90aGVyIHByb3BlcnRpZXMgd2hlbiBpbnN0YW5jZSBoYXMgZGVjbGFyZWQgKHRodXMgc3RhYmxlKVxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpXG4gICAgICApIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogUFJPUFMgKi87XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogT1RIRVIgKi87XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcbiAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiJGF0dHJzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIGtleSk7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgPT09IFwiJHNsb3RzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcbiAgICAgIChjc3NNb2R1bGUgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiYgKGNzc01vZHVsZSA9IGNzc01vZHVsZVtrZXldKVxuICAgICkge1xuICAgICAgcmV0dXJuIGNzc01vZHVsZTtcbiAgICB9IGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGdsb2JhbCBwcm9wZXJ0aWVzXG4gICAgICBnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywgaGFzT3duKGdsb2JhbFByb3BlcnRpZXMsIGtleSlcbiAgICApIHtcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmICghaXNTdHJpbmcoa2V5KSB8fCAvLyAjMTA5MSBhdm9pZCBpbnRlcm5hbCBpc1JlZi9pc1ZOb2RlIGNoZWNrcyBvbiBjb21wb25lbnQgaW5zdGFuY2UgbGVhZGluZ1xuICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxuICAgIGtleS5pbmRleE9mKFwiX192XCIpICE9PSAwKSkge1xuICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBpc1Jlc2VydmVkUHJlZml4KGtleVswXSkgJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZSA9PT0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBidXQgaXMgbm90IGRlZmluZWQgb24gaW5zdGFuY2UuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0KHsgXzogaW5zdGFuY2UgfSwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IHsgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgIHNldHVwU3RhdGVba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICB3YXJuJDEoYENhbm5vdCBtdXRhdGUgPHNjcmlwdCBzZXR1cD4gYmluZGluZyBcIiR7a2V5fVwiIGZyb20gT3B0aW9ucyBBUEkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGtleVswXSA9PT0gXCIkXCIgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGhhcyh7XG4gICAgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfVxuICB9LCBrZXkpIHtcbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIHJldHVybiAhIWFjY2Vzc0NhY2hlW2tleV0gfHwgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpIHx8IGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpIHx8IChub3JtYWxpemVkUHJvcHMgPSBwcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkgfHwgaGFzT3duKGN0eCwga2V5KSB8fCBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fCBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KTtcbiAgfSxcbiAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBpZiAoZGVzY3JpcHRvci5nZXQgIT0gbnVsbCkge1xuICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oZGVzY3JpcHRvciwgXCJ2YWx1ZVwiKSkge1xuICAgICAgdGhpcy5zZXQodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IudmFsdWUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgIHdhcm4kMShcbiAgICAgIGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYFxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9O1xufVxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZChcbiAge30sXG4gIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyxcbiAge1xuICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gU3ltYm9sLnVuc2NvcGFibGVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuZ2V0KHRhcmdldCwga2V5LCB0YXJnZXQpO1xuICAgIH0sXG4gICAgaGFzKF8sIGtleSkge1xuICAgICAgY29uc3QgaGFzID0ga2V5WzBdICE9PSBcIl9cIiAmJiAhaXNHbG9iYWxseUFsbG93ZWQoa2V5KTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFoYXMgJiYgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmhhcyhfLCBrZXkpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXM7XG4gICAgfVxuICB9XG4pO1xuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogKCkgPT4gaW5zdGFuY2VcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXG4gICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXG4gICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xuICAgICAgc2V0OiBOT09QXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGN0eCxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gIH0gPSBpbnN0YW5jZTtcbiAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCkge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShcbiAgYCR7bWV0aG9kfSgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmBcbik7XG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVQcm9wc2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRW1pdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUV4cG9zZShleHBvc2VkKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZU9wdGlvbnMob3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZU9wdGlvbnNgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lU2xvdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lU2xvdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZU1vZGVsKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoXCJkZWZpbmVNb2RlbFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHByb3BzLCBkZWZhdWx0cykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYHdpdGhEZWZhdWx0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuc2xvdHM7XG59XG5mdW5jdGlvbiB1c2VBdHRycygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZUNvbnRleHQoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gIH1cbiAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09yRW1pdHMocHJvcHMpIHtcbiAgcmV0dXJuIGlzQXJyYXkocHJvcHMpID8gcHJvcHMucmVkdWNlKFxuICAgIChub3JtYWxpemVkLCBwKSA9PiAobm9ybWFsaXplZFtwXSA9IG51bGwsIG5vcm1hbGl6ZWQpLFxuICAgIHt9XG4gICkgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMocmF3LCBkZWZhdWx0cykge1xuICBjb25zdCBwcm9wcyA9IG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhyYXcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fc2tpcFwiKSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGxldCBvcHQgPSBwcm9wc1trZXldO1xuICAgIGlmIChvcHQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpKSB7XG4gICAgICAgIG9wdCA9IHByb3BzW2tleV0gPSB7IHR5cGU6IG9wdCwgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0LmRlZmF1bHQgPSBkZWZhdWx0c1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3B0ID09PSBudWxsKSB7XG4gICAgICBvcHQgPSBwcm9wc1trZXldID0geyBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYHByb3BzIGRlZmF1bHQga2V5IFwiJHtrZXl9XCIgaGFzIG5vIGNvcnJlc3BvbmRpbmcgZGVjbGFyYXRpb24uYCk7XG4gICAgfVxuICAgIGlmIChvcHQgJiYgZGVmYXVsdHNbYF9fc2tpcF8ke2tleX1gXSkge1xuICAgICAgb3B0LnNraXBGYWN0b3J5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuZnVuY3Rpb24gbWVyZ2VNb2RlbHMoYSwgYikge1xuICBpZiAoIWEgfHwgIWIpXG4gICAgcmV0dXJuIGEgfHwgYjtcbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSlcbiAgICByZXR1cm4gYS5jb25jYXQoYik7XG4gIHJldHVybiBleHRlbmQoe30sIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhhKSwgbm9ybWFsaXplUHJvcHNPckVtaXRzKGIpKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3BzUmVzdFByb3h5KHByb3BzLCBleGNsdWRlZEtleXMpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgaWYgKCFleGNsdWRlZEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gcHJvcHNba2V5XVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB3aXRoQXN5bmNDb250ZXh0KGdldEF3YWl0YWJsZSkge1xuICBjb25zdCBjdHggPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWN0eCkge1xuICAgIHdhcm4kMShcbiAgICAgIGB3aXRoQXN5bmNDb250ZXh0IGNhbGxlZCB3aXRob3V0IGFjdGl2ZSBjdXJyZW50IGluc3RhbmNlLiBUaGlzIGlzIGxpa2VseSBhIGJ1Zy5gXG4gICAgKTtcbiAgfVxuICBsZXQgYXdhaXRhYmxlID0gZ2V0QXdhaXRhYmxlKCk7XG4gIHVuc2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmIChpc1Byb21pc2UoYXdhaXRhYmxlKSkge1xuICAgIGF3YWl0YWJsZSA9IGF3YWl0YWJsZS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN0eCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbYXdhaXRhYmxlLCAoKSA9PiBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAodHlwZSwga2V5KSA9PiB7XG4gICAgaWYgKGNhY2hlW2tleV0pIHtcbiAgICAgIHdhcm4kMShgJHt0eXBlfSBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiAke2NhY2hlW2tleV19LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWNoZVtrZXldID0gdHlwZTtcbiAgICB9XG4gIH07XG59XG5sZXQgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuZnVuY3Rpb24gYXBwbHlPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSk7XG4gIGNvbnN0IHB1YmxpY1RoaXMgPSBpbnN0YW5jZS5wcm94eTtcbiAgY29uc3QgY3R4ID0gaW5zdGFuY2UuY3R4O1xuICBzaG91bGRDYWNoZUFjY2VzcyA9IGZhbHNlO1xuICBpZiAob3B0aW9ucy5iZWZvcmVDcmVhdGUpIHtcbiAgICBjYWxsSG9vayhvcHRpb25zLmJlZm9yZUNyZWF0ZSwgaW5zdGFuY2UsIFwiYmNcIik7XG4gIH1cbiAgY29uc3Qge1xuICAgIC8vIHN0YXRlXG4gICAgZGF0YTogZGF0YU9wdGlvbnMsXG4gICAgY29tcHV0ZWQ6IGNvbXB1dGVkT3B0aW9ucyxcbiAgICBtZXRob2RzLFxuICAgIHdhdGNoOiB3YXRjaE9wdGlvbnMsXG4gICAgcHJvdmlkZTogcHJvdmlkZU9wdGlvbnMsXG4gICAgaW5qZWN0OiBpbmplY3RPcHRpb25zLFxuICAgIC8vIGxpZmVjeWNsZVxuICAgIGNyZWF0ZWQsXG4gICAgYmVmb3JlTW91bnQsXG4gICAgbW91bnRlZCxcbiAgICBiZWZvcmVVcGRhdGUsXG4gICAgdXBkYXRlZCxcbiAgICBhY3RpdmF0ZWQsXG4gICAgZGVhY3RpdmF0ZWQsXG4gICAgYmVmb3JlRGVzdHJveSxcbiAgICBiZWZvcmVVbm1vdW50LFxuICAgIGRlc3Ryb3llZCxcbiAgICB1bm1vdW50ZWQsXG4gICAgcmVuZGVyLFxuICAgIHJlbmRlclRyYWNrZWQsXG4gICAgcmVuZGVyVHJpZ2dlcmVkLFxuICAgIGVycm9yQ2FwdHVyZWQsXG4gICAgc2VydmVyUHJlZmV0Y2gsXG4gICAgLy8gcHVibGljIEFQSVxuICAgIGV4cG9zZSxcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgLy8gYXNzZXRzXG4gICAgY29tcG9uZW50cyxcbiAgICBkaXJlY3RpdmVzLFxuICAgIGZpbHRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkgOiBudWxsO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IFtwcm9wc09wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICAgIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzT3B0aW9ucykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJQcm9wc1wiIC8qIFBST1BTICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaW5qZWN0T3B0aW9ucykge1xuICAgIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKTtcbiAgfVxuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG1ldGhvZHMpIHtcbiAgICAgIGNvbnN0IG1ldGhvZEhhbmRsZXIgPSBtZXRob2RzW2tleV07XG4gICAgICBpZiAoaXNGdW5jdGlvbihtZXRob2RIYW5kbGVyKSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgdmFsdWU6IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eFtrZXldID0gbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiTWV0aG9kc1wiIC8qIE1FVEhPRFMgKi8sIGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYE1ldGhvZCBcIiR7a2V5fVwiIGhhcyB0eXBlIFwiJHt0eXBlb2YgbWV0aG9kSGFuZGxlcn1cIiBpbiB0aGUgY29tcG9uZW50IGRlZmluaXRpb24uIERpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGF0YU9wdGlvbnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihkYXRhT3B0aW9ucykpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFRoZSBkYXRhIG9wdGlvbiBtdXN0IGJlIGEgZnVuY3Rpb24uIFBsYWluIG9iamVjdCB1c2FnZSBpcyBubyBsb25nZXIgc3VwcG9ydGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBkYXRhT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzUHJvbWlzZShkYXRhKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgZGF0YSgpIHJldHVybmVkIGEgUHJvbWlzZSAtIG5vdGUgZGF0YSgpIGNhbm5vdCBiZSBhc3luYzsgSWYgeW91IGludGVuZCB0byBwZXJmb3JtIGRhdGEgZmV0Y2hpbmcgYmVmb3JlIGNvbXBvbmVudCByZW5kZXJzLCB1c2UgYXN5bmMgc2V0dXAoKSArIDxTdXNwZW5zZT4uYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpc09iamVjdChkYXRhKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYGRhdGEoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuZGF0YSA9IHJlYWN0aXZlKGRhdGEpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkRhdGFcIiAvKiBEQVRBICovLCBrZXkpO1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQ6ICgpID0+IGRhdGFba2V5XSxcbiAgICAgICAgICAgICAgc2V0OiBOT09QXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSB0cnVlO1xuICBpZiAoY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY29tcHV0ZWRPcHRpb25zKSB7XG4gICAgICBjb25zdCBvcHQgPSBjb21wdXRlZE9wdGlvbnNba2V5XTtcbiAgICAgIGNvbnN0IGdldCA9IGlzRnVuY3Rpb24ob3B0KSA/IG9wdC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpIDogaXNGdW5jdGlvbihvcHQuZ2V0KSA/IG9wdC5nZXQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IE5PT1A7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBnZXQgPT09IE5PT1ApIHtcbiAgICAgICAgd2FybiQxKGBDb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGhhcyBubyBnZXR0ZXIuYCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzZXQgPSAhaXNGdW5jdGlvbihvcHQpICYmIGlzRnVuY3Rpb24ob3B0LnNldCkgPyBvcHQuc2V0LmJpbmQocHVibGljVGhpcykgOiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFdyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgcmVhZG9ubHkuYFxuICAgICAgICApO1xuICAgICAgfSA6IE5PT1A7XG4gICAgICBjb25zdCBjID0gY29tcHV0ZWQoe1xuICAgICAgICBnZXQsXG4gICAgICAgIHNldFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGMudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGMudmFsdWUgPSB2XG4gICAgICB9KTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIkNvbXB1dGVkXCIgLyogQ09NUFVURUQgKi8sIGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICh3YXRjaE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB3YXRjaE9wdGlvbnMpIHtcbiAgICAgIGNyZWF0ZVdhdGNoZXIod2F0Y2hPcHRpb25zW2tleV0sIGN0eCwgcHVibGljVGhpcywga2V5KTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3ZpZGVPcHRpb25zKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb25zKSA/IHByb3ZpZGVPcHRpb25zLmNhbGwocHVibGljVGhpcykgOiBwcm92aWRlT3B0aW9ucztcbiAgICBSZWZsZWN0Lm93bktleXMocHJvdmlkZXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgcHJvdmlkZShrZXksIHByb3ZpZGVzW2tleV0pO1xuICAgIH0pO1xuICB9XG4gIGlmIChjcmVhdGVkKSB7XG4gICAgY2FsbEhvb2soY3JlYXRlZCwgaW5zdGFuY2UsIFwiY1wiKTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3RlckxpZmVjeWNsZUhvb2socmVnaXN0ZXIsIGhvb2spIHtcbiAgICBpZiAoaXNBcnJheShob29rKSkge1xuICAgICAgaG9vay5mb3JFYWNoKChfaG9vaykgPT4gcmVnaXN0ZXIoX2hvb2suYmluZChwdWJsaWNUaGlzKSkpO1xuICAgIH0gZWxzZSBpZiAoaG9vaykge1xuICAgICAgcmVnaXN0ZXIoaG9vay5iaW5kKHB1YmxpY1RoaXMpKTtcbiAgICB9XG4gIH1cbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlTW91bnQsIGJlZm9yZU1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uTW91bnRlZCwgbW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVwZGF0ZSwgYmVmb3JlVXBkYXRlKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVXBkYXRlZCwgdXBkYXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkFjdGl2YXRlZCwgYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRGVhY3RpdmF0ZWQsIGRlYWN0aXZhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uRXJyb3JDYXB0dXJlZCwgZXJyb3JDYXB0dXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyYWNrZWQsIHJlbmRlclRyYWNrZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmlnZ2VyZWQsIHJlbmRlclRyaWdnZXJlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZVVubW91bnQsIGJlZm9yZVVubW91bnQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Vbm1vdW50ZWQsIHVubW91bnRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblNlcnZlclByZWZldGNoLCBzZXJ2ZXJQcmVmZXRjaCk7XG4gIGlmIChpc0FycmF5KGV4cG9zZSkpIHtcbiAgICBpZiAoZXhwb3NlLmxlbmd0aCkge1xuICAgICAgY29uc3QgZXhwb3NlZCA9IGluc3RhbmNlLmV4cG9zZWQgfHwgKGluc3RhbmNlLmV4cG9zZWQgPSB7fSk7XG4gICAgICBleHBvc2UuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvc2VkLCBrZXksIHtcbiAgICAgICAgICBnZXQ6ICgpID0+IHB1YmxpY1RoaXNba2V5XSxcbiAgICAgICAgICBzZXQ6ICh2YWwpID0+IHB1YmxpY1RoaXNba2V5XSA9IHZhbFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIWluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgIGluc3RhbmNlLmV4cG9zZWQgPSB7fTtcbiAgICB9XG4gIH1cbiAgaWYgKHJlbmRlciAmJiBpbnN0YW5jZS5yZW5kZXIgPT09IE5PT1ApIHtcbiAgICBpbnN0YW5jZS5yZW5kZXIgPSByZW5kZXI7XG4gIH1cbiAgaWYgKGluaGVyaXRBdHRycyAhPSBudWxsKSB7XG4gICAgaW5zdGFuY2UuaW5oZXJpdEF0dHJzID0gaW5oZXJpdEF0dHJzO1xuICB9XG4gIGlmIChjb21wb25lbnRzKVxuICAgIGluc3RhbmNlLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICBpZiAoZGlyZWN0aXZlcylcbiAgICBpbnN0YW5jZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbn1cbmZ1bmN0aW9uIHJlc29sdmVJbmplY3Rpb25zKGluamVjdE9wdGlvbnMsIGN0eCwgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gTk9PUCkge1xuICBpZiAoaXNBcnJheShpbmplY3RPcHRpb25zKSkge1xuICAgIGluamVjdE9wdGlvbnMgPSBub3JtYWxpemVJbmplY3QoaW5qZWN0T3B0aW9ucyk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gaW5qZWN0T3B0aW9ucykge1xuICAgIGNvbnN0IG9wdCA9IGluamVjdE9wdGlvbnNba2V5XTtcbiAgICBsZXQgaW5qZWN0ZWQ7XG4gICAgaWYgKGlzT2JqZWN0KG9wdCkpIHtcbiAgICAgIGlmIChcImRlZmF1bHRcIiBpbiBvcHQpIHtcbiAgICAgICAgaW5qZWN0ZWQgPSBpbmplY3QoXG4gICAgICAgICAgb3B0LmZyb20gfHwga2V5LFxuICAgICAgICAgIG9wdC5kZWZhdWx0LFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdC5mcm9tIHx8IGtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluamVjdGVkID0gaW5qZWN0KG9wdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZihpbmplY3RlZCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaW5qZWN0ZWQudmFsdWUsXG4gICAgICAgIHNldDogKHYpID0+IGluamVjdGVkLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eFtrZXldID0gaW5qZWN0ZWQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJJbmplY3RcIiAvKiBJTkpFQ1QgKi8sIGtleSk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsSG9vayhob29rLCBpbnN0YW5jZSwgdHlwZSkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICBpc0FycmF5KGhvb2spID8gaG9vay5tYXAoKGgpID0+IGguYmluZChpbnN0YW5jZS5wcm94eSkpIDogaG9vay5iaW5kKGluc3RhbmNlLnByb3h5KSxcbiAgICBpbnN0YW5jZSxcbiAgICB0eXBlXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVXYXRjaGVyKHJhdywgY3R4LCBwdWJsaWNUaGlzLCBrZXkpIHtcbiAgY29uc3QgZ2V0dGVyID0ga2V5LmluY2x1ZGVzKFwiLlwiKSA/IGNyZWF0ZVBhdGhHZXR0ZXIocHVibGljVGhpcywga2V5KSA6ICgpID0+IHB1YmxpY1RoaXNba2V5XTtcbiAgaWYgKGlzU3RyaW5nKHJhdykpIHtcbiAgICBjb25zdCBoYW5kbGVyID0gY3R4W3Jhd107XG4gICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlcik7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXd9XCJgLCBoYW5kbGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihyYXcpKSB7XG4gICAgd2F0Y2goZ2V0dGVyLCByYXcuYmluZChwdWJsaWNUaGlzKSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QocmF3KSkge1xuICAgIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICAgIHJhdy5mb3JFYWNoKChyKSA9PiBjcmVhdGVXYXRjaGVyKHIsIGN0eCwgcHVibGljVGhpcywga2V5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBpc0Z1bmN0aW9uKHJhdy5oYW5kbGVyKSA/IHJhdy5oYW5kbGVyLmJpbmQocHVibGljVGhpcykgOiBjdHhbcmF3LmhhbmRsZXJdO1xuICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgd2F0Y2goZ2V0dGVyLCBoYW5kbGVyLCByYXcpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBoYW5kbGVyIHNwZWNpZmllZCBieSBrZXkgXCIke3Jhdy5oYW5kbGVyfVwiYCwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggb3B0aW9uOiBcIiR7a2V5fVwiYCwgcmF3KTtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgY29uc3QgYmFzZSA9IGluc3RhbmNlLnR5cGU7XG4gIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gYmFzZTtcbiAgY29uc3Qge1xuICAgIG1peGluczogZ2xvYmFsTWl4aW5zLFxuICAgIG9wdGlvbnNDYWNoZTogY2FjaGUsXG4gICAgY29uZmlnOiB7IG9wdGlvbk1lcmdlU3RyYXRlZ2llcyB9XG4gIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0O1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoYmFzZSk7XG4gIGxldCByZXNvbHZlZDtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJlc29sdmVkID0gY2FjaGVkO1xuICB9IGVsc2UgaWYgKCFnbG9iYWxNaXhpbnMubGVuZ3RoICYmICFtaXhpbnMgJiYgIWV4dGVuZHNPcHRpb25zKSB7XG4gICAge1xuICAgICAgcmVzb2x2ZWQgPSBiYXNlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXNvbHZlZCA9IHt9O1xuICAgIGlmIChnbG9iYWxNaXhpbnMubGVuZ3RoKSB7XG4gICAgICBnbG9iYWxNaXhpbnMuZm9yRWFjaChcbiAgICAgICAgKG0pID0+IG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgbSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzLCB0cnVlKVxuICAgICAgKTtcbiAgICB9XG4gICAgbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBiYXNlLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMpO1xuICB9XG4gIGlmIChpc09iamVjdChiYXNlKSkge1xuICAgIGNhY2hlLnNldChiYXNlLCByZXNvbHZlZCk7XG4gIH1cbiAgcmV0dXJuIHJlc29sdmVkO1xufVxuZnVuY3Rpb24gbWVyZ2VPcHRpb25zKHRvLCBmcm9tLCBzdHJhdHMsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGZyb207XG4gIGlmIChleHRlbmRzT3B0aW9ucykge1xuICAgIG1lcmdlT3B0aW9ucyh0bywgZXh0ZW5kc09wdGlvbnMsIHN0cmF0cywgdHJ1ZSk7XG4gIH1cbiAgaWYgKG1peGlucykge1xuICAgIG1peGlucy5mb3JFYWNoKFxuICAgICAgKG0pID0+IG1lcmdlT3B0aW9ucyh0bywgbSwgc3RyYXRzLCB0cnVlKVxuICAgICk7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gZnJvbSkge1xuICAgIGlmIChhc01peGluICYmIGtleSA9PT0gXCJleHBvc2VcIikge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBcImV4cG9zZVwiIG9wdGlvbiBpcyBpZ25vcmVkIHdoZW4gZGVjbGFyZWQgaW4gbWl4aW5zIG9yIGV4dGVuZHMuIEl0IHNob3VsZCBvbmx5IGJlIGRlY2xhcmVkIGluIHRoZSBiYXNlIGNvbXBvbmVudCBpdHNlbGYuYFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RyYXQgPSBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzW2tleV0gfHwgc3RyYXRzICYmIHN0cmF0c1trZXldO1xuICAgICAgdG9ba2V5XSA9IHN0cmF0ID8gc3RyYXQodG9ba2V5XSwgZnJvbVtrZXldKSA6IGZyb21ba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvO1xufVxuY29uc3QgaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0cyA9IHtcbiAgZGF0YTogbWVyZ2VEYXRhRm4sXG4gIHByb3BzOiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMsXG4gIGVtaXRzOiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMsXG4gIC8vIG9iamVjdHNcbiAgbWV0aG9kczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICBjb21wdXRlZDogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyBsaWZlY3ljbGVcbiAgYmVmb3JlQ3JlYXRlOiBtZXJnZUFzQXJyYXksXG4gIGNyZWF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlTW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgbW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVcGRhdGU6IG1lcmdlQXNBcnJheSxcbiAgdXBkYXRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVEZXN0cm95OiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZVVubW91bnQ6IG1lcmdlQXNBcnJheSxcbiAgZGVzdHJveWVkOiBtZXJnZUFzQXJyYXksXG4gIHVubW91bnRlZDogbWVyZ2VBc0FycmF5LFxuICBhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgZGVhY3RpdmF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgZXJyb3JDYXB0dXJlZDogbWVyZ2VBc0FycmF5LFxuICBzZXJ2ZXJQcmVmZXRjaDogbWVyZ2VBc0FycmF5LFxuICAvLyBhc3NldHNcbiAgY29tcG9uZW50czogbWVyZ2VPYmplY3RPcHRpb25zLFxuICBkaXJlY3RpdmVzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIC8vIHdhdGNoXG4gIHdhdGNoOiBtZXJnZVdhdGNoT3B0aW9ucyxcbiAgLy8gcHJvdmlkZSAvIGluamVjdFxuICBwcm92aWRlOiBtZXJnZURhdGFGbixcbiAgaW5qZWN0OiBtZXJnZUluamVjdFxufTtcbmZ1bmN0aW9uIG1lcmdlRGF0YUZuKHRvLCBmcm9tKSB7XG4gIGlmICghZnJvbSkge1xuICAgIHJldHVybiB0bztcbiAgfVxuICBpZiAoIXRvKSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcbiAgICByZXR1cm4gKGV4dGVuZCkoXG4gICAgICBpc0Z1bmN0aW9uKHRvKSA/IHRvLmNhbGwodGhpcywgdGhpcykgOiB0byxcbiAgICAgIGlzRnVuY3Rpb24oZnJvbSkgPyBmcm9tLmNhbGwodGhpcywgdGhpcykgOiBmcm9tXG4gICAgKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIG1lcmdlSW5qZWN0KHRvLCBmcm9tKSB7XG4gIHJldHVybiBtZXJnZU9iamVjdE9wdGlvbnMobm9ybWFsaXplSW5qZWN0KHRvKSwgbm9ybWFsaXplSW5qZWN0KGZyb20pKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChyYXcpIHtcbiAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXNbcmF3W2ldXSA9IHJhd1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICByZXR1cm4gcmF3O1xufVxuZnVuY3Rpb24gbWVyZ2VBc0FycmF5KHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IFsuLi5uZXcgU2V0KFtdLmNvbmNhdCh0bywgZnJvbSkpXSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZU9iamVjdE9wdGlvbnModG8sIGZyb20pIHtcbiAgcmV0dXJuIHRvID8gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0bywgZnJvbSkgOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICh0bykge1xuICAgIGlmIChpc0FycmF5KHRvKSAmJiBpc0FycmF5KGZyb20pKSB7XG4gICAgICByZXR1cm4gWy4uLi8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsuLi50bywgLi4uZnJvbV0pXTtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVuZChcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgbm9ybWFsaXplUHJvcHNPckVtaXRzKHRvKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhmcm9tICE9IG51bGwgPyBmcm9tIDoge30pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnJvbTtcbiAgfVxufVxuZnVuY3Rpb24gbWVyZ2VXYXRjaE9wdGlvbnModG8sIGZyb20pIHtcbiAgaWYgKCF0bylcbiAgICByZXR1cm4gZnJvbTtcbiAgaWYgKCFmcm9tKVxuICAgIHJldHVybiB0bztcbiAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gIHJldHVybiB7XG4gICAgYXBwOiBudWxsLFxuICAgIGNvbmZpZzoge1xuICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgZXJyb3JIYW5kbGVyOiB2b2lkIDAsXG4gICAgICB3YXJuSGFuZGxlcjogdm9pZCAwLFxuICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgbWl4aW5zOiBbXSxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICBwcm92aWRlczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgb3B0aW9uc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBwcm9wc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBlbWl0c0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICB9O1xufVxubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICByb290Q29tcG9uZW50ID0gZXh0ZW5kKHt9LCByb290Q29tcG9uZW50KTtcbiAgICB9XG4gICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICByb290UHJvcHMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY29uc3QgYXBwID0gY29udGV4dC5hcHAgPSB7XG4gICAgICBfdWlkOiB1aWQkMSsrLFxuICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcbiAgICAgIF9wcm9wczogcm9vdFByb3BzLFxuICAgICAgX2NvbnRhaW5lcjogbnVsbCxcbiAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxuICAgICAgX2luc3RhbmNlOiBudWxsLFxuICAgICAgdmVyc2lvbixcbiAgICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbmZpZztcbiAgICAgIH0sXG4gICAgICBzZXQgY29uZmlnKHYpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgYXBwLmNvbmZpZyBjYW5ub3QgYmUgcmVwbGFjZWQuIE1vZGlmeSBpbmRpdmlkdWFsIG9wdGlvbnMgaW5zdGVhZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaGFzKHBsdWdpbikpIHtcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgUGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xuICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBmdW5jdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1peGluKG1peGluKSB7XG4gICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XG4gICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcbiAgICAgICAgICAgIGNvbnRleHQubWl4aW5zLnB1c2gobWl4aW4pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBcIk1peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwXCIgKyAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogXCJcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xuICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlyZWN0aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBUaGVyZSBpcyBhbHJlYWR5IGFuIGFwcCBpbnN0YW5jZSBtb3VudGVkIG9uIHRoZSBob3N0IGNvbnRhaW5lci5cbiBJZiB5b3Ugd2FudCB0byBtb3VudCBhbm90aGVyIGFwcCBvbiB0aGUgc2FtZSBob3N0IGNvbnRhaW5lciwgeW91IG5lZWQgdG8gdW5tb3VudCB0aGUgcHJldmlvdXMgYXBwIGJ5IGNhbGxpbmcgXFxgYXBwLnVubW91bnQoKVxcYCBmaXJzdC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XG4gICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICAgICAgY2xvbmVWTm9kZSh2bm9kZSksXG4gICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xuICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XG4gICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdldEV4cG9zZVByb3h5KHZub2RlLmNvbXBvbmVudCkgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQXBwIGhhcyBhbHJlYWR5IGJlZW4gbW91bnRlZC5cbklmIHlvdSB3YW50IHRvIHJlbW91bnQgdGhlIHNhbWUgYXBwLCBtb3ZlIHlvdXIgYXBwIGNyZWF0aW9uIGxvZ2ljIGludG8gYSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCBjcmVhdGUgZnJlc2ggYXBwIGluc3RhbmNlcyBmb3IgZWFjaCBtb3VudCAtIGUuZy4gXFxgY29uc3QgY3JlYXRlTXlBcHAgPSAoKSA9PiBjcmVhdGVBcHAoQXBwKVxcYGBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdW5tb3VudCgpIHtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIGRldnRvb2xzVW5tb3VudEFwcChhcHApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgYXBwLl9jb250YWluZXIuX192dWVfYXBwX187XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5IGluIGNvbnRleHQucHJvdmlkZXMpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiLiBJdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggdGhlIG5ldyB2YWx1ZS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBydW5XaXRoQ29udGV4dChmbikge1xuICAgICAgICBjb25zdCBsYXN0QXBwID0gY3VycmVudEFwcDtcbiAgICAgICAgY3VycmVudEFwcCA9IGFwcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50QXBwID0gbGFzdEFwcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGFwcDtcbiAgfTtcbn1cbmxldCBjdXJyZW50QXBwID0gbnVsbDtcblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XG4gIGlmICghY3VycmVudEluc3RhbmNlKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvdmlkZSgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkuYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcztcbiAgICBjb25zdCBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQgJiYgY3VycmVudEluc3RhbmNlLnBhcmVudC5wcm92aWRlcztcbiAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XG4gICAgICBwcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS5wcm92aWRlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xuICAgIH1cbiAgICBwcm92aWRlc1trZXldID0gdmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2UpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2UgfHwgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBpZiAoaW5zdGFuY2UgfHwgY3VycmVudEFwcCkge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gaW5zdGFuY2UgPyBpbnN0YW5jZS5wYXJlbnQgPT0gbnVsbCA/IGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQgJiYgaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlLnBhcmVudC5wcm92aWRlcyA6IGN1cnJlbnRBcHAuX2NvbnRleHQucHJvdmlkZXM7XG4gICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzSW5qZWN0aW9uQ29udGV4dCgpIHtcbiAgcmV0dXJuICEhKGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEFwcCk7XG59XG5cbmZ1bmN0aW9uIGluaXRQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSID0gZmFsc2UpIHtcbiAgY29uc3QgcHJvcHMgPSB7fTtcbiAgY29uc3QgYXR0cnMgPSB7fTtcbiAgZGVmKGF0dHJzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XG4gIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgcHJvcHNba2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG4gIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XG59XG5mdW5jdGlvbiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkge1xuICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX2htcklkKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZVByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcmF3UHJldlByb3BzLCBvcHRpbWl6ZWQpIHtcbiAgY29uc3Qge1xuICAgIHByb3BzLFxuICAgIGF0dHJzLFxuICAgIHZub2RlOiB7IHBhdGNoRmxhZyB9XG4gIH0gPSBpbnN0YW5jZTtcbiAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICBjb25zdCBbb3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgaWYgKFxuICAgIC8vIGFsd2F5cyBmb3JjZSBmdWxsIGRpZmYgaW4gZGV2XG4gICAgLy8gLSAjMTk0MiBpZiBobXIgaXMgZW5hYmxlZCB3aXRoIHNmYyBjb21wb25lbnRcbiAgICAvLyAtIHZpdGUjODcyIG5vbi1zZmMgY29tcG9uZW50IHVzZWQgYnkgc2ZjIGNvbXBvbmVudFxuICAgICEoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkpICYmIChvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnID4gMCkgJiYgIShwYXRjaEZsYWcgJiAxNilcbiAgKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBpbnN0YW5jZS52bm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgIGlmIChpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKGhhc093bihhdHRycywga2V5KSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2FtZWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgICAgICAgIHByb3BzW2NhbWVsaXplZEtleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGNhbWVsaXplZEtleSxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSkge1xuICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGtlYmFiS2V5O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgaWYgKCFyYXdQcm9wcyB8fCAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIC8vIGl0J3MgcG9zc2libGUgdGhlIG9yaWdpbmFsIHByb3BzIHdhcyBwYXNzZWQgaW4gYXMga2ViYWItY2FzZVxuICAgICAgLy8gYW5kIGNvbnZlcnRlZCB0byBjYW1lbENhc2UgKCM5NTUpXG4gICAgICAoKGtlYmFiS2V5ID0gaHlwaGVuYXRlKGtleSkpID09PSBrZXkgfHwgIWhhc093bihyYXdQcm9wcywga2ViYWJLZXkpKSkge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChyYXdQcmV2UHJvcHMgJiYgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgICAgIChyYXdQcmV2UHJvcHNba2V5XSAhPT0gdm9pZCAwIHx8IC8vIGZvciBrZWJhYi1jYXNlXG4gICAgICAgICAgcmF3UHJldlByb3BzW2tlYmFiS2V5XSAhPT0gdm9pZCAwKSkge1xuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYXR0cnMgIT09IHJhd0N1cnJlbnRQcm9wcykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKCFyYXdQcm9wcyB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmIHRydWUpIHtcbiAgICAgICAgICBkZWxldGUgYXR0cnNba2V5XTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChoYXNBdHRyc0NoYW5nZWQpIHtcbiAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiLCBcIiRhdHRyc1wiKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykge1xuICBjb25zdCBbb3B0aW9ucywgbmVlZENhc3RLZXlzXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBsZXQgcmF3Q2FzdFZhbHVlcztcbiAgaWYgKHJhd1Byb3BzKSB7XG4gICAgZm9yIChsZXQga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgICBpZiAoaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgIGxldCBjYW1lbEtleTtcbiAgICAgIGlmIChvcHRpb25zICYmIGhhc093bihvcHRpb25zLCBjYW1lbEtleSA9IGNhbWVsaXplKGtleSkpKSB7XG4gICAgICAgIGlmICghbmVlZENhc3RLZXlzIHx8ICFuZWVkQ2FzdEtleXMuaW5jbHVkZXMoY2FtZWxLZXkpKSB7XG4gICAgICAgICAgcHJvcHNbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHJhd0Nhc3RWYWx1ZXMgfHwgKHJhd0Nhc3RWYWx1ZXMgPSB7fSkpW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc0VtaXRMaXN0ZW5lcihpbnN0YW5jZS5lbWl0c09wdGlvbnMsIGtleSkpIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIGF0dHJzKSB8fCB2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChuZWVkQ2FzdEtleXMpIHtcbiAgICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgY29uc3QgY2FzdFZhbHVlcyA9IHJhd0Nhc3RWYWx1ZXMgfHwgRU1QVFlfT0JKO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmVlZENhc3RLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBrZXkgPSBuZWVkQ2FzdEtleXNbaV07XG4gICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICBrZXksXG4gICAgICAgIGNhc3RWYWx1ZXNba2V5XSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICFoYXNPd24oY2FzdFZhbHVlcywga2V5KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhhc0F0dHJzQ2hhbmdlZDtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQcm9wVmFsdWUob3B0aW9ucywgcHJvcHMsIGtleSwgdmFsdWUsIGluc3RhbmNlLCBpc0Fic2VudCkge1xuICBjb25zdCBvcHQgPSBvcHRpb25zW2tleV07XG4gIGlmIChvcHQgIT0gbnVsbCkge1xuICAgIGNvbnN0IGhhc0RlZmF1bHQgPSBoYXNPd24ob3B0LCBcImRlZmF1bHRcIik7XG4gICAgaWYgKGhhc0RlZmF1bHQgJiYgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0LmRlZmF1bHQ7XG4gICAgICBpZiAob3B0LnR5cGUgIT09IEZ1bmN0aW9uICYmICFvcHQuc2tpcEZhY3RvcnkgJiYgaXNGdW5jdGlvbihkZWZhdWx0VmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvcHNEZWZhdWx0cyB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGlmIChrZXkgaW4gcHJvcHNEZWZhdWx0cykge1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XSA9IGRlZmF1bHRWYWx1ZS5jYWxsKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdFswIC8qIHNob3VsZENhc3QgKi9dKSB7XG4gICAgICBpZiAoaXNBYnNlbnQgJiYgIWhhc0RlZmF1bHQpIHtcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAob3B0WzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dICYmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpKSB7XG4gICAgICAgIHZhbHVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPcHRpb25zKGNvbXAsIGFwcENvbnRleHQsIGFzTWl4aW4gPSBmYWxzZSkge1xuICBjb25zdCBjYWNoZSA9IGFwcENvbnRleHQucHJvcHNDYWNoZTtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGNvbXApO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByYXcgPSBjb21wLnByb3BzO1xuICBjb25zdCBub3JtYWxpemVkID0ge307XG4gIGNvbnN0IG5lZWRDYXN0S2V5cyA9IFtdO1xuICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgIGNvbnN0IGV4dGVuZFByb3BzID0gKHJhdzIpID0+IHtcbiAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgY29uc3QgW3Byb3BzLCBrZXlzXSA9IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhyYXcyLCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgIGV4dGVuZChub3JtYWxpemVkLCBwcm9wcyk7XG4gICAgICBpZiAoa2V5cylcbiAgICAgICAgbmVlZENhc3RLZXlzLnB1c2goLi4ua2V5cyk7XG4gICAgfTtcbiAgICBpZiAoIWFzTWl4aW4gJiYgYXBwQ29udGV4dC5taXhpbnMubGVuZ3RoKSB7XG4gICAgICBhcHBDb250ZXh0Lm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAuZXh0ZW5kcykge1xuICAgICAgZXh0ZW5kUHJvcHMoY29tcC5leHRlbmRzKTtcbiAgICB9XG4gICAgaWYgKGNvbXAubWl4aW5zKSB7XG4gICAgICBjb21wLm1peGlucy5mb3JFYWNoKGV4dGVuZFByb3BzKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyYXcgJiYgIWhhc0V4dGVuZHMpIHtcbiAgICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICAgIGNhY2hlLnNldChjb21wLCBFTVBUWV9BUlIpO1xuICAgIH1cbiAgICByZXR1cm4gRU1QVFlfQVJSO1xuICB9XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzU3RyaW5nKHJhd1tpXSkpIHtcbiAgICAgICAgd2FybiQxKGBwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguYCwgcmF3W2ldKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBjYW1lbGl6ZShyYXdbaV0pO1xuICAgICAgaWYgKHZhbGlkYXRlUHJvcE5hbWUobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IEVNUFRZX09CSjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAocmF3KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KHJhdykpIHtcbiAgICAgIHdhcm4kMShgaW52YWxpZCBwcm9wcyBvcHRpb25zYCwgcmF3KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3KSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUoa2V5KTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIGNvbnN0IG9wdCA9IHJhd1trZXldO1xuICAgICAgICBjb25zdCBwcm9wID0gbm9ybWFsaXplZFtub3JtYWxpemVkS2V5XSA9IGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkgPyB7IHR5cGU6IG9wdCB9IDogZXh0ZW5kKHt9LCBvcHQpO1xuICAgICAgICBpZiAocHJvcCkge1xuICAgICAgICAgIGNvbnN0IGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpO1xuICAgICAgICAgIGNvbnN0IHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcbiAgICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBib29sZWFuSW5kZXggPiAtMTtcbiAgICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID0gc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4O1xuICAgICAgICAgIGlmIChib29sZWFuSW5kZXggPiAtMSB8fCBoYXNPd24ocHJvcCwgXCJkZWZhdWx0XCIpKSB7XG4gICAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzID0gW25vcm1hbGl6ZWQsIG5lZWRDYXN0S2V5c107XG4gIGlmIChpc09iamVjdChjb21wKSkge1xuICAgIGNhY2hlLnNldChjb21wLCByZXMpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BOYW1lKGtleSkge1xuICBpZiAoa2V5WzBdICE9PSBcIiRcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYEludmFsaWQgcHJvcCBuYW1lOiBcIiR7a2V5fVwiIGlzIGEgcmVzZXJ2ZWQgcHJvcGVydHkuYCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZ2V0VHlwZShjdG9yKSB7XG4gIGlmIChjdG9yID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFwibnVsbFwiO1xuICB9XG4gIGlmICh0eXBlb2YgY3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIGN0b3IubmFtZSB8fCBcIlwiO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjdG9yID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3QgbmFtZSA9IGN0b3IuY29uc3RydWN0b3IgJiYgY3Rvci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIHJldHVybiBuYW1lIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBpc1NhbWVUeXBlKGEsIGIpIHtcbiAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYik7XG59XG5mdW5jdGlvbiBnZXRUeXBlSW5kZXgodHlwZSwgZXhwZWN0ZWRUeXBlcykge1xuICBpZiAoaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xuICAgIHJldHVybiBleHBlY3RlZFR5cGVzLmZpbmRJbmRleCgodCkgPT4gaXNTYW1lVHlwZSh0LCB0eXBlKSk7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFR5cGVzKSkge1xuICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xO1xuICB9XG4gIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb3B0aW9ucykge1xuICAgIGxldCBvcHQgPSBvcHRpb25zW2tleV07XG4gICAgaWYgKG9wdCA9PSBudWxsKVxuICAgICAgY29udGludWU7XG4gICAgdmFsaWRhdGVQcm9wKFxuICAgICAga2V5LFxuICAgICAgcmVzb2x2ZWRWYWx1ZXNba2V5XSxcbiAgICAgIG9wdCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocmVzb2x2ZWRWYWx1ZXMpIDogcmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgcHJvcHMsIGlzQWJzZW50KSB7XG4gIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciwgc2tpcENoZWNrIH0gPSBwcm9wO1xuICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcbiAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcmVxdWlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlICYmICFza2lwQ2hlY2spIHtcbiAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCBcIlwiKTtcbiAgICAgIGlzVmFsaWQgPSB2YWxpZDtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB3YXJuJDEoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSwgcHJvcHMpKSB7XG4gICAgd2FybiQxKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XG4gIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcIlN0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50XCJcbik7XG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XG4gIGxldCB2YWxpZDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghdmFsaWQgJiYgdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJPYmplY3RcIikge1xuICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJBcnJheVwiKSB7XG4gICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgdmFsaWQgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBgUHJvcCB0eXBlIFtdIGZvciBwcm9wIFwiJHtuYW1lfVwiIHdvbid0IG1hdGNoIGFueXRoaW5nLiBEaWQgeW91IG1lYW4gdG8gdXNlIHR5cGUgQXJyYXkgaW5zdGVhZD9gO1xuICB9XG4gIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbihcIiB8IFwiKX1gO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcbiAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJiBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJiAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xuICB9XG4gIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcbiAgfVxuICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJOdW1iZXJcIikge1xuICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJib29sZWFuXCJdO1xuICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKChlbGVtKSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3Muc29tZSgoZWxlbSkgPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSBcImJvb2xlYW5cIik7XG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09IFwiX1wiIHx8IGtleSA9PT0gXCIkc3RhYmxlXCI7XG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKSA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xuY29uc3Qgbm9ybWFsaXplU2xvdCA9IChrZXksIHJhd1Nsb3QsIGN0eCkgPT4ge1xuICBpZiAocmF3U2xvdC5fbikge1xuICAgIHJldHVybiByYXdTbG90O1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KCguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudEluc3RhbmNlICYmICghY3R4IHx8IGN0eC5yb290ID09PSBjdXJyZW50SW5zdGFuY2Uucm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3RWYWx1ZShyYXdTbG90KC4uLmFyZ3MpKTtcbiAgfSwgY3R4KTtcbiAgbm9ybWFsaXplZC5fYyA9IGZhbHNlO1xuICByZXR1cm4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XG4gICAgaWYgKGlzSW50ZXJuYWxLZXkoa2V5KSlcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBzbG90IFwiJHtrZXl9XCIuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xuICAgICAgc2xvdHNba2V5XSA9ICgpID0+IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgbm9ybWFsaXplVk5vZGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJiB0cnVlKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcbiAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XG59O1xuY29uc3QgaW5pdFNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICBpZiAoaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgaW5zdGFuY2Uuc2xvdHMgPSB0b1JhdyhjaGlsZHJlbik7XG4gICAgICBkZWYoY2hpbGRyZW4sIFwiX1wiLCB0eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBpbnN0YW5jZS5zbG90cyA9IHt9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaW5zdGFuY2Uuc2xvdHMgPSB7fTtcbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICB9XG4gIH1cbiAgZGVmKGluc3RhbmNlLnNsb3RzLCBJbnRlcm5hbE9iamVjdEtleSwgMSk7XG59O1xuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xuICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xuICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcbiAgICAgICAgdHJpZ2dlcihpbnN0YW5jZSwgXCJzZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICB9IGVsc2UgaWYgKG9wdGltaXplZCAmJiB0eXBlID09PSAxKSB7XG4gICAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHRlbmQoc2xvdHMsIGNoaWxkcmVuKTtcbiAgICAgICAgaWYgKCFvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSkge1xuICAgICAgICAgIGRlbGV0ZSBzbG90cy5fO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5lZWREZWxldGlvbkNoZWNrID0gIWNoaWxkcmVuLiRzdGFibGU7XG4gICAgICBub3JtYWxpemVPYmplY3RTbG90cyhjaGlsZHJlbiwgc2xvdHMpO1xuICAgIH1cbiAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIG5vcm1hbGl6ZVZOb2RlU2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuKTtcbiAgICBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSB7IGRlZmF1bHQ6IDEgfTtcbiAgfVxuICBpZiAobmVlZERlbGV0aW9uQ2hlY2spIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgaWYgKCFpc0ludGVybmFsS2V5KGtleSkgJiYgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgc2xvdHNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldFJlZihyYXdSZWYsIG9sZFJhd1JlZiwgcGFyZW50U3VzcGVuc2UsIHZub2RlLCBpc1VubW91bnQgPSBmYWxzZSkge1xuICBpZiAoaXNBcnJheShyYXdSZWYpKSB7XG4gICAgcmF3UmVmLmZvckVhY2goXG4gICAgICAociwgaSkgPT4gc2V0UmVmKFxuICAgICAgICByLFxuICAgICAgICBvbGRSYXdSZWYgJiYgKGlzQXJyYXkob2xkUmF3UmVmKSA/IG9sZFJhd1JlZltpXSA6IG9sZFJhd1JlZiksXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgaXNVbm1vdW50XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzQXN5bmNXcmFwcGVyKHZub2RlKSAmJiAhaXNVbm1vdW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlZlZhbHVlID0gdm5vZGUuc2hhcGVGbGFnICYgNCA/IGdldEV4cG9zZVByb3h5KHZub2RlLmNvbXBvbmVudCkgfHwgdm5vZGUuY29tcG9uZW50LnByb3h5IDogdm5vZGUuZWw7XG4gIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW93bmVyKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IG93bmVyLnJlZnMgPSB7fSA6IG93bmVyLnJlZnM7XG4gIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICBpZiAob2xkUmVmICE9IG51bGwgJiYgb2xkUmVmICE9PSByZWYpIHtcbiAgICBpZiAoaXNTdHJpbmcob2xkUmVmKSkge1xuICAgICAgcmVmc1tvbGRSZWZdID0gbnVsbDtcbiAgICAgIGlmIChoYXNPd24oc2V0dXBTdGF0ZSwgb2xkUmVmKSkge1xuICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xuICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiwgW3ZhbHVlLCByZWZzXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgX2lzU3RyaW5nID0gaXNTdHJpbmcocmVmKTtcbiAgICBjb25zdCBfaXNSZWYgPSBpc1JlZihyZWYpO1xuICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XG4gICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJhd1JlZi5mKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBfaXNTdHJpbmcgPyBoYXNPd24oc2V0dXBTdGF0ZSwgcmVmKSA/IHNldHVwU3RhdGVbcmVmXSA6IHJlZnNbcmVmXSA6IHJlZi52YWx1ZTtcbiAgICAgICAgICBpZiAoaXNVbm1vdW50KSB7XG4gICAgICAgICAgICBpc0FycmF5KGV4aXN0aW5nKSAmJiByZW1vdmUoZXhpc3RpbmcsIHJlZlZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KGV4aXN0aW5nKSkge1xuICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVmc1tyZWZdID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcbiAgICAgICAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHJlZnNbcmVmXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gW3JlZlZhbHVlXTtcbiAgICAgICAgICAgICAgICBpZiAocmF3UmVmLmspXG4gICAgICAgICAgICAgICAgICByZWZzW3Jhd1JlZi5rXSA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2gocmVmVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcbiAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNSZWYpIHtcbiAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBpZiAocmF3UmVmLmspXG4gICAgICAgICAgICByZWZzW3Jhd1JlZi5rXSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkb1NldC5pZCA9IC0xO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoZG9TZXQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvU2V0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoXCJJbnZhbGlkIHRlbXBsYXRlIHJlZiB0eXBlOlwiLCByZWYsIGAoJHt0eXBlb2YgcmVmfSlgKTtcbiAgICB9XG4gIH1cbn1cblxubGV0IGhhc01pc21hdGNoID0gZmFsc2U7XG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IGNvbnRhaW5lci5uYW1lc3BhY2VVUkkuaW5jbHVkZXMoXCJzdmdcIikgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09IFwiZm9yZWlnbk9iamVjdFwiO1xuY29uc3QgaXNNYXRoTUxDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwiTWF0aE1MXCIpO1xuY29uc3QgZ2V0Q29udGFpbmVyVHlwZSA9IChjb250YWluZXIpID0+IHtcbiAgaWYgKGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lcikpXG4gICAgcmV0dXJuIFwic3ZnXCI7XG4gIGlmIChpc01hdGhNTENvbnRhaW5lcihjb250YWluZXIpKVxuICAgIHJldHVybiBcIm1hdGhtbFwiO1xuICByZXR1cm4gdm9pZCAwO1xufTtcbmNvbnN0IGlzQ29tbWVudCA9IChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSA4IC8qIENPTU1FTlQgKi87XG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMocmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICBwOiBwYXRjaCxcbiAgICBvOiB7XG4gICAgICBwYXRjaFByb3AsXG4gICAgICBjcmVhdGVUZXh0LFxuICAgICAgbmV4dFNpYmxpbmcsXG4gICAgICBwYXJlbnROb2RlLFxuICAgICAgcmVtb3ZlLFxuICAgICAgaW5zZXJ0LFxuICAgICAgY3JlYXRlQ29tbWVudFxuICAgIH1cbiAgfSA9IHJlbmRlcmVySW50ZXJuYWxzO1xuICBjb25zdCBoeWRyYXRlID0gKHZub2RlLCBjb250YWluZXIpID0+IHtcbiAgICBpZiAoIWNvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICBgQXR0ZW1wdGluZyB0byBoeWRyYXRlIGV4aXN0aW5nIG1hcmt1cCBidXQgY29udGFpbmVyIGlzIGVtcHR5LiBQZXJmb3JtaW5nIGZ1bGwgbW91bnQgaW5zdGVhZC5gXG4gICAgICApO1xuICAgICAgcGF0Y2gobnVsbCwgdm5vZGUsIGNvbnRhaW5lcik7XG4gICAgICBmbHVzaFBvc3RGbHVzaENicygpO1xuICAgICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYXNNaXNtYXRjaCA9IGZhbHNlO1xuICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgaWYgKGhhc01pc21hdGNoICYmIHRydWUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuYCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoeWRyYXRlTm9kZSA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiO1xuICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChcbiAgICAgIG5vZGUsXG4gICAgICB2bm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgaXNGcmFnbWVudFN0YXJ0XG4gICAgKTtcbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xuICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICB2bm9kZS5lbCA9IG5vZGU7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpZiAoIShcIl9fdm5vZGVcIiBpbiBub2RlKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgXCJfX3Zub2RlXCIsIHtcbiAgICAgICAgICB2YWx1ZTogdm5vZGUsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIShcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIgaW4gbm9kZSkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwge1xuICAgICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIFRFWFQgKi8pIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovIHx8IGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9tVHlwZSA9PT0gMSAvKiBFTEVNRU5UICovIHx8IGRvbVR5cGUgPT09IDMgLyogVEVYVCAqLykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgLyogRUxFTUVOVCAqLyA/IG5leHROb2RlLm91dGVySFRNTCA6IG5leHROb2RlLmRhdGE7XG4gICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpc0ZyYWdtZW50U3RhcnQgPyBuZXh0U2libGluZyhuZXh0Tm9kZSkgOiBuZXh0Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbk1pc21hdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEpIHtcbiAgICAgICAgICBpZiAoKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLyB8fCB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSAmJiAhaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0XCIpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlLCBub2RlLmRhdGEsIFwidGVsZXBvcnQgZW5kXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLykge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgICBoeWRyYXRlQ2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKHBhcmVudE5vZGUobm9kZSkpLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgICAgICAgICBoeWRyYXRlTm9kZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIEhvc3RWTm9kZSB0eXBlOlwiLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHROb2RlO1xuICB9O1xuICBjb25zdCBoeWRyYXRlRWxlbWVudCA9IChlbCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHBhdGNoRmxhZywgc2hhcGVGbGFnLCBkaXJzLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgICBjb25zdCBmb3JjZVBhdGNoID0gdHlwZSA9PT0gXCJpbnB1dFwiIHx8IHR5cGUgPT09IFwib3B0aW9uXCI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgZm9yY2VQYXRjaCB8fCBwYXRjaEZsYWcgIT09IC0xKSB7XG4gICAgICBpZiAoZGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICAgIH1cbiAgICAgIGxldCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IGZhbHNlO1xuICAgICAgaWYgKGlzVGVtcGxhdGVOb2RlKGVsKSkge1xuICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzICYmIHBhcmVudENvbXBvbmVudC52bm9kZS5wcm9wcy5hcHBlYXI7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZU5vZGUoY29udGVudCwgZWwsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIHZub2RlLmVsID0gZWwgPSBjb250ZW50O1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2ICYmIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcbiAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XG4gICAgICAgIGxldCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIGVsLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBIeWRyYXRpb24gY2hpbGRyZW4gbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgYFxuU2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgbW9yZSBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xuICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgICAgIGBIeWRyYXRpb24gdGV4dCBjb250ZW50IG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgYFxuICAtIHJlbmRlcmVkIG9uIHNlcnZlcjogJHtlbC50ZXh0Q29udGVudH1cbiAgLSBleHBlY3RlZCBvbiBjbGllbnQ6ICR7dm5vZGUuY2hpbGRyZW59YFxuICAgICAgICAgICk7XG4gICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IGZvcmNlUGF0Y2ggfHwgIW9wdGltaXplZCB8fCBwYXRjaEZsYWcgJiAoMTYgfCAzMikpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIHByb3BzW2tleV0sIHZub2RlLCBwYXJlbnRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JjZVBhdGNoICYmIChrZXkuZW5kc1dpdGgoXCJ2YWx1ZVwiKSB8fCBrZXkgPT09IFwiaW5kZXRlcm1pbmF0ZVwiKSB8fCBpc09uKGtleSkgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkgfHwgLy8gZm9yY2UgaHlkcmF0ZSB2LWJpbmQgd2l0aCAucHJvcCBtb2RpZmllcnNcbiAgICAgICAgICAgIGtleVswXSA9PT0gXCIuXCIpIHtcbiAgICAgICAgICAgICAgcGF0Y2hQcm9wKFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHByb3BzW2tleV0sXG4gICAgICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICAgIHBhdGNoUHJvcChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgXCJvbkNsaWNrXCIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHMub25DbGljayxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCB2bm9kZUhvb2tzO1xuICAgICAgaWYgKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKGRpcnMpIHtcbiAgICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZU1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKCh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IGRpcnMgfHwgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgICAgcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoKCkgPT4ge1xuICAgICAgICAgIHZub2RlSG9va3MgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9va3MsIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzICYmIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcIm1vdW50ZWRcIik7XG4gICAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsLm5leHRTaWJsaW5nO1xuICB9O1xuICBjb25zdCBoeWRyYXRlQ2hpbGRyZW4gPSAobm9kZSwgcGFyZW50Vk5vZGUsIGNvbnRhaW5lciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISFwYXJlbnRWTm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5jaGlsZHJlbjtcbiAgICBjb25zdCBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIGxldCBoYXNXYXJuZWQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgY29uc3Qgdm5vZGUgPSBvcHRpbWl6ZWQgPyBjaGlsZHJlbltpXSA6IGNoaWxkcmVuW2ldID0gbm9ybWFsaXplVk5vZGUoY2hpbGRyZW5baV0pO1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgbm9kZSA9IGh5ZHJhdGVOb2RlKFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGBcblNlcnZlciByZW5kZXJlZCBlbGVtZW50IGNvbnRhaW5zIGZld2VyIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICk7XG4gICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgY29uc3QgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgIG9wdGltaXplZFxuICAgICk7XG4gICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gXCJdXCIpIHtcbiAgICAgIHJldHVybiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IgPSBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFzTWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgaW5zZXJ0KHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSwgY29udGFpbmVyLCBuZXh0KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xuICAgIGhhc01pc21hdGNoID0gdHJ1ZTtcbiAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgIGBIeWRyYXRpb24gbm9kZSBtaXNtYXRjaDpcbi0gcmVuZGVyZWQgb24gc2VydmVyOmAsXG4gICAgICBub2RlLFxuICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyAvKiBURVhUICovID8gYCh0ZXh0KWAgOiBpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcIltcIiA/IGAoc3RhcnQgb2YgZnJhZ21lbnQpYCA6IGBgLFxuICAgICAgYFxuLSBleHBlY3RlZCBvbiBjbGllbnQ6YCxcbiAgICAgIHZub2RlLnR5cGVcbiAgICApO1xuICAgIHZub2RlLmVsID0gbnVsbDtcbiAgICBpZiAoaXNGcmFnbWVudCkge1xuICAgICAgY29uc3QgZW5kID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IG5leHQyID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGlmIChuZXh0MiAmJiBuZXh0MiAhPT0gZW5kKSB7XG4gICAgICAgICAgcmVtb3ZlKG5leHQyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICByZW1vdmUobm9kZSk7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuZXh0LFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICBzbG90U2NvcGVJZHNcbiAgICApO1xuICAgIHJldHVybiBuZXh0O1xuICB9O1xuICBjb25zdCBsb2NhdGVDbG9zaW5nQW5jaG9yID0gKG5vZGUsIG9wZW4gPSBcIltcIiwgY2xvc2UgPSBcIl1cIikgPT4ge1xuICAgIGxldCBtYXRjaCA9IDA7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBvcGVuKVxuICAgICAgICAgIG1hdGNoKys7XG4gICAgICAgIGlmIChub2RlLmRhdGEgPT09IGNsb3NlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCByZXBsYWNlTm9kZSA9IChuZXdOb2RlLCBvbGROb2RlLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBwYXJlbnROb2RlMiA9IG9sZE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZTIpIHtcbiAgICAgIHBhcmVudE5vZGUyLnJlcGxhY2VDaGlsZChuZXdOb2RlLCBvbGROb2RlKTtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IHBhcmVudENvbXBvbmVudDtcbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAocGFyZW50LnZub2RlLmVsID09PSBvbGROb2RlKSB7XG4gICAgICAgIHBhcmVudC52bm9kZS5lbCA9IHBhcmVudC5zdWJUcmVlLmVsID0gbmV3Tm9kZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc1RlbXBsYXRlTm9kZSA9IChub2RlKSA9PiB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDEgLyogRUxFTUVOVCAqLyAmJiBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZW1wbGF0ZVwiO1xuICB9O1xuICByZXR1cm4gW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXTtcbn1cbmZ1bmN0aW9uIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBjbGllbnRWYWx1ZSwgdm5vZGUsIGluc3RhbmNlKSB7XG4gIHZhciBfYTtcbiAgbGV0IG1pc21hdGNoVHlwZTtcbiAgbGV0IG1pc21hdGNoS2V5O1xuICBsZXQgYWN0dWFsO1xuICBsZXQgZXhwZWN0ZWQ7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIGV4cGVjdGVkID0gbm9ybWFsaXplQ2xhc3MoY2xpZW50VmFsdWUpO1xuICAgIGlmICghaXNTZXRFcXVhbCh0b0NsYXNzU2V0KGFjdHVhbCB8fCBcIlwiKSwgdG9DbGFzc1NldChleHBlY3RlZCkpKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSBtaXNtYXRjaEtleSA9IGBjbGFzc2A7XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgZXhwZWN0ZWQgPSBpc1N0cmluZyhjbGllbnRWYWx1ZSkgPyBjbGllbnRWYWx1ZSA6IHN0cmluZ2lmeVN0eWxlKG5vcm1hbGl6ZVN0eWxlKGNsaWVudFZhbHVlKSk7XG4gICAgY29uc3QgYWN0dWFsTWFwID0gdG9TdHlsZU1hcChhY3R1YWwpO1xuICAgIGNvbnN0IGV4cGVjdGVkTWFwID0gdG9TdHlsZU1hcChleHBlY3RlZCk7XG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgIGZvciAoY29uc3QgeyBkaXIsIHZhbHVlIH0gb2Ygdm5vZGUuZGlycykge1xuICAgICAgICBpZiAoZGlyLm5hbWUgPT09IFwic2hvd1wiICYmICF2YWx1ZSkge1xuICAgICAgICAgIGV4cGVjdGVkTWFwLnNldChcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJvb3QgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICBpZiAodm5vZGUgPT09IHJvb3QgfHwgKHJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHJvb3QudHlwZSkgPT09IEZyYWdtZW50ICYmIHJvb3QuY2hpbGRyZW4uaW5jbHVkZXModm5vZGUpKSB7XG4gICAgICBjb25zdCBjc3NWYXJzID0gKF9hID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmdldENzc1ZhcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGluc3RhbmNlKTtcbiAgICAgIGZvciAoY29uc3Qga2V5MiBpbiBjc3NWYXJzKSB7XG4gICAgICAgIGV4cGVjdGVkTWFwLnNldChgLS0ke2tleTJ9YCwgU3RyaW5nKGNzc1ZhcnNba2V5Ml0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc01hcEVxdWFsKGFjdHVhbE1hcCwgZXhwZWN0ZWRNYXApKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSBtaXNtYXRjaEtleSA9IFwic3R5bGVcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIGlzS25vd25TdmdBdHRyKGtleSkgfHwgZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAoaXNCb29sZWFuQXR0cihrZXkpIHx8IGlzS25vd25IdG1sQXR0cihrZXkpKSkge1xuICAgIGlmIChpc0Jvb2xlYW5BdHRyKGtleSkpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBpbmNsdWRlQm9vbGVhbkF0dHIoY2xpZW50VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50VmFsdWUgPT0gbnVsbCkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKGtleSkpIHtcbiAgICAgICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICBhY3R1YWwgPSBlbC52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdHVhbCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZXhwZWN0ZWQgPSBpc1JlbmRlcmFibGVBdHRyVmFsdWUoY2xpZW50VmFsdWUpID8gU3RyaW5nKGNsaWVudFZhbHVlKSA6IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gYGF0dHJpYnV0ZWA7XG4gICAgICBtaXNtYXRjaEtleSA9IGtleTtcbiAgICB9XG4gIH1cbiAgaWYgKG1pc21hdGNoVHlwZSkge1xuICAgIGNvbnN0IGZvcm1hdCA9ICh2KSA9PiB2ID09PSBmYWxzZSA/IGAobm90IHJlbmRlcmVkKWAgOiBgJHttaXNtYXRjaEtleX09XCIke3Z9XCJgO1xuICAgIGNvbnN0IHByZVNlZ21lbnQgPSBgSHlkcmF0aW9uICR7bWlzbWF0Y2hUeXBlfSBtaXNtYXRjaCBvbmA7XG4gICAgY29uc3QgcG9zdFNlZ21lbnQgPSBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2Zvcm1hdChhY3R1YWwpfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtmb3JtYXQoZXhwZWN0ZWQpfVxuICBOb3RlOiB0aGlzIG1pc21hdGNoIGlzIGNoZWNrLW9ubHkuIFRoZSBET00gd2lsbCBub3QgYmUgcmVjdGlmaWVkIGluIHByb2R1Y3Rpb24gZHVlIHRvIHBlcmZvcm1hbmNlIG92ZXJoZWFkLlxuICBZb3Ugc2hvdWxkIGZpeCB0aGUgc291cmNlIG9mIHRoZSBtaXNtYXRjaC5gO1xuICAgIHtcbiAgICAgIHdhcm4kMShwcmVTZWdtZW50LCBlbCwgcG9zdFNlZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0b0NsYXNzU2V0KHN0cikge1xuICByZXR1cm4gbmV3IFNldChzdHIudHJpbSgpLnNwbGl0KC9cXHMrLykpO1xufVxuZnVuY3Rpb24gaXNTZXRFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IHMgb2YgYSkge1xuICAgIGlmICghYi5oYXMocykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB0b1N0eWxlTWFwKHN0cikge1xuICBjb25zdCBzdHlsZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBzdHIuc3BsaXQoXCI7XCIpKSB7XG4gICAgbGV0IFtrZXksIHZhbHVlXSA9IGl0ZW0uc3BsaXQoXCI6XCIpO1xuICAgIGtleSA9IGtleSA9PSBudWxsID8gdm9pZCAwIDoga2V5LnRyaW0oKTtcbiAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS50cmltKCk7XG4gICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgc3R5bGVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGVNYXA7XG59XG5mdW5jdGlvbiBpc01hcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGEpIHtcbiAgICBpZiAodmFsdWUgIT09IGIuZ2V0KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmxldCBzdXBwb3J0ZWQ7XG5sZXQgcGVyZjtcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIHBlcmYubWFyayhgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YCk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmU3RhcnQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBjb25zdCBzdGFydFRhZyA9IGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gO1xuICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xuICAgIHBlcmYubWFyayhlbmRUYWcpO1xuICAgIHBlcmYubWVhc3VyZShcbiAgICAgIGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLFxuICAgICAgc3RhcnRUYWcsXG4gICAgICBlbmRUYWdcbiAgICApO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmRW5kKGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgaWYgKHN1cHBvcnRlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gIH0gZWxzZSB7XG4gICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgY29uc3QgbmVlZFdhcm4gPSBbXTtcbiAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfT1BUSU9OU19BUElfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfREVWVE9PTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5sZW5ndGgpIHtcbiAgICBjb25zdCBtdWx0aSA9IG5lZWRXYXJuLmxlbmd0aCA+IDE7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYEZlYXR1cmUgZmxhZyR7bXVsdGkgPyBgc2AgOiBgYH0gJHtuZWVkV2Fybi5qb2luKFwiLCBcIil9ICR7bXVsdGkgPyBgYXJlYCA6IGBpc2B9IG5vdCBleHBsaWNpdGx5IGRlZmluZWQuIFlvdSBhcmUgcnVubmluZyB0aGUgZXNtLWJ1bmRsZXIgYnVpbGQgb2YgVnVlLCB3aGljaCBleHBlY3RzIHRoZXNlIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIHRvIGJlIGdsb2JhbGx5IGluamVjdGVkIHZpYSB0aGUgYnVuZGxlciBjb25maWcgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciB0cmVlLXNoYWtpbmcgaW4gdGhlIHByb2R1Y3Rpb24gYnVuZGxlLlxuXG5Gb3IgbW9yZSBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIDtcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xufVxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICB7XG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBzZXREZXZ0b29sc0hvb2skMSh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXywgdGFyZ2V0KTtcbiAgfVxuICBjb25zdCB7XG4gICAgaW5zZXJ0OiBob3N0SW5zZXJ0LFxuICAgIHJlbW92ZTogaG9zdFJlbW92ZSxcbiAgICBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsXG4gICAgY3JlYXRlRWxlbWVudDogaG9zdENyZWF0ZUVsZW1lbnQsXG4gICAgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsXG4gICAgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsXG4gICAgc2V0VGV4dDogaG9zdFNldFRleHQsXG4gICAgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCxcbiAgICBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSxcbiAgICBuZXh0U2libGluZzogaG9zdE5leHRTaWJsaW5nLFxuICAgIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCxcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgbmFtZXNwYWNlID0gdm9pZCAwLCBzbG90U2NvcGVJZHMgPSBudWxsLCBvcHRpbWl6ZWQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcgPyBmYWxzZSA6ICEhbjIuZHluYW1pY0NoaWxkcmVuKSA9PiB7XG4gICAgaWYgKG4xID09PSBuMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xuICAgICAgdW5tb3VudChuMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICBuMSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBUZXh0OlxuICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICBwcm9jZXNzRnJhZ21lbnQoXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIHByb2Nlc3NFbGVtZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgVk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8IFwiXCIpLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSkgPT4ge1xuICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBuMi5lbCxcbiAgICAgIG4yLmFuY2hvclxuICAgICk7XG4gIH07XG4gIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgICBuMi5jaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBpZiAobjIudHlwZSA9PT0gXCJzdmdcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICB9IGVsc2UgaWYgKG4yLnR5cGUgPT09IFwibWF0aFwiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRFbGVtZW50KFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoRWxlbWVudChcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRFbGVtZW50ID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBlbDtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGNvbnN0IHsgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KFxuICAgICAgdm5vZGUudHlwZSxcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHByb3BzICYmIHByb3BzLmlzLFxuICAgICAgcHJvcHNcbiAgICApO1xuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh2bm9kZSwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChrZXkgIT09IFwidmFsdWVcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wc1trZXldLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlblxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBudWxsLCBwcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCBcIl9fdm5vZGVcIiwge1xuICAgICAgICB2YWx1ZTogdm5vZGUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgXCJfX3Z1ZVBhcmVudENvbXBvbmVudFwiLCB7XG4gICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICB9XG4gICAgY29uc3QgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbik7XG4gICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICB9XG4gICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcIm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRTY29wZUlkID0gKGVsLCB2bm9kZSwgc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xuICAgIH1cbiAgICBpZiAoc2xvdFNjb3BlSWRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2xvdFNjb3BlSWRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgbGV0IHN1YlRyZWUgPSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN1YlRyZWUucGF0Y2hGbGFnID4gMCAmJiBzdWJUcmVlLnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgc3ViVHJlZSA9IGZpbHRlclNpbmdsZVJvb3Qoc3ViVHJlZS5jaGlsZHJlbikgfHwgc3ViVHJlZTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xuICAgICAgICBjb25zdCBwYXJlbnRWTm9kZSA9IHBhcmVudENvbXBvbmVudC52bm9kZTtcbiAgICAgICAgc2V0U2NvcGVJZChcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRWTm9kZSxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zY29wZUlkLFxuICAgICAgICAgIHBhcmVudFZOb2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQucGFyZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSkgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hFbGVtZW50ID0gKG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGVsID0gbjIuZWwgPSBuMS5lbDtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XG4gICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2O1xuICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgaWYgKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICAgIH1cbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGVsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZShuMiwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgICBwYXRjaFByb3BzKFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIG9sZFByb3BzLFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAyKSB7XG4gICAgICAgICAgaWYgKG9sZFByb3BzLmNsYXNzICE9PSBuZXdQcm9wcy5jbGFzcykge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJjbGFzc1wiLCBudWxsLCBuZXdQcm9wcy5jbGFzcywgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDQpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInN0eWxlXCIsIG9sZFByb3BzLnN0eWxlLCBuZXdQcm9wcy5zdHlsZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2IHx8IGtleSA9PT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHByZXYsXG4gICAgICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgbjEuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEpIHtcbiAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkICYmIGR5bmFtaWNDaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICBwYXRjaFByb3BzKFxuICAgICAgICBlbCxcbiAgICAgICAgbjIsXG4gICAgICAgIG9sZFByb3BzLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwidXBkYXRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gKFxuICAgICAgICAvLyBvbGRWTm9kZSBtYXkgYmUgYW4gZXJyb3JlZCBhc3luYyBzZXR1cCgpIGNvbXBvbmVudCBpbnNpZGUgU3VzcGVuc2VcbiAgICAgICAgLy8gd2hpY2ggd2lsbCBub3QgaGF2ZSBhIG1vdW50ZWQgZWxlbWVudFxuICAgICAgICBvbGRWTm9kZS5lbCAmJiAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxuICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgfCA2NCkpID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpIDogKFxuICAgICAgICAgIC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxuICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG9sZFZOb2RlLFxuICAgICAgICBuZXdWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkUHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG5leHQgIT09IHByZXYgJiYga2V5ICE9PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBwcmV2LFxuICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICB1bm1vdW50Q2hpbGRyZW5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIG5ld1Byb3BzKSB7XG4gICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwidmFsdWVcIiwgb2xkUHJvcHMudmFsdWUsIG5ld1Byb3BzLnZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0ZyYWdtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBmcmFnbWVudFN0YXJ0QW5jaG9yID0gbjIuZWwgPSBuMSA/IG4xLmVsIDogaG9zdENyZWF0ZVRleHQoXCJcIik7XG4gICAgY29uc3QgZnJhZ21lbnRFbmRBbmNob3IgPSBuMi5hbmNob3IgPSBuMSA/IG4xLmFuY2hvciA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGxldCB7IHBhdGNoRmxhZywgZHluYW1pY0NoaWxkcmVuLCBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSBuMjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAvLyAjNTUyMyBkZXYgcm9vdCBmcmFnbWVudCBtYXkgaW5oZXJpdCBkaXJlY3RpdmVzXG4gICAgKGlzSG1yVXBkYXRpbmcgfHwgcGF0Y2hGbGFnICYgMjA0OCkpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcykgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRTdGFydEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgaG9zdEluc2VydChmcmFnbWVudEVuZEFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgLy8gIzEwMDA3XG4gICAgICAgIC8vIHN1Y2ggZnJhZ21lbnQgbGlrZSBgPD48Lz5gIHdpbGwgYmUgY29tcGlsZWQgaW50b1xuICAgICAgICAvLyBhIGZyYWdtZW50IHdoaWNoIGRvZXNuJ3QgaGF2ZSBhIGNoaWxkcmVuLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UgZmFsbGJhY2sgdG8gYW4gZW1wdHkgYXJyYXlcbiAgICAgICAgbjIuY2hpbGRyZW4gfHwgW10sXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgZnJhZ21lbnRFbmRBbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0ICYmIGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjMjcxNSB0aGUgcHJldmlvdXMgZnJhZ21lbnQgY291bGQndmUgYmVlbiBhIEJBSUxlZCBvbmUgYXMgYSByZXN1bHRcbiAgICAgIC8vIG9mIHJlbmRlclNsb3QoKSB3aXRoIG5vIHZhbGlkIGNoaWxkcmVuXG4gICAgICBuMS5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIC8vICMyMDgwIGlmIHRoZSBzdGFibGUgZnJhZ21lbnQgaGFzIGEga2V5LCBpdCdzIGEgPHRlbXBsYXRlIHYtZm9yPiB0aGF0IG1heVxuICAgICAgICAgIC8vICBnZXQgbW92ZWQgYXJvdW5kLiBNYWtlIHN1cmUgYWxsIHJvb3QgbGV2ZWwgdm5vZGVzIGluaGVyaXQgZWwuXG4gICAgICAgICAgLy8gIzIxMzQgb3IgaWYgaXQncyBhIGNvbXBvbmVudCByb290LCBpdCBtYXkgYWxzbyBnZXQgbW92ZWQgYXJvdW5kXG4gICAgICAgICAgLy8gYXMgdGhlIGNvbXBvbmVudCBpcyBiZWluZyBtb3ZlZC5cbiAgICAgICAgICBuMi5rZXkgIT0gbnVsbCB8fCBwYXJlbnRDb21wb25lbnQgJiYgbjIgPT09IHBhcmVudENvbXBvbmVudC5zdWJUcmVlXG4gICAgICAgICkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgLyogc2hhbGxvdyAqL1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcHJvY2Vzc0NvbXBvbmVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbjIuc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzO1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBpZiAobjIuc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHBhcmVudENvbXBvbmVudC5jdHguYWN0aXZhdGUoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZUNvbXBvbmVudChuMSwgbjIsIG9wdGltaXplZCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudENvbXBvbmVudCA9IChpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gKGluaXRpYWxWTm9kZS5jb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZShcbiAgICAgIGluaXRpYWxWTm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgKSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaW5zdGFuY2UudHlwZS5fX2htcklkKSB7XG4gICAgICByZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwdXNoV2FybmluZ0NvbnRleHQoaW5pdGlhbFZOb2RlKTtcbiAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICAgIGlmIChpc0tlZXBBbGl2ZShpbml0aWFsVk5vZGUpKSB7XG4gICAgICBpbnN0YW5jZS5jdHgucmVuZGVyZXIgPSBpbnRlcm5hbHM7XG4gICAgfVxuICAgIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgIH1cbiAgICAgIHNldHVwQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5hc3luY0RlcCkge1xuICAgICAgcGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0KTtcbiAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBpbml0aWFsVk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnQgPSAobjEsIG4yLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcbiAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xuICAgICAgICBpbnZhbGlkYXRlSm9iKGluc3RhbmNlLnVwZGF0ZSk7XG4gICAgICAgIGluc3RhbmNlLmVmZmVjdC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnRVcGRhdGVGbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XG4gICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGlzQXN5bmNXcmFwcGVyVk5vZGUgPSBpc0FzeW5jV3JhcHBlcihpbml0aWFsVk5vZGUpO1xuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChibSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChlbCAmJiBoeWRyYXRlTm9kZSkge1xuICAgICAgICAgIGNvbnN0IGh5ZHJhdGVTdWJUcmVlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoeWRyYXRlTm9kZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXJWTm9kZSkge1xuICAgICAgICAgICAgaW5pdGlhbFZOb2RlLnR5cGUuX19hc3luY0xvYWRlcigpLnRoZW4oXG4gICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGFyZSBtb3ZpbmcgdGhlIHJlbmRlciBjYWxsIGludG8gYW4gYXN5bmMgY2FsbGJhY2ssXG4gICAgICAgICAgICAgIC8vIHdoaWNoIG1lYW5zIGl0IHdvbid0IHRyYWNrIGRlcGVuZGVuY2llcyAtIGJ1dCBpdCdzIG9rIGJlY2F1c2VcbiAgICAgICAgICAgICAgLy8gYSBzZXJ2ZXItcmVuZGVyZWQgYXN5bmMgd3JhcHBlciBpcyBhbHJlYWR5IGluIHJlc29sdmVkIHN0YXRlXG4gICAgICAgICAgICAgIC8vIGFuZCBpdCB3aWxsIG5ldmVyIG5lZWQgdG8gY2hhbmdlLlxuICAgICAgICAgICAgICAoKSA9PiAhaW5zdGFuY2UuaXNVbm1vdW50ZWQgJiYgaHlkcmF0ZVN1YlRyZWUoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdWJUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdWJUcmVlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xuICAgICAgICAgIGNvbnN0IHNjb3BlZEluaXRpYWxWTm9kZSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIHNjb3BlZEluaXRpYWxWTm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgfHwgcGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKHBhcmVudC52bm9kZSkgJiYgcGFyZW50LnZub2RlLnNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgICAgIGluc3RhbmNlLmEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGluc3RhbmNlLmEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0aWFsVk5vZGUgPSBjb250YWluZXIgPSBhbmNob3IgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgbm9uSHlkcmF0ZWRBc3luY1Jvb3QgPSBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKG5vbkh5ZHJhdGVkQXN5bmNSb290KSB7XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vbkh5ZHJhdGVkQXN5bmNSb290LmFzeW5jRGVwLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50VXBkYXRlRm4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnaW5OZXh0ID0gbmV4dDtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dCA9IHZub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIHByZXZUcmVlLFxuICAgICAgICAgIG5leHRUcmVlLFxuICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxuICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcbiAgICAgICAgICBnZXROZXh0SG9zdE5vZGUocHJldlRyZWUpLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIG5leHQuZWwgPSBuZXh0VHJlZS5lbDtcbiAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIG5leHRUcmVlLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBlZmZlY3QgPSBpbnN0YW5jZS5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoXG4gICAgICBjb21wb25lbnRVcGRhdGVGbixcbiAgICAgIE5PT1AsXG4gICAgICAoKSA9PiBxdWV1ZUpvYih1cGRhdGUpLFxuICAgICAgaW5zdGFuY2Uuc2NvcGVcbiAgICAgIC8vIHRyYWNrIGl0IGluIGNvbXBvbmVudCdzIGVmZmVjdCBzY29wZVxuICAgICk7XG4gICAgY29uc3QgdXBkYXRlID0gaW5zdGFuY2UudXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGVmZmVjdC5kaXJ0eSkge1xuICAgICAgICBlZmZlY3QucnVuKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB1cGRhdGUuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGVmZmVjdC5vblRyYWNrID0gaW5zdGFuY2UucnRjID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDA7XG4gICAgICBlZmZlY3Qub25UcmlnZ2VyID0gaW5zdGFuY2UucnRnID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDA7XG4gICAgICB1cGRhdGUub3duZXJJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xuICAgIG5leHRWTm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICBjb25zdCBwcmV2UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcbiAgICBpbnN0YW5jZS5uZXh0ID0gbnVsbDtcbiAgICB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgbmV4dFZOb2RlLnByb3BzLCBwcmV2UHJvcHMsIG9wdGltaXplZCk7XG4gICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICB9O1xuICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XG4gICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcbiAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xuICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTI4KSB7XG4gICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDI1Nikge1xuICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoYzIgIT09IGMxKSB7XG4gICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgICBjMSxcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCkge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xuICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xuICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcbiAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XG4gICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgYzFbaV0sXG4gICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XG4gICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMxLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB0cnVlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICBjMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGwyID0gYzIubGVuZ3RoO1xuICAgIGxldCBlMSA9IGMxLmxlbmd0aCAtIDE7XG4gICAgbGV0IGUyID0gbDIgLSAxO1xuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbaV07XG4gICAgICBjb25zdCBuMiA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xuICAgICAgY29uc3QgbjIgPSBjMltlMl0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltlMl0pIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZTEtLTtcbiAgICAgIGUyLS07XG4gICAgfVxuICAgIGlmIChpID4gZTEpIHtcbiAgICAgIGlmIChpIDw9IGUyKSB7XG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRQb3MgPCBsMiA/IGMyW25leHRQb3NdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaSA+IGUyKSB7XG4gICAgICB3aGlsZSAoaSA8PSBlMSkge1xuICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzMSA9IGk7XG4gICAgICBjb25zdCBzMiA9IGk7XG4gICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgRHVwbGljYXRlIGtleXMgZm91bmQgZHVyaW5nIHVwZGF0ZTpgLFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Q2hpbGQua2V5KSxcbiAgICAgICAgICAgICAgYE1ha2Ugc3VyZSBrZXlzIGFyZSB1bmlxdWUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBqO1xuICAgICAgbGV0IHBhdGNoZWQgPSAwO1xuICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcbiAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xuICAgICAgY29uc3QgbmV3SW5kZXhUb09sZEluZGV4TWFwID0gbmV3IEFycmF5KHRvQmVQYXRjaGVkKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKVxuICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPSAwO1xuICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xuICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcbiAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiYgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XG4gICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xuICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XG4gICAgICAgICAgICBtYXhOZXdJbmRleFNvRmFyID0gbmV3SW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBwcmV2Q2hpbGQsXG4gICAgICAgICAgICBjMltuZXdJbmRleF0sXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHBhdGNoZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZCA/IGdldFNlcXVlbmNlKG5ld0luZGV4VG9PbGRJbmRleE1hcCkgOiBFTVBUWV9BUlI7XG4gICAgICBqID0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyBjMltuZXh0SW5kZXggKyAxXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZlZCkge1xuICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcbiAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgfVxuICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmVlZFRyYW5zaXRpb24yID0gbW92ZVR5cGUgIT09IDIgJiYgc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uO1xuICAgIGlmIChuZWVkVHJhbnNpdGlvbjIpIHtcbiAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHJlbW92ZTIgPSAoKSA9PiBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlMigpO1xuICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlMiwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZGlyc1xuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZEludm9rZURpcnMgPSBzaGFwZUZsYWcgJiAxICYmIGRpcnM7XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlVm5vZGVIb29rID0gIWlzQXN5bmNXcmFwcGVyKHZub2RlKTtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICB2bm9kZS5zdXNwZW5zZS51bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVbm1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgIHZub2RlLnR5cGUucmVtb3ZlKFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcbiAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fCBwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0KSkge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEZyYWdtZW50ICYmIHBhdGNoRmxhZyAmICgxMjggfCAyNTYpIHx8ICFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkb1JlbW92ZSkge1xuICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIHNob3VsZEludm9rZURpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcInVubW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZSA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5wYXRjaEZsYWcgPiAwICYmIHZub2RlLnBhdGNoRmxhZyAmIDIwNDggJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjaGlsZC5lbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xuICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZXJmb3JtUmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgY3VyID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShlbmQpO1xuICB9O1xuICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIHVwZGF0ZSwgc3ViVHJlZSwgdW0gfSA9IGluc3RhbmNlO1xuICAgIGlmIChidW0pIHtcbiAgICAgIGludm9rZUFycmF5Rm5zKGJ1bSk7XG4gICAgfVxuICAgIHNjb3BlLnN0b3AoKTtcbiAgICBpZiAodXBkYXRlKSB7XG4gICAgICB1cGRhdGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICB1bm1vdW50KHN1YlRyZWUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpO1xuICAgIH1cbiAgICBpZiAodW0pIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1bSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgaW5zdGFuY2UuaXNVbm1vdW50ZWQgPSB0cnVlO1xuICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCAmJiAhcGFyZW50U3VzcGVuc2UuaXNVbm1vdW50ZWQgJiYgaW5zdGFuY2UuYXN5bmNEZXAgJiYgIWluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgJiYgaW5zdGFuY2Uuc3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZS5kZXBzLS07XG4gICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGluc3RhbmNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVubW91bnRDaGlsZHJlbiA9IChjaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UsIHN0YXJ0ID0gMCkgPT4ge1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1bm1vdW50KGNoaWxkcmVuW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSwgb3B0aW1pemVkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldE5leHRIb3N0Tm9kZSA9ICh2bm9kZSkgPT4ge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2KSB7XG4gICAgICByZXR1cm4gZ2V0TmV4dEhvc3ROb2RlKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlKTtcbiAgICB9XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgcmV0dXJuIHZub2RlLnN1c3BlbnNlLm5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGhvc3ROZXh0U2libGluZyh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpO1xuICB9O1xuICBsZXQgaXNGbHVzaGluZyA9IGZhbHNlO1xuICBjb25zdCByZW5kZXIgPSAodm5vZGUsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKHZub2RlID09IG51bGwpIHtcbiAgICAgIGlmIChjb250YWluZXIuX3Zub2RlKSB7XG4gICAgICAgIHVubW91bnQoY29udGFpbmVyLl92bm9kZSwgbnVsbCwgbnVsbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoKFxuICAgICAgICBjb250YWluZXIuX3Zub2RlIHx8IG51bGwsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICBpc0ZsdXNoaW5nID0gdHJ1ZTtcbiAgICAgIGZsdXNoUHJlRmx1c2hDYnMoKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgfTtcbiAgY29uc3QgaW50ZXJuYWxzID0ge1xuICAgIHA6IHBhdGNoLFxuICAgIHVtOiB1bm1vdW50LFxuICAgIG06IG1vdmUsXG4gICAgcjogcmVtb3ZlLFxuICAgIG10OiBtb3VudENvbXBvbmVudCxcbiAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICBuOiBnZXROZXh0SG9zdE5vZGUsXG4gICAgbzogb3B0aW9uc1xuICB9O1xuICBsZXQgaHlkcmF0ZTtcbiAgbGV0IGh5ZHJhdGVOb2RlO1xuICBpZiAoY3JlYXRlSHlkcmF0aW9uRm5zKSB7XG4gICAgW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXSA9IGNyZWF0ZUh5ZHJhdGlvbkZucyhcbiAgICAgIGludGVybmFsc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZW5kZXIsXG4gICAgaHlkcmF0ZSxcbiAgICBjcmVhdGVBcHA6IGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UoeyB0eXBlLCBwcm9wcyB9LCBjdXJyZW50TmFtZXNwYWNlKSB7XG4gIHJldHVybiBjdXJyZW50TmFtZXNwYWNlID09PSBcInN2Z1wiICYmIHR5cGUgPT09IFwiZm9yZWlnbk9iamVjdFwiIHx8IGN1cnJlbnROYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgJiYgdHlwZSA9PT0gXCJhbm5vdGF0aW9uLXhtbFwiICYmIHByb3BzICYmIHByb3BzLmVuY29kaW5nICYmIHByb3BzLmVuY29kaW5nLmluY2x1ZGVzKFwiaHRtbFwiKSA/IHZvaWQgMCA6IGN1cnJlbnROYW1lc3BhY2U7XG59XG5mdW5jdGlvbiB0b2dnbGVSZWN1cnNlKHsgZWZmZWN0LCB1cGRhdGUgfSwgYWxsb3dlZCkge1xuICBlZmZlY3QuYWxsb3dSZWN1cnNlID0gdXBkYXRlLmFsbG93UmVjdXJzZSA9IGFsbG93ZWQ7XG59XG5mdW5jdGlvbiBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbikge1xuICByZXR1cm4gKCFwYXJlbnRTdXNwZW5zZSB8fCBwYXJlbnRTdXNwZW5zZSAmJiAhcGFyZW50U3VzcGVuc2UucGVuZGluZ0JyYW5jaCkgJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQ7XG59XG5mdW5jdGlvbiB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgc2hhbGxvdyA9IGZhbHNlKSB7XG4gIGNvbnN0IGNoMSA9IG4xLmNoaWxkcmVuO1xuICBjb25zdCBjaDIgPSBuMi5jaGlsZHJlbjtcbiAgaWYgKGlzQXJyYXkoY2gxKSAmJiBpc0FycmF5KGNoMikpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoMS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYzEgPSBjaDFbaV07XG4gICAgICBsZXQgYzIgPSBjaDJbaV07XG4gICAgICBpZiAoYzIuc2hhcGVGbGFnICYgMSAmJiAhYzIuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjMi5wYXRjaEZsYWcgPD0gMCB8fCBjMi5wYXRjaEZsYWcgPT09IDMyKSB7XG4gICAgICAgICAgYzIgPSBjaDJbaV0gPSBjbG9uZUlmTW91bnRlZChjaDJbaV0pO1xuICAgICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFsbG93KVxuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4oYzEsIGMyKTtcbiAgICAgIH1cbiAgICAgIGlmIChjMi50eXBlID09PSBUZXh0KSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjMi50eXBlID09PSBDb21tZW50ICYmICFjMi5lbCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2VxdWVuY2UoYXJyKSB7XG4gIGNvbnN0IHAgPSBhcnIuc2xpY2UoKTtcbiAgY29uc3QgcmVzdWx0ID0gWzBdO1xuICBsZXQgaSwgaiwgdSwgdiwgYztcbiAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgYXJySSA9IGFycltpXTtcbiAgICBpZiAoYXJySSAhPT0gMCkge1xuICAgICAgaiA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICBpZiAoYXJyW2pdIDwgYXJySSkge1xuICAgICAgICBwW2ldID0gajtcbiAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdSA9IDA7XG4gICAgICB2ID0gcmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAodSA8IHYpIHtcbiAgICAgICAgYyA9IHUgKyB2ID4+IDE7XG4gICAgICAgIGlmIChhcnJbcmVzdWx0W2NdXSA8IGFyckkpIHtcbiAgICAgICAgICB1ID0gYyArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdiA9IGM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcnJJIDwgYXJyW3Jlc3VsdFt1XV0pIHtcbiAgICAgICAgaWYgKHUgPiAwKSB7XG4gICAgICAgICAgcFtpXSA9IHJlc3VsdFt1IC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W3VdID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdSA9IHJlc3VsdC5sZW5ndGg7XG4gIHYgPSByZXN1bHRbdSAtIDFdO1xuICB3aGlsZSAodS0tID4gMCkge1xuICAgIHJlc3VsdFt1XSA9IHY7XG4gICAgdiA9IHBbdl07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHN1YkNvbXBvbmVudCA9IGluc3RhbmNlLnN1YlRyZWUuY29tcG9uZW50O1xuICBpZiAoc3ViQ29tcG9uZW50KSB7XG4gICAgaWYgKHN1YkNvbXBvbmVudC5hc3luY0RlcCAmJiAhc3ViQ29tcG9uZW50LmFzeW5jUmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiBzdWJDb21wb25lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChzdWJDb21wb25lbnQpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBpc1RlbGVwb3J0ID0gKHR5cGUpID0+IHR5cGUuX19pc1RlbGVwb3J0O1xuY29uc3QgaXNUZWxlcG9ydERpc2FibGVkID0gKHByb3BzKSA9PiBwcm9wcyAmJiAocHJvcHMuZGlzYWJsZWQgfHwgcHJvcHMuZGlzYWJsZWQgPT09IFwiXCIpO1xuY29uc3QgaXNUYXJnZXRTVkcgPSAodGFyZ2V0KSA9PiB0eXBlb2YgU1ZHRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50O1xuY29uc3QgaXNUYXJnZXRNYXRoTUwgPSAodGFyZ2V0KSA9PiB0eXBlb2YgTWF0aE1MRWxlbWVudCA9PT0gXCJmdW5jdGlvblwiICYmIHRhcmdldCBpbnN0YW5jZW9mIE1hdGhNTEVsZW1lbnQ7XG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKHByb3BzLCBzZWxlY3QpID0+IHtcbiAgY29uc3QgdGFyZ2V0U2VsZWN0b3IgPSBwcm9wcyAmJiBwcm9wcy50bztcbiAgaWYgKGlzU3RyaW5nKHRhcmdldFNlbGVjdG9yKSkge1xuICAgIGlmICghc2VsZWN0KSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEN1cnJlbnQgcmVuZGVyZXIgZG9lcyBub3Qgc3VwcG9ydCBzdHJpbmcgdGFyZ2V0IGZvciBUZWxlcG9ydHMuIChtaXNzaW5nIHF1ZXJ5U2VsZWN0b3IgcmVuZGVyZXIgb3B0aW9uKWBcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gc2VsZWN0KHRhcmdldFNlbGVjdG9yKTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9jYXRlIFRlbGVwb3J0IHRhcmdldCB3aXRoIHNlbGVjdG9yIFwiJHt0YXJnZXRTZWxlY3Rvcn1cIi4gTm90ZSB0aGUgdGFyZ2V0IGVsZW1lbnQgbXVzdCBleGlzdCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkIC0gaS5lLiB0aGUgdGFyZ2V0IGNhbm5vdCBiZSByZW5kZXJlZCBieSB0aGUgY29tcG9uZW50IGl0c2VsZiwgYW5kIGlkZWFsbHkgc2hvdWxkIGJlIG91dHNpZGUgb2YgdGhlIGVudGlyZSBWdWUgY29tcG9uZW50IHRyZWUuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldFNlbGVjdG9yICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICB3YXJuJDEoYEludmFsaWQgVGVsZXBvcnQgdGFyZ2V0OiAke3RhcmdldFNlbGVjdG9yfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0U2VsZWN0b3I7XG4gIH1cbn07XG5jb25zdCBUZWxlcG9ydEltcGwgPSB7XG4gIG5hbWU6IFwiVGVsZXBvcnRcIixcbiAgX19pc1RlbGVwb3J0OiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIGludGVybmFscykge1xuICAgIGNvbnN0IHtcbiAgICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgICBwYmM6IHBhdGNoQmxvY2tDaGlsZHJlbixcbiAgICAgIG86IHsgaW5zZXJ0LCBxdWVyeVNlbGVjdG9yLCBjcmVhdGVUZXh0LCBjcmVhdGVDb21tZW50IH1cbiAgICB9ID0gaW50ZXJuYWxzO1xuICAgIGNvbnN0IGRpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4yLnByb3BzKTtcbiAgICBsZXQgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBkeW5hbWljQ2hpbGRyZW4gfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gbjIuZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IHN0YXJ0XCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGNvbnN0IG1haW5BbmNob3IgPSBuMi5hbmNob3IgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlQ29tbWVudChcInRlbGVwb3J0IGVuZFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBpbnNlcnQocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGluc2VydChtYWluQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBjb25zdCB0YXJnZXQgPSBuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKTtcbiAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IG4yLnRhcmdldEFuY2hvciA9IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGluc2VydCh0YXJnZXRBbmNob3IsIHRhcmdldCk7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgaXNUYXJnZXRTVkcodGFyZ2V0KSkge1xuICAgICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBcIm1hdGhtbFwiIHx8IGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWRpc2FibGVkKSB7XG4gICAgICAgIHdhcm4kMShcIkludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OlwiLCB0YXJnZXQsIGAoJHt0eXBlb2YgdGFyZ2V0fSlgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdW50ID0gKGNvbnRhaW5lcjIsIGFuY2hvcjIpID0+IHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgbW91bnQoY29udGFpbmVyLCBtYWluQW5jaG9yKTtcbiAgICAgIH0gZWxzZSBpZiAodGFyZ2V0KSB7XG4gICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIGNvbnN0IG1haW5BbmNob3IgPSBuMi5hbmNob3IgPSBuMS5hbmNob3I7XG4gICAgICBjb25zdCB0YXJnZXQgPSBuMi50YXJnZXQgPSBuMS50YXJnZXQ7XG4gICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSBuMi50YXJnZXRBbmNob3IgPSBuMS50YXJnZXRBbmNob3I7XG4gICAgICBjb25zdCB3YXNEaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMS5wcm9wcyk7XG4gICAgICBjb25zdCBjdXJyZW50Q29udGFpbmVyID0gd2FzRGlzYWJsZWQgPyBjb250YWluZXIgOiB0YXJnZXQ7XG4gICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJzdmdcIiB8fCBpc1RhcmdldFNWRyh0YXJnZXQpKSB7XG4gICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiB8fCBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgICB9XG4gICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGN1cnJlbnRDb250YWluZXIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmICghb3B0aW1pemVkKSB7XG4gICAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY3VycmVudENvbnRhaW5lcixcbiAgICAgICAgICBjdXJyZW50QW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKCF3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbWFpbkFuY2hvcixcbiAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChuMi5wcm9wcyAmJiBuMS5wcm9wcyAmJiBuMi5wcm9wcy50byAhPT0gbjEucHJvcHMudG8pIHtcbiAgICAgICAgICAgIG4yLnByb3BzLnRvID0gbjEucHJvcHMudG87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKG4yLnByb3BzICYmIG4yLnByb3BzLnRvKSAhPT0gKG4xLnByb3BzICYmIG4xLnByb3BzLnRvKSkge1xuICAgICAgICAgIGNvbnN0IG5leHRUYXJnZXQgPSBuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KFxuICAgICAgICAgICAgbjIucHJvcHMsXG4gICAgICAgICAgICBxdWVyeVNlbGVjdG9yXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV4dFRhcmdldCkge1xuICAgICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgICBuMixcbiAgICAgICAgICAgICAgbmV4dFRhcmdldCxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBcIkludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIHVwZGF0ZTpcIixcbiAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICBgKCR7dHlwZW9mIHRhcmdldH0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAod2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIHRhcmdldEFuY2hvcixcbiAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUNzc1ZhcnMobjIpO1xuICB9LFxuICByZW1vdmUodm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG9wdGltaXplZCwgeyB1bTogdW5tb3VudCwgbzogeyByZW1vdmU6IGhvc3RSZW1vdmUgfSB9LCBkb1JlbW92ZSkge1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgYW5jaG9yLCB0YXJnZXRBbmNob3IsIHRhcmdldCwgcHJvcHMgfSA9IHZub2RlO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0QW5jaG9yKTtcbiAgICB9XG4gICAgZG9SZW1vdmUgJiYgaG9zdFJlbW92ZShhbmNob3IpO1xuICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgY29uc3Qgc2hvdWxkUmVtb3ZlID0gZG9SZW1vdmUgfHwgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNob3VsZFJlbW92ZSxcbiAgICAgICAgICAhIWNoaWxkLmR5bmFtaWNDaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbW92ZTogbW92ZVRlbGVwb3J0LFxuICBoeWRyYXRlOiBoeWRyYXRlVGVsZXBvcnRcbn07XG5mdW5jdGlvbiBtb3ZlVGVsZXBvcnQodm5vZGUsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCB7IG86IHsgaW5zZXJ0IH0sIG06IG1vdmUgfSwgbW92ZVR5cGUgPSAyKSB7XG4gIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgIGluc2VydCh2bm9kZS50YXJnZXRBbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBjb25zdCB7IGVsLCBhbmNob3IsIHNoYXBlRmxhZywgY2hpbGRyZW4sIHByb3BzIH0gPSB2bm9kZTtcbiAgY29uc3QgaXNSZW9yZGVyID0gbW92ZVR5cGUgPT09IDI7XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoZWwsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxuICBpZiAoIWlzUmVvcmRlciB8fCBpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1vdmUoXG4gICAgICAgICAgY2hpbGRyZW5baV0sXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIHBhcmVudEFuY2hvcixcbiAgICAgICAgICAyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpc1Jlb3JkZXIpIHtcbiAgICBpbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIHBhcmVudEFuY2hvcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGh5ZHJhdGVUZWxlcG9ydChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHtcbiAgbzogeyBuZXh0U2libGluZywgcGFyZW50Tm9kZSwgcXVlcnlTZWxlY3RvciB9XG59LCBoeWRyYXRlQ2hpbGRyZW4pIHtcbiAgY29uc3QgdGFyZ2V0ID0gdm5vZGUudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICB2bm9kZS5wcm9wcyxcbiAgICBxdWVyeVNlbGVjdG9yXG4gICk7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBjb25zdCB0YXJnZXROb2RlID0gdGFyZ2V0Ll9scGEgfHwgdGFyZ2V0LmZpcnN0Q2hpbGQ7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoaXNUZWxlcG9ydERpc2FibGVkKHZub2RlLnByb3BzKSkge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Tm9kZShub2RlKSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGxldCB0YXJnZXRBbmNob3IgPSB0YXJnZXROb2RlO1xuICAgICAgICB3aGlsZSAodGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgdGFyZ2V0QW5jaG9yID0gbmV4dFNpYmxpbmcodGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICBpZiAodGFyZ2V0QW5jaG9yICYmIHRhcmdldEFuY2hvci5ub2RlVHlwZSA9PT0gOCAmJiB0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBhbmNob3JcIikge1xuICAgICAgICAgICAgdm5vZGUudGFyZ2V0QW5jaG9yID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgdGFyZ2V0Ll9scGEgPSB2bm9kZS50YXJnZXRBbmNob3IgJiYgbmV4dFNpYmxpbmcodm5vZGUudGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgdGFyZ2V0Tm9kZSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ3NzVmFycyh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xufVxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5mdW5jdGlvbiB1cGRhdGVDc3NWYXJzKHZub2RlKSB7XG4gIGNvbnN0IGN0eCA9IHZub2RlLmN0eDtcbiAgaWYgKGN0eCAmJiBjdHgudXQpIHtcbiAgICBsZXQgbm9kZSA9IHZub2RlLmNoaWxkcmVuWzBdLmVsO1xuICAgIHdoaWxlIChub2RlICYmIG5vZGUgIT09IHZub2RlLnRhcmdldEFuY2hvcikge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpXG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS12LW93bmVyXCIsIGN0eC51aWQpO1xuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIGN0eC51dCgpO1xuICB9XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sLmZvcihcInYtZmd0XCIpO1xuY29uc3QgVGV4dCA9IFN5bWJvbC5mb3IoXCJ2LXR4dFwiKTtcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2wuZm9yKFwidi1jbXRcIik7XG5jb25zdCBTdGF0aWMgPSBTeW1ib2wuZm9yKFwidi1zdGNcIik7XG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICBibG9ja1N0YWNrLnB1c2goY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKTtcbn1cbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XG4gIGJsb2NrU3RhY2sucG9wKCk7XG4gIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlKSB7XG4gIGlzQmxvY2tUcmVlRW5hYmxlZCArPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldHVwQmxvY2sodm5vZGUpIHtcbiAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gaXNCbG9ja1RyZWVFbmFibGVkID4gMCA/IGN1cnJlbnRCbG9jayB8fCBFTVBUWV9BUlIgOiBudWxsO1xuICBjbG9zZUJsb2NrKCk7XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50QmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcywgc2hhcGVGbGFnKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZUJhc2VWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMpIHtcbiAgcmV0dXJuIHNldHVwQmxvY2soXG4gICAgY3JlYXRlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBpc1ZOb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA/IHZhbHVlLl9fdl9pc1ZOb2RlID09PSB0cnVlIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG4yLnNoYXBlRmxhZyAmIDYgJiYgaG1yRGlydHlDb21wb25lbnRzLmhhcyhuMi50eXBlKSkge1xuICAgIG4xLnNoYXBlRmxhZyAmPSB+MjU2O1xuICAgIG4yLnNoYXBlRmxhZyAmPSB+NTEyO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbjEudHlwZSA9PT0gbjIudHlwZSAmJiBuMS5rZXkgPT09IG4yLmtleTtcbn1cbmxldCB2bm9kZUFyZ3NUcmFuc2Zvcm1lcjtcbmZ1bmN0aW9uIHRyYW5zZm9ybVZOb2RlQXJncyh0cmFuc2Zvcm1lcikge1xuICB2bm9kZUFyZ3NUcmFuc2Zvcm1lciA9IHRyYW5zZm9ybWVyO1xufVxuY29uc3QgY3JlYXRlVk5vZGVXaXRoQXJnc1RyYW5zZm9ybSA9ICguLi5hcmdzKSA9PiB7XG4gIHJldHVybiBfY3JlYXRlVk5vZGUoXG4gICAgLi4udm5vZGVBcmdzVHJhbnNmb3JtZXIgPyB2bm9kZUFyZ3NUcmFuc2Zvcm1lcihhcmdzLCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpIDogYXJnc1xuICApO1xufTtcbmNvbnN0IEludGVybmFsT2JqZWN0S2V5ID0gYF9fdkludGVybmFsYDtcbmNvbnN0IG5vcm1hbGl6ZUtleSA9ICh7IGtleSB9KSA9PiBrZXkgIT0gbnVsbCA/IGtleSA6IG51bGw7XG5jb25zdCBub3JtYWxpemVSZWYgPSAoe1xuICByZWYsXG4gIHJlZl9rZXksXG4gIHJlZl9mb3Jcbn0pID0+IHtcbiAgaWYgKHR5cGVvZiByZWYgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZWYgPSBcIlwiICsgcmVmO1xuICB9XG4gIHJldHVybiByZWYgIT0gbnVsbCA/IGlzU3RyaW5nKHJlZikgfHwgaXNSZWYocmVmKSB8fCBpc0Z1bmN0aW9uKHJlZikgPyB7IGk6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSwgcjogcmVmLCBrOiByZWZfa2V5LCBmOiAhIXJlZl9mb3IgfSA6IHJlZiA6IG51bGw7XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBzaGFwZUZsYWcgPSB0eXBlID09PSBGcmFnbWVudCA/IDAgOiAxLCBpc0Jsb2NrTm9kZSA9IGZhbHNlLCBuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbiA9IGZhbHNlKSB7XG4gIGNvbnN0IHZub2RlID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAga2V5OiBwcm9wcyAmJiBub3JtYWxpemVLZXkocHJvcHMpLFxuICAgIHJlZjogcHJvcHMgJiYgbm9ybWFsaXplUmVmKHByb3BzKSxcbiAgICBzY29wZUlkOiBjdXJyZW50U2NvcGVJZCxcbiAgICBzbG90U2NvcGVJZHM6IG51bGwsXG4gICAgY2hpbGRyZW4sXG4gICAgY29tcG9uZW50OiBudWxsLFxuICAgIHN1c3BlbnNlOiBudWxsLFxuICAgIHNzQ29udGVudDogbnVsbCxcbiAgICBzc0ZhbGxiYWNrOiBudWxsLFxuICAgIGRpcnM6IG51bGwsXG4gICAgdHJhbnNpdGlvbjogbnVsbCxcbiAgICBlbDogbnVsbCxcbiAgICBhbmNob3I6IG51bGwsXG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIHRhcmdldEFuY2hvcjogbnVsbCxcbiAgICBzdGF0aWNDb3VudDogMCxcbiAgICBzaGFwZUZsYWcsXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBkeW5hbWljQ2hpbGRyZW46IG51bGwsXG4gICAgYXBwQ29udGV4dDogbnVsbCxcbiAgICBjdHg6IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZVxuICB9O1xuICBpZiAobmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24pIHtcbiAgICBub3JtYWxpemVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHR5cGUubm9ybWFsaXplKHZub2RlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICB2bm9kZS5zaGFwZUZsYWcgfD0gaXNTdHJpbmcoY2hpbGRyZW4pID8gOCA6IDE2O1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHZub2RlLmtleSAhPT0gdm5vZGUua2V5KSB7XG4gICAgd2FybiQxKGBWTm9kZSBjcmVhdGVkIHdpdGggaW52YWxpZCBrZXkgKE5hTikuIFZOb2RlIHR5cGU6YCwgdm5vZGUudHlwZSk7XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgLy8gYXZvaWQgYSBibG9jayBub2RlIGZyb20gdHJhY2tpbmcgaXRzZWxmXG4gICFpc0Jsb2NrTm9kZSAmJiAvLyBoYXMgY3VycmVudCBwYXJlbnQgYmxvY2tcbiAgY3VycmVudEJsb2NrICYmIC8vIHByZXNlbmNlIG9mIGEgcGF0Y2ggZmxhZyBpbmRpY2F0ZXMgdGhpcyBub2RlIG5lZWRzIHBhdGNoaW5nIG9uIHVwZGF0ZXMuXG4gIC8vIGNvbXBvbmVudCBub2RlcyBhbHNvIHNob3VsZCBhbHdheXMgYmUgcGF0Y2hlZCwgYmVjYXVzZSBldmVuIGlmIHRoZVxuICAvLyBjb21wb25lbnQgZG9lc24ndCBuZWVkIHRvIHVwZGF0ZSwgaXQgbmVlZHMgdG8gcGVyc2lzdCB0aGUgaW5zdGFuY2Ugb24gdG9cbiAgLy8gdGhlIG5leHQgdm5vZGUgc28gdGhhdCBpdCBjYW4gYmUgcHJvcGVybHkgdW5tb3VudGVkIGxhdGVyLlxuICAodm5vZGUucGF0Y2hGbGFnID4gMCB8fCBzaGFwZUZsYWcgJiA2KSAmJiAvLyB0aGUgRVZFTlRTIGZsYWcgaXMgb25seSBmb3IgaHlkcmF0aW9uIGFuZCBpZiBpdCBpcyB0aGUgb25seSBmbGFnLCB0aGVcbiAgLy8gdm5vZGUgc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGR5bmFtaWMgZHVlIHRvIGhhbmRsZXIgY2FjaGluZy5cbiAgdm5vZGUucGF0Y2hGbGFnICE9PSAzMikge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5jb25zdCBjcmVhdGVWTm9kZSA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtIDogX2NyZWF0ZVZOb2RlO1xuZnVuY3Rpb24gX2NyZWF0ZVZOb2RlKHR5cGUsIHByb3BzID0gbnVsbCwgY2hpbGRyZW4gPSBudWxsLCBwYXRjaEZsYWcgPSAwLCBkeW5hbWljUHJvcHMgPSBudWxsLCBpc0Jsb2NrTm9kZSA9IGZhbHNlKSB7XG4gIGlmICghdHlwZSB8fCB0eXBlID09PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXR5cGUpIHtcbiAgICAgIHdhcm4kMShgSW52YWxpZCB2bm9kZSB0eXBlIHdoZW4gY3JlYXRpbmcgdm5vZGU6ICR7dHlwZX0uYCk7XG4gICAgfVxuICAgIHR5cGUgPSBDb21tZW50O1xuICB9XG4gIGlmIChpc1ZOb2RlKHR5cGUpKSB7XG4gICAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHRydWVcbiAgICAgIC8qIG1lcmdlUmVmOiB0cnVlICovXG4gICAgKTtcbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKGNsb25lZCwgY2hpbGRyZW4pO1xuICAgIH1cbiAgICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAhaXNCbG9ja05vZGUgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgICBpZiAoY2xvbmVkLnNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgY3VycmVudEJsb2NrW2N1cnJlbnRCbG9jay5pbmRleE9mKHR5cGUpXSA9IGNsb25lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRCbG9jay5wdXNoKGNsb25lZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNsb25lZC5wYXRjaEZsYWcgfD0gLTI7XG4gICAgcmV0dXJuIGNsb25lZDtcbiAgfVxuICBpZiAoaXNDbGFzc0NvbXBvbmVudCh0eXBlKSkge1xuICAgIHR5cGUgPSB0eXBlLl9fdmNjT3B0cztcbiAgfVxuICBpZiAocHJvcHMpIHtcbiAgICBwcm9wcyA9IGd1YXJkUmVhY3RpdmVQcm9wcyhwcm9wcyk7XG4gICAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gICAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICAgIHByb3BzLmNsYXNzID0gbm9ybWFsaXplQ2xhc3Moa2xhc3MpO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3Qoc3R5bGUpKSB7XG4gICAgICBpZiAoaXNQcm94eShzdHlsZSkgJiYgIWlzQXJyYXkoc3R5bGUpKSB7XG4gICAgICAgIHN0eWxlID0gZXh0ZW5kKHt9LCBzdHlsZSk7XG4gICAgICB9XG4gICAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2hhcGVGbGFnID0gaXNTdHJpbmcodHlwZSkgPyAxIDogaXNTdXNwZW5zZSh0eXBlKSA/IDEyOCA6IGlzVGVsZXBvcnQodHlwZSkgPyA2NCA6IGlzT2JqZWN0KHR5cGUpID8gNCA6IGlzRnVuY3Rpb24odHlwZSkgPyAyIDogMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2hhcGVGbGFnICYgNCAmJiBpc1Byb3h5KHR5cGUpKSB7XG4gICAgdHlwZSA9IHRvUmF3KHR5cGUpO1xuICAgIHdhcm4kMShcbiAgICAgIGBWdWUgcmVjZWl2ZWQgYSBDb21wb25lbnQgdGhhdCB3YXMgbWFkZSBhIHJlYWN0aXZlIG9iamVjdC4gVGhpcyBjYW4gbGVhZCB0byB1bm5lY2Vzc2FyeSBwZXJmb3JtYW5jZSBvdmVyaGVhZCBhbmQgc2hvdWxkIGJlIGF2b2lkZWQgYnkgbWFya2luZyB0aGUgY29tcG9uZW50IHdpdGggXFxgbWFya1Jhd1xcYCBvciB1c2luZyBcXGBzaGFsbG93UmVmXFxgIGluc3RlYWQgb2YgXFxgcmVmXFxgLmAsXG4gICAgICBgXG5Db21wb25lbnQgdGhhdCB3YXMgbWFkZSByZWFjdGl2ZTogYCxcbiAgICAgIHR5cGVcbiAgICApO1xuICB9XG4gIHJldHVybiBjcmVhdGVCYXNlVk5vZGUoXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIHNoYXBlRmxhZyxcbiAgICBpc0Jsb2NrTm9kZSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpIHtcbiAgaWYgKCFwcm9wcylcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIGlzUHJveHkocHJvcHMpIHx8IEludGVybmFsT2JqZWN0S2V5IGluIHByb3BzID8gZXh0ZW5kKHt9LCBwcm9wcykgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIGNsb25lVk5vZGUodm5vZGUsIGV4dHJhUHJvcHMsIG1lcmdlUmVmID0gZmFsc2UpIHtcbiAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgY29uc3QgY2xvbmVkID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWYgPyAoXG4gICAgICAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgIG1lcmdlUmVmICYmIHJlZiA/IGlzQXJyYXkocmVmKSA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKSA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV0gOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICApIDogcmVmLFxuICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgY2hpbGRyZW46ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcGF0Y2hGbGFnID09PSAtMSAmJiBpc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSkgOiBjaGlsZHJlbixcbiAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50ID8gcGF0Y2hGbGFnID09PSAtMSA/IDE2IDogcGF0Y2hGbGFnIHwgMTYgOiBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgIHRyYW5zaXRpb246IHZub2RlLnRyYW5zaXRpb24sXG4gICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgZWw6IHZub2RlLmVsLFxuICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yLFxuICAgIGN0eDogdm5vZGUuY3R4LFxuICAgIGNlOiB2bm9kZS5jZVxuICB9O1xuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xuICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gXCIgXCIsIGZsYWcgPSAwKSB7XG4gIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gXCJcIiwgYXNCbG9jayA9IGZhbHNlKSB7XG4gIHJldHVybiBhc0Jsb2NrID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSkgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XG4gIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcbiAgICAgIGNoaWxkLnNsaWNlKClcbiAgICApO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBjbG9uZUlmTW91bnRlZChjaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIFN0cmluZyhjaGlsZCkpO1xuICB9XG59XG5mdW5jdGlvbiBjbG9uZUlmTW91bnRlZChjaGlsZCkge1xuICByZXR1cm4gY2hpbGQuZWwgPT09IG51bGwgJiYgY2hpbGQucGF0Y2hGbGFnICE9PSAtMSB8fCBjaGlsZC5tZW1vID8gY2hpbGQgOiBjbG9uZVZOb2RlKGNoaWxkKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbikge1xuICBsZXQgdHlwZSA9IDA7XG4gIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICB0eXBlID0gMTY7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSBcIm9iamVjdFwiKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNjQpKSB7XG4gICAgICBjb25zdCBzbG90ID0gY2hpbGRyZW4uZGVmYXVsdDtcbiAgICAgIGlmIChzbG90KSB7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSBmYWxzZSk7XG4gICAgICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBzbG90KCkpO1xuICAgICAgICBzbG90Ll9jICYmIChzbG90Ll9kID0gdHJ1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSAzMjtcbiAgICAgIGNvbnN0IHNsb3RGbGFnID0gY2hpbGRyZW4uXztcbiAgICAgIGlmICghc2xvdEZsYWcgJiYgIShJbnRlcm5hbE9iamVjdEtleSBpbiBjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSkge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAyO1xuICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICB0eXBlID0gMzI7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZSA9IDE2O1xuICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSA4O1xuICAgIH1cbiAgfVxuICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgIGlmIChpbmNvbWluZyAmJiBleGlzdGluZyAhPT0gaW5jb21pbmcgJiYgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpIDogaW5jb21pbmc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBcIlwiKSB7XG4gICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNywgW1xuICAgIHZub2RlLFxuICAgIHByZXZWTm9kZVxuICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgdWlkOiB1aWQrKyxcbiAgICB2bm9kZSxcbiAgICB0eXBlLFxuICAgIHBhcmVudCxcbiAgICBhcHBDb250ZXh0LFxuICAgIHJvb3Q6IG51bGwsXG4gICAgLy8gdG8gYmUgaW1tZWRpYXRlbHkgc2V0XG4gICAgbmV4dDogbnVsbCxcbiAgICBzdWJUcmVlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBlZmZlY3Q6IG51bGwsXG4gICAgdXBkYXRlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBzY29wZTogbmV3IEVmZmVjdFNjb3BlKFxuICAgICAgdHJ1ZVxuICAgICAgLyogZGV0YWNoZWQgKi9cbiAgICApLFxuICAgIHJlbmRlcjogbnVsbCxcbiAgICBwcm94eTogbnVsbCxcbiAgICBleHBvc2VkOiBudWxsLFxuICAgIGV4cG9zZVByb3h5OiBudWxsLFxuICAgIHdpdGhQcm94eTogbnVsbCxcbiAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcbiAgICBhY2Nlc3NDYWNoZTogbnVsbCxcbiAgICByZW5kZXJDYWNoZTogW10sXG4gICAgLy8gbG9jYWwgcmVzb2x2ZWQgYXNzZXRzXG4gICAgY29tcG9uZW50czogbnVsbCxcbiAgICBkaXJlY3RpdmVzOiBudWxsLFxuICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXG4gICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgLy8gZW1pdFxuICAgIGVtaXQ6IG51bGwsXG4gICAgLy8gdG8gYmUgc2V0IGltbWVkaWF0ZWx5XG4gICAgZW1pdHRlZDogbnVsbCxcbiAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXG4gICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxuICAgIC8vIGluaGVyaXRBdHRyc1xuICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXG4gICAgLy8gc3RhdGVcbiAgICBjdHg6IEVNUFRZX09CSixcbiAgICBkYXRhOiBFTVBUWV9PQkosXG4gICAgcHJvcHM6IEVNUFRZX09CSixcbiAgICBhdHRyczogRU1QVFlfT0JKLFxuICAgIHNsb3RzOiBFTVBUWV9PQkosXG4gICAgcmVmczogRU1QVFlfT0JKLFxuICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcbiAgICBzZXR1cENvbnRleHQ6IG51bGwsXG4gICAgYXR0cnNQcm94eTogbnVsbCxcbiAgICBzbG90c1Byb3h5OiBudWxsLFxuICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcbiAgICBzdXNwZW5zZSxcbiAgICBzdXNwZW5zZUlkOiBzdXNwZW5zZSA/IHN1c3BlbnNlLnBlbmRpbmdJZCA6IDAsXG4gICAgYXN5bmNEZXA6IG51bGwsXG4gICAgYXN5bmNSZXNvbHZlZDogZmFsc2UsXG4gICAgLy8gbGlmZWN5Y2xlIGhvb2tzXG4gICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcbiAgICBiYzogbnVsbCxcbiAgICBjOiBudWxsLFxuICAgIGJtOiBudWxsLFxuICAgIG06IG51bGwsXG4gICAgYnU6IG51bGwsXG4gICAgdTogbnVsbCxcbiAgICB1bTogbnVsbCxcbiAgICBidW06IG51bGwsXG4gICAgZGE6IG51bGwsXG4gICAgYTogbnVsbCxcbiAgICBydGc6IG51bGwsXG4gICAgcnRjOiBudWxsLFxuICAgIGVjOiBudWxsLFxuICAgIHNwOiBudWxsXG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgaW5zdGFuY2UuY3R4ID0geyBfOiBpbnN0YW5jZSB9O1xuICB9XG4gIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xuICBpbnN0YW5jZS5lbWl0ID0gZW1pdC5iaW5kKG51bGwsIGluc3RhbmNlKTtcbiAgaWYgKHZub2RlLmNlKSB7XG4gICAgdm5vZGUuY2UoaW5zdGFuY2UpO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xuY29uc3QgZ2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbmxldCBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZTtcbmxldCBzZXRJblNTUlNldHVwU3RhdGU7XG57XG4gIGNvbnN0IGcgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIGNvbnN0IHJlZ2lzdGVyR2xvYmFsU2V0dGVyID0gKGtleSwgc2V0dGVyKSA9PiB7XG4gICAgbGV0IHNldHRlcnM7XG4gICAgaWYgKCEoc2V0dGVycyA9IGdba2V5XSkpXG4gICAgICBzZXR0ZXJzID0gZ1trZXldID0gW107XG4gICAgc2V0dGVycy5wdXNoKHNldHRlcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICBpZiAoc2V0dGVycy5sZW5ndGggPiAxKVxuICAgICAgICBzZXR0ZXJzLmZvckVhY2goKHNldCkgPT4gc2V0KHYpKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc2V0dGVyc1swXSh2KTtcbiAgICB9O1xuICB9O1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9JTlNUQU5DRV9TRVRURVJTX19gLFxuICAgICh2KSA9PiBjdXJyZW50SW5zdGFuY2UgPSB2XG4gICk7XG4gIHNldEluU1NSU2V0dXBTdGF0ZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9TU1JfU0VUVEVSU19fYCxcbiAgICAodikgPT4gaXNJblNTUkNvbXBvbmVudFNldHVwID0gdlxuICApO1xufVxuY29uc3Qgc2V0Q3VycmVudEluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShwcmV2KTtcbiAgfTtcbn07XG5jb25zdCB1bnNldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IHtcbiAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XG59O1xuY29uc3QgaXNCdWlsdEluVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXCJzbG90LGNvbXBvbmVudFwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCB7IGlzTmF0aXZlVGFnIH0pIHtcbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBpc05hdGl2ZVRhZyhuYW1lKSkge1xuICAgIHdhcm4kMShcbiAgICAgIFwiRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogXCIgKyBuYW1lXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNDtcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlKSB7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShpc1NTUik7XG4gIGNvbnN0IHsgcHJvcHMsIGNoaWxkcmVuIH0gPSBpbnN0YW5jZS52bm9kZTtcbiAgY29uc3QgaXNTdGF0ZWZ1bCA9IGlzU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UpO1xuICBpbml0UHJvcHMoaW5zdGFuY2UsIHByb3BzLCBpc1N0YXRlZnVsLCBpc1NTUik7XG4gIGluaXRTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWwgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikgOiB2b2lkIDA7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShmYWxzZSk7XG4gIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcbiAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21waWxlck9wdGlvbnMgJiYgaXNSdW50aW1lT25seSgpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGluc3RhbmNlLnByb3h5ID0gbWFya1JhdyhuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH1cbiAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xuICBpZiAoc2V0dXApIHtcbiAgICBjb25zdCBzZXR1cENvbnRleHQgPSBpbnN0YW5jZS5zZXR1cENvbnRleHQgPSBzZXR1cC5sZW5ndGggPiAxID8gY3JlYXRlU2V0dXBDb250ZXh0KGluc3RhbmNlKSA6IG51bGw7XG4gICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIHNldHVwLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAwLFxuICAgICAgW1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnByb3BzKSA6IGluc3RhbmNlLnByb3BzLFxuICAgICAgICBzZXR1cENvbnRleHRcbiAgICAgIF1cbiAgICApO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICByZXNldCgpO1xuICAgIGlmIChpc1Byb21pc2Uoc2V0dXBSZXN1bHQpKSB7XG4gICAgICBzZXR1cFJlc3VsdC50aGVuKHVuc2V0Q3VycmVudEluc3RhbmNlLCB1bnNldEN1cnJlbnRJbnN0YW5jZSk7XG4gICAgICBpZiAoaXNTU1IpIHtcbiAgICAgICAgcmV0dXJuIHNldHVwUmVzdWx0LnRoZW4oKHJlc29sdmVkUmVzdWx0KSA9PiB7XG4gICAgICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHJlc29sdmVkUmVzdWx0LCBpc1NTUik7XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZSwgaW5zdGFuY2UsIDApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmFzeW5jRGVwID0gc2V0dXBSZXN1bHQ7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpbnN0YW5jZS5zdXNwZW5zZSkge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSAoX2EgPSBDb21wb25lbnQubmFtZSkgIT0gbnVsbCA/IF9hIDogXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQ29tcG9uZW50IDwke25hbWV9Pjogc2V0dXAgZnVuY3Rpb24gcmV0dXJuZWQgYSBwcm9taXNlLCBidXQgbm8gPFN1c3BlbnNlPiBib3VuZGFyeSB3YXMgZm91bmQgaW4gdGhlIHBhcmVudCBjb21wb25lbnQgdHJlZS4gQSBjb21wb25lbnQgd2l0aCBhc3luYyBzZXR1cCgpIG11c3QgYmUgbmVzdGVkIGluIGEgPFN1c3BlbnNlPiBpbiBvcmRlciB0byBiZSByZW5kZXJlZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUikge1xuICBpZiAoaXNGdW5jdGlvbihzZXR1cFJlc3VsdCkpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX3NzcklubGluZVJlbmRlcikge1xuICAgICAgaW5zdGFuY2Uuc3NyUmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzZXR1cFJlc3VsdCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1ZOb2RlKHNldHVwUmVzdWx0KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgc2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSByZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGluc3RhbmNlLmRldnRvb2xzUmF3U2V0dXBTdGF0ZSA9IHNldHVwUmVzdWx0O1xuICAgIH1cbiAgICBpbnN0YW5jZS5zZXR1cFN0YXRlID0gcHJveHlSZWZzKHNldHVwUmVzdWx0KTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZXhwb3NlU2V0dXBTdGF0ZU9uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0dXBSZXN1bHQgIT09IHZvaWQgMCkge1xuICAgIHdhcm4kMShcbiAgICAgIGBzZXR1cCgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LiBSZWNlaXZlZDogJHtzZXR1cFJlc3VsdCA9PT0gbnVsbCA/IFwibnVsbFwiIDogdHlwZW9mIHNldHVwUmVzdWx0fWBcbiAgICApO1xuICB9XG4gIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG59XG5sZXQgY29tcGlsZTtcbmxldCBpbnN0YWxsV2l0aFByb3h5O1xuZnVuY3Rpb24gcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIoX2NvbXBpbGUpIHtcbiAgY29tcGlsZSA9IF9jb21waWxlO1xuICBpbnN0YWxsV2l0aFByb3h5ID0gKGkpID0+IHtcbiAgICBpZiAoaS5yZW5kZXIuX3JjKSB7XG4gICAgICBpLndpdGhQcm94eSA9IG5ldyBQcm94eShpLmN0eCwgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgICB9XG4gIH07XG59XG5jb25zdCBpc1J1bnRpbWVPbmx5ID0gKCkgPT4gIWNvbXBpbGU7XG5mdW5jdGlvbiBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IsIHNraXBPcHRpb25zKSB7XG4gIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gIGlmICghaW5zdGFuY2UucmVuZGVyKSB7XG4gICAgaWYgKCFpc1NTUiAmJiBjb21waWxlICYmICFDb21wb25lbnQucmVuZGVyKSB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IENvbXBvbmVudC50ZW1wbGF0ZSB8fCByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcbiAgICAgICAgY29uc3QgZmluYWxDb21waWxlck9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQsXG4gICAgICAgICAgICAgIGRlbGltaXRlcnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbXBvbmVudENvbXBpbGVyT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyID0gQ29tcG9uZW50LnJlbmRlciB8fCBOT09QO1xuICAgIGlmIChpbnN0YWxsV2l0aFByb3h5KSB7XG4gICAgICBpbnN0YWxsV2l0aFByb3h5KGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgdHJ1ZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgdHJ5IHtcbiAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24uYCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBnZXRBdHRyc1Byb3h5KGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS5hdHRyc1Byb3h5IHx8IChpbnN0YW5jZS5hdHRyc1Byb3h5ID0gbmV3IFByb3h5KFxuICAgIGluc3RhbmNlLmF0dHJzLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIFwiJGF0dHJzXCIpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSxcbiAgICAgIGRlbGV0ZVByb3BlcnR5KCkge1xuICAgICAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gOiB7XG4gICAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIFwiJGF0dHJzXCIpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgICB9XG4gICAgfVxuICApKTtcbn1cbmZ1bmN0aW9uIGdldFNsb3RzUHJveHkoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnNsb3RzUHJveHkgfHwgKGluc3RhbmNlLnNsb3RzUHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2Uuc2xvdHMsIHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICB9XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCBleHBvc2UgPSAoZXhwb3NlZCkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgfVxuICAgICAgaWYgKGV4cG9zZWQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgZXhwb3NlZFR5cGUgPSB0eXBlb2YgZXhwb3NlZDtcbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWYoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJyZWZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGV4cG9zZSgpIHNob3VsZCBiZSBwYXNzZWQgYSBwbGFpbiBvYmplY3QsIHJlY2VpdmVkICR7ZXhwb3NlZFR5cGV9LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgcmV0dXJuIGdldEF0dHJzUHJveHkoaW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgcmV0dXJuIGdldFNsb3RzUHJveHkoaW5zdGFuY2UpO1xuICAgICAgfSxcbiAgICAgIGdldCBlbWl0KCkge1xuICAgICAgICByZXR1cm4gKGV2ZW50LCAuLi5hcmdzKSA9PiBpbnN0YW5jZS5lbWl0KGV2ZW50LCAuLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICBleHBvc2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0IGF0dHJzKCkge1xuICAgICAgICByZXR1cm4gZ2V0QXR0cnNQcm94eShpbnN0YW5jZSk7XG4gICAgICB9LFxuICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgIGV4cG9zZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEV4cG9zZVByb3h5KGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmV4cG9zZVByb3h5IHx8IChpbnN0YW5jZS5leHBvc2VQcm94eSA9IG5ldyBQcm94eShwcm94eVJlZnMobWFya1JhdyhpbnN0YW5jZS5leHBvc2VkKSksIHtcbiAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgaW4gcHVibGljUHJvcGVydGllc01hcCkge1xuICAgICAgICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfVxufVxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgKGMpID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCBcIlwiKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudCkgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgOiBDb21wb25lbnQubmFtZSB8fCBpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG5hbWUgPSBpbmZlckZyb21SZWdpc3RyeShcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgfHwgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gdXNlTW9kZWwocHJvcHMsIG5hbWUsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpLnByb3BzT3B0aW9uc1swXVtuYW1lXSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aCBwcm9wIFwiJHtuYW1lfVwiIHdoaWNoIGlzIG5vdCBkZWNsYXJlZC5gKTtcbiAgICByZXR1cm4gcmVmKCk7XG4gIH1cbiAgY29uc3QgY2FtZWxpemVkTmFtZSA9IGNhbWVsaXplKG5hbWUpO1xuICBjb25zdCBoeXBoZW5hdGVkTmFtZSA9IGh5cGhlbmF0ZShuYW1lKTtcbiAgY29uc3QgcmVzID0gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIGxldCBsb2NhbFZhbHVlO1xuICAgIHdhdGNoU3luY0VmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wc1tuYW1lXTtcbiAgICAgIGlmIChoYXNDaGFuZ2VkKGxvY2FsVmFsdWUsIHByb3BWYWx1ZSkpIHtcbiAgICAgICAgbG9jYWxWYWx1ZSA9IHByb3BWYWx1ZTtcbiAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHRyYWNrKCk7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmdldCA/IG9wdGlvbnMuZ2V0KGxvY2FsVmFsdWUpIDogbG9jYWxWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmF3UHJvcHMgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICBpZiAoIShyYXdQcm9wcyAmJiAvLyBjaGVjayBpZiBwYXJlbnQgaGFzIHBhc3NlZCB2LW1vZGVsXG4gICAgICAgIChuYW1lIGluIHJhd1Byb3BzIHx8IGNhbWVsaXplZE5hbWUgaW4gcmF3UHJvcHMgfHwgaHlwaGVuYXRlZE5hbWUgaW4gcmF3UHJvcHMpICYmIChgb25VcGRhdGU6JHtuYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7Y2FtZWxpemVkTmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2h5cGhlbmF0ZWROYW1lfWAgaW4gcmF3UHJvcHMpKSAmJiBoYXNDaGFuZ2VkKHZhbHVlLCBsb2NhbFZhbHVlKSkge1xuICAgICAgICAgIGxvY2FsVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaS5lbWl0KGB1cGRhdGU6JHtuYW1lfWAsIG9wdGlvbnMuc2V0ID8gb3B0aW9ucy5zZXQodmFsdWUpIDogdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBjb25zdCBtb2RpZmllcktleSA9IG5hbWUgPT09IFwibW9kZWxWYWx1ZVwiID8gXCJtb2RlbE1vZGlmaWVyc1wiIDogYCR7bmFtZX1Nb2RpZmllcnNgO1xuICByZXNbU3ltYm9sLml0ZXJhdG9yXSA9ICgpID0+IHtcbiAgICBsZXQgaTIgPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0KCkge1xuICAgICAgICBpZiAoaTIgPCAyKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGkyKysgPyBwcm9wc1ttb2RpZmllcktleV0gfHwge30gOiByZXMsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAobCA9PT0gMikge1xuICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGwgPiAzKSB7XG4gICAgICBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgfSBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xuICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzNiYTc3NlwiIH07XG4gIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojMTY3N2ZmXCIgfTtcbiAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNmNTIyMmRcIiB9O1xuICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNlYjJmOTZcIiB9O1xuICBjb25zdCBmb3JtYXR0ZXIgPSB7XG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iai52YWx1ZSksXG4gICAgICAgICAgYD5gXG4gICAgICAgIF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgW1wic3BhblwiLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyBcIlNoYWxsb3dSZWFjdGl2ZVwiIDogXCJSZWFjdGl2ZVwiXSxcbiAgICAgICAgICBcIjxcIixcbiAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhZG9ubHlcIiA6IFwiUmVhZG9ubHlcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBcIj5cIlxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBoYXNCb2R5KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcbiAgICB9LFxuICAgIGJvZHkob2JqKSB7XG4gICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgY29uc3QgYmxvY2tzID0gW107XG4gICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJwcm9wc1wiLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcInNldHVwXCIsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcImRhdGFcIiwgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJjb21wdXRlZFwiKTtcbiAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJjb21wdXRlZFwiLCBjb21wdXRlZCkpO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3RlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCBcImluamVjdFwiKTtcbiAgICBpZiAoaW5qZWN0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJpbmplY3RlZFwiLCBpbmplY3RlZCkpO1xuICAgIH1cbiAgICBibG9ja3MucHVzaChbXG4gICAgICBcImRpdlwiLFxuICAgICAge30sXG4gICAgICBbXG4gICAgICAgIFwic3BhblwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArIFwiO29wYWNpdHk6MC42NlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJCAoaW50ZXJuYWwpOiBcIlxuICAgICAgXSxcbiAgICAgIFtcIm9iamVjdFwiLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cbiAgICBdKTtcbiAgICByZXR1cm4gYmxvY2tzO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xuICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHt9XTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0eWxlOiBcImxpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtXCIgfSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcImNvbG9yOiM0NzY1ODJcIlxuICAgICAgICB9LFxuICAgICAgICB0eXBlXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IFwicGFkZGluZy1sZWZ0OjEuMjVlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIGtleSArIFwiOiBcIl0sXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXG4gICAgICAgICAgXTtcbiAgICAgICAgfSlcbiAgICAgIF1cbiAgICBdO1xuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwgbnVtYmVyU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIGtleXdvcmRTdHlsZSwgdl07XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgICAgcmV0dXJuIFtcIm9iamVjdFwiLCB7IG9iamVjdDogYXNSYXcgPyB0b1Jhdyh2KSA6IHYgfV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xuICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dHJhY3RlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLmN0eCkge1xuICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgZXh0cmFjdGVkW2tleV0gPSBpbnN0YW5jZS5jdHhba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgfVxuICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcbiAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcbiAgICBpZiAoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkgfHwgaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKChtKSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xuICAgIGlmIChpc1NoYWxsb3codikpIHtcbiAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XG4gICAgfVxuICAgIGlmICh2LmVmZmVjdCkge1xuICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XG4gICAgfVxuICAgIHJldHVybiBgUmVmYDtcbiAgfVxuICBpZiAod2luZG93LmRldnRvb2xzRm9ybWF0dGVycykge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3aXRoTWVtbyhtZW1vLCByZW5kZXIsIGNhY2hlLCBpbmRleCkge1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZVtpbmRleF07XG4gIGlmIChjYWNoZWQgJiYgaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByZXQgPSByZW5kZXIoKTtcbiAgcmV0Lm1lbW8gPSBtZW1vLnNsaWNlKCk7XG4gIHJldHVybiBjYWNoZVtpbmRleF0gPSByZXQ7XG59XG5mdW5jdGlvbiBpc01lbW9TYW1lKGNhY2hlZCwgbWVtbykge1xuICBjb25zdCBwcmV2ID0gY2FjaGVkLm1lbW87XG4gIGlmIChwcmV2Lmxlbmd0aCAhPSBtZW1vLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChwcmV2W2ldLCBtZW1vW2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaChjYWNoZWQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCB2ZXJzaW9uID0gXCIzLjQuMjFcIjtcbmNvbnN0IHdhcm4gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gd2FybiQxIDogTk9PUDtcbmNvbnN0IEVycm9yVHlwZVN0cmluZ3MgPSBFcnJvclR5cGVTdHJpbmdzJDEgO1xuY29uc3QgZGV2dG9vbHMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHRydWUgPyBkZXZ0b29scyQxIDogdm9pZCAwO1xuY29uc3Qgc2V0RGV2dG9vbHNIb29rID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gc2V0RGV2dG9vbHNIb29rJDEgOiBOT09QO1xuY29uc3QgX3NzclV0aWxzID0ge1xuICBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSxcbiAgc2V0dXBDb21wb25lbnQsXG4gIHJlbmRlckNvbXBvbmVudFJvb3QsXG4gIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSxcbiAgaXNWTm9kZTogaXNWTm9kZSxcbiAgbm9ybWFsaXplVk5vZGVcbn07XG5jb25zdCBzc3JVdGlscyA9IF9zc3JVdGlscyA7XG5jb25zdCByZXNvbHZlRmlsdGVyID0gbnVsbDtcbmNvbnN0IGNvbXBhdFV0aWxzID0gbnVsbDtcbmNvbnN0IERlcHJlY2F0aW9uVHlwZXMgPSBudWxsO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIENvbW1lbnQsIERlcHJlY2F0aW9uVHlwZXMsIEVycm9yQ29kZXMsIEVycm9yVHlwZVN0cmluZ3MsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBhc3NlcnROdW1iZXIsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXBhdFV0aWxzLCBjb21wdXRlZCwgY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVCYXNlVk5vZGUgYXMgY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgY3JlYXRlUHJvcHNSZXN0UHJveHksIGNyZWF0ZVJlbmRlcmVyLCBjcmVhdGVTbG90cywgY3JlYXRlU3RhdGljVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSwgY3JlYXRlVk5vZGUsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlZmluZUVtaXRzLCBkZWZpbmVFeHBvc2UsIGRlZmluZU1vZGVsLCBkZWZpbmVPcHRpb25zLCBkZWZpbmVQcm9wcywgZGVmaW5lU2xvdHMsIGRldnRvb2xzLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgZ3VhcmRSZWFjdGl2ZVByb3BzLCBoLCBoYW5kbGVFcnJvciwgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZU1vZGVsLCB1c2VTU1JDb250ZXh0LCB1c2VTbG90cywgdXNlVHJhbnNpdGlvblN0YXRlLCB2ZXJzaW9uLCB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdhdGNoUG9zdEVmZmVjdCwgd2F0Y2hTeW5jRWZmZWN0LCB3aXRoQXN5bmNDb250ZXh0LCB3aXRoQ3R4LCB3aXRoRGVmYXVsdHMsIHdpdGhEaXJlY3RpdmVzLCB3aXRoTWVtbywgd2l0aFNjb3BlSWQgfTtcbiIsIi8qKlxuKiBAdnVlL3J1bnRpbWUtZG9tIHYzLjQuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IGgsIEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgYXNzZXJ0TnVtYmVyLCBnZXRDdXJyZW50SW5zdGFuY2UsIHdhcm4sIHdhdGNoUG9zdEVmZmVjdCwgb25Nb3VudGVkLCBvblVubW91bnRlZCwgRnJhZ21lbnQsIFN0YXRpYywgY2FtZWxpemUsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBkZWZpbmVDb21wb25lbnQsIG5leHRUaWNrLCBjcmVhdGVWTm9kZSwgdXNlVHJhbnNpdGlvblN0YXRlLCBvblVwZGF0ZWQsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgaXNSdW50aW1lT25seSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGlzQXJyYXksIGlzU3RyaW5nLCBoeXBoZW5hdGUsIGNhcGl0YWxpemUsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgaXNGdW5jdGlvbiwgY2FtZWxpemUgYXMgY2FtZWxpemUkMSwgRU1QVFlfT0JKLCBsb29zZVRvTnVtYmVyLCBsb29zZUluZGV4T2YsIGlzU2V0LCBsb29zZUVxdWFsLCBpbnZva2VBcnJheUZucywgaXNIVE1MVGFnLCBpc1NWR1RhZywgaXNNYXRoTUxUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN2Z05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgbWF0aG1sTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIjtcbmNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogbnVsbDtcbmNvbnN0IHRlbXBsYXRlQ29udGFpbmVyID0gZG9jICYmIC8qIEBfX1BVUkVfXyAqLyBkb2MuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuY29uc3Qgbm9kZU9wcyA9IHtcbiAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xuICB9LFxuICByZW1vdmU6IChjaGlsZCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIG5hbWVzcGFjZSwgaXMsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWcpIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhtYXRobWxOUywgdGFnKSA6IGRvYy5jcmVhdGVFbGVtZW50KHRhZywgaXMgPyB7IGlzIH0gOiB2b2lkIDApO1xuICAgIGlmICh0YWcgPT09IFwic2VsZWN0XCIgJiYgcHJvcHMgJiYgcHJvcHMubXVsdGlwbGUgIT0gbnVsbCkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIiwgcHJvcHMubXVsdGlwbGUpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sXG4gIGNyZWF0ZVRleHQ6ICh0ZXh0KSA9PiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCksXG4gIGNyZWF0ZUNvbW1lbnQ6ICh0ZXh0KSA9PiBkb2MuY3JlYXRlQ29tbWVudCh0ZXh0KSxcbiAgc2V0VGV4dDogKG5vZGUsIHRleHQpID0+IHtcbiAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gIH0sXG4gIHNldEVsZW1lbnRUZXh0OiAoZWwsIHRleHQpID0+IHtcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH0sXG4gIHBhcmVudE5vZGU6IChub2RlKSA9PiBub2RlLnBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nOiAobm9kZSkgPT4gbm9kZS5uZXh0U2libGluZyxcbiAgcXVlcnlTZWxlY3RvcjogKHNlbGVjdG9yKSA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXG4gIHNldFNjb3BlSWQoZWwsIGlkKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgfSxcbiAgLy8gX19VTlNBRkVfX1xuICAvLyBSZWFzb246IGlubmVySFRNTC5cbiAgLy8gU3RhdGljIGNvbnRlbnQgaGVyZSBjYW4gb25seSBjb21lIGZyb20gY29tcGlsZWQgdGVtcGxhdGVzLlxuICAvLyBBcyBsb25nIGFzIHRoZSB1c2VyIG9ubHkgdXNlcyB0cnVzdGVkIHRlbXBsYXRlcywgdGhpcyBpcyBzYWZlLlxuICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBuYW1lc3BhY2UsIHN0YXJ0LCBlbmQpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZDtcbiAgICBpZiAoc3RhcnQgJiYgKHN0YXJ0ID09PSBlbmQgfHwgc3RhcnQubmV4dFNpYmxpbmcpKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHN0YXJ0LmNsb25lTm9kZSh0cnVlKSwgYW5jaG9yKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQgfHwgIShzdGFydCA9IHN0YXJ0Lm5leHRTaWJsaW5nKSlcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGVDb250YWluZXIuaW5uZXJIVE1MID0gbmFtZXNwYWNlID09PSBcInN2Z1wiID8gYDxzdmc+JHtjb250ZW50fTwvc3ZnPmAgOiBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgPyBgPG1hdGg+JHtjb250ZW50fTwvbWF0aD5gIDogY29udGVudDtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVDb250YWluZXIuY29udGVudDtcbiAgICAgIGlmIChuYW1lc3BhY2UgPT09IFwic3ZnXCIgfHwgbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiKSB7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0ZW1wbGF0ZS5maXJzdENoaWxkO1xuICAgICAgICB3aGlsZSAod3JhcHBlci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgdGVtcGxhdGUuYXBwZW5kQ2hpbGQod3JhcHBlci5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZCh3cmFwcGVyKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGVtcGxhdGUsIGFuY2hvcik7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAvLyBmaXJzdFxuICAgICAgYmVmb3JlID8gYmVmb3JlLm5leHRTaWJsaW5nIDogcGFyZW50LmZpcnN0Q2hpbGQsXG4gICAgICAvLyBsYXN0XG4gICAgICBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZFxuICAgIF07XG4gIH1cbn07XG5cbmNvbnN0IFRSQU5TSVRJT04gPSBcInRyYW5zaXRpb25cIjtcbmNvbnN0IEFOSU1BVElPTiA9IFwiYW5pbWF0aW9uXCI7XG5jb25zdCB2dGNLZXkgPSBTeW1ib2woXCJfdnRjXCIpO1xuY29uc3QgVHJhbnNpdGlvbiA9IChwcm9wcywgeyBzbG90cyB9KSA9PiBoKEJhc2VUcmFuc2l0aW9uLCByZXNvbHZlVHJhbnNpdGlvblByb3BzKHByb3BzKSwgc2xvdHMpO1xuVHJhbnNpdGlvbi5kaXNwbGF5TmFtZSA9IFwiVHJhbnNpdGlvblwiO1xuY29uc3QgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IHtcbiAgbmFtZTogU3RyaW5nLFxuICB0eXBlOiBTdHJpbmcsXG4gIGNzczoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBkdXJhdGlvbjogW1N0cmluZywgTnVtYmVyLCBPYmplY3RdLFxuICBlbnRlckZyb21DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyVG9DbGFzczogU3RyaW5nLFxuICBhcHBlYXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBsZWF2ZUZyb21DbGFzczogU3RyaW5nLFxuICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nXG59O1xuY29uc3QgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyA9IFRyYW5zaXRpb24ucHJvcHMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKFxuICB7fSxcbiAgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnNcbik7XG5jb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzID0gW10pID0+IHtcbiAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICBob29rLmZvckVhY2goKGgyKSA9PiBoMiguLi5hcmdzKSk7XG4gIH0gZWxzZSBpZiAoaG9vaykge1xuICAgIGhvb2soLi4uYXJncyk7XG4gIH1cbn07XG5jb25zdCBoYXNFeHBsaWNpdENhbGxiYWNrID0gKGhvb2spID0+IHtcbiAgcmV0dXJuIGhvb2sgPyBpc0FycmF5KGhvb2spID8gaG9vay5zb21lKChoMikgPT4gaDIubGVuZ3RoID4gMSkgOiBob29rLmxlbmd0aCA+IDEgOiBmYWxzZTtcbn07XG5mdW5jdGlvbiByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKSB7XG4gIGNvbnN0IGJhc2VQcm9wcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdQcm9wcykge1xuICAgIGlmICghKGtleSBpbiBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzKSkge1xuICAgICAgYmFzZVByb3BzW2tleV0gPSByYXdQcm9wc1trZXldO1xuICAgIH1cbiAgfVxuICBpZiAocmF3UHJvcHMuY3NzID09PSBmYWxzZSkge1xuICAgIHJldHVybiBiYXNlUHJvcHM7XG4gIH1cbiAgY29uc3Qge1xuICAgIG5hbWUgPSBcInZcIixcbiAgICB0eXBlLFxuICAgIGR1cmF0aW9uLFxuICAgIGVudGVyRnJvbUNsYXNzID0gYCR7bmFtZX0tZW50ZXItZnJvbWAsXG4gICAgZW50ZXJBY3RpdmVDbGFzcyA9IGAke25hbWV9LWVudGVyLWFjdGl2ZWAsXG4gICAgZW50ZXJUb0NsYXNzID0gYCR7bmFtZX0tZW50ZXItdG9gLFxuICAgIGFwcGVhckZyb21DbGFzcyA9IGVudGVyRnJvbUNsYXNzLFxuICAgIGFwcGVhckFjdGl2ZUNsYXNzID0gZW50ZXJBY3RpdmVDbGFzcyxcbiAgICBhcHBlYXJUb0NsYXNzID0gZW50ZXJUb0NsYXNzLFxuICAgIGxlYXZlRnJvbUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtZnJvbWAsXG4gICAgbGVhdmVBY3RpdmVDbGFzcyA9IGAke25hbWV9LWxlYXZlLWFjdGl2ZWAsXG4gICAgbGVhdmVUb0NsYXNzID0gYCR7bmFtZX0tbGVhdmUtdG9gXG4gIH0gPSByYXdQcm9wcztcbiAgY29uc3QgZHVyYXRpb25zID0gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pO1xuICBjb25zdCBlbnRlckR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1swXTtcbiAgY29uc3QgbGVhdmVEdXJhdGlvbiA9IGR1cmF0aW9ucyAmJiBkdXJhdGlvbnNbMV07XG4gIGNvbnN0IHtcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25FbnRlckNhbmNlbGxlZCxcbiAgICBvbkxlYXZlLFxuICAgIG9uTGVhdmVDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVBcHBlYXIgPSBvbkJlZm9yZUVudGVyLFxuICAgIG9uQXBwZWFyID0gb25FbnRlcixcbiAgICBvbkFwcGVhckNhbmNlbGxlZCA9IG9uRW50ZXJDYW5jZWxsZWRcbiAgfSA9IGJhc2VQcm9wcztcbiAgY29uc3QgZmluaXNoRW50ZXIgPSAoZWwsIGlzQXBwZWFyLCBkb25lKSA9PiB7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xuICAgIGVsLl9pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICBkb25lICYmIGRvbmUoKTtcbiAgfTtcbiAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xuICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcbiAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hFbnRlcihlbCwgaXNBcHBlYXIsIGRvbmUpO1xuICAgICAgY2FsbEhvb2soaG9vaywgW2VsLCByZXNvbHZlXSk7XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhob29rKSkge1xuICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgZW50ZXJEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XG4gICAgb25CZWZvcmVFbnRlcihlbCkge1xuICAgICAgY2FsbEhvb2sob25CZWZvcmVFbnRlciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyRnJvbUNsYXNzKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgfSxcbiAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xuICAgICAgY2FsbEhvb2sob25CZWZvcmVBcHBlYXIsIFtlbF0pO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XG4gICAgfSxcbiAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcbiAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcbiAgICBvbkxlYXZlKGVsLCBkb25lKSB7XG4gICAgICBlbC5faXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgaWYgKCFlbC5faXNMZWF2aW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhvbkxlYXZlKSkge1xuICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgbGVhdmVEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZSwgW2VsLCByZXNvbHZlXSk7XG4gICAgfSxcbiAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UpO1xuICAgICAgY2FsbEhvb2sob25FbnRlckNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfSxcbiAgICBvbkFwcGVhckNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoRW50ZXIoZWwsIHRydWUpO1xuICAgICAgY2FsbEhvb2sob25BcHBlYXJDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH0sXG4gICAgb25MZWF2ZUNhbmNlbGxlZChlbCkge1xuICAgICAgZmluaXNoTGVhdmUoZWwpO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUR1cmF0aW9uKGR1cmF0aW9uKSB7XG4gIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoZHVyYXRpb24pKSB7XG4gICAgcmV0dXJuIFtOdW1iZXJPZihkdXJhdGlvbi5lbnRlciksIE51bWJlck9mKGR1cmF0aW9uLmxlYXZlKV07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbiA9IE51bWJlck9mKGR1cmF0aW9uKTtcbiAgICByZXR1cm4gW24sIG5dO1xuICB9XG59XG5mdW5jdGlvbiBOdW1iZXJPZih2YWwpIHtcbiAgY29uc3QgcmVzID0gdG9OdW1iZXIodmFsKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIocmVzLCBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBkdXJhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgKGVsW3Z0Y0tleV0gfHwgKGVsW3Z0Y0tleV0gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKSkuYWRkKGNscyk7XG59XG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5yZW1vdmUoYykpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmRlbGV0ZShjbHMpO1xuICAgIGlmICghX3Z0Yy5zaXplKSB7XG4gICAgICBlbFt2dGNLZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbmV4dEZyYW1lKGNiKSB7XG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKTtcbiAgfSk7XG59XG5sZXQgZW5kSWQgPSAwO1xuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzKGVsLCBleHBlY3RlZFR5cGUsIGV4cGxpY2l0VGltZW91dCwgcmVzb2x2ZSkge1xuICBjb25zdCBpZCA9IGVsLl9lbmRJZCA9ICsrZW5kSWQ7XG4gIGNvbnN0IHJlc29sdmVJZk5vdFN0YWxlID0gKCkgPT4ge1xuICAgIGlmIChpZCA9PT0gZWwuX2VuZElkKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9O1xuICBpZiAoZXhwbGljaXRUaW1lb3V0KSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XG4gIH1cbiAgY29uc3QgeyB0eXBlLCB0aW1lb3V0LCBwcm9wQ291bnQgfSA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xuICBpZiAoIXR5cGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArIFwiZW5kXCI7XG4gIGxldCBlbmRlZCA9IDA7XG4gIGNvbnN0IGVuZCA9ICgpID0+IHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG4gICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZWwgJiYgKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSkge1xuICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCBcIlwiKS5zcGxpdChcIiwgXCIpO1xuICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RGVsYXlgKTtcbiAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfUR1cmF0aW9uYCk7XG4gIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcbiAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke0FOSU1BVElPTn1EZWxheWApO1xuICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfUR1cmF0aW9uYCk7XG4gIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcbiAgbGV0IHR5cGUgPSBudWxsO1xuICBsZXQgdGltZW91dCA9IDA7XG4gIGxldCBwcm9wQ291bnQgPSAwO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XG4gICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IFRSQU5TSVRJT047XG4gICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcbiAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBBTklNQVRJT047XG4gICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XG4gICAgdHlwZSA9IHRpbWVvdXQgPiAwID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0ID8gVFJBTlNJVElPTiA6IEFOSU1BVElPTiA6IG51bGw7XG4gICAgcHJvcENvdW50ID0gdHlwZSA/IHR5cGUgPT09IFRSQU5TSVRJT04gPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aCA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGggOiAwO1xuICB9XG4gIGNvbnN0IGhhc1RyYW5zZm9ybSA9IHR5cGUgPT09IFRSQU5TSVRJT04gJiYgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KFxuICAgIGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKVxuICApO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdGltZW91dCxcbiAgICBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtXG4gIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuZnVuY3Rpb24gdG9NcyhzKSB7XG4gIGlmIChzID09PSBcImF1dG9cIilcbiAgICByZXR1cm4gMDtcbiAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKFwiLFwiLCBcIi5cIikpICogMWUzO1xufVxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWxbdnRjS2V5XTtcbiAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gIH0gZWxzZSBpZiAoaXNTVkcpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdlNob3dPcmlnaW5hbERpc3BsYXkgPSBTeW1ib2woXCJfdm9kXCIpO1xuY29uc3QgdlNob3dIaWRkZW4gPSBTeW1ib2woXCJfdnNoXCIpO1xuY29uc3QgdlNob3cgPSB7XG4gIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZWwuc3R5bGUuZGlzcGxheTtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcbiAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgdlNob3cubmFtZSA9IFwic2hvd1wiO1xufVxuZnVuY3Rpb24gc2V0RGlzcGxheShlbCwgdmFsdWUpIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWxbdlNob3dPcmlnaW5hbERpc3BsYXldIDogXCJub25lXCI7XG4gIGVsW3ZTaG93SGlkZGVuXSA9ICF2YWx1ZTtcbn1cbmZ1bmN0aW9uIGluaXRWU2hvd0ZvclNTUigpIHtcbiAgdlNob3cuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgc3R5bGU6IHsgZGlzcGxheTogXCJub25lXCIgfSB9O1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgQ1NTX1ZBUl9URVhUID0gU3ltYm9sKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIkNTU19WQVJfVEVYVFwiIDogXCJcIik7XG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGB1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdXBkYXRlVGVsZXBvcnRzID0gaW5zdGFuY2UudXQgPSAodmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSkpID0+IHtcbiAgICBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdi1vd25lcj1cIiR7aW5zdGFuY2UudWlkfVwiXWApXG4gICAgKS5mb3JFYWNoKChub2RlKSA9PiBzZXRWYXJzT25Ob2RlKG5vZGUsIHZhcnMpKTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbnN0YW5jZS5nZXRDc3NWYXJzID0gKCkgPT4gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgfVxuICBjb25zdCBzZXRWYXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICAgIHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIHZhcnMpO1xuICAgIHVwZGF0ZVRlbGVwb3J0cyh2YXJzKTtcbiAgfTtcbiAgd2F0Y2hQb3N0RWZmZWN0KHNldFZhcnMpO1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIGNvbnN0IG9iID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoc2V0VmFycyk7XG4gICAgb2Iub2JzZXJ2ZShpbnN0YW5jZS5zdWJUcmVlLmVsLnBhcmVudE5vZGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pO1xuICAgIG9uVW5tb3VudGVkKCgpID0+IG9iLmRpc2Nvbm5lY3QoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc2V0VmFyc09uVk5vZGUodm5vZGUsIHZhcnMpIHtcbiAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2U7XG4gICAgdm5vZGUgPSBzdXNwZW5zZS5hY3RpdmVCcmFuY2g7XG4gICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgIXN1c3BlbnNlLmlzSHlkcmF0aW5nKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goKCkgPT4ge1xuICAgICAgICBzZXRWYXJzT25WTm9kZShzdXNwZW5zZS5hY3RpdmVCcmFuY2gsIHZhcnMpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHdoaWxlICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudC5zdWJUcmVlO1xuICB9XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHZub2RlLmVsKSB7XG4gICAgc2V0VmFyc09uTm9kZSh2bm9kZS5lbCwgdmFycyk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiBzZXRWYXJzT25WTm9kZShjLCB2YXJzKSk7XG4gIH0gZWxzZSBpZiAodm5vZGUudHlwZSA9PT0gU3RhdGljKSB7XG4gICAgbGV0IHsgZWwsIGFuY2hvciB9ID0gdm5vZGU7XG4gICAgd2hpbGUgKGVsKSB7XG4gICAgICBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKTtcbiAgICAgIGlmIChlbCA9PT0gYW5jaG9yKVxuICAgICAgICBicmVhaztcbiAgICAgIGVsID0gZWwubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRWYXJzT25Ob2RlKGVsLCB2YXJzKSB7XG4gIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgbGV0IGNzc1RleHQgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhcnMpIHtcbiAgICAgIHN0eWxlLnNldFByb3BlcnR5KGAtLSR7a2V5fWAsIHZhcnNba2V5XSk7XG4gICAgICBjc3NUZXh0ICs9IGAtLSR7a2V5fTogJHt2YXJzW2tleV19O2A7XG4gICAgfVxuICAgIHN0eWxlW0NTU19WQVJfVEVYVF0gPSBjc3NUZXh0O1xuICB9XG59XG5cbmNvbnN0IGRpc3BsYXlSRSA9IC8oXnw7KVxccypkaXNwbGF5XFxzKjovO1xuZnVuY3Rpb24gcGF0Y2hTdHlsZShlbCwgcHJldiwgbmV4dCkge1xuICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICBjb25zdCBpc0Nzc1N0cmluZyA9IGlzU3RyaW5nKG5leHQpO1xuICBsZXQgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBmYWxzZTtcbiAgaWYgKG5leHQgJiYgIWlzQ3NzU3RyaW5nKSB7XG4gICAgaWYgKHByZXYpIHtcbiAgICAgIGlmICghaXNTdHJpbmcocHJldikpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJldikge1xuICAgICAgICAgIGlmIChuZXh0W2tleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHByZXZTdHlsZSBvZiBwcmV2LnNwbGl0KFwiO1wiKSkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHByZXZTdHlsZS5zbGljZSgwLCBwcmV2U3R5bGUuaW5kZXhPZihcIjpcIikpLnRyaW0oKTtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXh0KSB7XG4gICAgICBpZiAoa2V5ID09PSBcImRpc3BsYXlcIikge1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IHRydWU7XG4gICAgICB9XG4gICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBuZXh0W2tleV0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDc3NTdHJpbmcpIHtcbiAgICAgIGlmIChwcmV2ICE9PSBuZXh0KSB7XG4gICAgICAgIGNvbnN0IGNzc1ZhclRleHQgPSBzdHlsZVtDU1NfVkFSX1RFWFRdO1xuICAgICAgICBpZiAoY3NzVmFyVGV4dCkge1xuICAgICAgICAgIG5leHQgKz0gXCI7XCIgKyBjc3NWYXJUZXh0O1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlLmNzc1RleHQgPSBuZXh0O1xuICAgICAgICBoYXNDb250cm9sbGVkRGlzcGxheSA9IGRpc3BsYXlSRS50ZXN0KG5leHQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJldikge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgfVxuICB9XG4gIGlmICh2U2hvd09yaWdpbmFsRGlzcGxheSBpbiBlbCkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGhhc0NvbnRyb2xsZWREaXNwbGF5ID8gc3R5bGUuZGlzcGxheSA6IFwiXCI7XG4gICAgaWYgKGVsW3ZTaG93SGlkZGVuXSkge1xuICAgICAgc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgfVxufVxuY29uc3Qgc2VtaWNvbG9uUkUgPSAvW15cXFxcXTtcXHMqJC87XG5jb25zdCBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIG5hbWUsIHZhbCkge1xuICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgdmFsLmZvckVhY2goKHYpID0+IHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKVxuICAgICAgdmFsID0gXCJcIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKHNlbWljb2xvblJFLnRlc3QodmFsKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBVbmV4cGVjdGVkIHNlbWljb2xvbiBhdCB0aGUgZW5kIG9mICcke25hbWV9JyBzdHlsZSB2YWx1ZTogJyR7dmFsfSdgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoXCItLVwiKSkge1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcbiAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgaHlwaGVuYXRlKHByZWZpeGVkKSxcbiAgICAgICAgICB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgXCJcIiksXG4gICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuY29uc3QgcHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiXTtcbmNvbnN0IHByZWZpeENhY2hlID0ge307XG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XG4gIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xuICBpZiAobmFtZSAhPT0gXCJmaWx0ZXJcIiAmJiBuYW1lIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZTtcbiAgfVxuICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xuICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xuICAgICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByYXdOYW1lO1xufVxuXG5jb25zdCB4bGlua05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI7XG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHLCBpbnN0YW5jZSkge1xuICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoXCJ4bGluazpcIikpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IGlzQm9vbGVhbiA9IGlzU3BlY2lhbEJvb2xlYW5BdHRyKGtleSk7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNCb29sZWFuICYmICFpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgaXNCb29sZWFuID8gXCJcIiA6IHZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xuICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgaWYgKHByZXZDaGlsZHJlbikge1xuICAgICAgdW5tb3VudENoaWxkcmVuKHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIGVsW2tleV0gPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0YWcgPSBlbC50YWdOYW1lO1xuICBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgdGFnICE9PSBcIlBST0dSRVNTXCIgJiYgLy8gY3VzdG9tIGVsZW1lbnRzIG1heSB1c2UgX3ZhbHVlIGludGVybmFsbHlcbiAgIXRhZy5pbmNsdWRlcyhcIi1cIikpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhZyA9PT0gXCJPUFRJT05cIiA/IGVsLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIHx8IFwiXCIgOiBlbC52YWx1ZTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWU7XG4gICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSB8fCAhKFwiX3ZhbHVlXCIgaW4gZWwpKSB7XG4gICAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfVxuICAgIGVsLl92YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbmVlZFJlbW92ZSA9IGZhbHNlO1xuICBpZiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2YgZWxba2V5XTtcbiAgICBpZiAodHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHZhbHVlID0gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgJiYgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgbmVlZFJlbW92ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICB2YWx1ZSA9IDA7XG4gICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICBlbFtrZXldID0gdmFsdWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhbmVlZFJlbW92ZSkge1xuICAgICAgd2FybihcbiAgICAgICAgYEZhaWxlZCBzZXR0aW5nIHByb3AgXCIke2tleX1cIiBvbiA8JHt0YWcudG9Mb3dlckNhc2UoKX0+OiB2YWx1ZSAke3ZhbHVlfSBpcyBpbnZhbGlkLmAsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIG5lZWRSZW1vdmUgJiYgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoZWwsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5jb25zdCB2ZWlLZXkgPSBTeW1ib2woXCJfdmVpXCIpO1xuZnVuY3Rpb24gcGF0Y2hFdmVudChlbCwgcmF3TmFtZSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIGluc3RhbmNlID0gbnVsbCkge1xuICBjb25zdCBpbnZva2VycyA9IGVsW3ZlaUtleV0gfHwgKGVsW3ZlaUtleV0gPSB7fSk7XG4gIGNvbnN0IGV4aXN0aW5nSW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdO1xuICBpZiAobmV4dFZhbHVlICYmIGV4aXN0aW5nSW52b2tlcikge1xuICAgIGV4aXN0aW5nSW52b2tlci52YWx1ZSA9IG5leHRWYWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBbbmFtZSwgb3B0aW9uc10gPSBwYXJzZU5hbWUocmF3TmFtZSk7XG4gICAgaWYgKG5leHRWYWx1ZSkge1xuICAgICAgY29uc3QgaW52b2tlciA9IGludm9rZXJzW3Jhd05hbWVdID0gY3JlYXRlSW52b2tlcihuZXh0VmFsdWUsIGluc3RhbmNlKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGludm9rZXIsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBuYW1lLCBleGlzdGluZ0ludm9rZXIsIG9wdGlvbnMpO1xuICAgICAgaW52b2tlcnNbcmF3TmFtZV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5jb25zdCBvcHRpb25zTW9kaWZpZXJSRSA9IC8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztcbmZ1bmN0aW9uIHBhcnNlTmFtZShuYW1lKSB7XG4gIGxldCBvcHRpb25zO1xuICBpZiAob3B0aW9uc01vZGlmaWVyUkUudGVzdChuYW1lKSkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgICBsZXQgbTtcbiAgICB3aGlsZSAobSA9IG5hbWUubWF0Y2gob3B0aW9uc01vZGlmaWVyUkUpKSB7XG4gICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCBuYW1lLmxlbmd0aCAtIG1bMF0ubGVuZ3RoKTtcbiAgICAgIG9wdGlvbnNbbVswXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGNvbnN0IGV2ZW50ID0gbmFtZVsyXSA9PT0gXCI6XCIgPyBuYW1lLnNsaWNlKDMpIDogaHlwaGVuYXRlKG5hbWUuc2xpY2UoMikpO1xuICByZXR1cm4gW2V2ZW50LCBvcHRpb25zXTtcbn1cbmxldCBjYWNoZWROb3cgPSAwO1xuY29uc3QgcCA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmNvbnN0IGdldE5vdyA9ICgpID0+IGNhY2hlZE5vdyB8fCAocC50aGVuKCgpID0+IGNhY2hlZE5vdyA9IDApLCBjYWNoZWROb3cgPSBEYXRlLm5vdygpKTtcbmZ1bmN0aW9uIGNyZWF0ZUludm9rZXIoaW5pdGlhbFZhbHVlLCBpbnN0YW5jZSkge1xuICBjb25zdCBpbnZva2VyID0gKGUpID0+IHtcbiAgICBpZiAoIWUuX3Z0cykge1xuICAgICAgZS5fdnRzID0gRGF0ZS5ub3coKTtcbiAgICB9IGVsc2UgaWYgKGUuX3Z0cyA8PSBpbnZva2VyLmF0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgaW52b2tlci52YWx1ZSksXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDUsXG4gICAgICBbZV1cbiAgICApO1xuICB9O1xuICBpbnZva2VyLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICBpbnZva2VyLmF0dGFjaGVkID0gZ2V0Tm93KCk7XG4gIHJldHVybiBpbnZva2VyO1xufVxuZnVuY3Rpb24gcGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSwgdmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSAoKSA9PiB7XG4gICAgICBvcmlnaW5hbFN0b3AuY2FsbChlKTtcbiAgICAgIGUuX3N0b3BwZWQgPSB0cnVlO1xuICAgIH07XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgoZm4pID0+IChlMikgPT4gIWUyLl9zdG9wcGVkICYmIGZuICYmIGZuKGUyKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IGlzTmF0aXZlT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gbG93ZXJjYXNlIGxldHRlclxua2V5LmNoYXJDb2RlQXQoMikgPiA5NiAmJiBrZXkuY2hhckNvZGVBdCgyKSA8IDEyMztcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgbmFtZXNwYWNlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikgPT4ge1xuICBjb25zdCBpc1NWRyA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIjtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5WzBdID09PSBcIi5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIHRydWUpIDoga2V5WzBdID09PSBcIl5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIGZhbHNlKSA6IHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xuICAgIHBhdGNoRE9NUHJvcChcbiAgICAgIGVsLFxuICAgICAga2V5LFxuICAgICAgbmV4dFZhbHVlLFxuICAgICAgcHJldkNoaWxkcmVuLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICB1bm1vdW50Q2hpbGRyZW5cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGlmIChrZXkgPT09IFwidHJ1ZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImZhbHNlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH1cbn07XG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XG4gIGlmIChpc1NWRykge1xuICAgIGlmIChrZXkgPT09IFwiaW5uZXJIVE1MXCIgfHwga2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5IGluIGVsICYmIGlzTmF0aXZlT24oa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInNwZWxsY2hlY2tcIiB8fCBrZXkgPT09IFwiZHJhZ2dhYmxlXCIgfHwga2V5ID09PSBcInRyYW5zbGF0ZVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwiZm9ybVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwibGlzdFwiICYmIGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInR5cGVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ3aWR0aFwiIHx8IGtleSA9PT0gXCJoZWlnaHRcIikge1xuICAgIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gXCJJTUdcIiB8fCB0YWcgPT09IFwiVklERU9cIiB8fCB0YWcgPT09IFwiQ0FOVkFTXCIgfHwgdGFnID09PSBcIlNPVVJDRVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc05hdGl2ZU9uKGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgaHlkcmF0ZTIpIHtcbiAgY29uc3QgQ29tcCA9IGRlZmluZUNvbXBvbmVudChvcHRpb25zKTtcbiAgY2xhc3MgVnVlQ3VzdG9tRWxlbWVudCBleHRlbmRzIFZ1ZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxQcm9wcykge1xuICAgICAgc3VwZXIoQ29tcCwgaW5pdGlhbFByb3BzLCBoeWRyYXRlMik7XG4gICAgfVxuICB9XG4gIFZ1ZUN1c3RvbUVsZW1lbnQuZGVmID0gQ29tcDtcbiAgcmV0dXJuIFZ1ZUN1c3RvbUVsZW1lbnQ7XG59XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmNvbnN0IGRlZmluZVNTUkN1c3RvbUVsZW1lbnQgPSAvKiBAX19OT19TSURFX0VGRkVDVFNfXyAqLyAob3B0aW9ucykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgaHlkcmF0ZSk7XG59O1xuY29uc3QgQmFzZUNsYXNzID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gSFRNTEVsZW1lbnQgOiBjbGFzcyB7XG59O1xuY2xhc3MgVnVlRWxlbWVudCBleHRlbmRzIEJhc2VDbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF9kZWYsIF9wcm9wcyA9IHt9LCBoeWRyYXRlMikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZGVmID0gX2RlZjtcbiAgICB0aGlzLl9wcm9wcyA9IF9wcm9wcztcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9udW1iZXJQcm9wcyA9IG51bGw7XG4gICAgdGhpcy5fb2IgPSBudWxsO1xuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QgJiYgaHlkcmF0ZTIpIHtcbiAgICAgIGh5ZHJhdGUyKHRoaXMuX2NyZWF0ZVZOb2RlKCksIHRoaXMuc2hhZG93Um9vdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBDdXN0b20gZWxlbWVudCBoYXMgcHJlLXJlbmRlcmVkIGRlY2xhcmF0aXZlIHNoYWRvdyByb290IGJ1dCBpcyBub3QgZGVmaW5lZCBhcyBoeWRyYXRhYmxlLiBVc2UgXFxgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudFxcYC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgaWYgKCF0aGlzLl9kZWYuX19hc3luY0xvYWRlcikge1xuICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHModGhpcy5fZGVmKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuX2luc3RhbmNlKSB7XG4gICAgICBpZiAodGhpcy5fcmVzb2x2ZWQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLl9vYikge1xuICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5fb2IgPSBudWxsO1xuICAgIH1cbiAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgICByZW5kZXIobnVsbCwgdGhpcy5zaGFkb3dSb290KTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgKi9cbiAgX3Jlc29sdmVEZWYoKSB7XG4gICAgdGhpcy5fcmVzb2x2ZWQgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICBjb25zdCB7IHByb3BzLCBzdHlsZXMgfSA9IGRlZjtcbiAgICAgIGxldCBudW1iZXJQcm9wcztcbiAgICAgIGlmIChwcm9wcyAmJiAhaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICBjb25zdCBvcHQgPSBwcm9wc1trZXldO1xuICAgICAgICAgIGlmIChvcHQgPT09IE51bWJlciB8fCBvcHQgJiYgb3B0LnR5cGUgPT09IE51bWJlcikge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9wcm9wcykge1xuICAgICAgICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdG9OdW1iZXIodGhpcy5fcHJvcHNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAobnVtYmVyUHJvcHMgfHwgKG51bWJlclByb3BzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpKVtjYW1lbGl6ZSQxKGtleSldID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX251bWJlclByb3BzID0gbnVtYmVyUHJvcHM7XG4gICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHMoZGVmKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKHN0eWxlcyk7XG4gICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGFzeW5jRGVmID0gdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXI7XG4gICAgaWYgKGFzeW5jRGVmKSB7XG4gICAgICBhc3luY0RlZigpLnRoZW4oKGRlZikgPT4gcmVzb2x2ZShkZWYsIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSh0aGlzLl9kZWYpO1xuICAgIH1cbiAgfVxuICBfcmVzb2x2ZVByb3BzKGRlZikge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IGRlZjtcbiAgICBjb25zdCBkZWNsYXJlZFByb3BLZXlzID0gaXNBcnJheShwcm9wcykgPyBwcm9wcyA6IE9iamVjdC5rZXlzKHByb3BzIHx8IHt9KTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzKSkge1xuICAgICAgaWYgKGtleVswXSAhPT0gXCJfXCIgJiYgZGVjbGFyZWRQcm9wS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHRoaXMuX3NldFByb3Aoa2V5LCB0aGlzW2tleV0sIHRydWUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9zZXRBdHRyKGtleSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgY29uc3QgY2FtZWxLZXkgPSBjYW1lbGl6ZSQxKGtleSk7XG4gICAgaWYgKHRoaXMuX251bWJlclByb3BzICYmIHRoaXMuX251bWJlclByb3BzW2NhbWVsS2V5XSkge1xuICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgfVxuICAgIHRoaXMuX3NldFByb3AoY2FtZWxLZXksIHZhbHVlLCBmYWxzZSk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX2dldFByb3Aoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3BzW2tleV07XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgX3NldFByb3Aoa2V5LCB2YWwsIHNob3VsZFJlZmxlY3QgPSB0cnVlLCBzaG91bGRVcGRhdGUgPSB0cnVlKSB7XG4gICAgaWYgKHZhbCAhPT0gdGhpcy5fcHJvcHNba2V5XSkge1xuICAgICAgdGhpcy5fcHJvcHNba2V5XSA9IHZhbDtcbiAgICAgIGlmIChzaG91bGRVcGRhdGUgJiYgdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkUmVmbGVjdCkge1xuICAgICAgICBpZiAodmFsID09PSB0cnVlKSB7XG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSksIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCB2YWwgKyBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICghdmFsKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoaHlwaGVuYXRlKGtleSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF91cGRhdGUoKSB7XG4gICAgcmVuZGVyKHRoaXMuX2NyZWF0ZVZOb2RlKCksIHRoaXMuc2hhZG93Um9vdCk7XG4gIH1cbiAgX2NyZWF0ZVZOb2RlKCkge1xuICAgIGNvbnN0IHZub2RlID0gY3JlYXRlVk5vZGUodGhpcy5fZGVmLCBleHRlbmQoe30sIHRoaXMuX3Byb3BzKSk7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdm5vZGUuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UuaXNDRSA9IHRydWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgaW5zdGFuY2UuY2VSZWxvYWQgPSAobmV3U3R5bGVzKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc3R5bGVzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3N0eWxlcy5mb3JFYWNoKChzKSA9PiB0aGlzLnNoYWRvd1Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgICAgIGRldGFpbDogYXJnc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBsZXQgcGFyZW50ID0gdGhpcztcbiAgICAgICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudCAmJiAocGFyZW50LnBhcmVudE5vZGUgfHwgcGFyZW50Lmhvc3QpKSB7XG4gICAgICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnBhcmVudCA9IHBhcmVudC5faW5zdGFuY2U7XG4gICAgICAgICAgICBpbnN0YW5jZS5wcm92aWRlcyA9IHBhcmVudC5faW5zdGFuY2UucHJvdmlkZXM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBfYXBwbHlTdHlsZXMoc3R5bGVzKSB7XG4gICAgaWYgKHN0eWxlcykge1xuICAgICAgc3R5bGVzLmZvckVhY2goKGNzcykgPT4ge1xuICAgICAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBzLnRleHRDb250ZW50ID0gY3NzO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQocyk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUgPSBcIiRzdHlsZVwiKSB7XG4gIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgdXNlQ3NzTW9kdWxlIG11c3QgYmUgY2FsbGVkIGluc2lkZSBzZXR1cCgpYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2R1bGVzID0gaW5zdGFuY2UudHlwZS5fX2Nzc01vZHVsZXM7XG4gICAgaWYgKCFtb2R1bGVzKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlcyBpbmplY3RlZC5gKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIGNvbnN0IG1vZCA9IG1vZHVsZXNbbmFtZV07XG4gICAgaWYgKCFtb2QpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGUgbmFtZWQgXCIke25hbWV9XCIuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICByZXR1cm4gbW9kO1xuICB9XG59XG5cbmNvbnN0IHBvc2l0aW9uTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBuZXdQb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbW92ZUNiS2V5ID0gU3ltYm9sKFwiX21vdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmNvbnN0IFRyYW5zaXRpb25Hcm91cEltcGwgPSB7XG4gIG5hbWU6IFwiVHJhbnNpdGlvbkdyb3VwXCIsXG4gIHByb3BzOiAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHt9LCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzLCB7XG4gICAgdGFnOiBTdHJpbmcsXG4gICAgbW92ZUNsYXNzOiBTdHJpbmdcbiAgfSksXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgbGV0IHByZXZDaGlsZHJlbjtcbiAgICBsZXQgY2hpbGRyZW47XG4gICAgb25VcGRhdGVkKCgpID0+IHtcbiAgICAgIGlmICghcHJldkNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBtb3ZlQ2xhc3MgPSBwcm9wcy5tb3ZlQ2xhc3MgfHwgYCR7cHJvcHMubmFtZSB8fCBcInZcIn0tbW92ZWA7XG4gICAgICBpZiAoIWhhc0NTU1RyYW5zZm9ybShcbiAgICAgICAgcHJldkNoaWxkcmVuWzBdLmVsLFxuICAgICAgICBpbnN0YW5jZS52bm9kZS5lbCxcbiAgICAgICAgbW92ZUNsYXNzXG4gICAgICApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcbiAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcbiAgICAgIGNvbnN0IG1vdmVkQ2hpbGRyZW4gPSBwcmV2Q2hpbGRyZW4uZmlsdGVyKGFwcGx5VHJhbnNsYXRpb24pO1xuICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgY29uc3QgY2IgPSBlbFttb3ZlQ2JLZXldID0gKGUpID0+IHtcbiAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgY2IpO1xuICAgICAgICAgICAgZWxbbW92ZUNiS2V5XSA9IG51bGw7XG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICBjb25zdCBjc3NUcmFuc2l0aW9uUHJvcHMgPSByZXNvbHZlVHJhbnNpdGlvblByb3BzKHJhd1Byb3BzKTtcbiAgICAgIGxldCB0YWcgPSByYXdQcm9wcy50YWcgfHwgRnJhZ21lbnQ7XG4gICAgICBwcmV2Q2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCA/IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCkpIDogW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybihgPFRyYW5zaXRpb25Hcm91cD4gY2hpbGRyZW4gbXVzdCBiZSBrZXllZC5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByZXZDaGlsZHJlbikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gcHJldkNoaWxkcmVuW2ldO1xuICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoY2hpbGQsIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHRhZywgbnVsbCwgY2hpbGRyZW4pO1xuICAgIH07XG4gIH1cbn07XG5jb25zdCByZW1vdmVNb2RlID0gKHByb3BzKSA9PiBkZWxldGUgcHJvcHMubW9kZTtcbi8qIEBfX1BVUkVfXyAqLyByZW1vdmVNb2RlKFRyYW5zaXRpb25Hcm91cEltcGwucHJvcHMpO1xuY29uc3QgVHJhbnNpdGlvbkdyb3VwID0gVHJhbnNpdGlvbkdyb3VwSW1wbDtcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcbiAgY29uc3QgZWwgPSBjLmVsO1xuICBpZiAoZWxbbW92ZUNiS2V5XSkge1xuICAgIGVsW21vdmVDYktleV0oKTtcbiAgfVxuICBpZiAoZWxbZW50ZXJDYktleV0pIHtcbiAgICBlbFtlbnRlckNiS2V5XSgpO1xuICB9XG59XG5mdW5jdGlvbiByZWNvcmRQb3NpdGlvbihjKSB7XG4gIG5ld1Bvc2l0aW9uTWFwLnNldChjLCBjLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbn1cbmZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24oYykge1xuICBjb25zdCBvbGRQb3MgPSBwb3NpdGlvbk1hcC5nZXQoYyk7XG4gIGNvbnN0IG5ld1BvcyA9IG5ld1Bvc2l0aW9uTWFwLmdldChjKTtcbiAgY29uc3QgZHggPSBvbGRQb3MubGVmdCAtIG5ld1Bvcy5sZWZ0O1xuICBjb25zdCBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICBpZiAoZHggfHwgZHkpIHtcbiAgICBjb25zdCBzID0gYy5lbC5zdHlsZTtcbiAgICBzLnRyYW5zZm9ybSA9IHMud2Via2l0VHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke2R4fXB4LCR7ZHl9cHgpYDtcbiAgICBzLnRyYW5zaXRpb25EdXJhdGlvbiA9IFwiMHNcIjtcbiAgICByZXR1cm4gYztcbiAgfVxufVxuZnVuY3Rpb24gaGFzQ1NTVHJhbnNmb3JtKGVsLCByb290LCBtb3ZlQ2xhc3MpIHtcbiAgY29uc3QgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcbiAgY29uc3QgX3Z0YyA9IGVsW3Z0Y0tleV07XG4gIGlmIChfdnRjKSB7XG4gICAgX3Z0Yy5mb3JFYWNoKChjbHMpID0+IHtcbiAgICAgIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgY2xvbmUuY2xhc3NMaXN0LnJlbW92ZShjKSk7XG4gICAgfSk7XG4gIH1cbiAgbW92ZUNsYXNzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QuYWRkKGMpKTtcbiAgY2xvbmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBjb25zdCBjb250YWluZXIgPSByb290Lm5vZGVUeXBlID09PSAxID8gcm9vdCA6IHJvb3QucGFyZW50Tm9kZTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNsb25lKTtcbiAgY29uc3QgeyBoYXNUcmFuc2Zvcm0gfSA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcbiAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgcmV0dXJuIGhhc1RyYW5zZm9ybTtcbn1cblxuY29uc3QgZ2V0TW9kZWxBc3NpZ25lciA9ICh2bm9kZSkgPT4ge1xuICBjb25zdCBmbiA9IHZub2RlLnByb3BzW1wib25VcGRhdGU6bW9kZWxWYWx1ZVwiXSB8fCBmYWxzZTtcbiAgcmV0dXJuIGlzQXJyYXkoZm4pID8gKHZhbHVlKSA9PiBpbnZva2VBcnJheUZucyhmbiwgdmFsdWUpIDogZm47XG59O1xuZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0KGUpIHtcbiAgZS50YXJnZXQuY29tcG9zaW5nID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQoZSkge1xuICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgaWYgKHRhcmdldC5jb21wb3NpbmcpIHtcbiAgICB0YXJnZXQuY29tcG9zaW5nID0gZmFsc2U7XG4gICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwiaW5wdXRcIikpO1xuICB9XG59XG5jb25zdCBhc3NpZ25LZXkgPSBTeW1ib2woXCJfYXNzaWduXCIpO1xuY29uc3Qgdk1vZGVsVGV4dCA9IHtcbiAgY3JlYXRlZChlbCwgeyBtb2RpZmllcnM6IHsgbGF6eSwgdHJpbSwgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgY29uc3QgY2FzdFRvTnVtYmVyID0gbnVtYmVyIHx8IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGUgPT09IFwibnVtYmVyXCI7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbGF6eSA/IFwiY2hhbmdlXCIgOiBcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQuY29tcG9zaW5nKVxuICAgICAgICByZXR1cm47XG4gICAgICBsZXQgZG9tVmFsdWUgPSBlbC52YWx1ZTtcbiAgICAgIGlmICh0cmltKSB7XG4gICAgICAgIGRvbVZhbHVlID0gZG9tVmFsdWUudHJpbSgpO1xuICAgICAgfVxuICAgICAgaWYgKGNhc3RUb051bWJlcikge1xuICAgICAgICBkb21WYWx1ZSA9IGxvb3NlVG9OdW1iZXIoZG9tVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxbYXNzaWduS2V5XShkb21WYWx1ZSk7XG4gICAgfSk7XG4gICAgaWYgKHRyaW0pIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgICAgZWwudmFsdWUgPSBlbC52YWx1ZS50cmltKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFsYXp5KSB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY29tcG9zaXRpb25lbmRcIiwgb25Db21wb3NpdGlvbkVuZCk7XG4gICAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICB9XG4gIH0sXG4gIC8vIHNldCB2YWx1ZSBvbiBtb3VudGVkIHNvIGl0J3MgYWZ0ZXIgbWluL21heCBmb3IgdHlwZT1cInJhbmdlXCJcbiAgbW91bnRlZChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgZWwudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAoZWwuY29tcG9zaW5nKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGVsVmFsdWUgPSBudW1iZXIgfHwgZWwudHlwZSA9PT0gXCJudW1iZXJcIiA/IGxvb3NlVG9OdW1iZXIoZWwudmFsdWUpIDogZWwudmFsdWU7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIGlmIChlbFZhbHVlID09PSBuZXdWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgZWwudHlwZSAhPT0gXCJyYW5nZVwiKSB7XG4gICAgICBpZiAobGF6eSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHJpbSAmJiBlbC52YWx1ZS50cmltKCkgPT09IG5ld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgZWwudmFsdWUgPSBuZXdWYWx1ZTtcbiAgfVxufTtcbmNvbnN0IHZNb2RlbENoZWNrYm94ID0ge1xuICAvLyAjNDA5NiBhcnJheSBjaGVja2JveGVzIG5lZWQgdG8gYmUgZGVlcCB0cmF2ZXJzZWRcbiAgZGVlcDogdHJ1ZSxcbiAgY3JlYXRlZChlbCwgXywgdm5vZGUpIHtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgbW9kZWxWYWx1ZSA9IGVsLl9tb2RlbFZhbHVlO1xuICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gZ2V0VmFsdWUoZWwpO1xuICAgICAgY29uc3QgY2hlY2tlZCA9IGVsLmNoZWNrZWQ7XG4gICAgICBjb25zdCBhc3NpZ24gPSBlbFthc3NpZ25LZXldO1xuICAgICAgaWYgKGlzQXJyYXkobW9kZWxWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBsb29zZUluZGV4T2YobW9kZWxWYWx1ZSwgZWxlbWVudFZhbHVlKTtcbiAgICAgICAgY29uc3QgZm91bmQgPSBpbmRleCAhPT0gLTE7XG4gICAgICAgIGlmIChjaGVja2VkICYmICFmb3VuZCkge1xuICAgICAgICAgIGFzc2lnbihtb2RlbFZhbHVlLmNvbmNhdChlbGVtZW50VmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIGlmICghY2hlY2tlZCAmJiBmb3VuZCkge1xuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLm1vZGVsVmFsdWVdO1xuICAgICAgICAgIGZpbHRlcmVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgYXNzaWduKGZpbHRlcmVkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc1NldChtb2RlbFZhbHVlKSkge1xuICAgICAgICBjb25zdCBjbG9uZWQgPSBuZXcgU2V0KG1vZGVsVmFsdWUpO1xuICAgICAgICBpZiAoY2hlY2tlZCkge1xuICAgICAgICAgIGNsb25lZC5hZGQoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbG9uZWQuZGVsZXRlKGVsZW1lbnRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduKGNsb25lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhc3NpZ24oZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAvLyBzZXQgaW5pdGlhbCBjaGVja2VkIG9uIG1vdW50IHRvIHdhaXQgZm9yIHRydWUtdmFsdWUvZmFsc2UtdmFsdWVcbiAgbW91bnRlZDogc2V0Q2hlY2tlZCxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBzZXRDaGVja2VkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRDaGVja2VkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICBlbC5fbW9kZWxWYWx1ZSA9IHZhbHVlO1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBlbC5jaGVja2VkID0gbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICBlbC5jaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgZ2V0Q2hlY2tib3hWYWx1ZShlbCwgdHJ1ZSkpO1xuICB9XG59XG5jb25zdCB2TW9kZWxSYWRpbyA9IHtcbiAgY3JlYXRlZChlbCwgeyB2YWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGVsW2Fzc2lnbktleV0oZ2V0VmFsdWUoZWwpKTtcbiAgICB9KTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcbiAgLy8gPHNlbGVjdCBtdWx0aXBsZT4gdmFsdWUgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICBkZWVwOiB0cnVlLFxuICBjcmVhdGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBjb25zdCBpc1NldE1vZGVsID0gaXNTZXQodmFsdWUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKS5tYXAoXG4gICAgICAgIChvKSA9PiBudW1iZXIgPyBsb29zZVRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pXG4gICAgICApO1xuICAgICAgZWxbYXNzaWduS2V5XShcbiAgICAgICAgZWwubXVsdGlwbGUgPyBpc1NldE1vZGVsID8gbmV3IFNldChzZWxlY3RlZFZhbCkgOiBzZWxlY3RlZFZhbCA6IHNlbGVjdGVkVmFsWzBdXG4gICAgICApO1xuICAgICAgZWwuX2Fzc2lnbmluZyA9IHRydWU7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGVsLl9hc3NpZ25pbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgfSxcbiAgLy8gc2V0IHZhbHVlIGluIG1vdW50ZWQgJiB1cGRhdGVkIGJlY2F1c2UgPHNlbGVjdD4gcmVsaWVzIG9uIGl0cyBjaGlsZHJlblxuICAvLyA8b3B0aW9uPnMuXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9KSB7XG4gICAgc2V0U2VsZWN0ZWQoZWwsIHZhbHVlLCBudW1iZXIpO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIF9iaW5kaW5nLCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgfSxcbiAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0pIHtcbiAgICBpZiAoIWVsLl9hc3NpZ25pbmcpIHtcbiAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSwgbnVtYmVyKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzZXRTZWxlY3RlZChlbCwgdmFsdWUsIG51bWJlcikge1xuICBjb25zdCBpc011bHRpcGxlID0gZWwubXVsdGlwbGU7XG4gIGNvbnN0IGlzQXJyYXlWYWx1ZSA9IGlzQXJyYXkodmFsdWUpO1xuICBpZiAoaXNNdWx0aXBsZSAmJiAhaXNBcnJheVZhbHVlICYmICFpc1NldCh2YWx1ZSkpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oXG4gICAgICBgPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPiBleHBlY3RzIGFuIEFycmF5IG9yIFNldCB2YWx1ZSBmb3IgaXRzIGJpbmRpbmcsIGJ1dCBnb3QgJHtPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKX0uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjb25zdCBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgIGNvbnN0IG9wdGlvblZhbHVlID0gZ2V0VmFsdWUob3B0aW9uKTtcbiAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgaWYgKGlzQXJyYXlWYWx1ZSkge1xuICAgICAgICBjb25zdCBvcHRpb25UeXBlID0gdHlwZW9mIG9wdGlvblZhbHVlO1xuICAgICAgICBpZiAob3B0aW9uVHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBvcHRpb25UeXBlID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaW5jbHVkZXMoXG4gICAgICAgICAgICBudW1iZXIgPyBsb29zZVRvTnVtYmVyKG9wdGlvblZhbHVlKSA6IG9wdGlvblZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIG9wdGlvblZhbHVlKSA+IC0xO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZS5oYXMob3B0aW9uVmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKVxuICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKCFpc011bHRpcGxlICYmIGVsLnNlbGVjdGVkSW5kZXggIT09IC0xKSB7XG4gICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICB9XG59XG5mdW5jdGlvbiBnZXRWYWx1ZShlbCkge1xuICByZXR1cm4gXCJfdmFsdWVcIiBpbiBlbCA/IGVsLl92YWx1ZSA6IGVsLnZhbHVlO1xufVxuZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShlbCwgY2hlY2tlZCkge1xuICBjb25zdCBrZXkgPSBjaGVja2VkID8gXCJfdHJ1ZVZhbHVlXCIgOiBcIl9mYWxzZVZhbHVlXCI7XG4gIHJldHVybiBrZXkgaW4gZWwgPyBlbFtrZXldIDogY2hlY2tlZDtcbn1cbmNvbnN0IHZNb2RlbER5bmFtaWMgPSB7XG4gIGNyZWF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwiY3JlYXRlZFwiKTtcbiAgfSxcbiAgbW91bnRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgXCJtb3VudGVkXCIpO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcImJlZm9yZVVwZGF0ZVwiKTtcbiAgfSxcbiAgdXBkYXRlZChlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIFwidXBkYXRlZFwiKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljTW9kZWwodGFnTmFtZSwgdHlwZSkge1xuICBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICBjYXNlIFwiU0VMRUNUXCI6XG4gICAgICByZXR1cm4gdk1vZGVsU2VsZWN0O1xuICAgIGNhc2UgXCJURVhUQVJFQVwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgZGVmYXVsdDpcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsQ2hlY2tib3g7XG4gICAgICAgIGNhc2UgXCJyYWRpb1wiOlxuICAgICAgICAgIHJldHVybiB2TW9kZWxSYWRpbztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsVGV4dDtcbiAgICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgaG9vaykge1xuICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICBlbC50YWdOYW1lLFxuICAgIHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGVcbiAgKTtcbiAgY29uc3QgZm4gPSBtb2RlbFRvVXNlW2hvb2tdO1xuICBmbiAmJiBmbihlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSk7XG59XG5mdW5jdGlvbiBpbml0Vk1vZGVsRm9yU1NSKCkge1xuICB2TW9kZWxUZXh0LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSkgPT4gKHsgdmFsdWUgfSk7XG4gIHZNb2RlbFJhZGlvLmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSwgdm5vZGUpID0+IHtcbiAgICBpZiAodm5vZGUucHJvcHMgJiYgbG9vc2VFcXVhbCh2bm9kZS5wcm9wcy52YWx1ZSwgdmFsdWUpKSB7XG4gICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgfVxuICB9O1xuICB2TW9kZWxDaGVja2JveC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgfVxuICB9O1xuICB2TW9kZWxEeW5hbWljLmdldFNTUlByb3BzID0gKGJpbmRpbmcsIHZub2RlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2bm9kZS50eXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1vZGVsVG9Vc2UgPSByZXNvbHZlRHluYW1pY01vZGVsKFxuICAgICAgLy8gcmVzb2x2ZUR5bmFtaWNNb2RlbCBleHBlY3RzIGFuIHVwcGVyY2FzZSB0YWcgbmFtZSwgYnV0IHZub2RlLnR5cGUgaXMgbG93ZXJjYXNlXG4gICAgICB2bm9kZS50eXBlLnRvVXBwZXJDYXNlKCksXG4gICAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICAgKTtcbiAgICBpZiAobW9kZWxUb1VzZS5nZXRTU1JQcm9wcykge1xuICAgICAgcmV0dXJuIG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMoYmluZGluZywgdm5vZGUpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3Qgc3lzdGVtTW9kaWZpZXJzID0gW1wiY3RybFwiLCBcInNoaWZ0XCIsIFwiYWx0XCIsIFwibWV0YVwiXTtcbmNvbnN0IG1vZGlmaWVyR3VhcmRzID0ge1xuICBzdG9wOiAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSxcbiAgcHJldmVudDogKGUpID0+IGUucHJldmVudERlZmF1bHQoKSxcbiAgc2VsZjogKGUpID0+IGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQsXG4gIGN0cmw6IChlKSA9PiAhZS5jdHJsS2V5LFxuICBzaGlmdDogKGUpID0+ICFlLnNoaWZ0S2V5LFxuICBhbHQ6IChlKSA9PiAhZS5hbHRLZXksXG4gIG1ldGE6IChlKSA9PiAhZS5tZXRhS2V5LFxuICBsZWZ0OiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAwLFxuICBtaWRkbGU6IChlKSA9PiBcImJ1dHRvblwiIGluIGUgJiYgZS5idXR0b24gIT09IDEsXG4gIHJpZ2h0OiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAyLFxuICBleGFjdDogKGUsIG1vZGlmaWVycykgPT4gc3lzdGVtTW9kaWZpZXJzLnNvbWUoKG0pID0+IGVbYCR7bX1LZXlgXSAmJiAhbW9kaWZpZXJzLmluY2x1ZGVzKG0pKVxufTtcbmNvbnN0IHdpdGhNb2RpZmllcnMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICBjb25zdCBjYWNoZSA9IGZuLl93aXRoTW9kcyB8fCAoZm4uX3dpdGhNb2RzID0ge30pO1xuICBjb25zdCBjYWNoZUtleSA9IG1vZGlmaWVycy5qb2luKFwiLlwiKTtcbiAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSB8fCAoY2FjaGVbY2FjaGVLZXldID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtb2RpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGd1YXJkID0gbW9kaWZpZXJHdWFyZHNbbW9kaWZpZXJzW2ldXTtcbiAgICAgIGlmIChndWFyZCAmJiBndWFyZChldmVudCwgbW9kaWZpZXJzKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZm4oZXZlbnQsIC4uLmFyZ3MpO1xuICB9KTtcbn07XG5jb25zdCBrZXlOYW1lcyA9IHtcbiAgZXNjOiBcImVzY2FwZVwiLFxuICBzcGFjZTogXCIgXCIsXG4gIHVwOiBcImFycm93LXVwXCIsXG4gIGxlZnQ6IFwiYXJyb3ctbGVmdFwiLFxuICByaWdodDogXCJhcnJvdy1yaWdodFwiLFxuICBkb3duOiBcImFycm93LWRvd25cIixcbiAgZGVsZXRlOiBcImJhY2tzcGFjZVwiXG59O1xuY29uc3Qgd2l0aEtleXMgPSAoZm4sIG1vZGlmaWVycykgPT4ge1xuICBjb25zdCBjYWNoZSA9IGZuLl93aXRoS2V5cyB8fCAoZm4uX3dpdGhLZXlzID0ge30pO1xuICBjb25zdCBjYWNoZUtleSA9IG1vZGlmaWVycy5qb2luKFwiLlwiKTtcbiAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSB8fCAoY2FjaGVbY2FjaGVLZXldID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCEoXCJrZXlcIiBpbiBldmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZXZlbnRLZXkgPSBoeXBoZW5hdGUoZXZlbnQua2V5KTtcbiAgICBpZiAobW9kaWZpZXJzLnNvbWUoKGspID0+IGsgPT09IGV2ZW50S2V5IHx8IGtleU5hbWVzW2tdID09PSBldmVudEtleSkpIHtcbiAgICAgIHJldHVybiBmbihldmVudCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IHJlbmRlcmVyT3B0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoeyBwYXRjaFByb3AgfSwgbm9kZU9wcyk7XG5sZXQgcmVuZGVyZXI7XG5sZXQgZW5hYmxlZEh5ZHJhdGlvbiA9IGZhbHNlO1xuZnVuY3Rpb24gZW5zdXJlUmVuZGVyZXIoKSB7XG4gIHJldHVybiByZW5kZXJlciB8fCAocmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkge1xuICByZW5kZXJlciA9IGVuYWJsZWRIeWRyYXRpb24gPyByZW5kZXJlciA6IGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKHJlbmRlcmVyT3B0aW9ucyk7XG4gIGVuYWJsZWRIeWRyYXRpb24gPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyZXI7XG59XG5jb25zdCByZW5kZXIgPSAoLi4uYXJncykgPT4ge1xuICBlbnN1cmVSZW5kZXJlcigpLnJlbmRlciguLi5hcmdzKTtcbn07XG5jb25zdCBoeWRyYXRlID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlSHlkcmF0aW9uUmVuZGVyZXIoKS5oeWRyYXRlKC4uLmFyZ3MpO1xufTtcbmNvbnN0IGNyZWF0ZUFwcCA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGFwcCA9IGVuc3VyZVJlbmRlcmVyKCkuY3JlYXRlQXBwKC4uLmFyZ3MpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluamVjdE5hdGl2ZVRhZ0NoZWNrKGFwcCk7XG4gICAgaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKTtcbiAgfVxuICBjb25zdCB7IG1vdW50IH0gPSBhcHA7XG4gIGFwcC5tb3VudCA9IChjb250YWluZXJPclNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lck9yU2VsZWN0b3IpO1xuICAgIGlmICghY29udGFpbmVyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xuICAgIGlmICghaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgfVxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXCJ2LWNsb2FrXCIpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtdi1hcHBcIiwgXCJcIik7XG4gICAgfVxuICAgIHJldHVybiBwcm94eTtcbiAgfTtcbiAgcmV0dXJuIGFwcDtcbn07XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBhcHA7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSB7XG4gIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwic3ZnXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgY29udGFpbmVyIGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudCkge1xuICAgIHJldHVybiBcIm1hdGhtbFwiO1xuICB9XG59XG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiaXNOYXRpdmVUYWdcIiwge1xuICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpIHx8IGlzTWF0aE1MVGFnKHRhZyksXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xufVxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XG4gIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc0N1c3RvbUVsZW1lbnRcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gaXNDdXN0b21FbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVGhlIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBjb25maWcgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBcXGBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50XFxgIGluc3RlYWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xuICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZS5qcyB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyIChha2EgXCJmdWxsIGJ1aWxkXCIpLiBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cbi0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cbi0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXG4tIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS1wbHVnaW4tdnVlL3RyZWUvbWFpbi9wYWNrYWdlcy9wbHVnaW4tdnVlI2V4YW1wbGUtZm9yLXBhc3Npbmctb3B0aW9ucy10by12dWVjb21waWxlci1zZmNgO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImNvbXBpbGVyT3B0aW9uc1wiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcbiAgICAgIH0sXG4gICAgICBzZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgIGNvbnN0IHJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhcmVzKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHRvIG1vdW50IGFwcDogbW91bnQgdGFyZ2V0IHNlbGVjdG9yIFwiJHtjb250YWluZXJ9XCIgcmV0dXJuZWQgbnVsbC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lci5tb2RlID09PSBcImNsb3NlZFwiKSB7XG4gICAgd2FybihcbiAgICAgIGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cbmxldCBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IGZhbHNlO1xuY29uc3QgaW5pdERpcmVjdGl2ZXNGb3JTU1IgPSAoKSA9PiB7XG4gIGlmICghc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQpIHtcbiAgICBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgaW5pdFZNb2RlbEZvclNTUigpO1xuICAgIGluaXRWU2hvd0ZvclNTUigpO1xuICB9XG59IDtcblxuZXhwb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBWdWVFbGVtZW50LCBjcmVhdGVBcHAsIGNyZWF0ZVNTUkFwcCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCwgaHlkcmF0ZSwgaW5pdERpcmVjdGl2ZXNGb3JTU1IsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCIvKipcbiogdnVlIHYzLjQuMjFcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IGluaXRDdXN0b21Gb3JtYXR0ZXIsIHdhcm4gfSBmcm9tICdAdnVlL3J1bnRpbWUtZG9tJztcbmV4cG9ydCAqIGZyb20gJ0B2dWUvcnVudGltZS1kb20nO1xuXG5mdW5jdGlvbiBpbml0RGV2KCkge1xuICB7XG4gICAgaW5pdEN1c3RvbUZvcm1hdHRlcigpO1xuICB9XG59XG5cbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIGluaXREZXYoKTtcbn1cbmNvbnN0IGNvbXBpbGUgPSAoKSA9PiB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybihcbiAgICAgIGBSdW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGNvbXBpbGUgfTtcbiIsImltcG9ydCAqIGFzIFZ1ZSBmcm9tICd2dWUnXG5cbnZhciBpc1Z1ZTIgPSBmYWxzZVxudmFyIGlzVnVlMyA9IHRydWVcbnZhciBWdWUyID0gdW5kZWZpbmVkXG5cbmZ1bmN0aW9uIGluc3RhbGwoKSB7fVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWwpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgIHRhcmdldC5sZW5ndGggPSBNYXRoLm1heCh0YXJnZXQubGVuZ3RoLCBrZXkpXG4gICAgdGFyZ2V0LnNwbGljZShrZXksIDEsIHZhbClcbiAgICByZXR1cm4gdmFsXG4gIH1cbiAgdGFyZ2V0W2tleV0gPSB2YWxcbiAgcmV0dXJuIHZhbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsKHRhcmdldCwga2V5KSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICB0YXJnZXQuc3BsaWNlKGtleSwgMSlcbiAgICByZXR1cm5cbiAgfVxuICBkZWxldGUgdGFyZ2V0W2tleV1cbn1cblxuZXhwb3J0ICogZnJvbSAndnVlJ1xuZXhwb3J0IHtcbiAgVnVlLFxuICBWdWUyLFxuICBpc1Z1ZTIsXG4gIGlzVnVlMyxcbiAgaW5zdGFsbCxcbn1cbiIsIi8qIVxuICogcGluaWEgdjIuMS43XG4gKiAoYykgMjAyMyBFZHVhcmRvIFNhbiBNYXJ0aW4gTW9yb3RlXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuaW1wb3J0IHsgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5qZWN0LCB0b1Jhdywgd2F0Y2gsIHVucmVmLCBtYXJrUmF3LCBlZmZlY3RTY29wZSwgcmVmLCBpc1Z1ZTIsIGlzUmVmLCBpc1JlYWN0aXZlLCBzZXQsIGdldEN1cnJlbnRTY29wZSwgb25TY29wZURpc3Bvc2UsIGdldEN1cnJlbnRJbnN0YW5jZSwgcmVhY3RpdmUsIHRvUmVmLCBkZWwsIG5leHRUaWNrLCBjb21wdXRlZCwgdG9SZWZzIH0gZnJvbSAndnVlLWRlbWknO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuLyoqXG4gKiBzZXRBY3RpdmVQaW5pYSBtdXN0IGJlIGNhbGxlZCB0byBoYW5kbGUgU1NSIGF0IHRoZSB0b3Agb2YgZnVuY3Rpb25zIGxpa2VcbiAqIGBmZXRjaGAsIGBzZXR1cGAsIGBzZXJ2ZXJQcmVmZXRjaGAgYW5kIG90aGVyc1xuICovXG5sZXQgYWN0aXZlUGluaWE7XG4vKipcbiAqIFNldHMgb3IgdW5zZXRzIHRoZSBhY3RpdmUgcGluaWEuIFVzZWQgaW4gU1NSIGFuZCBpbnRlcm5hbGx5IHdoZW4gY2FsbGluZ1xuICogYWN0aW9ucyBhbmQgZ2V0dGVyc1xuICpcbiAqIEBwYXJhbSBwaW5pYSAtIFBpbmlhIGluc3RhbmNlXG4gKi9cbi8vIEB0cy1leHBlY3QtZXJyb3I6IGNhbm5vdCBjb25zdHJhaW4gdGhlIHR5cGUgb2YgdGhlIHJldHVyblxuY29uc3Qgc2V0QWN0aXZlUGluaWEgPSAocGluaWEpID0+IChhY3RpdmVQaW5pYSA9IHBpbmlhKTtcbi8qKlxuICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIHBpbmlhIGlmIHRoZXJlIGlzIGFueS5cbiAqL1xuY29uc3QgZ2V0QWN0aXZlUGluaWEgPSAoKSA9PiAoaGFzSW5qZWN0aW9uQ29udGV4dCgpICYmIGluamVjdChwaW5pYVN5bWJvbCkpIHx8IGFjdGl2ZVBpbmlhO1xuY29uc3QgcGluaWFTeW1ib2wgPSAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gU3ltYm9sKCdwaW5pYScpIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gU3ltYm9sKCkpO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbm8pIHtcbiAgICByZXR1cm4gKG8gJiZcbiAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmXG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgJiZcbiAgICAgICAgdHlwZW9mIG8udG9KU09OICE9PSAnZnVuY3Rpb24nKTtcbn1cbi8vIHR5cGUgRGVlcFJlYWRvbmx5PFQ+ID0geyByZWFkb25seSBbUCBpbiBrZXlvZiBUXTogRGVlcFJlYWRvbmx5PFRbUF0+IH1cbi8vIFRPRE86IGNhbiB3ZSBjaGFuZ2UgdGhlc2UgdG8gbnVtYmVycz9cbi8qKlxuICogUG9zc2libGUgdHlwZXMgZm9yIFN1YnNjcmlwdGlvbkNhbGxiYWNrXG4gKi9cbnZhciBNdXRhdGlvblR5cGU7XG4oZnVuY3Rpb24gKE11dGF0aW9uVHlwZSkge1xuICAgIC8qKlxuICAgICAqIERpcmVjdCBtdXRhdGlvbiBvZiB0aGUgc3RhdGU6XG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS5uYW1lID0gJ25ldyBuYW1lJ2BcbiAgICAgKiAtIGBzdG9yZS4kc3RhdGUubmFtZSA9ICduZXcgbmFtZSdgXG4gICAgICogLSBgc3RvcmUubGlzdC5wdXNoKCduZXcgaXRlbScpYFxuICAgICAqL1xuICAgIE11dGF0aW9uVHlwZVtcImRpcmVjdFwiXSA9IFwiZGlyZWN0XCI7XG4gICAgLyoqXG4gICAgICogTXV0YXRlZCB0aGUgc3RhdGUgd2l0aCBgJHBhdGNoYCBhbmQgYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiAtIGBzdG9yZS4kcGF0Y2goeyBuYW1lOiAnbmV3TmFtZScgfSlgXG4gICAgICovXG4gICAgTXV0YXRpb25UeXBlW1wicGF0Y2hPYmplY3RcIl0gPSBcInBhdGNoIG9iamVjdFwiO1xuICAgIC8qKlxuICAgICAqIE11dGF0ZWQgdGhlIHN0YXRlIHdpdGggYCRwYXRjaGAgYW5kIGEgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIC0gYHN0b3JlLiRwYXRjaChzdGF0ZSA9PiBzdGF0ZS5uYW1lID0gJ25ld05hbWUnKWBcbiAgICAgKi9cbiAgICBNdXRhdGlvblR5cGVbXCJwYXRjaEZ1bmN0aW9uXCJdID0gXCJwYXRjaCBmdW5jdGlvblwiO1xuICAgIC8vIG1heWJlIHJlc2V0PyBmb3IgJHN0YXRlID0ge30gYW5kICRyZXNldFxufSkoTXV0YXRpb25UeXBlIHx8IChNdXRhdGlvblR5cGUgPSB7fSkpO1xuXG5jb25zdCBJU19DTElFTlQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbi8qKlxuICogU2hvdWxkIHdlIGFkZCB0aGUgZGV2dG9vbHMgcGx1Z2lucy5cbiAqIC0gb25seSBpZiBkZXYgbW9kZSBvciBmb3JjZWQgdGhyb3VnaCB0aGUgcHJvZCBkZXZ0b29scyBmbGFnXG4gKiAtIG5vdCBpbiB0ZXN0XG4gKiAtIG9ubHkgaWYgd2luZG93IGV4aXN0cyAoY291bGQgY2hhbmdlIGluIHRoZSBmdXR1cmUpXG4gKi9cbmNvbnN0IFVTRV9ERVZUT09MUyA9ICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09ICd1bmRlZmluZWQnICYmIF9fVlVFX1BST0RfREVWVE9PTFNfXykpICYmICEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgJiYgSVNfQ0xJRU5UO1xuXG4vKlxuICogRmlsZVNhdmVyLmpzIEEgc2F2ZUFzKCkgRmlsZVNhdmVyIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIE9yaWdpbmFsbHkgYnkgRWxpIEdyZXksIGFkYXB0ZWQgYXMgYW4gRVNNIG1vZHVsZSBieSBFZHVhcmRvIFNhbiBNYXJ0aW5cbiAqIE1vcm90ZS5cbiAqXG4gKiBMaWNlbnNlIDogTUlUXG4gKi9cbi8vIFRoZSBvbmUgYW5kIG9ubHkgd2F5IG9mIGdldHRpbmcgZ2xvYmFsIHNjb3BlIGluIGFsbCBlbnZpcm9ubWVudHNcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS8zMjc3MTgyLzEwMDg5OTlcbmNvbnN0IF9nbG9iYWwgPSAvKiNfX1BVUkVfXyovICgoKSA9PiB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cud2luZG93ID09PSB3aW5kb3dcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZlxuICAgICAgICA/IHNlbGZcbiAgICAgICAgOiB0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwuZ2xvYmFsID09PSBnbG9iYWxcbiAgICAgICAgICAgID8gZ2xvYmFsXG4gICAgICAgICAgICA6IHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICAgICAgICAgIDogeyBIVE1MRWxlbWVudDogbnVsbCB9KSgpO1xuZnVuY3Rpb24gYm9tKGJsb2IsIHsgYXV0b0JvbSA9IGZhbHNlIH0gPSB7fSkge1xuICAgIC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXG4gICAgLy8gbm90ZTogeW91ciBicm93c2VyIHdpbGwgYXV0b21hdGljYWxseSBjb252ZXJ0IFVURi0xNiBVK0ZFRkYgdG8gRUYgQkIgQkZcbiAgICBpZiAoYXV0b0JvbSAmJlxuICAgICAgICAvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbU3RyaW5nLmZyb21DaGFyQ29kZSgweGZlZmYpLCBibG9iXSwgeyB0eXBlOiBibG9iLnR5cGUgfSk7XG4gICAgfVxuICAgIHJldHVybiBibG9iO1xufVxuZnVuY3Rpb24gZG93bmxvYWQodXJsLCBuYW1lLCBvcHRzKSB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzYXZlQXMoeGhyLnJlc3BvbnNlLCBuYW1lLCBvcHRzKTtcbiAgICB9O1xuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdjb3VsZCBub3QgZG93bmxvYWQgZmlsZScpO1xuICAgIH07XG4gICAgeGhyLnNlbmQoKTtcbn1cbmZ1bmN0aW9uIGNvcnNFbmFibGVkKHVybCkge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIC8vIHVzZSBzeW5jIHRvIGF2b2lkIHBvcHVwIGJsb2NrZXJcbiAgICB4aHIub3BlbignSEVBRCcsIHVybCwgZmFsc2UpO1xuICAgIHRyeSB7XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7IH1cbiAgICByZXR1cm4geGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTk7XG59XG4vLyBgYS5jbGljaygpYCBkb2Vzbid0IHdvcmsgZm9yIGFsbCBicm93c2VycyAoIzQ2NSlcbmZ1bmN0aW9uIGNsaWNrKG5vZGUpIHtcbiAgICB0cnkge1xuICAgICAgICBub2RlLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KCdjbGljaycsIHRydWUsIHRydWUsIHdpbmRvdywgMCwgMCwgMCwgODAsIDIwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgIG5vZGUuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cbn1cbmNvbnN0IF9uYXZpZ2F0b3IgPSBcbiB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyA/IG5hdmlnYXRvciA6IHsgdXNlckFnZW50OiAnJyB9O1xuLy8gRGV0ZWN0IFdlYlZpZXcgaW5zaWRlIGEgbmF0aXZlIG1hY09TIGFwcCBieSBydWxpbmcgb3V0IGFsbCBicm93c2Vyc1xuLy8gV2UganVzdCBuZWVkIHRvIGNoZWNrIGZvciAnU2FmYXJpJyBiZWNhdXNlIGFsbCBvdGhlciBicm93c2VycyAoYmVzaWRlcyBGaXJlZm94KSBpbmNsdWRlIHRoYXQgdG9vXG4vLyBodHRwczovL3d3dy53aGF0aXNteWJyb3dzZXIuY29tL2d1aWRlcy90aGUtbGF0ZXN0LXVzZXItYWdlbnQvbWFjb3NcbmNvbnN0IGlzTWFjT1NXZWJWaWV3ID0gLyojX19QVVJFX18qLyAoKCkgPT4gL01hY2ludG9zaC8udGVzdChfbmF2aWdhdG9yLnVzZXJBZ2VudCkgJiZcbiAgICAvQXBwbGVXZWJLaXQvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgIS9TYWZhcmkvLnRlc3QoX25hdmlnYXRvci51c2VyQWdlbnQpKSgpO1xuY29uc3Qgc2F2ZUFzID0gIUlTX0NMSUVOVFxuICAgID8gKCkgPT4geyB9IC8vIG5vb3BcbiAgICA6IC8vIFVzZSBkb3dubG9hZCBhdHRyaWJ1dGUgZmlyc3QgaWYgcG9zc2libGUgKCMxOTMgTHVtaWEgbW9iaWxlKSB1bmxlc3MgdGhpcyBpcyBhIG1hY09TIFdlYlZpZXcgb3IgbWluaSBwcm9ncmFtXG4gICAgICAgIHR5cGVvZiBIVE1MQW5jaG9yRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICdkb3dubG9hZCcgaW4gSFRNTEFuY2hvckVsZW1lbnQucHJvdG90eXBlICYmXG4gICAgICAgICAgICAhaXNNYWNPU1dlYlZpZXdcbiAgICAgICAgICAgID8gZG93bmxvYWRTYXZlQXNcbiAgICAgICAgICAgIDogLy8gVXNlIG1zU2F2ZU9yT3BlbkJsb2IgYXMgYSBzZWNvbmQgYXBwcm9hY2hcbiAgICAgICAgICAgICAgICAnbXNTYXZlT3JPcGVuQmxvYicgaW4gX25hdmlnYXRvclxuICAgICAgICAgICAgICAgICAgICA/IG1zU2F2ZUFzXG4gICAgICAgICAgICAgICAgICAgIDogLy8gRmFsbGJhY2sgdG8gdXNpbmcgRmlsZVJlYWRlciBhbmQgYSBwb3B1cFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNhdmVyU2F2ZUFzO1xuZnVuY3Rpb24gZG93bmxvYWRTYXZlQXMoYmxvYiwgbmFtZSA9ICdkb3dubG9hZCcsIG9wdHMpIHtcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGEuZG93bmxvYWQgPSBuYW1lO1xuICAgIGEucmVsID0gJ25vb3BlbmVyJzsgLy8gdGFibmFiYmluZ1xuICAgIC8vIFRPRE86IGRldGVjdCBjaHJvbWUgZXh0ZW5zaW9ucyAmIHBhY2thZ2VkIGFwcHNcbiAgICAvLyBhLnRhcmdldCA9ICdfYmxhbmsnXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBTdXBwb3J0IHJlZ3VsYXIgbGlua3NcbiAgICAgICAgYS5ocmVmID0gYmxvYjtcbiAgICAgICAgaWYgKGEub3JpZ2luICE9PSBsb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgICAgICAgIGlmIChjb3JzRW5hYmxlZChhLmhyZWYpKSB7XG4gICAgICAgICAgICAgICAgZG93bmxvYWQoYmxvYiwgbmFtZSwgb3B0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2xpY2soYSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFN1cHBvcnQgYmxvYnNcbiAgICAgICAgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGEuaHJlZik7XG4gICAgICAgIH0sIDRlNCk7IC8vIDQwc1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtc1NhdmVBcyhibG9iLCBuYW1lID0gJ2Rvd25sb2FkJywgb3B0cykge1xuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKGNvcnNFbmFibGVkKGJsb2IpKSB7XG4gICAgICAgICAgICBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBhLmhyZWYgPSBibG9iO1xuICAgICAgICAgICAgYS50YXJnZXQgPSAnX2JsYW5rJztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsaWNrKGEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IHdvcmtzIG9uIHdpbmRvd3NcbiAgICAgICAgbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYm9tKGJsb2IsIG9wdHMpLCBuYW1lKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmaWxlU2F2ZXJTYXZlQXMoYmxvYiwgbmFtZSwgb3B0cywgcG9wdXApIHtcbiAgICAvLyBPcGVuIGEgcG9wdXAgaW1tZWRpYXRlbHkgZG8gZ28gYXJvdW5kIHBvcHVwIGJsb2NrZXJcbiAgICAvLyBNb3N0bHkgb25seSBhdmFpbGFibGUgb24gdXNlciBpbnRlcmFjdGlvbiBhbmQgdGhlIGZpbGVSZWFkZXIgaXMgYXN5bmMgc28uLi5cbiAgICBwb3B1cCA9IHBvcHVwIHx8IG9wZW4oJycsICdfYmxhbmsnKTtcbiAgICBpZiAocG9wdXApIHtcbiAgICAgICAgcG9wdXAuZG9jdW1lbnQudGl0bGUgPSBwb3B1cC5kb2N1bWVudC5ib2R5LmlubmVyVGV4dCA9ICdkb3dubG9hZGluZy4uLic7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBkb3dubG9hZChibG9iLCBuYW1lLCBvcHRzKTtcbiAgICBjb25zdCBmb3JjZSA9IGJsb2IudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgY29uc3QgaXNTYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KFN0cmluZyhfZ2xvYmFsLkhUTUxFbGVtZW50KSkgfHwgJ3NhZmFyaScgaW4gX2dsb2JhbDtcbiAgICBjb25zdCBpc0Nocm9tZUlPUyA9IC9DcmlPU1xcL1tcXGRdKy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICBpZiAoKGlzQ2hyb21lSU9TIHx8IChmb3JjZSAmJiBpc1NhZmFyaSkgfHwgaXNNYWNPU1dlYlZpZXcpICYmXG4gICAgICAgIHR5cGVvZiBGaWxlUmVhZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIFVSTHNcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSByZWFkZXIucmVzdWx0O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcG9wdXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignV3JvbmcgcmVhZGVyLnJlc3VsdCB0eXBlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cmwgPSBpc0Nocm9tZUlPU1xuICAgICAgICAgICAgICAgID8gdXJsXG4gICAgICAgICAgICAgICAgOiB1cmwucmVwbGFjZSgvXmRhdGE6W147XSo7LywgJ2RhdGE6YXR0YWNobWVudC9maWxlOycpO1xuICAgICAgICAgICAgaWYgKHBvcHVwKSB7XG4gICAgICAgICAgICAgICAgcG9wdXAubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9wdXAgPSBudWxsOyAvLyByZXZlcnNlLXRhYm5hYmJpbmcgIzQ2MFxuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICAgIGlmIChwb3B1cClcbiAgICAgICAgICAgIHBvcHVwLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICBwb3B1cCA9IG51bGw7IC8vIHJldmVyc2UtdGFibmFiYmluZyAjNDYwXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICB9LCA0ZTQpOyAvLyA0MHNcbiAgICB9XG59XG5cbi8qKlxuICogU2hvd3MgYSB0b2FzdCBvciBjb25zb2xlLmxvZ1xuICpcbiAqIEBwYXJhbSBtZXNzYWdlIC0gbWVzc2FnZSB0byBsb2dcbiAqIEBwYXJhbSB0eXBlIC0gZGlmZmVyZW50IGNvbG9yIG9mIHRoZSB0b29sdGlwXG4gKi9cbmZ1bmN0aW9uIHRvYXN0TWVzc2FnZShtZXNzYWdlLCB0eXBlKSB7XG4gICAgY29uc3QgcGluaWFNZXNzYWdlID0gJ/CfjY0gJyArIG1lc3NhZ2U7XG4gICAgaWYgKHR5cGVvZiBfX1ZVRV9ERVZUT09MU19UT0FTVF9fID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIE5vIGxvbmdlciBhdmFpbGFibGUgOihcbiAgICAgICAgX19WVUVfREVWVE9PTFNfVE9BU1RfXyhwaW5pYU1lc3NhZ2UsIHR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IocGluaWFNZXNzYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm4nKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihwaW5pYU1lc3NhZ2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2cocGluaWFNZXNzYWdlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1BpbmlhKG8pIHtcbiAgICByZXR1cm4gJ19hJyBpbiBvICYmICdpbnN0YWxsJyBpbiBvO1xufVxuXG4vKipcbiAqIFRoaXMgZmlsZSBjb250YWluIGRldnRvb2xzIGFjdGlvbnMsIHRoZXkgYXJlIG5vdCBQaW5pYSBhY3Rpb25zLlxuICovXG4vLyAtLS1cbmZ1bmN0aW9uIGNoZWNrQ2xpcGJvYXJkQWNjZXNzKCkge1xuICAgIGlmICghKCdjbGlwYm9hcmQnIGluIG5hdmlnYXRvcikpIHtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBZb3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRoZSBDbGlwYm9hcmQgQVBJYCwgJ2Vycm9yJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgZXJyb3IubWVzc2FnZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdkb2N1bWVudCBpcyBub3QgZm9jdXNlZCcpKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZSgnWW91IG5lZWQgdG8gYWN0aXZhdGUgdGhlIFwiRW11bGF0ZSBhIGZvY3VzZWQgcGFnZVwiIHNldHRpbmcgaW4gdGhlIFwiUmVuZGVyaW5nXCIgcGFuZWwgb2YgZGV2dG9vbHMuJywgJ3dhcm4nKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbENvcHlTdGF0ZShwaW5pYSkge1xuICAgIGlmIChjaGVja0NsaXBib2FyZEFjY2VzcygpKVxuICAgICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoSlNPTi5zdHJpbmdpZnkocGluaWEuc3RhdGUudmFsdWUpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgY29waWVkIHRvIGNsaXBib2FyZC4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChjaGVja05vdEZvY3VzZWRFcnJvcihlcnJvcikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIHNlcmlhbGl6ZSB0aGUgc3RhdGUuIENoZWNrIHRoZSBjb25zb2xlIGZvciBtb3JlIGRldGFpbHMuYCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGFjdGlvbkdsb2JhbFBhc3RlU3RhdGUocGluaWEpIHtcbiAgICBpZiAoY2hlY2tDbGlwYm9hcmRBY2Nlc3MoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICAgIGxvYWRTdG9yZXNTdGF0ZShwaW5pYSwgSlNPTi5wYXJzZShhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkpKTtcbiAgICAgICAgdG9hc3RNZXNzYWdlKCdHbG9iYWwgc3RhdGUgcGFzdGVkIGZyb20gY2xpcGJvYXJkLicpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGNoZWNrTm90Rm9jdXNlZEVycm9yKGVycm9yKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdG9hc3RNZXNzYWdlKGBGYWlsZWQgdG8gZGVzZXJpYWxpemUgdGhlIHN0YXRlIGZyb20gY2xpcGJvYXJkLiBDaGVjayB0aGUgY29uc29sZSBmb3IgbW9yZSBkZXRhaWxzLmAsICdlcnJvcicpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpIHtcbiAgICB0cnkge1xuICAgICAgICBzYXZlQXMobmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KHBpbmlhLnN0YXRlLnZhbHVlKV0sIHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgnLFxuICAgICAgICB9KSwgJ3BpbmlhLXN0YXRlLmpzb24nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRvYXN0TWVzc2FnZShgRmFpbGVkIHRvIGV4cG9ydCB0aGUgc3RhdGUgYXMgSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxubGV0IGZpbGVJbnB1dDtcbmZ1bmN0aW9uIGdldEZpbGVPcGVuZXIoKSB7XG4gICAgaWYgKCFmaWxlSW5wdXQpIHtcbiAgICAgICAgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgICAgIGZpbGVJbnB1dC5hY2NlcHQgPSAnLmpzb24nO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvcGVuRmlsZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNoYW5nZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVJbnB1dC5maWxlcztcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGVzKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaXRlbSgwKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZpbGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHsgdGV4dDogYXdhaXQgZmlsZS50ZXh0KCksIGZpbGUgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogVE9ETzogY2hhbmdlZCBmcm9tIDQuMyB0byA0LjRcbiAgICAgICAgICAgIGZpbGVJbnB1dC5vbmNhbmNlbCA9ICgpID0+IHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICBmaWxlSW5wdXQub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIGZpbGVJbnB1dC5jbGljaygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG9wZW5GaWxlO1xufVxuYXN5bmMgZnVuY3Rpb24gYWN0aW9uR2xvYmFsT3BlblN0YXRlRmlsZShwaW5pYSkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9wZW4gPSBnZXRGaWxlT3BlbmVyKCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9wZW4oKTtcbiAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdGV4dCwgZmlsZSB9ID0gcmVzdWx0O1xuICAgICAgICBsb2FkU3RvcmVzU3RhdGUocGluaWEsIEpTT04ucGFyc2UodGV4dCkpO1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEdsb2JhbCBzdGF0ZSBpbXBvcnRlZCBmcm9tIFwiJHtmaWxlLm5hbWV9XCIuYCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0b2FzdE1lc3NhZ2UoYEZhaWxlZCB0byBpbXBvcnQgdGhlIHN0YXRlIGZyb20gSlNPTi4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5gLCAnZXJyb3InKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9hZFN0b3Jlc1N0YXRlKHBpbmlhLCBzdGF0ZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVtrZXldO1xuICAgICAgICAvLyBzdG9yZSBpcyBhbHJlYWR5IGluc3RhbnRpYXRlZCwgcGF0Y2ggaXRcbiAgICAgICAgaWYgKHN0b3JlU3RhdGUpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc3RvcmVTdGF0ZSwgc3RhdGVba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzdG9yZSBpcyBub3QgaW5zdGFudGlhdGVkLCBzZXQgdGhlIGluaXRpYWwgc3RhdGVcbiAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlW2tleV0gPSBzdGF0ZVtrZXldO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5KGRpc3BsYXkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICB9LFxuICAgIH07XG59XG5jb25zdCBQSU5JQV9ST09UX0xBQkVMID0gJ/CfjY0gUGluaWEgKHJvb3QpJztcbmNvbnN0IFBJTklBX1JPT1RfSUQgPSAnX3Jvb3QnO1xuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlKSB7XG4gICAgcmV0dXJuIGlzUGluaWEoc3RvcmUpXG4gICAgICAgID8ge1xuICAgICAgICAgICAgaWQ6IFBJTklBX1JPT1RfSUQsXG4gICAgICAgICAgICBsYWJlbDogUElOSUFfUk9PVF9MQUJFTCxcbiAgICAgICAgfVxuICAgICAgICA6IHtcbiAgICAgICAgICAgIGlkOiBzdG9yZS4kaWQsXG4gICAgICAgICAgICBsYWJlbDogc3RvcmUuJGlkLFxuICAgICAgICB9O1xufVxuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShzdG9yZSkge1xuICAgIGlmIChpc1BpbmlhKHN0b3JlKSkge1xuICAgICAgICBjb25zdCBzdG9yZU5hbWVzID0gQXJyYXkuZnJvbShzdG9yZS5fcy5rZXlzKCkpO1xuICAgICAgICBjb25zdCBzdG9yZU1hcCA9IHN0b3JlLl9zO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgICAgICAgIHN0YXRlOiBzdG9yZU5hbWVzLm1hcCgoc3RvcmVJZCkgPT4gKHtcbiAgICAgICAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBrZXk6IHN0b3JlSWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlLnN0YXRlLnZhbHVlW3N0b3JlSWRdLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgZ2V0dGVyczogc3RvcmVOYW1lc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoKGlkKSA9PiBzdG9yZU1hcC5nZXQoaWQpLl9nZXR0ZXJzKVxuICAgICAgICAgICAgICAgIC5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBzdG9yZU1hcC5nZXQoaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlLl9nZXR0ZXJzLnJlZHVjZSgoZ2V0dGVycywga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBzdG9yZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnM7XG4gICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgIHN0YXRlOiBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLm1hcCgoa2V5KSA9PiAoe1xuICAgICAgICAgICAgZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICB2YWx1ZTogc3RvcmUuJHN0YXRlW2tleV0sXG4gICAgICAgIH0pKSxcbiAgICB9O1xuICAgIC8vIGF2b2lkIGFkZGluZyBlbXB0eSBnZXR0ZXJzXG4gICAgaWYgKHN0b3JlLl9nZXR0ZXJzICYmIHN0b3JlLl9nZXR0ZXJzLmxlbmd0aCkge1xuICAgICAgICBzdGF0ZS5nZXR0ZXJzID0gc3RvcmUuX2dldHRlcnMubWFwKChnZXR0ZXJOYW1lKSA9PiAoe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiBnZXR0ZXJOYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlW2dldHRlck5hbWVdLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGlmIChzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5zaXplKSB7XG4gICAgICAgIHN0YXRlLmN1c3RvbVByb3BlcnRpZXMgPSBBcnJheS5mcm9tKHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzKS5tYXAoKGtleSkgPT4gKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWU6IHN0b3JlW2tleV0sXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gZm9ybWF0RXZlbnREYXRhKGV2ZW50cykge1xuICAgIGlmICghZXZlbnRzKVxuICAgICAgICByZXR1cm4ge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnRzKSkge1xuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgYWRkIGFuZCBkZWxldGUgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICAgICAgICByZXR1cm4gZXZlbnRzLnJlZHVjZSgoZGF0YSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGRhdGEua2V5cy5wdXNoKGV2ZW50LmtleSk7XG4gICAgICAgICAgICBkYXRhLm9wZXJhdGlvbnMucHVzaChldmVudC50eXBlKTtcbiAgICAgICAgICAgIGRhdGEub2xkVmFsdWVbZXZlbnQua2V5XSA9IGV2ZW50Lm9sZFZhbHVlO1xuICAgICAgICAgICAgZGF0YS5uZXdWYWx1ZVtldmVudC5rZXldID0gZXZlbnQubmV3VmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgb2xkVmFsdWU6IHt9LFxuICAgICAgICAgICAga2V5czogW10sXG4gICAgICAgICAgICBvcGVyYXRpb25zOiBbXSxcbiAgICAgICAgICAgIG5ld1ZhbHVlOiB7fSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3BlcmF0aW9uOiBmb3JtYXREaXNwbGF5KGV2ZW50cy50eXBlKSxcbiAgICAgICAgICAgIGtleTogZm9ybWF0RGlzcGxheShldmVudHMua2V5KSxcbiAgICAgICAgICAgIG9sZFZhbHVlOiBldmVudHMub2xkVmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZTogZXZlbnRzLm5ld1ZhbHVlLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdE11dGF0aW9uVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTXV0YXRpb25UeXBlLmRpcmVjdDpcbiAgICAgICAgICAgIHJldHVybiAnbXV0YXRpb24nO1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5wYXRjaEZ1bmN0aW9uOlxuICAgICAgICAgICAgcmV0dXJuICckcGF0Y2gnO1xuICAgICAgICBjYXNlIE11dGF0aW9uVHlwZS5wYXRjaE9iamVjdDpcbiAgICAgICAgICAgIHJldHVybiAnJHBhdGNoJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgfVxufVxuXG4vLyB0aW1lbGluZSBjYW4gYmUgcGF1c2VkIHdoZW4gZGlyZWN0bHkgY2hhbmdpbmcgdGhlIHN0YXRlXG5sZXQgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XG5jb25zdCBjb21wb25lbnRTdGF0ZVR5cGVzID0gW107XG5jb25zdCBNVVRBVElPTlNfTEFZRVJfSUQgPSAncGluaWE6bXV0YXRpb25zJztcbmNvbnN0IElOU1BFQ1RPUl9JRCA9ICdwaW5pYSc7XG5jb25zdCB7IGFzc2lnbjogYXNzaWduJDEgfSA9IE9iamVjdDtcbi8qKlxuICogR2V0cyB0aGUgZGlzcGxheWVkIG5hbWUgb2YgYSBzdG9yZSBpbiBkZXZ0b29sc1xuICpcbiAqIEBwYXJhbSBpZCAtIGlkIG9mIHRoZSBzdG9yZVxuICogQHJldHVybnMgYSBmb3JtYXR0ZWQgc3RyaW5nXG4gKi9cbmNvbnN0IGdldFN0b3JlVHlwZSA9IChpZCkgPT4gJ/CfjY0gJyArIGlkO1xuLyoqXG4gKiBBZGQgdGhlIHBpbmlhIHBsdWdpbiB3aXRob3V0IGFueSBzdG9yZS4gQWxsb3dzIGRpc3BsYXlpbmcgYSBQaW5pYSBwbHVnaW4gdGFiXG4gKiBhcyBzb29uIGFzIGl0IGlzIGFkZGVkIHRvIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0gYXBwIC0gVnVlIGFwcGxpY2F0aW9uXG4gKiBAcGFyYW0gcGluaWEgLSBwaW5pYSBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiByZWdpc3RlclBpbmlhRGV2dG9vbHMoYXBwLCBwaW5pYSkge1xuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICBpZDogJ2Rldi5lc20ucGluaWEnLFxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxuICAgICAgICBwYWNrYWdlTmFtZTogJ3BpbmlhJyxcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXG4gICAgICAgIGFwcCxcbiAgICB9LCAoYXBpKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXBpLm5vdyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdG9hc3RNZXNzYWdlKCdZb3Ugc2VlbSB0byBiZSB1c2luZyBhbiBvdXRkYXRlZCB2ZXJzaW9uIG9mIFZ1ZSBEZXZ0b29scy4gQXJlIHlvdSBzdGlsbCB1c2luZyB0aGUgQmV0YSByZWxlYXNlIGluc3RlYWQgb2YgdGhlIHN0YWJsZSBvbmU/IFlvdSBjYW4gZmluZCB0aGUgbGlua3MgYXQgaHR0cHM6Ly9kZXZ0b29scy52dWVqcy5vcmcvZ3VpZGUvaW5zdGFsbGF0aW9uLmh0bWwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmFkZFRpbWVsaW5lTGF5ZXIoe1xuICAgICAgICAgICAgaWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgIGxhYmVsOiBgUGluaWEg8J+NjWAsXG4gICAgICAgICAgICBjb2xvcjogMHhlNWRmODgsXG4gICAgICAgIH0pO1xuICAgICAgICBhcGkuYWRkSW5zcGVjdG9yKHtcbiAgICAgICAgICAgIGlkOiBJTlNQRUNUT1JfSUQsXG4gICAgICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxuICAgICAgICAgICAgaWNvbjogJ3N0b3JhZ2UnLFxuICAgICAgICAgICAgdHJlZUZpbHRlclBsYWNlaG9sZGVyOiAnU2VhcmNoIHN0b3JlcycsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY29udGVudF9jb3B5JyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxDb3B5U3RhdGUocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2VyaWFsaXplIGFuZCBjb3B5IHRoZSBzdGF0ZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjb250ZW50X3Bhc3RlJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhY3Rpb25HbG9iYWxQYXN0ZVN0YXRlKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUmVwbGFjZSB0aGUgc3RhdGUgd2l0aCB0aGUgY29udGVudCBvZiB5b3VyIGNsaXBib2FyZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdzYXZlJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25HbG9iYWxTYXZlU3RhdGUocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnU2F2ZSB0aGUgc3RhdGUgYXMgYSBKU09OIGZpbGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZm9sZGVyX29wZW4nLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGFjdGlvbkdsb2JhbE9wZW5TdGF0ZUZpbGUocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdJbXBvcnQgdGhlIHN0YXRlIGZyb20gYSBKU09OIGZpbGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbm9kZUFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGljb246ICdyZXN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Jlc2V0IHRoZSBzdGF0ZSAod2l0aCBcIiRyZXNldFwiKScsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKG5vZGVJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQobm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYENhbm5vdCByZXNldCBcIiR7bm9kZUlkfVwiIHN0b3JlIGJlY2F1c2UgaXQgd2Fzbid0IGZvdW5kLmAsICd3YXJuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RvcmUuJHJlc2V0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBDYW5ub3QgcmVzZXQgXCIke25vZGVJZH1cIiBzdG9yZSBiZWNhdXNlIGl0IGRvZXNuJ3QgaGF2ZSBhIFwiJHJlc2V0XCIgbWV0aG9kIGltcGxlbWVudGVkLmAsICd3YXJuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS4kcmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYFN0b3JlIFwiJHtub2RlSWR9XCIgcmVzZXQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uaW5zcGVjdENvbXBvbmVudCgocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwcm94eSA9IChwYXlsb2FkLmNvbXBvbmVudEluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5jb21wb25lbnRJbnN0YW5jZS5wcm94eSk7XG4gICAgICAgICAgICBpZiAocHJveHkgJiYgcHJveHkuX3BTdG9yZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaW5pYVN0b3JlcyA9IHBheWxvYWQuY29tcG9uZW50SW5zdGFuY2UucHJveHkuX3BTdG9yZXM7XG4gICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwaW5pYVN0b3JlcykuZm9yRWFjaCgoc3RvcmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbnN0YW5jZURhdGEuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRTdG9yZVR5cGUoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3N0YXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlLl9pc09wdGlvbnNBUElcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRvUmF3KHN0b3JlLiRzdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAncmVzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdSZXNldCB0aGUgc3RhdGUgb2YgdGhpcyBzdG9yZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogKCkgPT4gc3RvcmUuJHJlc2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gTk9URTogd29ya2Fyb3VuZCB0byB1bndyYXAgdHJhbnNmZXJyZWQgcmVmc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS4kc3RhdGUpLnJlZHVjZSgoc3RhdGUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVba2V5XSA9IHN0b3JlLiRzdGF0ZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcmUuX2dldHRlcnMgJiYgc3RvcmUuX2dldHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBnZXRTdG9yZVR5cGUoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdnZXR0ZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0b3JlLl9nZXR0ZXJzLnJlZHVjZSgoZ2V0dGVycywga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzW2tleV0gPSBzdG9yZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogd2UganVzdCB3YW50IHRvIHNob3cgaXQgaW4gZGV2dG9vbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHRlcnNba2V5XSA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yVHJlZSgocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0b3JlcyA9IFtwaW5pYV07XG4gICAgICAgICAgICAgICAgc3RvcmVzID0gc3RvcmVzLmNvbmNhdChBcnJheS5mcm9tKHBpbmlhLl9zLnZhbHVlcygpKSk7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5yb290Tm9kZXMgPSAocGF5bG9hZC5maWx0ZXJcbiAgICAgICAgICAgICAgICAgICAgPyBzdG9yZXMuZmlsdGVyKChzdG9yZSkgPT4gJyRpZCcgaW4gc3RvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3RvcmUuJGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5jbHVkZXMocGF5bG9hZC5maWx0ZXIudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogUElOSUFfUk9PVF9MQUJFTC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHBheWxvYWQuZmlsdGVyLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlcykubWFwKGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc3BlY3RlZFN0b3JlID0gcGF5bG9hZC5ub2RlSWQgPT09IFBJTklBX1JPT1RfSURcbiAgICAgICAgICAgICAgICAgICAgPyBwaW5pYVxuICAgICAgICAgICAgICAgICAgICA6IHBpbmlhLl9zLmdldChwYXlsb2FkLm5vZGVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnNwZWN0ZWRTdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGJlIHRoZSBzZWxlY3RlZCBzdG9yZSByZXN0b3JlZCBmb3IgYSBkaWZmZXJlbnQgcHJvamVjdFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBpdCdzIGJldHRlciBub3QgdG8gc2F5IGFueXRoaW5nIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5zcGVjdGVkU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUoaW5zcGVjdGVkU3RvcmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFwaS5vbi5lZGl0SW5zcGVjdG9yU3RhdGUoKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zcGVjdGVkU3RvcmUgPSBwYXlsb2FkLm5vZGVJZCA9PT0gUElOSUFfUk9PVF9JRFxuICAgICAgICAgICAgICAgICAgICA/IHBpbmlhXG4gICAgICAgICAgICAgICAgICAgIDogcGluaWEuX3MuZ2V0KHBheWxvYWQubm9kZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWluc3BlY3RlZFN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYHN0b3JlIFwiJHtwYXlsb2FkLm5vZGVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xuICAgICAgICAgICAgICAgIGlmICghaXNQaW5pYShpbnNwZWN0ZWRTdG9yZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXNzIG9ubHkgdGhlIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWluc3BlY3RlZFN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmhhcyhwYXRoWzBdKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFswXSBpbiBpbnNwZWN0ZWRTdG9yZS4kc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdCgnJHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJvb3QgYWNjZXNzLCB3ZSBjYW4gb21pdCB0aGUgYC52YWx1ZWAgYmVjYXVzZSB0aGUgZGV2dG9vbHMgQVBJIGRvZXMgaXQgZm9yIHVzXG4gICAgICAgICAgICAgICAgICAgIHBhdGgudW5zaGlmdCgnc3RhdGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBheWxvYWQuc2V0KGluc3BlY3RlZFN0b3JlLCBwYXRoLCBwYXlsb2FkLnN0YXRlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpc1RpbWVsaW5lQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFwaS5vbi5lZGl0Q29tcG9uZW50U3RhdGUoKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLnR5cGUuc3RhcnRzV2l0aCgn8J+NjScpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVJZCA9IHBheWxvYWQudHlwZS5yZXBsYWNlKC9e8J+NjVxccyovLCAnJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoc3RvcmVJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3RNZXNzYWdlKGBzdG9yZSBcIiR7c3RvcmVJZH1cIiBub3QgZm91bmRgLCAnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBwYXlsb2FkO1xuICAgICAgICAgICAgICAgIGlmIChwYXRoWzBdICE9PSAnc3RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2FzdE1lc3NhZ2UoYEludmFsaWQgcGF0aCBmb3Igc3RvcmUgXCIke3N0b3JlSWR9XCI6XFxuJHtwYXRofVxcbk9ubHkgc3RhdGUgY2FuIGJlIG1vZGlmaWVkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXdyaXRlIHRoZSBmaXJzdCBlbnRyeSB0byBiZSBhYmxlIHRvIGRpcmVjdGx5IHNldCB0aGUgc3RhdGUgYXNcbiAgICAgICAgICAgICAgICAvLyB3ZWxsIGFzIGFueSBvdGhlciBwYXRoXG4gICAgICAgICAgICAgICAgcGF0aFswXSA9ICckc3RhdGUnO1xuICAgICAgICAgICAgICAgIGlzVGltZWxpbmVBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnNldChzdG9yZSwgcGF0aCwgcGF5bG9hZC5zdGF0ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaXNUaW1lbGluZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gYWRkU3RvcmVUb0RldnRvb2xzKGFwcCwgc3RvcmUpIHtcbiAgICBpZiAoIWNvbXBvbmVudFN0YXRlVHlwZXMuaW5jbHVkZXMoZ2V0U3RvcmVUeXBlKHN0b3JlLiRpZCkpKSB7XG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMucHVzaChnZXRTdG9yZVR5cGUoc3RvcmUuJGlkKSk7XG4gICAgfVxuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICBpZDogJ2Rldi5lc20ucGluaWEnLFxuICAgICAgICBsYWJlbDogJ1BpbmlhIPCfjY0nLFxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvbG9nby5zdmcnLFxuICAgICAgICBwYWNrYWdlTmFtZTogJ3BpbmlhJyxcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3BpbmlhLnZ1ZWpzLm9yZycsXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXMsXG4gICAgICAgIGFwcCxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIGxvZ1N0b3JlQ2hhbmdlczoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAnTm90aWZ5IGFib3V0IG5ldy9kZWxldGVkIHN0b3JlcycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1c2VFbW9qaXM6IHtcbiAgICAgICAgICAgIC8vICAgbGFiZWw6ICdVc2UgZW1vamlzIGluIG1lc3NhZ2VzIOKaoe+4jycsXG4gICAgICAgICAgICAvLyAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgIC8vICAgZGVmYXVsdFZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgfSxcbiAgICB9LCAoYXBpKSA9PiB7XG4gICAgICAgIC8vIGdyYWNlZnVsbHkgaGFuZGxlIGVycm9yc1xuICAgICAgICBjb25zdCBub3cgPSB0eXBlb2YgYXBpLm5vdyA9PT0gJ2Z1bmN0aW9uJyA/IGFwaS5ub3cuYmluZChhcGkpIDogRGF0ZS5ub3c7XG4gICAgICAgIHN0b3JlLiRvbkFjdGlvbigoeyBhZnRlciwgb25FcnJvciwgbmFtZSwgYXJncyB9KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBncm91cElkID0gcnVubmluZ0FjdGlvbklkKys7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5vdygpLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6sgJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnc3RhcnQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9yZTogZm9ybWF0RGlzcGxheShzdG9yZS4kaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmb3JtYXREaXNwbGF5KG5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhZnRlcigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfm6wgJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1hdERpc3BsYXkobmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25FcnJvcigoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBhY3RpdmVBY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1R5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CfkqUgJyArIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2VuZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZvcm1hdERpc3BsYXkobmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBzdG9yZS5fY3VzdG9tUHJvcGVydGllcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgICAgICB3YXRjaCgoKSA9PiB1bnJlZihzdG9yZVtuYW1lXSksIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBhcGkubm90aWZ5Q29tcG9uZW50VXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgICAgIGlmIChpc1RpbWVsaW5lQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbm93KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDaGFuZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogYWN0aXZlQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgc3RvcmUuJHN1YnNjcmliZSgoeyBldmVudHMsIHR5cGUgfSwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgICAgIGlmICghaXNUaW1lbGluZUFjdGl2ZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyByb290U3RvcmUuc3RhdGVbc3RvcmUuaWRdID0gc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogZm9ybWF0TXV0YXRpb25UeXBlKHR5cGUpLFxuICAgICAgICAgICAgICAgIGRhdGE6IGFzc2lnbiQxKHsgc3RvcmU6IGZvcm1hdERpc3BsYXkoc3RvcmUuJGlkKSB9LCBmb3JtYXRFdmVudERhdGEoZXZlbnRzKSksXG4gICAgICAgICAgICAgICAgZ3JvdXBJZDogYWN0aXZlQWN0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdWJ0aXRsZSA9ICfipLXvuI8nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgZXZlbnREYXRhLnN1YnRpdGxlID0gJ/Cfp6knO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnRzICYmICFBcnJheS5pc0FycmF5KGV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuc3VidGl0bGUgPSBldmVudHMudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICAgICAgICBldmVudERhdGEuZGF0YVsncmF3RXZlbnQocyknXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ0RlYnVnZ2VyRXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAncmF3IERlYnVnZ2VyRXZlbnRbXScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogTVVUQVRJT05TX0xBWUVSX0lELFxuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudERhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgeyBkZXRhY2hlZDogdHJ1ZSwgZmx1c2g6ICdzeW5jJyB9KTtcbiAgICAgICAgY29uc3QgaG90VXBkYXRlID0gc3RvcmUuX2hvdFVwZGF0ZTtcbiAgICAgICAgc3RvcmUuX2hvdFVwZGF0ZSA9IG1hcmtSYXcoKG5ld1N0b3JlKSA9PiB7XG4gICAgICAgICAgICBob3RVcGRhdGUobmV3U3RvcmUpO1xuICAgICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgICAgIGxheWVySWQ6IE1VVEFUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgICAgICBldmVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5SlICcgKyBzdG9yZS4kaWQsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnSE1SIHVwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlOiBmb3JtYXREaXNwbGF5KHN0b3JlLiRpZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvOiBmb3JtYXREaXNwbGF5KGBITVIgdXBkYXRlYCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZXZ0b29scyB0b29cbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyAkZGlzcG9zZSB9ID0gc3RvcmU7XG4gICAgICAgIHN0b3JlLiRkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgJGRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuICAgICAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXG4gICAgICAgICAgICAgICAgdG9hc3RNZXNzYWdlKGBEaXNwb3NlZCBcIiR7c3RvcmUuJGlkfVwiIHN0b3JlIPCfl5FgKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdHJpZ2dlciBhbiB1cGRhdGUgc28gaXQgY2FuIGRpc3BsYXkgbmV3IHJlZ2lzdGVyZWQgc3RvcmVzXG4gICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JUcmVlKElOU1BFQ1RPUl9JRCk7XG4gICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yU3RhdGUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgYXBpLmdldFNldHRpbmdzKCkubG9nU3RvcmVDaGFuZ2VzICYmXG4gICAgICAgICAgICB0b2FzdE1lc3NhZ2UoYFwiJHtzdG9yZS4kaWR9XCIgc3RvcmUgaW5zdGFsbGVkIPCfhpVgKTtcbiAgICB9KTtcbn1cbmxldCBydW5uaW5nQWN0aW9uSWQgPSAwO1xubGV0IGFjdGl2ZUFjdGlvbjtcbi8qKlxuICogUGF0Y2hlcyBhIHN0b3JlIHRvIGVuYWJsZSBhY3Rpb24gZ3JvdXBpbmcgaW4gZGV2dG9vbHMgYnkgd3JhcHBpbmcgdGhlIHN0b3JlIHdpdGggYSBQcm94eSB0aGF0IGlzIHBhc3NlZCBhcyB0aGVcbiAqIGNvbnRleHQgb2YgYWxsIGFjdGlvbnMsIGFsbG93aW5nIHVzIHRvIHNldCBgcnVubmluZ0FjdGlvbmAgb24gZWFjaCBhY2Nlc3MgYW5kIGVmZmVjdGl2ZWx5IGFzc29jaWF0aW5nIGFueSBzdGF0ZVxuICogbXV0YXRpb24gdG8gdGhlIGFjdGlvbi5cbiAqXG4gKiBAcGFyYW0gc3RvcmUgLSBzdG9yZSB0byBwYXRjaFxuICogQHBhcmFtIGFjdGlvbk5hbWVzIC0gbGlzdCBvZiBhY3Rpb25zdCB0byBwYXRjaFxuICovXG5mdW5jdGlvbiBwYXRjaEFjdGlvbkZvckdyb3VwaW5nKHN0b3JlLCBhY3Rpb25OYW1lcywgd3JhcFdpdGhQcm94eSkge1xuICAgIC8vIG9yaWdpbmFsIGFjdGlvbnMgb2YgdGhlIHN0b3JlIGFzIHRoZXkgYXJlIGdpdmVuIGJ5IHBpbmlhLiBXZSBhcmUgZ29pbmcgdG8gb3ZlcnJpZGUgdGhlbVxuICAgIGNvbnN0IGFjdGlvbnMgPSBhY3Rpb25OYW1lcy5yZWR1Y2UoKHN0b3JlQWN0aW9ucywgYWN0aW9uTmFtZSkgPT4ge1xuICAgICAgICAvLyB1c2UgdG9SYXcgdG8gYXZvaWQgdHJhY2tpbmcgIzU0MVxuICAgICAgICBzdG9yZUFjdGlvbnNbYWN0aW9uTmFtZV0gPSB0b1JhdyhzdG9yZSlbYWN0aW9uTmFtZV07XG4gICAgICAgIHJldHVybiBzdG9yZUFjdGlvbnM7XG4gICAgfSwge30pO1xuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBhY3Rpb25zKSB7XG4gICAgICAgIHN0b3JlW2FjdGlvbk5hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdGhlIHJ1bm5pbmcgYWN0aW9uIGlkIGlzIGluY3JlbWVudGVkIGluIGEgYmVmb3JlIGFjdGlvbiBob29rXG4gICAgICAgICAgICBjb25zdCBfYWN0aW9uSWQgPSBydW5uaW5nQWN0aW9uSWQ7XG4gICAgICAgICAgICBjb25zdCB0cmFja2VkU3RvcmUgPSB3cmFwV2l0aFByb3h5XG4gICAgICAgICAgICAgICAgPyBuZXcgUHJveHkoc3RvcmUsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0KC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFjdGlvbiA9IF9hY3Rpb25JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIDogc3RvcmU7XG4gICAgICAgICAgICAvLyBGb3IgU2V0dXAgU3RvcmVzIHdlIG5lZWQgaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtYXN5bmMtY29udGV4dFxuICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gX2FjdGlvbklkO1xuICAgICAgICAgICAgY29uc3QgcmV0VmFsdWUgPSBhY3Rpb25zW2FjdGlvbk5hbWVdLmFwcGx5KHRyYWNrZWRTdG9yZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgc2FmZXIgYXMgYXN5bmMgYWN0aW9ucyBpbiBTZXR1cCBTdG9yZXMgd291bGQgYXNzb2NpYXRlIG11dGF0aW9ucyBkb25lIG91dHNpZGUgb2YgdGhlIGFjdGlvblxuICAgICAgICAgICAgYWN0aXZlQWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHJldFZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogcGluaWEudXNlKGRldnRvb2xzUGx1Z2luKVxuICovXG5mdW5jdGlvbiBkZXZ0b29sc1BsdWdpbih7IGFwcCwgc3RvcmUsIG9wdGlvbnMgfSkge1xuICAgIC8vIEhNUiBtb2R1bGVcbiAgICBpZiAoc3RvcmUuJGlkLnN0YXJ0c1dpdGgoJ19faG90OicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gZGV0ZWN0IG9wdGlvbiBhcGkgdnMgc2V0dXAgYXBpXG4gICAgc3RvcmUuX2lzT3B0aW9uc0FQSSA9ICEhb3B0aW9ucy5zdGF0ZTtcbiAgICBwYXRjaEFjdGlvbkZvckdyb3VwaW5nKHN0b3JlLCBPYmplY3Qua2V5cyhvcHRpb25zLmFjdGlvbnMpLCBzdG9yZS5faXNPcHRpb25zQVBJKTtcbiAgICAvLyBVcGdyYWRlIHRoZSBITVIgdG8gYWxzbyB1cGRhdGUgdGhlIG5ldyBhY3Rpb25zXG4gICAgY29uc3Qgb3JpZ2luYWxIb3RVcGRhdGUgPSBzdG9yZS5faG90VXBkYXRlO1xuICAgIHRvUmF3KHN0b3JlKS5faG90VXBkYXRlID0gZnVuY3Rpb24gKG5ld1N0b3JlKSB7XG4gICAgICAgIG9yaWdpbmFsSG90VXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHBhdGNoQWN0aW9uRm9yR3JvdXBpbmcoc3RvcmUsIE9iamVjdC5rZXlzKG5ld1N0b3JlLl9obXJQYXlsb2FkLmFjdGlvbnMpLCAhIXN0b3JlLl9pc09wdGlvbnNBUEkpO1xuICAgIH07XG4gICAgYWRkU3RvcmVUb0RldnRvb2xzKGFwcCwgXG4gICAgLy8gRklYTUU6IGlzIHRoZXJlIGEgd2F5IHRvIGFsbG93IHRoZSBhc3NpZ25tZW50IGZyb20gU3RvcmU8SWQsIFMsIEcsIEE+IHRvIFN0b3JlR2VuZXJpYz9cbiAgICBzdG9yZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFBpbmlhIGluc3RhbmNlIHRvIGJlIHVzZWQgYnkgdGhlIGFwcGxpY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBpbmlhKCkge1xuICAgIGNvbnN0IHNjb3BlID0gZWZmZWN0U2NvcGUodHJ1ZSk7XG4gICAgLy8gTk9URTogaGVyZSB3ZSBjb3VsZCBjaGVjayB0aGUgd2luZG93IG9iamVjdCBmb3IgYSBzdGF0ZSBhbmQgZGlyZWN0bHkgc2V0IGl0XG4gICAgLy8gaWYgdGhlcmUgaXMgYW55dGhpbmcgbGlrZSBpdCB3aXRoIFZ1ZSAzIFNTUlxuICAgIGNvbnN0IHN0YXRlID0gc2NvcGUucnVuKCgpID0+IHJlZih7fSkpO1xuICAgIGxldCBfcCA9IFtdO1xuICAgIC8vIHBsdWdpbnMgYWRkZWQgYmVmb3JlIGNhbGxpbmcgYXBwLnVzZShwaW5pYSlcbiAgICBsZXQgdG9CZUluc3RhbGxlZCA9IFtdO1xuICAgIGNvbnN0IHBpbmlhID0gbWFya1Jhdyh7XG4gICAgICAgIGluc3RhbGwoYXBwKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjYWxsaW5nIHVzZVN0b3JlKCkgb3V0c2lkZSBvZiBhIGNvbXBvbmVudCBzZXR1cCBhZnRlclxuICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxuICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgaWYgKCFpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBwaW5pYS5fYSA9IGFwcDtcbiAgICAgICAgICAgICAgICBhcHAucHJvdmlkZShwaW5pYVN5bWJvbCwgcGluaWEpO1xuICAgICAgICAgICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcGluaWEgPSBwaW5pYTtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKGFwcCwgcGluaWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkLmZvckVhY2goKHBsdWdpbikgPT4gX3AucHVzaChwbHVnaW4pKTtcbiAgICAgICAgICAgICAgICB0b0JlSW5zdGFsbGVkID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVzZShwbHVnaW4pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYSAmJiAhaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgdG9CZUluc3RhbGxlZC5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfcC5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgX3AsXG4gICAgICAgIC8vIGl0J3MgYWN0dWFsbHkgdW5kZWZpbmVkIGhlcmVcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBfYTogbnVsbCxcbiAgICAgICAgX2U6IHNjb3BlLFxuICAgICAgICBfczogbmV3IE1hcCgpLFxuICAgICAgICBzdGF0ZSxcbiAgICB9KTtcbiAgICAvLyBwaW5pYSBkZXZ0b29scyByZWx5IG9uIGRldiBvbmx5IGZlYXR1cmVzIHNvIHRoZXkgY2Fubm90IGJlIGZvcmNlZCB1bmxlc3NcbiAgICAvLyB0aGUgZGV2IGJ1aWxkIG9mIFZ1ZSBpcyB1c2VkLiBBdm9pZCBvbGQgYnJvd3NlcnMgbGlrZSBJRTExLlxuICAgIGlmIChVU0VfREVWVE9PTFMgJiYgdHlwZW9mIFByb3h5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwaW5pYS51c2UoZGV2dG9vbHNQbHVnaW4pO1xuICAgIH1cbiAgICByZXR1cm4gcGluaWE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgZnVuY3Rpb24gaXMgYSBgU3RvcmVEZWZpbml0aW9uYC5cbiAqXG4gKiBAcGFyYW0gZm4gLSBvYmplY3QgdG8gdGVzdFxuICogQHJldHVybnMgdHJ1ZSBpZiBgZm5gIGlzIGEgU3RvcmVEZWZpbml0aW9uXG4gKi9cbmNvbnN0IGlzVXNlU3RvcmUgPSAoZm4pID0+IHtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBmbi4kaWQgPT09ICdzdHJpbmcnO1xufTtcbi8qKlxuICogTXV0YXRlcyBpbiBwbGFjZSBgbmV3U3RhdGVgIHdpdGggYG9sZFN0YXRlYCB0byBfaG90IHVwZGF0ZV8gaXQuIEl0IHdpbGxcbiAqIHJlbW92ZSBhbnkga2V5IG5vdCBleGlzdGluZyBpbiBgbmV3U3RhdGVgIGFuZCByZWN1cnNpdmVseSBtZXJnZSBwbGFpblxuICogb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0gbmV3U3RhdGUgLSBuZXcgc3RhdGUgb2JqZWN0IHRvIGJlIHBhdGNoZWRcbiAqIEBwYXJhbSBvbGRTdGF0ZSAtIG9sZCBzdGF0ZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHBhdGNoIG5ld1N0YXRlXG4gKiBAcmV0dXJucyAtIG5ld1N0YXRlXG4gKi9cbmZ1bmN0aW9uIHBhdGNoT2JqZWN0KG5ld1N0YXRlLCBvbGRTdGF0ZSkge1xuICAgIC8vIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCBzeW1ib2xzIGJlY2F1c2UgdGhleSBjYW5ub3QgYmUgc2VyaWFsaXplZCBhbnl3YXlcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRTdGF0ZSkge1xuICAgICAgICBjb25zdCBzdWJQYXRjaCA9IG9sZFN0YXRlW2tleV07XG4gICAgICAgIC8vIHNraXAgdGhlIHdob2xlIHN1YiB0cmVlXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdTdGF0ZSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0gbmV3U3RhdGVba2V5XTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0VmFsdWUpICYmXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVmKHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgIWlzUmVhY3RpdmUoc3ViUGF0Y2gpKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gcGF0Y2hPYmplY3QodGFyZ2V0VmFsdWUsIHN1YlBhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG9iamVjdHMgYXJlIGVpdGhlciBhIGJpdCBtb3JlIGNvbXBsZXggKGUuZy4gcmVmcykgb3IgcHJpbWl0aXZlcywgc28gd2VcbiAgICAgICAgICAgIC8vIGp1c3Qgc2V0IHRoZSB3aG9sZSB0aGluZ1xuICAgICAgICAgICAgaWYgKGlzVnVlMikge1xuICAgICAgICAgICAgICAgIHNldChuZXdTdGF0ZSwga2V5LCBzdWJQYXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZVtrZXldID0gc3ViUGF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGFuIF9hY2NlcHRfIGZ1bmN0aW9uIHRvIHBhc3MgdG8gYGltcG9ydC5tZXRhLmhvdGAgaW4gVml0ZSBhcHBsaWNhdGlvbnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBjb25zdCB1c2VVc2VyID0gZGVmaW5lU3RvcmUoLi4uKVxuICogaWYgKGltcG9ydC5tZXRhLmhvdCkge1xuICogICBpbXBvcnQubWV0YS5ob3QuYWNjZXB0KGFjY2VwdEhNUlVwZGF0ZSh1c2VVc2VyLCBpbXBvcnQubWV0YS5ob3QpKVxuICogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIGluaXRpYWxVc2VTdG9yZSAtIHJldHVybiBvZiB0aGUgZGVmaW5lU3RvcmUgdG8gaG90IHVwZGF0ZVxuICogQHBhcmFtIGhvdCAtIGBpbXBvcnQubWV0YS5ob3RgXG4gKi9cbmZ1bmN0aW9uIGFjY2VwdEhNUlVwZGF0ZShpbml0aWFsVXNlU3RvcmUsIGhvdCkge1xuICAgIC8vIHN0cmlwIGFzIG11Y2ggYXMgcG9zc2libGUgZnJvbSBpaWZlLnByb2RcbiAgICBpZiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH1cbiAgICByZXR1cm4gKG5ld01vZHVsZSkgPT4ge1xuICAgICAgICBjb25zdCBwaW5pYSA9IGhvdC5kYXRhLnBpbmlhIHx8IGluaXRpYWxVc2VTdG9yZS5fcGluaWE7XG4gICAgICAgIGlmICghcGluaWEpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgc3RvcmUgaXMgc3RpbGwgbm90IHVzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgcGluaWEgaW5zdGFuY2UgYWNyb3NzIGxvYWRzXG4gICAgICAgIGhvdC5kYXRhLnBpbmlhID0gcGluaWE7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnb3QgZGF0YScsIG5ld1N0b3JlKVxuICAgICAgICBmb3IgKGNvbnN0IGV4cG9ydE5hbWUgaW4gbmV3TW9kdWxlKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VTdG9yZSA9IG5ld01vZHVsZVtleHBvcnROYW1lXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGVja2luZyBmb3InLCBleHBvcnROYW1lKVxuICAgICAgICAgICAgaWYgKGlzVXNlU3RvcmUodXNlU3RvcmUpICYmIHBpbmlhLl9zLmhhcyh1c2VTdG9yZS4kaWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0FjY2VwdGluZyB1cGRhdGUgZm9yJywgdXNlU3RvcmUuJGlkKVxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gdXNlU3RvcmUuJGlkO1xuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gaW5pdGlhbFVzZVN0b3JlLiRpZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSBpZCBvZiB0aGUgc3RvcmUgY2hhbmdlZCBmcm9tIFwiJHtpbml0aWFsVXNlU3RvcmUuJGlkfVwiIHRvIFwiJHtpZH1cIi4gUmVsb2FkaW5nLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gaW1wb3J0Lm1ldGEuaG90LmludmFsaWRhdGUoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaG90LmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTdG9yZSA9IHBpbmlhLl9zLmdldChpZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ1N0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUGluaWFdOiBza2lwcGluZyBobXIgYmVjYXVzZSBzdG9yZSBkb2Vzbid0IGV4aXN0IHlldGApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVzZVN0b3JlKHBpbmlhLCBleGlzdGluZ1N0b3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7IH07XG5mdW5jdGlvbiBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIGRldGFjaGVkLCBvbkNsZWFudXAgPSBub29wKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5wdXNoKGNhbGxiYWNrKTtcbiAgICBjb25zdCByZW1vdmVTdWJzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkeCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIG9uQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGdldEN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgIG9uU2NvcGVEaXNwb3NlKHJlbW92ZVN1YnNjcmlwdGlvbik7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XG59XG5mdW5jdGlvbiB0cmlnZ2VyU3Vic2NyaXB0aW9ucyhzdWJzY3JpcHRpb25zLCAuLi5hcmdzKSB7XG4gICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0pO1xufVxuXG5jb25zdCBmYWxsYmFja1J1bldpdGhDb250ZXh0ID0gKGZuKSA9PiBmbigpO1xuZnVuY3Rpb24gbWVyZ2VSZWFjdGl2ZU9iamVjdHModGFyZ2V0LCBwYXRjaFRvQXBwbHkpIHtcbiAgICAvLyBIYW5kbGUgTWFwIGluc3RhbmNlc1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXAgJiYgcGF0Y2hUb0FwcGx5IGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgIHBhdGNoVG9BcHBseS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB0YXJnZXQuc2V0KGtleSwgdmFsdWUpKTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIFNldCBpbnN0YW5jZXNcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgU2V0ICYmIHBhdGNoVG9BcHBseSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICBwYXRjaFRvQXBwbHkuZm9yRWFjaCh0YXJnZXQuYWRkLCB0YXJnZXQpO1xuICAgIH1cbiAgICAvLyBubyBuZWVkIHRvIGdvIHRocm91Z2ggc3ltYm9scyBiZWNhdXNlIHRoZXkgY2Fubm90IGJlIHNlcmlhbGl6ZWQgYW55d2F5XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGF0Y2hUb0FwcGx5KSB7XG4gICAgICAgIGlmICghcGF0Y2hUb0FwcGx5Lmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3Qgc3ViUGF0Y2ggPSBwYXRjaFRvQXBwbHlba2V5XTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QodGFyZ2V0VmFsdWUpICYmXG4gICAgICAgICAgICBpc1BsYWluT2JqZWN0KHN1YlBhdGNoKSAmJlxuICAgICAgICAgICAgdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkgJiZcbiAgICAgICAgICAgICFpc1JlZihzdWJQYXRjaCkgJiZcbiAgICAgICAgICAgICFpc1JlYWN0aXZlKHN1YlBhdGNoKSkge1xuICAgICAgICAgICAgLy8gTk9URTogaGVyZSBJIHdhbnRlZCB0byB3YXJuIGFib3V0IGluY29uc2lzdGVudCB0eXBlcyBidXQgaXQncyBub3QgcG9zc2libGUgYmVjYXVzZSBpbiBzZXR1cCBzdG9yZXMgb25lIG1pZ2h0XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSBhcyBhIGNlcnRhaW4gdHlwZSBlLmcuIGEgTWFwLCBhbmQgdGhlbiBmb3Igc29tZSByZWFzb24sIGR1cmluZyBTU1IsIGNoYW5nZSB0aGF0XG4gICAgICAgICAgICAvLyB0byBgdW5kZWZpbmVkYC4gV2hlbiB0cnlpbmcgdG8gaHlkcmF0ZSwgd2Ugd2FudCB0byBvdmVycmlkZSB0aGUgTWFwIHdpdGggYHVuZGVmaW5lZGAuXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lcmdlUmVhY3RpdmVPYmplY3RzKHRhcmdldFZhbHVlLCBzdWJQYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBzdWJQYXRjaCBpcyBhIHZhbGlkIHZhbHVlXG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHN1YlBhdGNoO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG5jb25zdCBza2lwSHlkcmF0ZVN5bWJvbCA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgID8gU3ltYm9sKCdwaW5pYTpza2lwSHlkcmF0aW9uJylcbiAgICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFN5bWJvbCgpO1xuY29uc3Qgc2tpcEh5ZHJhdGVNYXAgPSAvKiNfX1BVUkVfXyovIG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIFRlbGxzIFBpbmlhIHRvIHNraXAgdGhlIGh5ZHJhdGlvbiBwcm9jZXNzIG9mIGEgZ2l2ZW4gb2JqZWN0LiBUaGlzIGlzIHVzZWZ1bCBpbiBzZXR1cCBzdG9yZXMgKG9ubHkpIHdoZW4geW91IHJldHVybiBhXG4gKiBzdGF0ZWZ1bCBvYmplY3QgaW4gdGhlIHN0b3JlIGJ1dCBpdCBpc24ndCByZWFsbHkgc3RhdGUuIGUuZy4gcmV0dXJuaW5nIGEgcm91dGVyIGluc3RhbmNlIGluIGEgc2V0dXAgc3RvcmUuXG4gKlxuICogQHBhcmFtIG9iaiAtIHRhcmdldCBvYmplY3RcbiAqIEByZXR1cm5zIG9ialxuICovXG5mdW5jdGlvbiBza2lwSHlkcmF0ZShvYmopIHtcbiAgICByZXR1cm4gaXNWdWUyXG4gICAgICAgID8gLy8gaW4gQHZ1ZS9jb21wb3NpdGlvbi1hcGksIHRoZSByZWZzIGFyZSBzZWFsZWQgc28gZGVmaW5lUHJvcGVydHkgZG9lc24ndCB3b3JrLi4uXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBza2lwSHlkcmF0ZU1hcC5zZXQob2JqLCAxKSAmJiBvYmpcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBza2lwSHlkcmF0ZVN5bWJvbCwge30pO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBzaG91bGQgYmUgaHlkcmF0ZWRcbiAqXG4gKiBAcGFyYW0gb2JqIC0gdGFyZ2V0IHZhcmlhYmxlXG4gKiBAcmV0dXJucyB0cnVlIGlmIGBvYmpgIHNob3VsZCBiZSBoeWRyYXRlZFxuICovXG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlKG9iaikge1xuICAgIHJldHVybiBpc1Z1ZTJcbiAgICAgICAgPyAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyAhc2tpcEh5ZHJhdGVNYXAuaGFzKG9iailcbiAgICAgICAgOiAhaXNQbGFpbk9iamVjdChvYmopIHx8ICFvYmouaGFzT3duUHJvcGVydHkoc2tpcEh5ZHJhdGVTeW1ib2wpO1xufVxuY29uc3QgeyBhc3NpZ24gfSA9IE9iamVjdDtcbmZ1bmN0aW9uIGlzQ29tcHV0ZWQobykge1xuICAgIHJldHVybiAhIShpc1JlZihvKSAmJiBvLmVmZmVjdCk7XG59XG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zU3RvcmUoaWQsIG9wdGlvbnMsIHBpbmlhLCBob3QpIHtcbiAgICBjb25zdCB7IHN0YXRlLCBhY3Rpb25zLCBnZXR0ZXJzIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHBpbmlhLnN0YXRlLnZhbHVlW2lkXTtcbiAgICBsZXQgc3RvcmU7XG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICAgIGlmICghaW5pdGlhbFN0YXRlICYmICghKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICFob3QpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWUsIGlkLCBzdGF0ZSA/IHN0YXRlKCkgOiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwaW5pYS5zdGF0ZS52YWx1ZVtpZF0gPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhdm9pZCBjcmVhdGluZyBhIHN0YXRlIGluIHBpbmlhLnN0YXRlLnZhbHVlXG4gICAgICAgIGNvbnN0IGxvY2FsU3RhdGUgPSAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaG90XG4gICAgICAgICAgICA/IC8vIHVzZSByZWYoKSB0byB1bndyYXAgcmVmcyBpbnNpZGUgc3RhdGUgVE9ETzogY2hlY2sgaWYgdGhpcyBpcyBzdGlsbCBuZWNlc3NhcnlcbiAgICAgICAgICAgICAgICB0b1JlZnMocmVmKHN0YXRlID8gc3RhdGUoKSA6IHt9KS52YWx1ZSlcbiAgICAgICAgICAgIDogdG9SZWZzKHBpbmlhLnN0YXRlLnZhbHVlW2lkXSk7XG4gICAgICAgIHJldHVybiBhc3NpZ24obG9jYWxTdGF0ZSwgYWN0aW9ucywgT2JqZWN0LmtleXMoZ2V0dGVycyB8fCB7fSkucmVkdWNlKChjb21wdXRlZEdldHRlcnMsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbmFtZSBpbiBsb2NhbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IEEgZ2V0dGVyIGNhbm5vdCBoYXZlIHRoZSBzYW1lIG5hbWUgYXMgYW5vdGhlciBzdGF0ZSBwcm9wZXJ0eS4gUmVuYW1lIG9uZSBvZiB0aGVtLiBGb3VuZCB3aXRoIFwiJHtuYW1lfVwiIGluIHN0b3JlIFwiJHtpZH1cIi5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXB1dGVkR2V0dGVyc1tuYW1lXSA9IG1hcmtSYXcoY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY3JlYXRlZCBqdXN0IGJlZm9yZVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlID0gcGluaWEuX3MuZ2V0KGlkKTtcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBjcm9zcyB1c2luZyBzdG9yZXNcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGlmIChpc1Z1ZTIgJiYgIXN0b3JlLl9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBnZXR0ZXJzIVtuYW1lXS5jYWxsKGNvbnRleHQsIGNvbnRleHQpXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogYXZvaWQgcmVhZGluZyB0aGUgZ2V0dGVyIHdoaWxlIGFzc2lnbmluZyB3aXRoIGEgZ2xvYmFsIHZhcmlhYmxlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcnNbbmFtZV0uY2FsbChzdG9yZSwgc3RvcmUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVkR2V0dGVycztcbiAgICAgICAgfSwge30pKTtcbiAgICB9XG4gICAgc3RvcmUgPSBjcmVhdGVTZXR1cFN0b3JlKGlkLCBzZXR1cCwgb3B0aW9ucywgcGluaWEsIGhvdCwgdHJ1ZSk7XG4gICAgcmV0dXJuIHN0b3JlO1xufVxuZnVuY3Rpb24gY3JlYXRlU2V0dXBTdG9yZSgkaWQsIHNldHVwLCBvcHRpb25zID0ge30sIHBpbmlhLCBob3QsIGlzT3B0aW9uc1N0b3JlKSB7XG4gICAgbGV0IHNjb3BlO1xuICAgIGNvbnN0IG9wdGlvbnNGb3JQbHVnaW4gPSBhc3NpZ24oeyBhY3Rpb25zOiB7fSB9LCBvcHRpb25zKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwaW5pYS5fZS5hY3RpdmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQaW5pYSBkZXN0cm95ZWQnKTtcbiAgICB9XG4gICAgLy8gd2F0Y2hlciBvcHRpb25zIGZvciAkc3Vic2NyaWJlXG4gICAgY29uc3QgJHN1YnNjcmliZU9wdGlvbnMgPSB7XG4gICAgICAgIGRlZXA6IHRydWUsXG4gICAgICAgIC8vIGZsdXNoOiAncG9zdCcsXG4gICAgfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVnVlMikge1xuICAgICAgICAkc3Vic2NyaWJlT3B0aW9ucy5vblRyaWdnZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoaXNMaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cyA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRyaWdnZXJpbmcgdGhpcyB3aGlsZSB0aGUgc3RvcmUgaXMgYmVpbmcgYnVpbHQgYW5kIHRoZSBzdGF0ZSBpcyBiZWluZyBzZXQgaW4gcGluaWFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTGlzdGVuaW5nID09IGZhbHNlICYmICFzdG9yZS5faG90VXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBsZXQgcGF0Y2ggc2VuZCBhbGwgdGhlIGV2ZW50cyB0b2dldGhlciBsYXRlclxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVidWdnZXJFdmVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnZ2VyRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign8J+NjSBkZWJ1Z2dlckV2ZW50cyBzaG91bGQgYmUgYW4gYXJyYXkuIFRoaXMgaXMgbW9zdCBsaWtlbHkgYW4gaW50ZXJuYWwgUGluaWEgYnVnLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gaW50ZXJuYWwgc3RhdGVcbiAgICBsZXQgaXNMaXN0ZW5pbmc7IC8vIHNldCB0byB0cnVlIGF0IHRoZSBlbmRcbiAgICBsZXQgaXNTeW5jTGlzdGVuaW5nOyAvLyBzZXQgdG8gdHJ1ZSBhdCB0aGUgZW5kXG4gICAgbGV0IHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICBsZXQgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIGxldCBkZWJ1Z2dlckV2ZW50cztcbiAgICBjb25zdCBpbml0aWFsU3RhdGUgPSBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdO1xuICAgIC8vIGF2b2lkIHNldHRpbmcgdGhlIHN0YXRlIGZvciBvcHRpb24gc3RvcmVzIGlmIGl0IGlzIHNldFxuICAgIC8vIGJ5IHRoZSBzZXR1cFxuICAgIGlmICghaXNPcHRpb25zU3RvcmUgJiYgIWluaXRpYWxTdGF0ZSAmJiAoIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCAhaG90KSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGlzVnVlMikge1xuICAgICAgICAgICAgc2V0KHBpbmlhLnN0YXRlLnZhbHVlLCAkaWQsIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0gPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBob3RTdGF0ZSA9IHJlZih7fSk7XG4gICAgLy8gYXZvaWQgdHJpZ2dlcmluZyB0b28gbWFueSBsaXN0ZW5lcnNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzExMjlcbiAgICBsZXQgYWN0aXZlTGlzdGVuZXI7XG4gICAgZnVuY3Rpb24gJHBhdGNoKHBhcnRpYWxTdGF0ZU9yTXV0YXRvcikge1xuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uTXV0YXRpb247XG4gICAgICAgIGlzTGlzdGVuaW5nID0gaXNTeW5jTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgIC8vIHJlc2V0IHRoZSBkZWJ1Z2dlciBldmVudHMgc2luY2UgcGF0Y2hlcyBhcmUgc3luY1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBkZWJ1Z2dlckV2ZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFydGlhbFN0YXRlT3JNdXRhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBwYXJ0aWFsU3RhdGVPck11dGF0b3IocGluaWEuc3RhdGUudmFsdWVbJGlkXSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25NdXRhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBNdXRhdGlvblR5cGUucGF0Y2hGdW5jdGlvbixcbiAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXJnZVJlYWN0aXZlT2JqZWN0cyhwaW5pYS5zdGF0ZS52YWx1ZVskaWRdLCBwYXJ0aWFsU3RhdGVPck11dGF0b3IpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uTXV0YXRpb24gPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogTXV0YXRpb25UeXBlLnBhdGNoT2JqZWN0LFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBhcnRpYWxTdGF0ZU9yTXV0YXRvcixcbiAgICAgICAgICAgICAgICBzdG9yZUlkOiAkaWQsXG4gICAgICAgICAgICAgICAgZXZlbnRzOiBkZWJ1Z2dlckV2ZW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXlMaXN0ZW5lcklkID0gKGFjdGl2ZUxpc3RlbmVyID0gU3ltYm9sKCkpO1xuICAgICAgICBuZXh0VGljaygpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUxpc3RlbmVyID09PSBteUxpc3RlbmVySWQpIHtcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAvLyBiZWNhdXNlIHdlIHBhdXNlZCB0aGUgd2F0Y2hlciwgd2UgbmVlZCB0byBtYW51YWxseSBjYWxsIHRoZSBzdWJzY3JpcHRpb25zXG4gICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKHN1YnNjcmlwdGlvbnMsIHN1YnNjcmlwdGlvbk11dGF0aW9uLCBwaW5pYS5zdGF0ZS52YWx1ZVskaWRdKTtcbiAgICB9XG4gICAgY29uc3QgJHJlc2V0ID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgPyBmdW5jdGlvbiAkcmVzZXQoKSB7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXRlIH0gPSBvcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSBzdGF0ZSA/IHN0YXRlKCkgOiB7fTtcbiAgICAgICAgICAgIC8vIHdlIHVzZSBhIHBhdGNoIHRvIGdyb3VwIGFsbCBjaGFuZ2VzIGludG8gb25lIHNpbmdsZSBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgIHRoaXMuJHBhdGNoKCgkc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NpZ24oJHN0YXRlLCBuZXdTdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGDwn42NOiBTdG9yZSBcIiR7JGlkfVwiIGlzIGJ1aWx0IHVzaW5nIHRoZSBzZXR1cCBzeW50YXggYW5kIGRvZXMgbm90IGltcGxlbWVudCAkcmVzZXQoKS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBub29wO1xuICAgIGZ1bmN0aW9uICRkaXNwb3NlKCkge1xuICAgICAgICBzY29wZS5zdG9wKCk7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgICAgYWN0aW9uU3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgICBwaW5pYS5fcy5kZWxldGUoJGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JhcHMgYW4gYWN0aW9uIHRvIGhhbmRsZSBzdWJzY3JpcHRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBuYW1lIG9mIHRoZSBhY3Rpb25cbiAgICAgKiBAcGFyYW0gYWN0aW9uIC0gYWN0aW9uIHRvIHdyYXBcbiAgICAgKiBAcmV0dXJucyBhIHdyYXBwZWQgYWN0aW9uIHRvIGhhbmRsZSBzdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcEFjdGlvbihuYW1lLCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZVBpbmlhKHBpbmlhKTtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBjb25zdCBhZnRlckNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgICAgICAgY29uc3Qgb25FcnJvckNhbGxiYWNrTGlzdCA9IFtdO1xuICAgICAgICAgICAgZnVuY3Rpb24gYWZ0ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBhZnRlckNhbGxiYWNrTGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBvbkVycm9yQ2FsbGJhY2tMaXN0LnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWN0aW9uU3Vic2NyaXB0aW9ucywge1xuICAgICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBzdG9yZSxcbiAgICAgICAgICAgICAgICBhZnRlcixcbiAgICAgICAgICAgICAgICBvbkVycm9yLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgcmV0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXQgPSBhY3Rpb24uYXBwbHkodGhpcyAmJiB0aGlzLiRpZCA9PT0gJGlkID8gdGhpcyA6IHN0b3JlLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgc3luYyBlcnJvcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKG9uRXJyb3JDYWxsYmFja0xpc3QsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldFxuICAgICAgICAgICAgICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMoYWZ0ZXJDYWxsYmFja0xpc3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlclN1YnNjcmlwdGlvbnMob25FcnJvckNhbGxiYWNrTGlzdCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBhZnRlciBjYWxsYmFja3NcbiAgICAgICAgICAgIHRyaWdnZXJTdWJzY3JpcHRpb25zKGFmdGVyQ2FsbGJhY2tMaXN0LCByZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgX2htclBheWxvYWQgPSAvKiNfX1BVUkVfXyovIG1hcmtSYXcoe1xuICAgICAgICBhY3Rpb25zOiB7fSxcbiAgICAgICAgZ2V0dGVyczoge30sXG4gICAgICAgIHN0YXRlOiBbXSxcbiAgICAgICAgaG90U3RhdGUsXG4gICAgfSk7XG4gICAgY29uc3QgcGFydGlhbFN0b3JlID0ge1xuICAgICAgICBfcDogcGluaWEsXG4gICAgICAgIC8vIF9zOiBzY29wZSxcbiAgICAgICAgJGlkLFxuICAgICAgICAkb25BY3Rpb246IGFkZFN1YnNjcmlwdGlvbi5iaW5kKG51bGwsIGFjdGlvblN1YnNjcmlwdGlvbnMpLFxuICAgICAgICAkcGF0Y2gsXG4gICAgICAgICRyZXNldCxcbiAgICAgICAgJHN1YnNjcmliZShjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVTdWJzY3JpcHRpb24gPSBhZGRTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9ucywgY2FsbGJhY2ssIG9wdGlvbnMuZGV0YWNoZWQsICgpID0+IHN0b3BXYXRjaGVyKCkpO1xuICAgICAgICAgICAgY29uc3Qgc3RvcFdhdGNoZXIgPSBzY29wZS5ydW4oKCkgPT4gd2F0Y2goKCkgPT4gcGluaWEuc3RhdGUudmFsdWVbJGlkXSwgKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZmx1c2ggPT09ICdzeW5jJyA/IGlzU3luY0xpc3RlbmluZyA6IGlzTGlzdGVuaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlSWQ6ICRpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE11dGF0aW9uVHlwZS5kaXJlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IGRlYnVnZ2VyRXZlbnRzLFxuICAgICAgICAgICAgICAgICAgICB9LCBzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgYXNzaWduKHt9LCAkc3Vic2NyaWJlT3B0aW9ucywgb3B0aW9ucykpKTtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVTdWJzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgICRkaXNwb3NlLFxuICAgIH07XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzVnVlMikge1xuICAgICAgICAvLyBzdGFydCBhcyBub24gcmVhZHlcbiAgICAgICAgcGFydGlhbFN0b3JlLl9yID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHN0b3JlID0gcmVhY3RpdmUoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IFVTRV9ERVZUT09MU1xuICAgICAgICA/IGFzc2lnbih7XG4gICAgICAgICAgICBfaG1yUGF5bG9hZCxcbiAgICAgICAgICAgIF9jdXN0b21Qcm9wZXJ0aWVzOiBtYXJrUmF3KG5ldyBTZXQoKSksIC8vIGRldnRvb2xzIGN1c3RvbSBwcm9wZXJ0aWVzXG4gICAgICAgIH0sIHBhcnRpYWxTdG9yZVxuICAgICAgICAvLyBtdXN0IGJlIGFkZGVkIGxhdGVyXG4gICAgICAgIC8vIHNldHVwU3RvcmVcbiAgICAgICAgKVxuICAgICAgICA6IHBhcnRpYWxTdG9yZSk7XG4gICAgLy8gc3RvcmUgdGhlIHBhcnRpYWwgc3RvcmUgbm93IHNvIHRoZSBzZXR1cCBvZiBzdG9yZXMgY2FuIGluc3RhbnRpYXRlIGVhY2ggb3RoZXIgYmVmb3JlIHRoZXkgYXJlIGZpbmlzaGVkIHdpdGhvdXRcbiAgICAvLyBjcmVhdGluZyBpbmZpbml0ZSBsb29wcy5cbiAgICBwaW5pYS5fcy5zZXQoJGlkLCBzdG9yZSk7XG4gICAgY29uc3QgcnVuV2l0aENvbnRleHQgPSAocGluaWEuX2EgJiYgcGluaWEuX2EucnVuV2l0aENvbnRleHQpIHx8IGZhbGxiYWNrUnVuV2l0aENvbnRleHQ7XG4gICAgLy8gVE9ETzogaWRlYSBjcmVhdGUgc2tpcFNlcmlhbGl6ZSB0aGF0IG1hcmtzIHByb3BlcnRpZXMgYXMgbm9uIHNlcmlhbGl6YWJsZSBhbmQgdGhleSBhcmUgc2tpcHBlZFxuICAgIGNvbnN0IHNldHVwU3RvcmUgPSBydW5XaXRoQ29udGV4dCgoKSA9PiBwaW5pYS5fZS5ydW4oKCkgPT4gKHNjb3BlID0gZWZmZWN0U2NvcGUoKSkucnVuKHNldHVwKSkpO1xuICAgIC8vIG92ZXJ3cml0ZSBleGlzdGluZyBhY3Rpb25zIHRvIHN1cHBvcnQgJG9uQWN0aW9uXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2V0dXBTdG9yZSkge1xuICAgICAgICBjb25zdCBwcm9wID0gc2V0dXBTdG9yZVtrZXldO1xuICAgICAgICBpZiAoKGlzUmVmKHByb3ApICYmICFpc0NvbXB1dGVkKHByb3ApKSB8fCBpc1JlYWN0aXZlKHByb3ApKSB7XG4gICAgICAgICAgICAvLyBtYXJrIGl0IGFzIGEgcGllY2Ugb2Ygc3RhdGUgdG8gYmUgc2VyaWFsaXplZFxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QpIHtcbiAgICAgICAgICAgICAgICBzZXQoaG90U3RhdGUudmFsdWUsIGtleSwgdG9SZWYoc2V0dXBTdG9yZSwga2V5KSk7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlT3B0aW9uU3RvcmUgZGlyZWN0bHkgc2V0cyB0aGUgc3RhdGUgaW4gcGluaWEuc3RhdGUudmFsdWUgc28gd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4ganVzdCBza2lwIHRoYXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpc09wdGlvbnNTdG9yZSkge1xuICAgICAgICAgICAgICAgIC8vIGluIHNldHVwIHN0b3JlcyB3ZSBtdXN0IGh5ZHJhdGUgdGhlIHN0YXRlIGFuZCBzeW5jIHBpbmlhIHN0YXRlIHRyZWUgd2l0aCB0aGUgcmVmcyB0aGUgdXNlciBqdXN0IGNyZWF0ZWRcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFN0YXRlICYmIHNob3VsZEh5ZHJhdGUocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUmVmKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wLnZhbHVlID0gaW5pdGlhbFN0YXRlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9iYWJseSBhIHJlYWN0aXZlIG9iamVjdCwgbGV0cyByZWN1cnNpdmVseSBhc3NpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHByb3AgaXMgdW5rbm93blxuICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VSZWFjdGl2ZU9iamVjdHMocHJvcCwgaW5pdGlhbFN0YXRlW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWYgdG8gdGhlIHBpbmlhIHN0YXRlIHRvIGtlZXAgZXZlcnl0aGluZyBpbiBzeW5jXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgaWYgKGlzVnVlMikge1xuICAgICAgICAgICAgICAgICAgICBzZXQocGluaWEuc3RhdGUudmFsdWVbJGlkXSwga2V5LCBwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF1ba2V5XSA9IHByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5zdGF0ZS5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhY3Rpb25cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogd2UgYXJlIG92ZXJyaWRpbmcgdGhlIGZ1bmN0aW9uIHdlIGF2b2lkIHdyYXBwaW5nIGlmXG4gICAgICAgICAgICBjb25zdCBhY3Rpb25WYWx1ZSA9IChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBwcm9wIDogd3JhcEFjdGlvbihrZXksIHByb3ApO1xuICAgICAgICAgICAgLy8gdGhpcyBhIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnQgc3RvcmUgYmVjYXVzZSB0aGUgaG90VXBkYXRlIG1ldGhvZCBuZWVkc1xuICAgICAgICAgICAgLy8gdG8gZG8gaXQgd2l0aCB0aGUgcmlnaHQgY29udGV4dFxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgICAgICAgICAgc2V0KHNldHVwU3RvcmUsIGtleSwgYWN0aW9uVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIHNldHVwU3RvcmVba2V5XSA9IGFjdGlvblZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICBfaG1yUGF5bG9hZC5hY3Rpb25zW2tleV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbGlzdCBhY3Rpb25zIHNvIHRoZXkgY2FuIGJlIHVzZWQgaW4gcGx1Z2luc1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgb3B0aW9uc0ZvclBsdWdpbi5hY3Rpb25zW2tleV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgLy8gYWRkIGdldHRlcnMgZm9yIGRldnRvb2xzXG4gICAgICAgICAgICBpZiAoaXNDb21wdXRlZChwcm9wKSkge1xuICAgICAgICAgICAgICAgIF9obXJQYXlsb2FkLmdldHRlcnNba2V5XSA9IGlzT3B0aW9uc1N0b3JlXG4gICAgICAgICAgICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5nZXR0ZXJzW2tleV1cbiAgICAgICAgICAgICAgICAgICAgOiBwcm9wO1xuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2V0dGVycyA9IHNldHVwU3RvcmUuX2dldHRlcnMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHNhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZXR1cFN0b3JlLl9nZXR0ZXJzID0gbWFya1JhdyhbXSkpO1xuICAgICAgICAgICAgICAgICAgICBnZXR0ZXJzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIGFjdGlvbiBwcm9wZXJ0aWVzXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzVnVlMikge1xuICAgICAgICBPYmplY3Qua2V5cyhzZXR1cFN0b3JlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIHNldChzdG9yZSwga2V5LCBzZXR1cFN0b3JlW2tleV0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFzc2lnbihzdG9yZSwgc2V0dXBTdG9yZSk7XG4gICAgICAgIC8vIGFsbG93cyByZXRyaWV2aW5nIHJlYWN0aXZlIG9iamVjdHMgd2l0aCBgc3RvcmVUb1JlZnMoKWAuIE11c3QgYmUgY2FsbGVkIGFmdGVyIGFzc2lnbmluZyB0byB0aGUgcmVhY3RpdmUgb2JqZWN0LlxuICAgICAgICAvLyBNYWtlIGBzdG9yZVRvUmVmcygpYCB3b3JrIHdpdGggYHJlYWN0aXZlKClgICM3OTlcbiAgICAgICAgYXNzaWduKHRvUmF3KHN0b3JlKSwgc2V0dXBTdG9yZSk7XG4gICAgfVxuICAgIC8vIHVzZSB0aGlzIGluc3RlYWQgb2YgYSBjb21wdXRlZCB3aXRoIHNldHRlciB0byBiZSBhYmxlIHRvIGNyZWF0ZSBpdCBhbnl3aGVyZVxuICAgIC8vIHdpdGhvdXQgbGlua2luZyB0aGUgY29tcHV0ZWQgbGlmZXNwYW4gdG8gd2hlcmV2ZXIgdGhlIHN0b3JlIGlzIGZpcnN0XG4gICAgLy8gY3JlYXRlZC5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsICckc3RhdGUnLCB7XG4gICAgICAgIGdldDogKCkgPT4gKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBob3QgPyBob3RTdGF0ZS52YWx1ZSA6IHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0pLFxuICAgICAgICBzZXQ6IChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2Fubm90IHNldCBob3RTdGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHBhdGNoKCgkc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBhc3NpZ24oJHN0YXRlLCBzdGF0ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBhZGQgdGhlIGhvdFVwZGF0ZSBiZWZvcmUgcGx1Z2lucyB0byBhbGxvdyB0aGVtIHRvIG92ZXJyaWRlIGl0XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIHN0b3JlLl9ob3RVcGRhdGUgPSBtYXJrUmF3KChuZXdTdG9yZSkgPT4ge1xuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld1N0b3JlLl9obXJQYXlsb2FkLnN0YXRlLmZvckVhY2goKHN0YXRlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlS2V5IGluIHN0b3JlLiRzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZVRhcmdldCA9IG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFN0YXRlU291cmNlID0gc3RvcmUuJHN0YXRlW3N0YXRlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdTdGF0ZVRhcmdldCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGxhaW5PYmplY3QobmV3U3RhdGVUYXJnZXQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BsYWluT2JqZWN0KG9sZFN0YXRlU291cmNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hPYmplY3QobmV3U3RhdGVUYXJnZXQsIG9sZFN0YXRlU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZmVyIHRoZSByZWZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0b3JlLiRzdGF0ZVtzdGF0ZUtleV0gPSBvbGRTdGF0ZVNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBwYXRjaCBkaXJlY3QgYWNjZXNzIHByb3BlcnRpZXMgdG8gYWxsb3cgc3RvcmUuc3RhdGVQcm9wZXJ0eSB0byB3b3JrIGFzXG4gICAgICAgICAgICAgICAgLy8gc3RvcmUuJHN0YXRlLnN0YXRlUHJvcGVydHlcbiAgICAgICAgICAgICAgICBzZXQoc3RvcmUsIHN0YXRlS2V5LCB0b1JlZihuZXdTdG9yZS4kc3RhdGUsIHN0YXRlS2V5KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBkZWxldGVkIHN0YXRlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHN0b3JlLiRzdGF0ZSkuZm9yRWFjaCgoc3RhdGVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShzdGF0ZUtleSBpbiBuZXdTdG9yZS4kc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbChzdG9yZSwgc3RhdGVLZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gYXZvaWQgZGV2dG9vbHMgbG9nZ2luZyB0aGlzIGFzIGEgbXV0YXRpb25cbiAgICAgICAgICAgIGlzTGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHBpbmlhLnN0YXRlLnZhbHVlWyRpZF0gPSB0b1JlZihuZXdTdG9yZS5faG1yUGF5bG9hZCwgJ2hvdFN0YXRlJyk7XG4gICAgICAgICAgICBpc1N5bmNMaXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgbmV4dFRpY2soKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBpbiBuZXdTdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3U3RvcmVbYWN0aW9uTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBhY3Rpb25OYW1lLCB3cmFwQWN0aW9uKGFjdGlvbk5hbWUsIGFjdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogZG9lcyB0aGlzIHdvcmsgaW4gYm90aCBzZXR1cCBhbmQgb3B0aW9uIHN0b3JlP1xuICAgICAgICAgICAgZm9yIChjb25zdCBnZXR0ZXJOYW1lIGluIG5ld1N0b3JlLl9obXJQYXlsb2FkLmdldHRlcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBnZXR0ZXIgPSBuZXdTdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzW2dldHRlck5hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdldHRlclZhbHVlID0gaXNPcHRpb25zU3RvcmVcbiAgICAgICAgICAgICAgICAgICAgPyAvLyBzcGVjaWFsIGhhbmRsaW5nIG9mIG9wdGlvbnMgYXBpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChzdG9yZSwgc3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBnZXR0ZXI7XG4gICAgICAgICAgICAgICAgc2V0KHN0b3JlLCBnZXR0ZXJOYW1lLCBnZXR0ZXJWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZW1vdmUgZGVsZXRlZCBnZXR0ZXJzXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS5faG1yUGF5bG9hZC5nZXR0ZXJzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuZ2V0dGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBhY3Rpb25zXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzdG9yZS5faG1yUGF5bG9hZC5hY3Rpb25zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbmV3U3RvcmUuX2htclBheWxvYWQuYWN0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsKHN0b3JlLCBrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSB2YWx1ZXMgdXNlZCBpbiBkZXZ0b29scyBhbmQgdG8gYWxsb3cgZGVsZXRpbmcgbmV3IHByb3BlcnRpZXMgbGF0ZXIgb25cbiAgICAgICAgICAgIHN0b3JlLl9obXJQYXlsb2FkID0gbmV3U3RvcmUuX2htclBheWxvYWQ7XG4gICAgICAgICAgICBzdG9yZS5fZ2V0dGVycyA9IG5ld1N0b3JlLl9nZXR0ZXJzO1xuICAgICAgICAgICAgc3RvcmUuX2hvdFVwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XG4gICAgICAgIGNvbnN0IG5vbkVudW1lcmFibGUgPSB7XG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIC8vIGF2b2lkIHdhcm5pbmcgb24gZGV2dG9vbHMgdHJ5aW5nIHRvIGRpc3BsYXkgdGhpcyBwcm9wZXJ0eVxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIFsnX3AnLCAnX2htclBheWxvYWQnLCAnX2dldHRlcnMnLCAnX2N1c3RvbVByb3BlcnRpZXMnXS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RvcmUsIHAsIGFzc2lnbih7IHZhbHVlOiBzdG9yZVtwXSB9LCBub25FbnVtZXJhYmxlKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNWdWUyKSB7XG4gICAgICAgIC8vIG1hcmsgdGhlIHN0b3JlIGFzIHJlYWR5IGJlZm9yZSBwbHVnaW5zXG4gICAgICAgIHN0b3JlLl9yID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gYXBwbHkgYWxsIHBsdWdpbnNcbiAgICBwaW5pYS5fcC5mb3JFYWNoKChleHRlbmRlcikgPT4ge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoVVNFX0RFVlRPT0xTKSB7XG4gICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gc2NvcGUucnVuKCgpID0+IGV4dGVuZGVyKHtcbiAgICAgICAgICAgICAgICBzdG9yZSxcbiAgICAgICAgICAgICAgICBhcHA6IHBpbmlhLl9hLFxuICAgICAgICAgICAgICAgIHBpbmlhLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNGb3JQbHVnaW4sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhleHRlbnNpb25zIHx8IHt9KS5mb3JFYWNoKChrZXkpID0+IHN0b3JlLl9jdXN0b21Qcm9wZXJ0aWVzLmFkZChrZXkpKTtcbiAgICAgICAgICAgIGFzc2lnbihzdG9yZSwgZXh0ZW5zaW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhc3NpZ24oc3RvcmUsIHNjb3BlLnJ1bigoKSA9PiBleHRlbmRlcih7XG4gICAgICAgICAgICAgICAgc3RvcmUsXG4gICAgICAgICAgICAgICAgYXBwOiBwaW5pYS5fYSxcbiAgICAgICAgICAgICAgICBwaW5pYSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zRm9yUGx1Z2luLFxuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgc3RvcmUuJHN0YXRlICYmXG4gICAgICAgIHR5cGVvZiBzdG9yZS4kc3RhdGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cGVvZiBzdG9yZS4kc3RhdGUuY29uc3RydWN0b3IgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgIXN0b3JlLiRzdGF0ZS5jb25zdHJ1Y3Rvci50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBb8J+NjV06IFRoZSBcInN0YXRlXCIgbXVzdCBiZSBhIHBsYWluIG9iamVjdC4gSXQgY2Fubm90IGJlXFxuYCArXG4gICAgICAgICAgICBgXFx0c3RhdGU6ICgpID0+IG5ldyBNeUNsYXNzKClcXG5gICtcbiAgICAgICAgICAgIGBGb3VuZCBpbiBzdG9yZSBcIiR7c3RvcmUuJGlkfVwiLmApO1xuICAgIH1cbiAgICAvLyBvbmx5IGFwcGx5IGh5ZHJhdGUgdG8gb3B0aW9uIHN0b3JlcyB3aXRoIGFuIGluaXRpYWwgc3RhdGUgaW4gcGluaWFcbiAgICBpZiAoaW5pdGlhbFN0YXRlICYmXG4gICAgICAgIGlzT3B0aW9uc1N0b3JlICYmXG4gICAgICAgIG9wdGlvbnMuaHlkcmF0ZSkge1xuICAgICAgICBvcHRpb25zLmh5ZHJhdGUoc3RvcmUuJHN0YXRlLCBpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgICBpc0xpc3RlbmluZyA9IHRydWU7XG4gICAgaXNTeW5jTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RvcmU7XG59XG5mdW5jdGlvbiBkZWZpbmVTdG9yZShcbi8vIFRPRE86IGFkZCBwcm9wZXIgdHlwZXMgZnJvbSBhYm92ZVxuaWRPck9wdGlvbnMsIHNldHVwLCBzZXR1cE9wdGlvbnMpIHtcbiAgICBsZXQgaWQ7XG4gICAgbGV0IG9wdGlvbnM7XG4gICAgY29uc3QgaXNTZXR1cFN0b3JlID0gdHlwZW9mIHNldHVwID09PSAnZnVuY3Rpb24nO1xuICAgIGlmICh0eXBlb2YgaWRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlkID0gaWRPck9wdGlvbnM7XG4gICAgICAgIC8vIHRoZSBvcHRpb24gc3RvcmUgc2V0dXAgd2lsbCBjb250YWluIHRoZSBhY3R1YWwgb3B0aW9ucyBpbiB0aGlzIGNhc2VcbiAgICAgICAgb3B0aW9ucyA9IGlzU2V0dXBTdG9yZSA/IHNldHVwT3B0aW9ucyA6IHNldHVwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IGlkT3JPcHRpb25zO1xuICAgICAgICBpZCA9IGlkT3JPcHRpb25zLmlkO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW/CfjY1dOiBcImRlZmluZVN0b3JlKClcIiBtdXN0IGJlIHBhc3NlZCBhIHN0b3JlIGlkIGFzIGl0cyBmaXJzdCBhcmd1bWVudC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VTdG9yZShwaW5pYSwgaG90KSB7XG4gICAgICAgIGNvbnN0IGhhc0NvbnRleHQgPSBoYXNJbmplY3Rpb25Db250ZXh0KCk7XG4gICAgICAgIHBpbmlhID1cbiAgICAgICAgICAgIC8vIGluIHRlc3QgbW9kZSwgaWdub3JlIHRoZSBhcmd1bWVudCBwcm92aWRlZCBhcyB3ZSBjYW4gYWx3YXlzIHJldHJpZXZlIGFcbiAgICAgICAgICAgIC8vIHBpbmlhIGluc3RhbmNlIHdpdGggZ2V0QWN0aXZlUGluaWEoKVxuICAgICAgICAgICAgKChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSAmJiBhY3RpdmVQaW5pYSAmJiBhY3RpdmVQaW5pYS5fdGVzdGluZyA/IG51bGwgOiBwaW5pYSkgfHxcbiAgICAgICAgICAgICAgICAoaGFzQ29udGV4dCA/IGluamVjdChwaW5pYVN5bWJvbCwgbnVsbCkgOiBudWxsKTtcbiAgICAgICAgaWYgKHBpbmlhKVxuICAgICAgICAgICAgc2V0QWN0aXZlUGluaWEocGluaWEpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFhY3RpdmVQaW5pYSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBb8J+NjV06IFwiZ2V0QWN0aXZlUGluaWEoKVwiIHdhcyBjYWxsZWQgYnV0IHRoZXJlIHdhcyBubyBhY3RpdmUgUGluaWEuIEFyZSB5b3UgdHJ5aW5nIHRvIHVzZSBhIHN0b3JlIGJlZm9yZSBjYWxsaW5nIFwiYXBwLnVzZShwaW5pYSlcIj9cXG5gICtcbiAgICAgICAgICAgICAgICBgU2VlIGh0dHBzOi8vcGluaWEudnVlanMub3JnL2NvcmUtY29uY2VwdHMvb3V0c2lkZS1jb21wb25lbnQtdXNhZ2UuaHRtbCBmb3IgaGVscC5cXG5gICtcbiAgICAgICAgICAgICAgICBgVGhpcyB3aWxsIGZhaWwgaW4gcHJvZHVjdGlvbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBwaW5pYSA9IGFjdGl2ZVBpbmlhO1xuICAgICAgICBpZiAoIXBpbmlhLl9zLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0aW5nIHRoZSBzdG9yZSByZWdpc3RlcnMgaXQgaW4gYHBpbmlhLl9zYFxuICAgICAgICAgICAgaWYgKGlzU2V0dXBTdG9yZSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVNldHVwU3RvcmUoaWQsIHNldHVwLCBvcHRpb25zLCBwaW5pYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVPcHRpb25zU3RvcmUoaWQsIG9wdGlvbnMsIHBpbmlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogbm90IHRoZSByaWdodCBpbmZlcnJlZCB0eXBlXG4gICAgICAgICAgICAgICAgdXNlU3RvcmUuX3BpbmlhID0gcGluaWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RvcmUgPSBwaW5pYS5fcy5nZXQoaWQpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIGhvdCkge1xuICAgICAgICAgICAgY29uc3QgaG90SWQgPSAnX19ob3Q6JyArIGlkO1xuICAgICAgICAgICAgY29uc3QgbmV3U3RvcmUgPSBpc1NldHVwU3RvcmVcbiAgICAgICAgICAgICAgICA/IGNyZWF0ZVNldHVwU3RvcmUoaG90SWQsIHNldHVwLCBvcHRpb25zLCBwaW5pYSwgdHJ1ZSlcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZU9wdGlvbnNTdG9yZShob3RJZCwgYXNzaWduKHt9LCBvcHRpb25zKSwgcGluaWEsIHRydWUpO1xuICAgICAgICAgICAgaG90Ll9ob3RVcGRhdGUobmV3U3RvcmUpO1xuICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgc3RhdGUgcHJvcGVydGllcyBhbmQgdGhlIHN0b3JlIGZyb20gdGhlIGNhY2hlXG4gICAgICAgICAgICBkZWxldGUgcGluaWEuc3RhdGUudmFsdWVbaG90SWRdO1xuICAgICAgICAgICAgcGluaWEuX3MuZGVsZXRlKGhvdElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIElTX0NMSUVOVCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgICAgICAvLyBzYXZlIHN0b3JlcyBpbiBpbnN0YW5jZXMgdG8gYWNjZXNzIHRoZW0gZGV2dG9vbHNcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UucHJveHkgJiZcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBhZGRpbmcgc3RvcmVzIHRoYXQgYXJlIGp1c3QgYnVpbHQgZm9yIGhvdCBtb2R1bGUgcmVwbGFjZW1lbnRcbiAgICAgICAgICAgICAgICAhaG90KSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgdm0gPSBjdXJyZW50SW5zdGFuY2UucHJveHk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGUgPSAnX3BTdG9yZXMnIGluIHZtID8gdm0uX3BTdG9yZXMgOiAodm0uX3BTdG9yZXMgPSB7fSk7XG4gICAgICAgICAgICAgICAgY2FjaGVbaWRdID0gc3RvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RvcmVHZW5lcmljIGNhbm5vdCBiZSBjYXN0ZWQgdG93YXJkcyBTdG9yZVxuICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIHVzZVN0b3JlLiRpZCA9IGlkO1xuICAgIHJldHVybiB1c2VTdG9yZTtcbn1cblxubGV0IG1hcFN0b3JlU3VmZml4ID0gJ1N0b3JlJztcbi8qKlxuICogQ2hhbmdlcyB0aGUgc3VmZml4IGFkZGVkIGJ5IGBtYXBTdG9yZXMoKWAuIENhbiBiZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLlxuICogRGVmYXVsdHMgdG8gYFwiU3RvcmVcImAuIE1ha2Ugc3VyZSB0byBleHRlbmQgdGhlIE1hcFN0b3Jlc0N1c3RvbWl6YXRpb25cbiAqIGludGVyZmFjZSBpZiB5b3UgYXJlIHVzaW5nIFR5cGVTY3JpcHQuXG4gKlxuICogQHBhcmFtIHN1ZmZpeCAtIG5ldyBzdWZmaXhcbiAqL1xuZnVuY3Rpb24gc2V0TWFwU3RvcmVTdWZmaXgoc3VmZml4IC8vIGNvdWxkIGJlICdTdG9yZScgYnV0IHRoYXQgd291bGQgYmUgYW5ub3lpbmcgZm9yIEpTXG4pIHtcbiAgICBtYXBTdG9yZVN1ZmZpeCA9IHN1ZmZpeDtcbn1cbi8qKlxuICogQWxsb3dzIHVzaW5nIHN0b3JlcyB3aXRob3V0IHRoZSBjb21wb3NpdGlvbiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhblxuICogb2JqZWN0IHRvIGJlIHNwcmVhZCBpbiB0aGUgYGNvbXB1dGVkYCBmaWVsZCBvZiBhIGNvbXBvbmVudC4gSXQgYWNjZXB0cyBhIGxpc3RcbiAqIG9mIHN0b3JlIGRlZmluaXRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogZXhwb3J0IGRlZmF1bHQge1xuICogICBjb21wdXRlZDoge1xuICogICAgIC8vIG90aGVyIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAqICAgICAuLi5tYXBTdG9yZXModXNlVXNlclN0b3JlLCB1c2VDYXJ0U3RvcmUpXG4gKiAgIH0sXG4gKlxuICogICBjcmVhdGVkKCkge1xuICogICAgIHRoaXMudXNlclN0b3JlIC8vIHN0b3JlIHdpdGggaWQgXCJ1c2VyXCJcbiAqICAgICB0aGlzLmNhcnRTdG9yZSAvLyBzdG9yZSB3aXRoIGlkIFwiY2FydFwiXG4gKiAgIH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzdG9yZXMgLSBsaXN0IG9mIHN0b3JlcyB0byBtYXAgdG8gYW4gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcFN0b3JlcyguLi5zdG9yZXMpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIEFycmF5LmlzQXJyYXkoc3RvcmVzWzBdKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFvwn42NXTogRGlyZWN0bHkgcGFzcyBhbGwgc3RvcmVzIHRvIFwibWFwU3RvcmVzKClcIiB3aXRob3V0IHB1dHRpbmcgdGhlbSBpbiBhbiBhcnJheTpcXG5gICtcbiAgICAgICAgICAgIGBSZXBsYWNlXFxuYCArXG4gICAgICAgICAgICBgXFx0bWFwU3RvcmVzKFt1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZV0pXFxuYCArXG4gICAgICAgICAgICBgd2l0aFxcbmAgK1xuICAgICAgICAgICAgYFxcdG1hcFN0b3Jlcyh1c2VBdXRoU3RvcmUsIHVzZUNhcnRTdG9yZSlcXG5gICtcbiAgICAgICAgICAgIGBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcbiAgICAgICAgc3RvcmVzID0gc3RvcmVzWzBdO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmVzLnJlZHVjZSgocmVkdWNlZCwgdXNlU3RvcmUpID0+IHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogJGlkIGlzIGFkZGVkIGJ5IGRlZmluZVN0b3JlXG4gICAgICAgIHJlZHVjZWRbdXNlU3RvcmUuJGlkICsgbWFwU3RvcmVTdWZmaXhdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGxvd3MgdXNpbmcgc3RhdGUgYW5kIGdldHRlcnMgZnJvbSBvbmUgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBjb21wdXRlZGAgZmllbGRcbiAqIG9mIGEgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB1c2VTdG9yZSAtIHN0b3JlIHRvIG1hcCBmcm9tXG4gKiBAcGFyYW0ga2V5c09yTWFwcGVyIC0gYXJyYXkgb3Igb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIG1hcFN0YXRlKHVzZVN0b3JlLCBrZXlzT3JNYXBwZXIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZWR1Y2VkO1xuICAgICAgICB9LCB7fSlcbiAgICAgICAgOiBPYmplY3Qua2V5cyhrZXlzT3JNYXBwZXIpLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh0aGlzLiRwaW5pYSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVLZXkgPSBrZXlzT3JNYXBwZXJba2V5XTtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc29tZSByZWFzb24gVFMgaXMgdW5hYmxlIHRvIGluZmVyIHRoZSB0eXBlIG9mIHN0b3JlS2V5IHRvIGJlIGFcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygc3RvcmVLZXkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBzdG9yZUtleS5jYWxsKHRoaXMsIHN0b3JlKVxuICAgICAgICAgICAgICAgICAgICA6IHN0b3JlW3N0b3JlS2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gcmVkdWNlZDtcbiAgICAgICAgfSwge30pO1xufVxuLyoqXG4gKiBBbGlhcyBmb3IgYG1hcFN0YXRlKClgLiBZb3Ugc2hvdWxkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cbiAqIEBkZXByZWNhdGVkIHVzZSBgbWFwU3RhdGUoKWAgaW5zdGVhZC5cbiAqL1xuY29uc3QgbWFwR2V0dGVycyA9IG1hcFN0YXRlO1xuLyoqXG4gKiBBbGxvd3MgZGlyZWN0bHkgdXNpbmcgYWN0aW9ucyBmcm9tIHlvdXIgc3RvcmUgd2l0aG91dCB1c2luZyB0aGUgY29tcG9zaXRpb25cbiAqIEFQSSAoYHNldHVwKClgKSBieSBnZW5lcmF0aW5nIGFuIG9iamVjdCB0byBiZSBzcHJlYWQgaW4gdGhlIGBtZXRob2RzYCBmaWVsZFxuICogb2YgYSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHVzZVN0b3JlIC0gc3RvcmUgdG8gbWFwIGZyb21cbiAqIEBwYXJhbSBrZXlzT3JNYXBwZXIgLSBhcnJheSBvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWFwQWN0aW9ucyh1c2VTdG9yZSwga2V5c09yTWFwcGVyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoa2V5c09yTWFwcGVyKVxuICAgICAgICA/IGtleXNPck1hcHBlci5yZWR1Y2UoKHJlZHVjZWQsIGtleSkgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgcmVkdWNlZFtrZXldID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleV0oLi4uYXJncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXlzT3JNYXBwZXJba2V5XV0oLi4uYXJncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KTtcbn1cbi8qKlxuICogQWxsb3dzIHVzaW5nIHN0YXRlIGFuZCBnZXR0ZXJzIGZyb20gb25lIHN0b3JlIHdpdGhvdXQgdXNpbmcgdGhlIGNvbXBvc2l0aW9uXG4gKiBBUEkgKGBzZXR1cCgpYCkgYnkgZ2VuZXJhdGluZyBhbiBvYmplY3QgdG8gYmUgc3ByZWFkIGluIHRoZSBgY29tcHV0ZWRgIGZpZWxkXG4gKiBvZiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gdXNlU3RvcmUgLSBzdG9yZSB0byBtYXAgZnJvbVxuICogQHBhcmFtIGtleXNPck1hcHBlciAtIGFycmF5IG9yIG9iamVjdFxuICovXG5mdW5jdGlvbiBtYXBXcml0YWJsZVN0YXRlKHVzZVN0b3JlLCBrZXlzT3JNYXBwZXIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzT3JNYXBwZXIpXG4gICAgICAgID8ga2V5c09yTWFwcGVyLnJlZHVjZSgocmVkdWNlZCwga2V5KSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICByZWR1Y2VkW2tleV0gPSB7XG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXNlU3RvcmUodGhpcy4kcGluaWEpW2tleV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBlYXNpZXIgdG8gdHlwZSBpdCBoZXJlIGFzIGFueVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHVzZVN0b3JlKHRoaXMuJHBpbmlhKVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KVxuICAgICAgICA6IE9iamVjdC5rZXlzKGtleXNPck1hcHBlcikucmVkdWNlKChyZWR1Y2VkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHJlZHVjZWRba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgZWFzaWVyIHRvIHR5cGUgaXQgaGVyZSBhcyBhbnlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh1c2VTdG9yZSh0aGlzLiRwaW5pYSlba2V5c09yTWFwcGVyW2tleV1dID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHJlZHVjZWQ7XG4gICAgICAgIH0sIHt9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCBvZiByZWZlcmVuY2VzIHdpdGggYWxsIHRoZSBzdGF0ZSwgZ2V0dGVycywgYW5kIHBsdWdpbi1hZGRlZFxuICogc3RhdGUgcHJvcGVydGllcyBvZiB0aGUgc3RvcmUuIFNpbWlsYXIgdG8gYHRvUmVmcygpYCBidXQgc3BlY2lmaWNhbGx5XG4gKiBkZXNpZ25lZCBmb3IgUGluaWEgc3RvcmVzIHNvIG1ldGhvZHMgYW5kIG5vbiByZWFjdGl2ZSBwcm9wZXJ0aWVzIGFyZVxuICogY29tcGxldGVseSBpZ25vcmVkLlxuICpcbiAqIEBwYXJhbSBzdG9yZSAtIHN0b3JlIHRvIGV4dHJhY3QgdGhlIHJlZnMgZnJvbVxuICovXG5mdW5jdGlvbiBzdG9yZVRvUmVmcyhzdG9yZSkge1xuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcGluaWEvaXNzdWVzLzg1MlxuICAgIC8vIEl0J3MgZWFzaWVyIHRvIGp1c3QgdXNlIHRvUmVmcygpIGV2ZW4gaWYgaXQgaW5jbHVkZXMgbW9yZSBzdHVmZlxuICAgIGlmIChpc1Z1ZTIpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdG9SZWZzIGluY2x1ZGUgbWV0aG9kcyBhbmQgb3RoZXJzXG4gICAgICAgIHJldHVybiB0b1JlZnMoc3RvcmUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RvcmUgPSB0b1JhdyhzdG9yZSk7XG4gICAgICAgIGNvbnN0IHJlZnMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3RvcmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3RvcmVba2V5XTtcbiAgICAgICAgICAgIGlmIChpc1JlZih2YWx1ZSkgfHwgaXNSZWFjdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0aGUga2V5IGlzIHN0YXRlIG9yIGdldHRlclxuICAgICAgICAgICAgICAgIHJlZnNba2V5XSA9XG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLVxuICAgICAgICAgICAgICAgICAgICB0b1JlZihzdG9yZSwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVmcztcbiAgICB9XG59XG5cbi8qKlxuICogVnVlIDIgUGx1Z2luIHRoYXQgbXVzdCBiZSBpbnN0YWxsZWQgZm9yIHBpbmlhIHRvIHdvcmsuIE5vdGUgKip5b3UgZG9uJ3QgbmVlZFxuICogdGhpcyBwbHVnaW4gaWYgeW91IGFyZSB1c2luZyBOdXh0LmpzKiouIFVzZSB0aGUgYGJ1aWxkTW9kdWxlYCBpbnN0ZWFkOlxuICogaHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvc3NyL251eHQuaHRtbC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBWdWUgZnJvbSAndnVlJ1xuICogaW1wb3J0IHsgUGluaWFWdWVQbHVnaW4sIGNyZWF0ZVBpbmlhIH0gZnJvbSAncGluaWEnXG4gKlxuICogVnVlLnVzZShQaW5pYVZ1ZVBsdWdpbilcbiAqIGNvbnN0IHBpbmlhID0gY3JlYXRlUGluaWEoKVxuICpcbiAqIG5ldyBWdWUoe1xuICogICBlbDogJyNhcHAnLFxuICogICAvLyAuLi5cbiAqICAgcGluaWEsXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIF9WdWUgLSBgVnVlYCBpbXBvcnRlZCBmcm9tICd2dWUnLlxuICovXG5jb25zdCBQaW5pYVZ1ZVBsdWdpbiA9IGZ1bmN0aW9uIChfVnVlKSB7XG4gICAgLy8gRXF1aXZhbGVudCBvZlxuICAgIC8vIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcGluaWEgPSBwaW5pYVxuICAgIF9WdWUubWl4aW4oe1xuICAgICAgICBiZWZvcmVDcmVhdGUoKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy4kb3B0aW9ucztcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnBpbmlhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGluaWEgPSBvcHRpb25zLnBpbmlhO1xuICAgICAgICAgICAgICAgIC8vIEhBQ0s6IHRha2VuIGZyb20gcHJvdmlkZSgpOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29tcG9zaXRpb24tYXBpL2Jsb2IvbWFpbi9zcmMvYXBpcy9pbmplY3QudHMjTDMxXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3Byb3ZpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVDYWNoZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19wcm92aWRlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gcHJvdmlkZUNhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiAodikgPT4gT2JqZWN0LmFzc2lnbihwcm92aWRlQ2FjaGUsIHYpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvdmlkZWRbcGluaWFTeW1ib2xdID0gcGluaWE7XG4gICAgICAgICAgICAgICAgLy8gcHJvcGFnYXRlIHRoZSBwaW5pYSBpbnN0YW5jZSBpbiBhbiBTU1IgZnJpZW5kbHkgd2F5XG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgYWRkaW5nIGl0IHRvIG51eHQgdHdpY2VcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy4kcGluaWEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcGluaWEgPSBwaW5pYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGluaWEuX2EgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmIChJU19DTElFTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2FsbGluZyB1c2VTdG9yZSgpIG91dHNpZGUgb2YgYSBjb21wb25lbnQgc2V0dXAgYWZ0ZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGFsbGluZyBwaW5pYSdzIHBsdWdpblxuICAgICAgICAgICAgICAgICAgICBzZXRBY3RpdmVQaW5pYShwaW5pYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChVU0VfREVWVE9PTFMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJQaW5pYURldnRvb2xzKHBpbmlhLl9hLCBwaW5pYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuJHBpbmlhICYmIG9wdGlvbnMucGFyZW50ICYmIG9wdGlvbnMucGFyZW50LiRwaW5pYSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHBpbmlhID0gb3B0aW9ucy5wYXJlbnQuJHBpbmlhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95ZWQoKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcFN0b3JlcztcbiAgICAgICAgfSxcbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IE11dGF0aW9uVHlwZSwgUGluaWFWdWVQbHVnaW4sIGFjY2VwdEhNUlVwZGF0ZSwgY3JlYXRlUGluaWEsIGRlZmluZVN0b3JlLCBnZXRBY3RpdmVQaW5pYSwgbWFwQWN0aW9ucywgbWFwR2V0dGVycywgbWFwU3RhdGUsIG1hcFN0b3JlcywgbWFwV3JpdGFibGVTdGF0ZSwgc2V0QWN0aXZlUGluaWEsIHNldE1hcFN0b3JlU3VmZml4LCBza2lwSHlkcmF0ZSwgc3RvcmVUb1JlZnMgfTtcbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInZ1ZVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIlZ1ZVRvYXN0XCIsIFtcInZ1ZVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJWdWVUb2FzdFwiXSA9IGZhY3RvcnkocmVxdWlyZShcInZ1ZVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiVnVlVG9hc3RcIl0gPSBmYWN0b3J5KHJvb3RbXCJWdWVcIl0pO1xufSkodGhpcywgKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk3Nl9fKSA9PiB7XG5yZXR1cm4gLyoqKioqKi8gKCgpID0+IHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHRcInVzZSBzdHJpY3RcIjtcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVzX18gPSAoe1xuXG4vKioqLyA3NzI6XG4vKioqLyAoKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSA9PiB7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoeyB2YWx1ZTogdHJ1ZSB9KSk7XG4vLyBydW50aW1lIGhlbHBlciBmb3Igc2V0dGluZyBwcm9wZXJ0aWVzIG9uIGNvbXBvbmVudHNcbi8vIGluIGEgdHJlZS1zaGFrYWJsZSB3YXlcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gKHNmYywgcHJvcHMpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBzZmMuX192Y2NPcHRzIHx8IHNmYztcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgcHJvcHMpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyA5NzY6XG4vKioqLyAoKG1vZHVsZSkgPT4ge1xuXG5tb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk3Nl9fO1xuXG4vKioqLyB9KVxuXG4vKioqKioqLyBcdH0pO1xuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG4vKioqKioqLyBcdFx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG4vKioqKioqLyBcdFx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovIFx0XG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMgKi9cbi8qKioqKiovIFx0KCgpID0+IHtcbi8qKioqKiovIFx0XHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcbi8qKioqKiovIFx0XHRcdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcbi8qKioqKiovIFx0XHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG4vKioqKioqLyBcdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcbi8qKioqKiovIFx0XHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqLyBcdH0pKCk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHQvKiB3ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kICovXG4vKioqKioqLyBcdCgoKSA9PiB7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKVxuLyoqKioqKi8gXHR9KSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Lyogd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCAqL1xuLyoqKioqKi8gXHQoKCkgPT4ge1xuLyoqKioqKi8gXHRcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuLyoqKioqKi8gXHRcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdFx0fVxuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi8gXHR9KSgpO1xuLyoqKioqKi8gXHRcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IHt9O1xuLy8gVGhpcyBlbnRyeSBuZWVkIHRvIGJlIHdyYXBwZWQgaW4gYW4gSUlGRSBiZWNhdXNlIGl0IG5lZWQgdG8gYmUgaXNvbGF0ZWQgYWdhaW5zdCBvdGhlciBtb2R1bGVzIGluIHRoZSBjaHVuay5cbigoKSA9PiB7XG4vLyBFU00gQ09NUEFUIEZMQUdcbl9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTtcblxuLy8gRVhQT1JUU1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIHtcbiAgVG9hc3RDb21wb25lbnQ6ICgpID0+ICgvKiByZWV4cG9ydCAqLyBDb21wb25lbnQpLFxuICBUb2FzdFBsdWdpbjogKCkgPT4gKC8qIGJpbmRpbmcgKi8gVG9hc3RQbHVnaW4pLFxuICBUb2FzdFBvc2l0aW9uczogKCkgPT4gKC8qIHJlZXhwb3J0ICovIHBvc2l0aW9ucyksXG4gIFwiZGVmYXVsdFwiOiAoKSA9PiAoLyogYmluZGluZyAqLyBzcmMpLFxuICB1c2VUb2FzdDogKCkgPT4gKC8qIHJlZXhwb3J0ICovIHVzZVRvYXN0KVxufSk7XG5cbi8vIEVYVEVSTkFMIE1PRFVMRTogZXh0ZXJuYWwge1wiY29tbW9uanNcIjpcInZ1ZVwiLFwiY29tbW9uanMyXCI6XCJ2dWVcIixcImFtZFwiOlwidnVlXCIsXCJyb290XCI6XCJWdWVcIn1cbnZhciBleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXyA9IF9fd2VicGFja19yZXF1aXJlX18oOTc2KTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy8ucG5wbS9iYWJlbC1sb2FkZXJAOS4xLjJfQGJhYmVsK2NvcmVANy4yMi4xX3dlYnBhY2tANS44NC4xL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTcuMS4xX0B2dWUrY29tcGlsZXItc2ZjQDMuMy40X3Z1ZUAzLjMuNF93ZWJwYWNrQDUuODQuMS9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L3RlbXBsYXRlTG9hZGVyLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTcuMS4xX0B2dWUrY29tcGlsZXItc2ZjQDMuMy40X3Z1ZUAzLjMuNF93ZWJwYWNrQDUuODQuMS9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLnVzZVswXSEuL3NyYy9qcy9Db21wb25lbnQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWY3M2M4YjRlXG5cbmNvbnN0IF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8uY3JlYXRlRWxlbWVudFZOb2RlKShcImRpdlwiLCB7XG4gIGNsYXNzOiBcInYtdG9hc3RfX2ljb25cIlxufSwgbnVsbCwgLTEpO1xuY29uc3QgX2hvaXN0ZWRfMiA9IFtcImlubmVySFRNTFwiXTtcbmZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHtcbiAgcmV0dXJuICgwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLm9wZW5CbG9jaykoKSwgKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8uY3JlYXRlQmxvY2spKGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLlRyYW5zaXRpb24sIHtcbiAgICBcImVudGVyLWFjdGl2ZS1jbGFzc1wiOiBfY3R4LnRyYW5zaXRpb24uZW50ZXIsXG4gICAgXCJsZWF2ZS1hY3RpdmUtY2xhc3NcIjogX2N0eC50cmFuc2l0aW9uLmxlYXZlXG4gIH0sIHtcbiAgICBkZWZhdWx0OiAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy53aXRoQ3R4KSgoKSA9PiBbKDAsZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8ud2l0aERpcmVjdGl2ZXMpKCgwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLmNyZWF0ZUVsZW1lbnRWTm9kZSkoXCJkaXZcIiwge1xuICAgICAgcmVmOiBcInJvb3RcIixcbiAgICAgIHJvbGU6IFwiYWxlcnRcIixcbiAgICAgIGNsYXNzOiAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5ub3JtYWxpemVDbGFzcykoW1widi10b2FzdF9faXRlbVwiLCBbYHYtdG9hc3RfX2l0ZW0tLSR7X2N0eC50eXBlfWAsIGB2LXRvYXN0X19pdGVtLS0ke19jdHgucG9zaXRpb259YF1dKSxcbiAgICAgIG9uTW91c2VvdmVyOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiBfY3R4LnRvZ2dsZVRpbWVyKHRydWUpKSxcbiAgICAgIG9uTW91c2VsZWF2ZTogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAkZXZlbnQgPT4gX2N0eC50b2dnbGVUaW1lcihmYWxzZSkpLFxuICAgICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfY3R4LndoZW5DbGlja2VkICYmIF9jdHgud2hlbkNsaWNrZWQoLi4uYXJndW1lbnRzKTtcbiAgICAgIH0pXG4gICAgfSwgW19ob2lzdGVkXzEsICgwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLmNyZWF0ZUVsZW1lbnRWTm9kZSkoXCJwXCIsIHtcbiAgICAgIGNsYXNzOiBcInYtdG9hc3RfX3RleHRcIixcbiAgICAgIGlubmVySFRNTDogX2N0eC5tZXNzYWdlXG4gICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMildLCAzNCksIFtbZXh0ZXJuYWxfY29tbW9uanNfdnVlX2NvbW1vbmpzMl92dWVfYW1kX3Z1ZV9yb290X1Z1ZV8udlNob3csIF9jdHguaXNBY3RpdmVdXSldKSxcbiAgICBfOiAxXG4gIH0sIDgsIFtcImVudGVyLWFjdGl2ZS1jbGFzc1wiLCBcImxlYXZlLWFjdGl2ZS1jbGFzc1wiXSk7XG59XG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvQ29tcG9uZW50LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mNzNjOGI0ZVxuXG47Ly8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvanMvaGVscGVycy5qc1xuXG5mdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsKSB7XG4gIGlmICh0eXBlb2YgZWwucmVtb3ZlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGVsLnJlbW92ZSgpO1xuICB9IGVsc2Uge1xuICAgIGVsLnBhcmVudE5vZGU/LnJlbW92ZUNoaWxkKGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudCwgcHJvcHMsIHBhcmVudENvbnRhaW5lcikge1xuICBsZXQgc2xvdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICBjb25zdCB2Tm9kZSA9ICgwLGV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfLmgpKGNvbXBvbmVudCwgcHJvcHMsIHNsb3RzKTtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2LXRvYXN0LS1wZW5kaW5nJyk7XG4gIHBhcmVudENvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5yZW5kZXIpKHZOb2RlLCBjb250YWluZXIpO1xuICByZXR1cm4gdk5vZGUuY29tcG9uZW50O1xufVxuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL3RpbWVyLmpzXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk2OTc2MFxuY2xhc3MgVGltZXIge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgZGVsYXkpIHtcbiAgICB0aGlzLnN0YXJ0ZWRBdCA9IERhdGUubm93KCk7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xuICB9XG4gIHBhdXNlKCkge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMuZGVsYXkgLT0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRlZEF0O1xuICB9XG4gIHJlc3VtZSgpIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgICB0aGlzLnN0YXJ0ZWRBdCA9IERhdGUubm93KCk7XG4gICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQodGhpcy5jYWxsYmFjaywgdGhpcy5kZWxheSk7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gIH1cbn1cbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9wb3NpdGlvbnMuanNcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gY29uc3QgcG9zaXRpb25zID0gKE9iamVjdC5mcmVlemUoe1xuICBUT1BfUklHSFQ6ICd0b3AtcmlnaHQnLFxuICBUT1A6ICd0b3AnLFxuICBUT1BfTEVGVDogJ3RvcC1sZWZ0JyxcbiAgQk9UVE9NX1JJR0hUOiAnYm90dG9tLXJpZ2h0JyxcbiAgQk9UVE9NOiAnYm90dG9tJyxcbiAgQk9UVE9NX0xFRlQ6ICdib3R0b20tbGVmdCdcbn0pKTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy8ucG5wbS9taXR0QDMuMC4wL25vZGVfbW9kdWxlcy9taXR0L2Rpc3QvbWl0dC5tanNcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gZnVuY3Rpb24gbWl0dChuKXtyZXR1cm57YWxsOm49bnx8bmV3IE1hcCxvbjpmdW5jdGlvbih0LGUpe3ZhciBpPW4uZ2V0KHQpO2k/aS5wdXNoKGUpOm4uc2V0KHQsW2VdKX0sb2ZmOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5nZXQodCk7aSYmKGU/aS5zcGxpY2UoaS5pbmRleE9mKGUpPj4+MCwxKTpuLnNldCh0LFtdKSl9LGVtaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT1uLmdldCh0KTtpJiZpLnNsaWNlKCkubWFwKGZ1bmN0aW9uKG4pe24oZSl9KSwoaT1uLmdldChcIipcIikpJiZpLnNsaWNlKCkubWFwKGZ1bmN0aW9uKG4pe24odCxlKX0pfX19XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXR0Lm1qcy5tYXBcblxuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2J1cy5qc1xuXG5jb25zdCBldmVudEJ1cyA9IG1pdHQoKTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gY29uc3QgYnVzID0gKGV2ZW50QnVzKTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy8ucG5wbS9iYWJlbC1sb2FkZXJAOS4xLjJfQGJhYmVsK2NvcmVANy4yMi4xX3dlYnBhY2tANS44NC4xL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzLy5wbnBtL3Z1ZS1sb2FkZXJAMTcuMS4xX0B2dWUrY29tcGlsZXItc2ZjQDMuMy40X3Z1ZUAzLjMuNF93ZWJwYWNrQDUuODQuMS9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzZdLnVzZVswXSEuL3NyYy9qcy9Db21wb25lbnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXG5cblxuXG5cblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBjb25zdCBDb21wb25lbnR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qcyA9ICgoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5kZWZpbmVDb21wb25lbnQpKHtcbiAgbmFtZTogJ1RvYXN0JyxcbiAgcHJvcHM6IHtcbiAgICBtZXNzYWdlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgdHlwZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ3N1Y2Nlc3MnXG4gICAgfSxcbiAgICBwb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogcG9zaXRpb25zLkJPVFRPTV9SSUdIVCxcbiAgICAgIHZhbGlkYXRvcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhwb3NpdGlvbnMpLmluY2x1ZGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGR1cmF0aW9uOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAzMDAwXG4gICAgfSxcbiAgICBkaXNtaXNzaWJsZToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIG9uRGlzbWlzczoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7fVxuICAgIH0sXG4gICAgb25DbGljazoge1xuICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICBkZWZhdWx0OiAoKSA9PiB7fVxuICAgIH0sXG4gICAgcXVldWU6IEJvb2xlYW4sXG4gICAgcGF1c2VPbkhvdmVyOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgZGVmYXVsdDogdHJ1ZVxuICAgIH1cbiAgfSxcbiAgZGF0YSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgcGFyZW50VG9wOiBudWxsLFxuICAgICAgcGFyZW50Qm90dG9tOiBudWxsLFxuICAgICAgaXNIb3ZlcmVkOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGJlZm9yZU1vdW50KCkge1xuICAgIHRoaXMuc2V0dXBDb250YWluZXIoKTtcbiAgfSxcbiAgbW91bnRlZCgpIHtcbiAgICB0aGlzLnNob3dOb3RpY2UoKTtcbiAgICBidXMub24oJ3RvYXN0LWNsZWFyJywgdGhpcy5kaXNtaXNzKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIHNldHVwQ29udGFpbmVyKCkge1xuICAgICAgdGhpcy5wYXJlbnRUb3AgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudi10b2FzdC52LXRvYXN0LS10b3AnKTtcbiAgICAgIHRoaXMucGFyZW50Qm90dG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnYtdG9hc3Qudi10b2FzdC0tYm90dG9tJyk7XG4gICAgICAvLyBObyBuZWVkIHRvIGNyZWF0ZSB0aGVtLCB0aGV5IGFscmVhZHkgZXhpc3RzXG4gICAgICBpZiAodGhpcy5wYXJlbnRUb3AgJiYgdGhpcy5wYXJlbnRCb3R0b20pIHJldHVybjtcbiAgICAgIGlmICghdGhpcy5wYXJlbnRUb3ApIHtcbiAgICAgICAgdGhpcy5wYXJlbnRUb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5wYXJlbnRUb3AuY2xhc3NOYW1lID0gJ3YtdG9hc3Qgdi10b2FzdC0tdG9wJztcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wYXJlbnRCb3R0b20pIHtcbiAgICAgICAgdGhpcy5wYXJlbnRCb3R0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5wYXJlbnRCb3R0b20uY2xhc3NOYW1lID0gJ3YtdG9hc3Qgdi10b2FzdC0tYm90dG9tJztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wYXJlbnRUb3ApO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucGFyZW50Qm90dG9tKTtcbiAgICB9LFxuICAgIHNob3VsZFF1ZXVlKCkge1xuICAgICAgaWYgKCF0aGlzLnF1ZXVlKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnRUb3AuY2hpbGRFbGVtZW50Q291bnQgPiAwIHx8IHRoaXMucGFyZW50Qm90dG9tLmNoaWxkRWxlbWVudENvdW50ID4gMDtcbiAgICB9LFxuICAgIGRpc21pc3MoKSB7XG4gICAgICBpZiAodGhpcy50aW1lcikgdGhpcy50aW1lci5zdG9wKCk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5xdWV1ZVRpbWVyKTtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgLy8gVGltZW91dCBmb3IgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZSBiZWZvcmUgZGVzdHJveWluZ1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMub25EaXNtaXNzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnN0IHdyYXBwZXIgPSB0aGlzLiRyZWZzLnJvb3Q7XG4gICAgICAgIC8vIHVubW91bnQgdGhlIGNvbXBvbmVudFxuICAgICAgICAoMCxleHRlcm5hbF9jb21tb25qc192dWVfY29tbW9uanMyX3Z1ZV9hbWRfdnVlX3Jvb3RfVnVlXy5yZW5kZXIpKG51bGwsIHdyYXBwZXIpO1xuICAgICAgICByZW1vdmVFbGVtZW50KHdyYXBwZXIpO1xuICAgICAgfSwgMTUwKTtcbiAgICB9LFxuICAgIHNob3dOb3RpY2UoKSB7XG4gICAgICBpZiAodGhpcy5zaG91bGRRdWV1ZSgpKSB7XG4gICAgICAgIC8vIENhbGwgcmVjdXJzaXZlbHkgaWYgaXQgc2hvdWxkIHF1ZXVlXG4gICAgICAgIHRoaXMucXVldWVUaW1lciA9IHNldFRpbWVvdXQodGhpcy5zaG93Tm90aWNlLCAyNTApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy4kcmVmcy5yb290LnBhcmVudEVsZW1lbnQ7XG4gICAgICB0aGlzLmNvcnJlY3RQYXJlbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmJlZ2luJywgdGhpcy4kcmVmcy5yb290KTtcbiAgICAgIHJlbW92ZUVsZW1lbnQod3JhcHBlcik7XG4gICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMudGltZXIgPSBuZXcgVGltZXIodGhpcy5kaXNtaXNzLCB0aGlzLmR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdoZW5DbGlja2VkKCkge1xuICAgICAgaWYgKCF0aGlzLmRpc21pc3NpYmxlKSByZXR1cm47XG4gICAgICB0aGlzLm9uQ2xpY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgIH0sXG4gICAgdG9nZ2xlVGltZXIobmV3VmFsKSB7XG4gICAgICBpZiAoIXRoaXMucGF1c2VPbkhvdmVyIHx8ICF0aGlzLnRpbWVyKSByZXR1cm47XG4gICAgICBuZXdWYWwgPyB0aGlzLnRpbWVyLnBhdXNlKCkgOiB0aGlzLnRpbWVyLnJlc3VtZSgpO1xuICAgIH1cbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBjb3JyZWN0UGFyZW50KCkge1xuICAgICAgc3dpdGNoICh0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLlRPUDpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuVE9QX1JJR0hUOlxuICAgICAgICBjYXNlIHBvc2l0aW9ucy5UT1BfTEVGVDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRUb3A7XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLkJPVFRPTTpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuQk9UVE9NX1JJR0hUOlxuICAgICAgICBjYXNlIHBvc2l0aW9ucy5CT1RUT01fTEVGVDpcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3R0b207XG4gICAgICB9XG4gICAgfSxcbiAgICB0cmFuc2l0aW9uKCkge1xuICAgICAgc3dpdGNoICh0aGlzLnBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLlRPUDpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuVE9QX1JJR0hUOlxuICAgICAgICBjYXNlIHBvc2l0aW9ucy5UT1BfTEVGVDpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW50ZXI6ICd2LXRvYXN0LS1mYWRlLWluLWRvd24nLFxuICAgICAgICAgICAgbGVhdmU6ICd2LXRvYXN0LS1mYWRlLW91dCdcbiAgICAgICAgICB9O1xuICAgICAgICBjYXNlIHBvc2l0aW9ucy5CT1RUT006XG4gICAgICAgIGNhc2UgcG9zaXRpb25zLkJPVFRPTV9SSUdIVDpcbiAgICAgICAgY2FzZSBwb3NpdGlvbnMuQk9UVE9NX0xFRlQ6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVudGVyOiAndi10b2FzdC0tZmFkZS1pbi11cCcsXG4gICAgICAgICAgICBsZWF2ZTogJ3YtdG9hc3QtLWZhZGUtb3V0J1xuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBiZWZvcmVVbm1vdW50KCkge1xuICAgIGJ1cy5vZmYoJ3RvYXN0LWNsZWFyJywgdGhpcy5kaXNtaXNzKTtcbiAgfVxufSkpO1xuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL0NvbXBvbmVudC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcbiBcbi8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvLnBucG0vdnVlLWxvYWRlckAxNy4xLjFfQHZ1ZStjb21waWxlci1zZmNAMy4zLjRfdnVlQDMuMy40X3dlYnBhY2tANS44NC4xL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvZXhwb3J0SGVscGVyLmpzXG52YXIgZXhwb3J0SGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NzIpO1xuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL0NvbXBvbmVudC52dWVcblxuXG5cblxuO1xuY29uc3QgX19leHBvcnRzX18gPSAvKiNfX1BVUkVfXyovKDAsZXhwb3J0SGVscGVyW1wiZGVmYXVsdFwiXSkoQ29tcG9uZW50dnVlX3R5cGVfc2NyaXB0X2xhbmdfanMsIFtbJ3JlbmRlcicscmVuZGVyXV0pXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gY29uc3QgQ29tcG9uZW50ID0gKF9fZXhwb3J0c19fKTtcbjsvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9hcGkuanNcblxuXG5cbmNvbnN0IHVzZVRvYXN0ID0gZnVuY3Rpb24gKCkge1xuICBsZXQgZ2xvYmFsUHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICByZXR1cm4ge1xuICAgIG9wZW4ob3B0aW9ucykge1xuICAgICAgbGV0IG1lc3NhZ2UgPSBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykgbWVzc2FnZSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIG1lc3NhZ2VcbiAgICAgIH07XG4gICAgICBjb25zdCBwcm9wc0RhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UHJvcHMsIGdsb2JhbFByb3BzLCBvcHRpb25zKTtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gY3JlYXRlQ29tcG9uZW50KENvbXBvbmVudCwgcHJvcHNEYXRhLCBkb2N1bWVudC5ib2R5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpc21pc3M6IGluc3RhbmNlLmN0eC5kaXNtaXNzXG4gICAgICB9O1xuICAgIH0sXG4gICAgY2xlYXIoKSB7XG4gICAgICBidXMuZW1pdCgndG9hc3QtY2xlYXInKTtcbiAgICB9LFxuICAgIHN1Y2Nlc3MobWVzc2FnZSkge1xuICAgICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMub3BlbihPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH0sXG4gICAgZXJyb3IobWVzc2FnZSkge1xuICAgICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMub3BlbihPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHR5cGU6ICdlcnJvcidcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9LFxuICAgIGluZm8obWVzc2FnZSkge1xuICAgICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMub3BlbihPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIHR5cGU6ICdpbmZvJ1xuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH0sXG4gICAgd2FybmluZyhtZXNzYWdlKSB7XG4gICAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5vcGVuKE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgdHlwZTogJ3dhcm5pbmcnXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfSxcbiAgICBkZWZhdWx0KG1lc3NhZ2UpIHtcbiAgICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLm9wZW4oT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICB0eXBlOiAnZGVmYXVsdCdcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9XG4gIH07XG59O1xuOy8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2luZGV4LmpzXG5cblxuXG5jb25zdCBUb2FzdFBsdWdpbiA9IHtcbiAgaW5zdGFsbDogZnVuY3Rpb24gKGFwcCkge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICBsZXQgaW5zdGFuY2UgPSB1c2VUb2FzdChvcHRpb25zKTtcbiAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHRvYXN0ID0gaW5zdGFuY2U7XG4gICAgYXBwLnByb3ZpZGUoJyR0b2FzdCcsIGluc3RhbmNlKTtcbiAgfVxufTtcbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gY29uc3Qgc3JjID0gKFRvYXN0UGx1Z2luKTtcblxufSkoKTtcblxuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX2V4cG9ydHNfXztcbi8qKioqKiovIH0pKClcbjtcbn0pOyIsIi8qIVxuICAqIHZ1ZS1yb3V0ZXIgdjQuMy4wXG4gICogKGMpIDIwMjQgRWR1YXJkbyBTYW4gTWFydGluIE1vcm90ZVxuICAqIEBsaWNlbnNlIE1JVFxuICAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCBpbmplY3QsIG9uVW5tb3VudGVkLCBvbkRlYWN0aXZhdGVkLCBvbkFjdGl2YXRlZCwgY29tcHV0ZWQsIHVucmVmLCB3YXRjaEVmZmVjdCwgZGVmaW5lQ29tcG9uZW50LCByZWFjdGl2ZSwgaCwgcHJvdmlkZSwgcmVmLCB3YXRjaCwgc2hhbGxvd1JlZiwgc2hhbGxvd1JlYWN0aXZlLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBzZXR1cERldnRvb2xzUGx1Z2luIH0gZnJvbSAnQHZ1ZS9kZXZ0b29scy1hcGknO1xuXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG5mdW5jdGlvbiBpc0VTTW9kdWxlKG9iaikge1xuICAgIHJldHVybiBvYmouX19lc01vZHVsZSB8fCBvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZSc7XG59XG5jb25zdCBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuZnVuY3Rpb24gYXBwbHlUb1BhcmFtcyhmbiwgcGFyYW1zKSB7XG4gICAgY29uc3QgbmV3UGFyYW1zID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zW2tleV07XG4gICAgICAgIG5ld1BhcmFtc1trZXldID0gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICAgID8gdmFsdWUubWFwKGZuKVxuICAgICAgICAgICAgOiBmbih2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdQYXJhbXM7XG59XG5jb25zdCBub29wID0gKCkgPT4geyB9O1xuLyoqXG4gKiBUeXBlc2FmZSBhbHRlcm5hdGl2ZSB0byBBcnJheS5pc0FycmF5XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvcHVsbC80ODIyOFxuICovXG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICAvLyBhdm9pZCB1c2luZyAuLi5hcmdzIGFzIGl0IGJyZWFrcyBpbiBvbGRlciBFZGdlIGJ1aWxkc1xuICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cykuc2xpY2UoMSk7XG4gICAgY29uc29sZS53YXJuLmFwcGx5KGNvbnNvbGUsIFsnW1Z1ZSBSb3V0ZXIgd2Fybl06ICcgKyBtc2ddLmNvbmNhdChhcmdzKSk7XG59XG5cbi8qKlxuICogRW5jb2RpbmcgUnVsZXMg4pCjID0gU3BhY2UgUGF0aDog4pCjIFwiIDwgPiAjID8geyB9IFF1ZXJ5OiDikKMgXCIgPCA+ICMgJiA9IEhhc2g6IOKQoyBcIlxuICogPCA+IGBcbiAqXG4gKiBPbiB0b3Agb2YgdGhhdCwgdGhlIFJGQzM5ODYgKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMi4yKVxuICogZGVmaW5lcyBzb21lIGV4dHJhIGNoYXJhY3RlcnMgdG8gYmUgZW5jb2RlZC4gTW9zdCBicm93c2VycyBkbyBub3QgZW5jb2RlIHRoZW1cbiAqIGluIGVuY29kZVVSSSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL3VybC9pc3N1ZXMvMzY5LCBzbyBpdCBtYXkgYmUgc2FmZXIgdG9cbiAqIGFsc28gZW5jb2RlIGAhJygpKmAuIExlYXZpbmcgdW4tZW5jb2RlZCBvbmx5IEFTQ0lJIGFscGhhbnVtZXJpYyhgYS16QS1aMC05YClcbiAqIHBsdXMgYC0uX35gLiBUaGlzIGV4dHJhIHNhZmV0eSBzaG91bGQgYmUgYXBwbGllZCB0byBxdWVyeSBieSBwYXRjaGluZyB0aGVcbiAqIHN0cmluZyByZXR1cm5lZCBieSBlbmNvZGVVUklDb21wb25lbnQgZW5jb2RlVVJJIGFsc28gZW5jb2RlcyBgW1xcXV5gLiBgXFxgXG4gKiBzaG91bGQgYmUgZW5jb2RlZCB0byBhdm9pZCBhbWJpZ3VpdHkuIEJyb3dzZXJzIChJRSwgRkYsIEMpIHRyYW5zZm9ybSBhIGBcXGBcbiAqIGludG8gYSBgL2AgaWYgZGlyZWN0bHkgdHlwZWQgaW4uIFRoZSBfYmFja3RpY2tfIChgYGBgYCkgc2hvdWxkIGFsc28gYmVcbiAqIGVuY29kZWQgZXZlcnl3aGVyZSBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgbGlrZSBGRiBlbmNvZGUgaXQgd2hlbiBkaXJlY3RseVxuICogd3JpdHRlbiB3aGlsZSBvdGhlcnMgZG9uJ3QuIFNhZmFyaSBhbmQgSUUgZG9uJ3QgZW5jb2RlIGBgXCI8Pnt9YGBgIGluIGhhc2guXG4gKi9cbi8vIGNvbnN0IEVYVFJBX1JFU0VSVkVEX1JFID0gL1shJygpKl0vZ1xuLy8gY29uc3QgZW5jb2RlUmVzZXJ2ZWRSZXBsYWNlciA9IChjOiBzdHJpbmcpID0+ICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNilcbmNvbnN0IEhBU0hfUkUgPSAvIy9nOyAvLyAlMjNcbmNvbnN0IEFNUEVSU0FORF9SRSA9IC8mL2c7IC8vICUyNlxuY29uc3QgU0xBU0hfUkUgPSAvXFwvL2c7IC8vICUyRlxuY29uc3QgRVFVQUxfUkUgPSAvPS9nOyAvLyAlM0RcbmNvbnN0IElNX1JFID0gL1xcPy9nOyAvLyAlM0ZcbmNvbnN0IFBMVVNfUkUgPSAvXFwrL2c7IC8vICUyQlxuLyoqXG4gKiBOT1RFOiBJdCdzIG5vdCBjbGVhciB0byBtZSBpZiB3ZSBzaG91bGQgZW5jb2RlIHRoZSArIHN5bWJvbCBpbiBxdWVyaWVzLCBpdFxuICogc2VlbXMgdG8gYmUgbGVzcyBmbGV4aWJsZSB0aGFuIG5vdCBkb2luZyBzbyBhbmQgSSBjYW4ndCBmaW5kIG91dCB0aGUgbGVnYWN5XG4gKiBzeXN0ZW1zIHJlcXVpcmluZyB0aGlzIGZvciByZWd1bGFyIHJlcXVlc3RzIGxpa2UgdGV4dC9odG1sLiBJbiB0aGUgc3RhbmRhcmQsXG4gKiB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBsdXMgY2hhcmFjdGVyIGlzIG9ubHkgbWVudGlvbmVkIGZvclxuICogYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXG4gKiAoaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmxlbmNvZGVkLXBhcnNpbmcpIGFuZCBtb3N0IGJyb3dzZXJzIHNlZW1zIGxvXG4gKiBsZWF2ZSB0aGUgcGx1cyBjaGFyYWN0ZXIgYXMgaXMgaW4gcXVlcmllcy4gVG8gYmUgbW9yZSBmbGV4aWJsZSwgd2UgYWxsb3cgdGhlXG4gKiBwbHVzIGNoYXJhY3RlciBvbiB0aGUgcXVlcnksIGJ1dCBpdCBjYW4gYWxzbyBiZSBtYW51YWxseSBlbmNvZGVkIGJ5IHRoZSB1c2VyLlxuICpcbiAqIFJlc291cmNlczpcbiAqIC0gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmxlbmNvZGVkLXBhcnNpbmdcbiAqIC0gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTYzNDI3MS91cmwtZW5jb2RpbmctdGhlLXNwYWNlLWNoYXJhY3Rlci1vci0yMFxuICovXG5jb25zdCBFTkNfQlJBQ0tFVF9PUEVOX1JFID0gLyU1Qi9nOyAvLyBbXG5jb25zdCBFTkNfQlJBQ0tFVF9DTE9TRV9SRSA9IC8lNUQvZzsgLy8gXVxuY29uc3QgRU5DX0NBUkVUX1JFID0gLyU1RS9nOyAvLyBeXG5jb25zdCBFTkNfQkFDS1RJQ0tfUkUgPSAvJTYwL2c7IC8vIGBcbmNvbnN0IEVOQ19DVVJMWV9PUEVOX1JFID0gLyU3Qi9nOyAvLyB7XG5jb25zdCBFTkNfUElQRV9SRSA9IC8lN0MvZzsgLy8gfFxuY29uc3QgRU5DX0NVUkxZX0NMT1NFX1JFID0gLyU3RC9nOyAvLyB9XG5jb25zdCBFTkNfU1BBQ0VfUkUgPSAvJTIwL2c7IC8vIH1cbi8qKlxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgb24gdGhlIHBhdGgsIHNlYXJjaCBhbmQgaGFzaFxuICogc2VjdGlvbnMgb2YgdGhlIFVSTC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gY29tbW9uRW5jb2RlKHRleHQpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJKCcnICsgdGV4dClcbiAgICAgICAgLnJlcGxhY2UoRU5DX1BJUEVfUkUsICd8JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0JSQUNLRVRfT1BFTl9SRSwgJ1snKVxuICAgICAgICAucmVwbGFjZShFTkNfQlJBQ0tFVF9DTE9TRV9SRSwgJ10nKTtcbn1cbi8qKlxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgb24gdGhlIGhhc2ggc2VjdGlvbiBvZiB0aGUgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZW5jb2RlSGFzaCh0ZXh0KSB7XG4gICAgcmV0dXJuIGNvbW1vbkVuY29kZSh0ZXh0KVxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfT1BFTl9SRSwgJ3snKVxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfQ0xPU0VfUkUsICd9JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NBUkVUX1JFLCAnXicpO1xufVxuLyoqXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBxdWVyeSB2YWx1ZXMgb24gdGhlIHF1ZXJ5XG4gKiBzZWN0aW9uIG9mIHRoZSBVUkwuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBlbmNvZGVRdWVyeVZhbHVlKHRleHQpIHtcbiAgICByZXR1cm4gKGNvbW1vbkVuY29kZSh0ZXh0KVxuICAgICAgICAvLyBFbmNvZGUgdGhlIHNwYWNlIGFzICssIGVuY29kZSB0aGUgKyB0byBkaWZmZXJlbnRpYXRlIGl0IGZyb20gdGhlIHNwYWNlXG4gICAgICAgIC5yZXBsYWNlKFBMVVNfUkUsICclMkInKVxuICAgICAgICAucmVwbGFjZShFTkNfU1BBQ0VfUkUsICcrJylcbiAgICAgICAgLnJlcGxhY2UoSEFTSF9SRSwgJyUyMycpXG4gICAgICAgIC5yZXBsYWNlKEFNUEVSU0FORF9SRSwgJyUyNicpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19CQUNLVElDS19SRSwgJ2AnKVxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfT1BFTl9SRSwgJ3snKVxuICAgICAgICAucmVwbGFjZShFTkNfQ1VSTFlfQ0xPU0VfUkUsICd9JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0NBUkVUX1JFLCAnXicpKTtcbn1cbi8qKlxuICogTGlrZSBgZW5jb2RlUXVlcnlWYWx1ZWAgYnV0IGFsc28gZW5jb2RlcyB0aGUgYD1gIGNoYXJhY3Rlci5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqL1xuZnVuY3Rpb24gZW5jb2RlUXVlcnlLZXkodGV4dCkge1xuICAgIHJldHVybiBlbmNvZGVRdWVyeVZhbHVlKHRleHQpLnJlcGxhY2UoRVFVQUxfUkUsICclM0QnKTtcbn1cbi8qKlxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgb24gdGhlIHBhdGggc2VjdGlvbiBvZiB0aGUgVVJMLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICogQHJldHVybnMgZW5jb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZW5jb2RlUGF0aCh0ZXh0KSB7XG4gICAgcmV0dXJuIGNvbW1vbkVuY29kZSh0ZXh0KS5yZXBsYWNlKEhBU0hfUkUsICclMjMnKS5yZXBsYWNlKElNX1JFLCAnJTNGJyk7XG59XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIG9uIHRoZSBwYXRoIHNlY3Rpb24gb2YgdGhlIFVSTCBhcyBhXG4gKiBwYXJhbS4gVGhpcyBmdW5jdGlvbiBlbmNvZGVzIGV2ZXJ5dGhpbmcge0BsaW5rIGVuY29kZVBhdGh9IGRvZXMgcGx1cyB0aGVcbiAqIHNsYXNoIChgL2ApIGNoYXJhY3Rlci4gSWYgYHRleHRgIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCwgcmV0dXJucyBhbiBlbXB0eVxuICogc3RyaW5nIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBlbmNvZGVQYXJhbSh0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQgPT0gbnVsbCA/ICcnIDogZW5jb2RlUGF0aCh0ZXh0KS5yZXBsYWNlKFNMQVNIX1JFLCAnJTJGJyk7XG59XG4vKipcbiAqIERlY29kZSB0ZXh0IHVzaW5nIGBkZWNvZGVVUklDb21wb25lbnRgLiBSZXR1cm5zIHRoZSBvcmlnaW5hbCB0ZXh0IGlmIGl0XG4gKiBmYWlscy5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBkZWNvZGVcbiAqIEByZXR1cm5zIGRlY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGRlY29kZSh0ZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCgnJyArIHRleHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuKGBFcnJvciBkZWNvZGluZyBcIiR7dGV4dH1cIi4gVXNpbmcgb3JpZ2luYWwgdmFsdWVgKTtcbiAgICB9XG4gICAgcmV0dXJuICcnICsgdGV4dDtcbn1cblxuY29uc3QgVFJBSUxJTkdfU0xBU0hfUkUgPSAvXFwvJC87XG5jb25zdCByZW1vdmVUcmFpbGluZ1NsYXNoID0gKHBhdGgpID0+IHBhdGgucmVwbGFjZShUUkFJTElOR19TTEFTSF9SRSwgJycpO1xuLyoqXG4gKiBUcmFuc2Zvcm1zIGEgVVJJIGludG8gYSBub3JtYWxpemVkIGhpc3RvcnkgbG9jYXRpb25cbiAqXG4gKiBAcGFyYW0gcGFyc2VRdWVyeVxuICogQHBhcmFtIGxvY2F0aW9uIC0gVVJJIHRvIG5vcm1hbGl6ZVxuICogQHBhcmFtIGN1cnJlbnRMb2NhdGlvbiAtIGN1cnJlbnQgYWJzb2x1dGUgbG9jYXRpb24uIEFsbG93cyByZXNvbHZpbmcgcmVsYXRpdmVcbiAqIHBhdGhzLiBNdXN0IHN0YXJ0IHdpdGggYC9gLiBEZWZhdWx0cyB0byBgL2BcbiAqIEByZXR1cm5zIGEgbm9ybWFsaXplZCBoaXN0b3J5IGxvY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlVVJMKHBhcnNlUXVlcnksIGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24gPSAnLycpIHtcbiAgICBsZXQgcGF0aCwgcXVlcnkgPSB7fSwgc2VhcmNoU3RyaW5nID0gJycsIGhhc2ggPSAnJztcbiAgICAvLyBDb3VsZCB1c2UgVVJMIGFuZCBVUkxTZWFyY2hQYXJhbXMgYnV0IElFIDExIGRvZXNuJ3Qgc3VwcG9ydCBpdFxuICAgIC8vIFRPRE86IG1vdmUgdG8gbmV3IFVSTCgpXG4gICAgY29uc3QgaGFzaFBvcyA9IGxvY2F0aW9uLmluZGV4T2YoJyMnKTtcbiAgICBsZXQgc2VhcmNoUG9zID0gbG9jYXRpb24uaW5kZXhPZignPycpO1xuICAgIC8vIHRoZSBoYXNoIGFwcGVhcnMgYmVmb3JlIHRoZSBzZWFyY2gsIHNvIGl0J3Mgbm90IHBhcnQgb2YgdGhlIHNlYXJjaCBzdHJpbmdcbiAgICBpZiAoaGFzaFBvcyA8IHNlYXJjaFBvcyAmJiBoYXNoUG9zID49IDApIHtcbiAgICAgICAgc2VhcmNoUG9zID0gLTE7XG4gICAgfVxuICAgIGlmIChzZWFyY2hQb3MgPiAtMSkge1xuICAgICAgICBwYXRoID0gbG9jYXRpb24uc2xpY2UoMCwgc2VhcmNoUG9zKTtcbiAgICAgICAgc2VhcmNoU3RyaW5nID0gbG9jYXRpb24uc2xpY2Uoc2VhcmNoUG9zICsgMSwgaGFzaFBvcyA+IC0xID8gaGFzaFBvcyA6IGxvY2F0aW9uLmxlbmd0aCk7XG4gICAgICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeShzZWFyY2hTdHJpbmcpO1xuICAgIH1cbiAgICBpZiAoaGFzaFBvcyA+IC0xKSB7XG4gICAgICAgIHBhdGggPSBwYXRoIHx8IGxvY2F0aW9uLnNsaWNlKDAsIGhhc2hQb3MpO1xuICAgICAgICAvLyBrZWVwIHRoZSAjIGNoYXJhY3RlclxuICAgICAgICBoYXNoID0gbG9jYXRpb24uc2xpY2UoaGFzaFBvcywgbG9jYXRpb24ubGVuZ3RoKTtcbiAgICB9XG4gICAgLy8gbm8gc2VhcmNoIGFuZCBubyBxdWVyeVxuICAgIHBhdGggPSByZXNvbHZlUmVsYXRpdmVQYXRoKHBhdGggIT0gbnVsbCA/IHBhdGggOiBsb2NhdGlvbiwgY3VycmVudExvY2F0aW9uKTtcbiAgICAvLyBlbXB0eSBwYXRoIG1lYW5zIGEgcmVsYXRpdmUgcXVlcnkgb3IgaGFzaCBgP2Zvbz1mYCwgYCN0aGluZ2BcbiAgICByZXR1cm4ge1xuICAgICAgICBmdWxsUGF0aDogcGF0aCArIChzZWFyY2hTdHJpbmcgJiYgJz8nKSArIHNlYXJjaFN0cmluZyArIGhhc2gsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBoYXNoOiBkZWNvZGUoaGFzaCksXG4gICAgfTtcbn1cbi8qKlxuICogU3RyaW5naWZpZXMgYSBVUkwgb2JqZWN0XG4gKlxuICogQHBhcmFtIHN0cmluZ2lmeVF1ZXJ5XG4gKiBAcGFyYW0gbG9jYXRpb25cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5VVJMKHN0cmluZ2lmeVF1ZXJ5LCBsb2NhdGlvbikge1xuICAgIGNvbnN0IHF1ZXJ5ID0gbG9jYXRpb24ucXVlcnkgPyBzdHJpbmdpZnlRdWVyeShsb2NhdGlvbi5xdWVyeSkgOiAnJztcbiAgICByZXR1cm4gbG9jYXRpb24ucGF0aCArIChxdWVyeSAmJiAnPycpICsgcXVlcnkgKyAobG9jYXRpb24uaGFzaCB8fCAnJyk7XG59XG4vKipcbiAqIFN0cmlwcyBvZmYgdGhlIGJhc2UgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGEgbG9jYXRpb24ucGF0aG5hbWUgaW4gYSBub24tY2FzZS1zZW5zaXRpdmUgd2F5LlxuICpcbiAqIEBwYXJhbSBwYXRobmFtZSAtIGxvY2F0aW9uLnBhdGhuYW1lXG4gKiBAcGFyYW0gYmFzZSAtIGJhc2UgdG8gc3RyaXAgb2ZmXG4gKi9cbmZ1bmN0aW9uIHN0cmlwQmFzZShwYXRobmFtZSwgYmFzZSkge1xuICAgIC8vIG5vIGJhc2Ugb3IgYmFzZSBpcyBub3QgZm91bmQgYXQgdGhlIGJlZ2lubmluZ1xuICAgIGlmICghYmFzZSB8fCAhcGF0aG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGJhc2UudG9Mb3dlckNhc2UoKSkpXG4gICAgICAgIHJldHVybiBwYXRobmFtZTtcbiAgICByZXR1cm4gcGF0aG5hbWUuc2xpY2UoYmFzZS5sZW5ndGgpIHx8ICcvJztcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHR3byBSb3V0ZUxvY2F0aW9uIGFyZSBlcXVhbC4gVGhpcyBtZWFucyB0aGF0IGJvdGggbG9jYXRpb25zIGFyZVxuICogcG9pbnRpbmcgdG93YXJkcyB0aGUgc2FtZSB7QGxpbmsgUm91dGVSZWNvcmR9IGFuZCB0aGF0IGFsbCBgcGFyYW1zYCwgYHF1ZXJ5YFxuICogcGFyYW1ldGVycyBhbmQgYGhhc2hgIGFyZSB0aGUgc2FtZVxuICpcbiAqIEBwYXJhbSBzdHJpbmdpZnlRdWVyeSAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHF1ZXJ5IG9iamVjdCBvZiB0eXBlIExvY2F0aW9uUXVlcnlSYXcgYW5kIHJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaXQuXG4gKiBAcGFyYW0gYSAtIGZpcnN0IHtAbGluayBSb3V0ZUxvY2F0aW9ufVxuICogQHBhcmFtIGIgLSBzZWNvbmQge0BsaW5rIFJvdXRlTG9jYXRpb259XG4gKi9cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlTG9jYXRpb24oc3RyaW5naWZ5UXVlcnksIGEsIGIpIHtcbiAgICBjb25zdCBhTGFzdEluZGV4ID0gYS5tYXRjaGVkLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgYkxhc3RJbmRleCA9IGIubWF0Y2hlZC5sZW5ndGggLSAxO1xuICAgIHJldHVybiAoYUxhc3RJbmRleCA+IC0xICYmXG4gICAgICAgIGFMYXN0SW5kZXggPT09IGJMYXN0SW5kZXggJiZcbiAgICAgICAgaXNTYW1lUm91dGVSZWNvcmQoYS5tYXRjaGVkW2FMYXN0SW5kZXhdLCBiLm1hdGNoZWRbYkxhc3RJbmRleF0pICYmXG4gICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoYS5wYXJhbXMsIGIucGFyYW1zKSAmJlxuICAgICAgICBzdHJpbmdpZnlRdWVyeShhLnF1ZXJ5KSA9PT0gc3RyaW5naWZ5UXVlcnkoYi5xdWVyeSkgJiZcbiAgICAgICAgYS5oYXNoID09PSBiLmhhc2gpO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0d28gYFJvdXRlUmVjb3Jkc2AgYXJlIGVxdWFsLiBUYWtlcyBpbnRvIGFjY291bnQgYWxpYXNlczogdGhleSBhcmVcbiAqIGNvbnNpZGVyZWQgZXF1YWwgdG8gdGhlIGBSb3V0ZVJlY29yZGAgdGhleSBhcmUgYWxpYXNpbmcuXG4gKlxuICogQHBhcmFtIGEgLSBmaXJzdCB7QGxpbmsgUm91dGVSZWNvcmR9XG4gKiBAcGFyYW0gYiAtIHNlY29uZCB7QGxpbmsgUm91dGVSZWNvcmR9XG4gKi9cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlUmVjb3JkKGEsIGIpIHtcbiAgICAvLyBzaW5jZSB0aGUgb3JpZ2luYWwgcmVjb3JkIGhhcyBhbiB1bmRlZmluZWQgdmFsdWUgZm9yIGFsaWFzT2ZcbiAgICAvLyBidXQgYWxsIGFsaWFzZXMgcG9pbnQgdG8gdGhlIG9yaWdpbmFsIHJlY29yZCwgdGhpcyB3aWxsIGFsd2F5cyBjb21wYXJlXG4gICAgLy8gdGhlIG9yaWdpbmFsIHJlY29yZFxuICAgIHJldHVybiAoYS5hbGlhc09mIHx8IGEpID09PSAoYi5hbGlhc09mIHx8IGIpO1xufVxuZnVuY3Rpb24gaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyhhLCBiKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGEpLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYSkge1xuICAgICAgICBpZiAoIWlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXNWYWx1ZShhW2tleV0sIGJba2V5XSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlKGEsIGIpIHtcbiAgICByZXR1cm4gaXNBcnJheShhKVxuICAgICAgICA/IGlzRXF1aXZhbGVudEFycmF5KGEsIGIpXG4gICAgICAgIDogaXNBcnJheShiKVxuICAgICAgICAgICAgPyBpc0VxdWl2YWxlbnRBcnJheShiLCBhKVxuICAgICAgICAgICAgOiBhID09PSBiO1xufVxuLyoqXG4gKiBDaGVjayBpZiB0d28gYXJyYXlzIGFyZSB0aGUgc2FtZSBvciBpZiBhbiBhcnJheSB3aXRoIG9uZSBzaW5nbGUgZW50cnkgaXMgdGhlXG4gKiBzYW1lIGFzIGFub3RoZXIgcHJpbWl0aXZlIHZhbHVlLiBVc2VkIHRvIGNoZWNrIHF1ZXJ5IGFuZCBwYXJhbWV0ZXJzXG4gKlxuICogQHBhcmFtIGEgLSBhcnJheSBvZiB2YWx1ZXNcbiAqIEBwYXJhbSBiIC0gYXJyYXkgb2YgdmFsdWVzIG9yIGEgc2luZ2xlIHZhbHVlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1aXZhbGVudEFycmF5KGEsIGIpIHtcbiAgICByZXR1cm4gaXNBcnJheShiKVxuICAgICAgICA/IGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLmV2ZXJ5KCh2YWx1ZSwgaSkgPT4gdmFsdWUgPT09IGJbaV0pXG4gICAgICAgIDogYS5sZW5ndGggPT09IDEgJiYgYVswXSA9PT0gYjtcbn1cbi8qKlxuICogUmVzb2x2ZXMgYSByZWxhdGl2ZSBwYXRoIHRoYXQgc3RhcnRzIHdpdGggYC5gLlxuICpcbiAqIEBwYXJhbSB0byAtIHBhdGggbG9jYXRpb24gd2UgYXJlIHJlc29sdmluZ1xuICogQHBhcmFtIGZyb20gLSBjdXJyZW50TG9jYXRpb24ucGF0aCwgc2hvdWxkIHN0YXJ0IHdpdGggYC9gXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWxhdGl2ZVBhdGgodG8sIGZyb20pIHtcbiAgICBpZiAodG8uc3RhcnRzV2l0aCgnLycpKVxuICAgICAgICByZXR1cm4gdG87XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZnJvbS5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgd2FybihgQ2Fubm90IHJlc29sdmUgYSByZWxhdGl2ZSBsb2NhdGlvbiB3aXRob3V0IGFuIGFic29sdXRlIHBhdGguIFRyeWluZyB0byByZXNvbHZlIFwiJHt0b31cIiBmcm9tIFwiJHtmcm9tfVwiLiBJdCBzaG91bGQgbG9vayBsaWtlIFwiLyR7ZnJvbX1cIi5gKTtcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIH1cbiAgICBpZiAoIXRvKVxuICAgICAgICByZXR1cm4gZnJvbTtcbiAgICBjb25zdCBmcm9tU2VnbWVudHMgPSBmcm9tLnNwbGl0KCcvJyk7XG4gICAgY29uc3QgdG9TZWdtZW50cyA9IHRvLnNwbGl0KCcvJyk7XG4gICAgY29uc3QgbGFzdFRvU2VnbWVudCA9IHRvU2VnbWVudHNbdG9TZWdtZW50cy5sZW5ndGggLSAxXTtcbiAgICAvLyBtYWtlIC4gYW5kIC4vIHRoZSBzYW1lICguLi8gPT09IC4uLCAuLi8uLi8gPT09IC4uLy4uKVxuICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYmVoYXZpb3IgYXMgbmV3IFVSTCgpXG4gICAgaWYgKGxhc3RUb1NlZ21lbnQgPT09ICcuLicgfHwgbGFzdFRvU2VnbWVudCA9PT0gJy4nKSB7XG4gICAgICAgIHRvU2VnbWVudHMucHVzaCgnJyk7XG4gICAgfVxuICAgIGxldCBwb3NpdGlvbiA9IGZyb21TZWdtZW50cy5sZW5ndGggLSAxO1xuICAgIGxldCB0b1Bvc2l0aW9uO1xuICAgIGxldCBzZWdtZW50O1xuICAgIGZvciAodG9Qb3NpdGlvbiA9IDA7IHRvUG9zaXRpb24gPCB0b1NlZ21lbnRzLmxlbmd0aDsgdG9Qb3NpdGlvbisrKSB7XG4gICAgICAgIHNlZ21lbnQgPSB0b1NlZ21lbnRzW3RvUG9zaXRpb25dO1xuICAgICAgICAvLyB3ZSBzdGF5IG9uIHRoZSBzYW1lIHBvc2l0aW9uXG4gICAgICAgIGlmIChzZWdtZW50ID09PSAnLicpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgLy8gZ28gdXAgaW4gdGhlIGZyb20gYXJyYXlcbiAgICAgICAgaWYgKHNlZ21lbnQgPT09ICcuLicpIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbid0IGdvIGJlbG93IHplcm8sIGJ1dCB3ZSBzdGlsbCBuZWVkIHRvIGluY3JlbWVudCB0b1Bvc2l0aW9uXG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPiAxKVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLS07XG4gICAgICAgICAgICAvLyBjb250aW51ZVxuICAgICAgICB9XG4gICAgICAgIC8vIHdlIHJlYWNoZWQgYSBub24tcmVsYXRpdmUgcGF0aCwgd2Ugc3RvcCBoZXJlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gKGZyb21TZWdtZW50cy5zbGljZSgwLCBwb3NpdGlvbikuam9pbignLycpICtcbiAgICAgICAgJy8nICtcbiAgICAgICAgdG9TZWdtZW50cy5zbGljZSh0b1Bvc2l0aW9uKS5qb2luKCcvJykpO1xufVxuXG52YXIgTmF2aWdhdGlvblR5cGU7XG4oZnVuY3Rpb24gKE5hdmlnYXRpb25UeXBlKSB7XG4gICAgTmF2aWdhdGlvblR5cGVbXCJwb3BcIl0gPSBcInBvcFwiO1xuICAgIE5hdmlnYXRpb25UeXBlW1wicHVzaFwiXSA9IFwicHVzaFwiO1xufSkoTmF2aWdhdGlvblR5cGUgfHwgKE5hdmlnYXRpb25UeXBlID0ge30pKTtcbnZhciBOYXZpZ2F0aW9uRGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChOYXZpZ2F0aW9uRGlyZWN0aW9uKSB7XG4gICAgTmF2aWdhdGlvbkRpcmVjdGlvbltcImJhY2tcIl0gPSBcImJhY2tcIjtcbiAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uW1wiZm9yd2FyZFwiXSA9IFwiZm9yd2FyZFwiO1xuICAgIE5hdmlnYXRpb25EaXJlY3Rpb25bXCJ1bmtub3duXCJdID0gXCJcIjtcbn0pKE5hdmlnYXRpb25EaXJlY3Rpb24gfHwgKE5hdmlnYXRpb25EaXJlY3Rpb24gPSB7fSkpO1xuLyoqXG4gKiBTdGFydGluZyBsb2NhdGlvbiBmb3IgSGlzdG9yaWVzXG4gKi9cbmNvbnN0IFNUQVJUID0gJyc7XG4vLyBHZW5lcmljIHV0aWxzXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBiYXNlIGJ5IHJlbW92aW5nIGFueSB0cmFpbGluZyBzbGFzaCBhbmQgcmVhZGluZyB0aGUgYmFzZSB0YWcgaWZcbiAqIHByZXNlbnQuXG4gKlxuICogQHBhcmFtIGJhc2UgLSBiYXNlIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVCYXNlKGJhc2UpIHtcbiAgICBpZiAoIWJhc2UpIHtcbiAgICAgICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICAgICAgLy8gcmVzcGVjdCA8YmFzZT4gdGFnXG4gICAgICAgICAgICBjb25zdCBiYXNlRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7XG4gICAgICAgICAgICBiYXNlID0gKGJhc2VFbCAmJiBiYXNlRWwuZ2V0QXR0cmlidXRlKCdocmVmJykpIHx8ICcvJztcbiAgICAgICAgICAgIC8vIHN0cmlwIGZ1bGwgVVJMIG9yaWdpblxuICAgICAgICAgICAgYmFzZSA9IGJhc2UucmVwbGFjZSgvXlxcdys6XFwvXFwvW15cXC9dKy8sICcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJhc2UgPSAnLyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZW5zdXJlIGxlYWRpbmcgc2xhc2ggd2hlbiBpdCB3YXMgcmVtb3ZlZCBieSB0aGUgcmVnZXggYWJvdmUgYXZvaWQgbGVhZGluZ1xuICAgIC8vIHNsYXNoIHdpdGggaGFzaCBiZWNhdXNlIHRoZSBmaWxlIGNvdWxkIGJlIHJlYWQgZnJvbSB0aGUgZGlzayBsaWtlIGZpbGU6Ly9cbiAgICAvLyBhbmQgdGhlIGxlYWRpbmcgc2xhc2ggd291bGQgY2F1c2UgcHJvYmxlbXNcbiAgICBpZiAoYmFzZVswXSAhPT0gJy8nICYmIGJhc2VbMF0gIT09ICcjJylcbiAgICAgICAgYmFzZSA9ICcvJyArIGJhc2U7XG4gICAgLy8gcmVtb3ZlIHRoZSB0cmFpbGluZyBzbGFzaCBzbyBhbGwgb3RoZXIgbWV0aG9kIGNhbiBqdXN0IGRvIGBiYXNlICsgZnVsbFBhdGhgXG4gICAgLy8gdG8gYnVpbGQgYW4gaHJlZlxuICAgIHJldHVybiByZW1vdmVUcmFpbGluZ1NsYXNoKGJhc2UpO1xufVxuLy8gcmVtb3ZlIGFueSBjaGFyYWN0ZXIgYmVmb3JlIHRoZSBoYXNoXG5jb25zdCBCRUZPUkVfSEFTSF9SRSA9IC9eW14jXSsjLztcbmZ1bmN0aW9uIGNyZWF0ZUhyZWYoYmFzZSwgbG9jYXRpb24pIHtcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKEJFRk9SRV9IQVNIX1JFLCAnIycpICsgbG9jYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRQb3NpdGlvbihlbCwgb2Zmc2V0KSB7XG4gICAgY29uc3QgZG9jUmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBlbFJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBiZWhhdmlvcjogb2Zmc2V0LmJlaGF2aW9yLFxuICAgICAgICBsZWZ0OiBlbFJlY3QubGVmdCAtIGRvY1JlY3QubGVmdCAtIChvZmZzZXQubGVmdCB8fCAwKSxcbiAgICAgICAgdG9wOiBlbFJlY3QudG9wIC0gZG9jUmVjdC50b3AgLSAob2Zmc2V0LnRvcCB8fCAwKSxcbiAgICB9O1xufVxuY29uc3QgY29tcHV0ZVNjcm9sbFBvc2l0aW9uID0gKCkgPT4gKHtcbiAgICBsZWZ0OiB3aW5kb3cuc2Nyb2xsWCxcbiAgICB0b3A6IHdpbmRvdy5zY3JvbGxZLFxufSk7XG5mdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgbGV0IHNjcm9sbFRvT3B0aW9ucztcbiAgICBpZiAoJ2VsJyBpbiBwb3NpdGlvbikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbkVsID0gcG9zaXRpb24uZWw7XG4gICAgICAgIGNvbnN0IGlzSWRTZWxlY3RvciA9IHR5cGVvZiBwb3NpdGlvbkVsID09PSAnc3RyaW5nJyAmJiBwb3NpdGlvbkVsLnN0YXJ0c1dpdGgoJyMnKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGBpZGBzIGNhbiBhY2NlcHQgcHJldHR5IG11Y2ggYW55IGNoYXJhY3RlcnMsIGluY2x1ZGluZyBDU1MgY29tYmluYXRvcnNcbiAgICAgICAgICogbGlrZSBgPmAgb3IgYH5gLiBJdCdzIHN0aWxsIHBvc3NpYmxlIHRvIHJldHJpZXZlIGVsZW1lbnRzIHVzaW5nXG4gICAgICAgICAqIGBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnficpYCBidXQgaXQgbmVlZHMgdG8gYmUgZXNjYXBlZCB3aGVuIHVzaW5nXG4gICAgICAgICAqIGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjXFxcXH4nKWAgZm9yIGl0IHRvIGJlIHZhbGlkLiBUaGUgb25seVxuICAgICAgICAgKiByZXF1aXJlbWVudHMgZm9yIGBpZGBzIGFyZSB0aGVtIHRvIGJlIHVuaXF1ZSBvbiB0aGUgcGFnZSBhbmQgdG8gbm90IGJlXG4gICAgICAgICAqIGVtcHR5IChgaWQ9XCJcImApLiBCZWNhdXNlIG9mIHRoYXQsIHdoZW4gcGFzc2luZyBhbiBpZCBzZWxlY3RvciwgaXQgc2hvdWxkXG4gICAgICAgICAqIGJlIHByb3Blcmx5IGVzY2FwZWQgZm9yIGl0IHRvIHdvcmsgd2l0aCBgcXVlcnlTZWxlY3RvcmAuIFdlIGNvdWxkIGNoZWNrXG4gICAgICAgICAqIGZvciB0aGUgaWQgc2VsZWN0b3IgdG8gYmUgc2ltcGxlIChubyBDU1MgY29tYmluYXRvcnMgYCsgPn5gKSBidXQgdGhhdFxuICAgICAgICAgKiB3b3VsZCBtYWtlIHRoaW5ncyBpbmNvbnNpc3RlbnQgc2luY2UgdGhleSBhcmUgdmFsaWQgY2hhcmFjdGVycyBmb3IgYW5cbiAgICAgICAgICogYGlkYCBidXQgd291bGQgbmVlZCB0byBiZSBlc2NhcGVkIHdoZW4gdXNpbmcgYHF1ZXJ5U2VsZWN0b3JgLCBicmVha2luZ1xuICAgICAgICAgKiB0aGVpciB1c2FnZSBhbmQgZW5kaW5nIHVwIGluIG5vIHNlbGVjdG9yIHJldHVybmVkLiBTZWxlY3RvcnMgbmVlZCB0byBiZVxuICAgICAgICAgKiBlc2NhcGVkOlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIGAjMS10aGluZ2AgYmVjb21lcyBgI1xcMzEgLXRoaW5nYFxuICAgICAgICAgKiAtIGAjd2l0aH5zeW1ib2xzYCBiZWNvbWVzIGAjd2l0aFxcXFx+c3ltYm9sc2BcbiAgICAgICAgICpcbiAgICAgICAgICogLSBNb3JlIGluZm9ybWF0aW9uIGFib3V0ICB0aGUgdG9waWMgY2FuIGJlIGZvdW5kIGF0XG4gICAgICAgICAqICAgaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2h0bWw1LWlkLWNsYXNzLlxuICAgICAgICAgKiAtIFByYWN0aWNhbCBleGFtcGxlOiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvZGVtby9odG1sNS1pZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB0eXBlb2YgcG9zaXRpb24uZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoIWlzSWRTZWxlY3RvciB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9zaXRpb24uZWwuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm91bmRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9zaXRpb24uZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZFNlbGVjdG9yICYmIGZvdW5kRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYFRoZSBzZWxlY3RvciBcIiR7cG9zaXRpb24uZWx9XCIgc2hvdWxkIGJlIHBhc3NlZCBhcyBcImVsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcke3Bvc2l0aW9uLmVsfScpXCIgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBcIiNcIi5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiB0byBhdm9pZCBvdGhlciB3YXJuaW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgVGhlIHNlbGVjdG9yIFwiJHtwb3NpdGlvbi5lbH1cIiBpcyBpbnZhbGlkLiBJZiB5b3UgYXJlIHVzaW5nIGFuIGlkIHNlbGVjdG9yLCBtYWtlIHN1cmUgdG8gZXNjYXBlIGl0LiBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBlc2NhcGluZyBjaGFyYWN0ZXJzIGluIHNlbGVjdG9ycyBhdCBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvY3NzLWVzY2FwZXMgb3IgdXNlIENTUy5lc2NhcGUgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DU1MvZXNjYXBlKS5gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRvIGF2b2lkIG90aGVyIHdhcm5pbmdzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWwgPSB0eXBlb2YgcG9zaXRpb25FbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gaXNJZFNlbGVjdG9yXG4gICAgICAgICAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbkVsLnNsaWNlKDEpKVxuICAgICAgICAgICAgICAgIDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3NpdGlvbkVsKVxuICAgICAgICAgICAgOiBwb3NpdGlvbkVsO1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICB3YXJuKGBDb3VsZG4ndCBmaW5kIGVsZW1lbnQgdXNpbmcgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIHJldHVybmVkIGJ5IHNjcm9sbEJlaGF2aW9yLmApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFRvT3B0aW9ucyA9IGdldEVsZW1lbnRQb3NpdGlvbihlbCwgcG9zaXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2Nyb2xsVG9PcHRpb25zID0gcG9zaXRpb247XG4gICAgfVxuICAgIGlmICgnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSlcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFRvT3B0aW9ucyk7XG4gICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbyhzY3JvbGxUb09wdGlvbnMubGVmdCAhPSBudWxsID8gc2Nyb2xsVG9PcHRpb25zLmxlZnQgOiB3aW5kb3cuc2Nyb2xsWCwgc2Nyb2xsVG9PcHRpb25zLnRvcCAhPSBudWxsID8gc2Nyb2xsVG9PcHRpb25zLnRvcCA6IHdpbmRvdy5zY3JvbGxZKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRTY3JvbGxLZXkocGF0aCwgZGVsdGEpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGhpc3Rvcnkuc3RhdGUgPyBoaXN0b3J5LnN0YXRlLnBvc2l0aW9uIC0gZGVsdGEgOiAtMTtcbiAgICByZXR1cm4gcG9zaXRpb24gKyBwYXRoO1xufVxuY29uc3Qgc2Nyb2xsUG9zaXRpb25zID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gc2F2ZVNjcm9sbFBvc2l0aW9uKGtleSwgc2Nyb2xsUG9zaXRpb24pIHtcbiAgICBzY3JvbGxQb3NpdGlvbnMuc2V0KGtleSwgc2Nyb2xsUG9zaXRpb24pO1xufVxuZnVuY3Rpb24gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihrZXkpIHtcbiAgICBjb25zdCBzY3JvbGwgPSBzY3JvbGxQb3NpdGlvbnMuZ2V0KGtleSk7XG4gICAgLy8gY29uc3VtZSBpdCBzbyBpdCdzIG5vdCB1c2VkIGFnYWluXG4gICAgc2Nyb2xsUG9zaXRpb25zLmRlbGV0ZShrZXkpO1xuICAgIHJldHVybiBzY3JvbGw7XG59XG4vLyBUT0RPOiBSRkMgYWJvdXQgaG93IHRvIHNhdmUgc2Nyb2xsIHBvc2l0aW9uXG4vKipcbiAqIFNjcm9sbEJlaGF2aW9yIGluc3RhbmNlIHVzZWQgYnkgdGhlIHJvdXRlciB0byBjb21wdXRlIGFuZCByZXN0b3JlIHRoZSBzY3JvbGxcbiAqIHBvc2l0aW9uIHdoZW4gbmF2aWdhdGluZy5cbiAqL1xuLy8gZXhwb3J0IGludGVyZmFjZSBTY3JvbGxIYW5kbGVyPFNjcm9sbFBvc2l0aW9uRW50cnkgZXh0ZW5kcyBIaXN0b3J5U3RhdGVWYWx1ZSwgU2Nyb2xsUG9zaXRpb24gZXh0ZW5kcyBTY3JvbGxQb3NpdGlvbkVudHJ5PiB7XG4vLyAgIC8vIHJldHVybnMgYSBzY3JvbGwgcG9zaXRpb24gdGhhdCBjYW4gYmUgc2F2ZWQgaW4gaGlzdG9yeVxuLy8gICBjb21wdXRlKCk6IFNjcm9sbFBvc2l0aW9uRW50cnlcbi8vICAgLy8gY2FuIHRha2UgYW4gZXh0ZW5kZWQgU2Nyb2xsUG9zaXRpb25FbnRyeVxuLy8gICBzY3JvbGwocG9zaXRpb246IFNjcm9sbFBvc2l0aW9uKTogdm9pZFxuLy8gfVxuLy8gZXhwb3J0IGNvbnN0IHNjcm9sbEhhbmRsZXI6IFNjcm9sbEhhbmRsZXI8U2Nyb2xsUG9zaXRpb24+ID0ge1xuLy8gICBjb21wdXRlOiBjb21wdXRlU2Nyb2xsLFxuLy8gICBzY3JvbGw6IHNjcm9sbFRvUG9zaXRpb24sXG4vLyB9XG5cbmxldCBjcmVhdGVCYXNlTG9jYXRpb24gPSAoKSA9PiBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0O1xuLyoqXG4gKiBDcmVhdGVzIGEgbm9ybWFsaXplZCBoaXN0b3J5IGxvY2F0aW9uIGZyb20gYSB3aW5kb3cubG9jYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0gYmFzZSAtIFRoZSBiYXNlIHBhdGhcbiAqIEBwYXJhbSBsb2NhdGlvbiAtIFRoZSB3aW5kb3cubG9jYXRpb24gb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbikge1xuICAgIGNvbnN0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gbG9jYXRpb247XG4gICAgLy8gYWxsb3dzIGhhc2ggYmFzZXMgbGlrZSAjLCAvIywgIy8sICMhLCAjIS8sIC8jIS8sIG9yIGV2ZW4gL2ZvbGRlciNlbmRcbiAgICBjb25zdCBoYXNoUG9zID0gYmFzZS5pbmRleE9mKCcjJyk7XG4gICAgaWYgKGhhc2hQb3MgPiAtMSkge1xuICAgICAgICBsZXQgc2xpY2VQb3MgPSBoYXNoLmluY2x1ZGVzKGJhc2Uuc2xpY2UoaGFzaFBvcykpXG4gICAgICAgICAgICA/IGJhc2Uuc2xpY2UoaGFzaFBvcykubGVuZ3RoXG4gICAgICAgICAgICA6IDE7XG4gICAgICAgIGxldCBwYXRoRnJvbUhhc2ggPSBoYXNoLnNsaWNlKHNsaWNlUG9zKTtcbiAgICAgICAgLy8gcHJlcGVuZCB0aGUgc3RhcnRpbmcgc2xhc2ggdG8gaGFzaCBzbyB0aGUgdXJsIHN0YXJ0cyB3aXRoIC8jXG4gICAgICAgIGlmIChwYXRoRnJvbUhhc2hbMF0gIT09ICcvJylcbiAgICAgICAgICAgIHBhdGhGcm9tSGFzaCA9ICcvJyArIHBhdGhGcm9tSGFzaDtcbiAgICAgICAgcmV0dXJuIHN0cmlwQmFzZShwYXRoRnJvbUhhc2gsICcnKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IHN0cmlwQmFzZShwYXRobmFtZSwgYmFzZSk7XG4gICAgcmV0dXJuIHBhdGggKyBzZWFyY2ggKyBoYXNoO1xufVxuZnVuY3Rpb24gdXNlSGlzdG9yeUxpc3RlbmVycyhiYXNlLCBoaXN0b3J5U3RhdGUsIGN1cnJlbnRMb2NhdGlvbiwgcmVwbGFjZSkge1xuICAgIGxldCBsaXN0ZW5lcnMgPSBbXTtcbiAgICBsZXQgdGVhcmRvd25zID0gW107XG4gICAgLy8gVE9ETzogc2hvdWxkIGl0IGJlIGEgc3RhY2s/IGEgRGljdC4gQ2hlY2sgaWYgdGhlIHBvcHN0YXRlIGxpc3RlbmVyXG4gICAgLy8gY2FuIHRyaWdnZXIgdHdpY2VcbiAgICBsZXQgcGF1c2VTdGF0ZSA9IG51bGw7XG4gICAgY29uc3QgcG9wU3RhdGVIYW5kbGVyID0gKHsgc3RhdGUsIH0pID0+IHtcbiAgICAgICAgY29uc3QgdG8gPSBjcmVhdGVDdXJyZW50TG9jYXRpb24oYmFzZSwgbG9jYXRpb24pO1xuICAgICAgICBjb25zdCBmcm9tID0gY3VycmVudExvY2F0aW9uLnZhbHVlO1xuICAgICAgICBjb25zdCBmcm9tU3RhdGUgPSBoaXN0b3J5U3RhdGUudmFsdWU7XG4gICAgICAgIGxldCBkZWx0YSA9IDA7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XG4gICAgICAgICAgICBoaXN0b3J5U3RhdGUudmFsdWUgPSBzdGF0ZTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSB0aGUgcG9wc3RhdGUgYW5kIHJlc2V0IHRoZSBwYXVzZVN0YXRlXG4gICAgICAgICAgICBpZiAocGF1c2VTdGF0ZSAmJiBwYXVzZVN0YXRlID09PSBmcm9tKSB7XG4gICAgICAgICAgICAgICAgcGF1c2VTdGF0ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsdGEgPSBmcm9tU3RhdGUgPyBzdGF0ZS5wb3NpdGlvbiAtIGZyb21TdGF0ZS5wb3NpdGlvbiA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXBsYWNlKHRvKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIZXJlIHdlIGNvdWxkIGFsc28gcmV2ZXJ0IHRoZSBuYXZpZ2F0aW9uIGJ5IGNhbGxpbmcgaGlzdG9yeS5nbygtZGVsdGEpXG4gICAgICAgIC8vIHRoaXMgbGlzdGVuZXIgd2lsbCBoYXZlIHRvIGJlIGFkYXB0ZWQgdG8gbm90IHRyaWdnZXIgYWdhaW4gYW5kIHRvIHdhaXQgZm9yIHRoZSB1cmxcbiAgICAgICAgLy8gdG8gYmUgdXBkYXRlZCBiZWZvcmUgdHJpZ2dlcmluZyB0aGUgbGlzdGVuZXJzLiBTb21lIGtpbmQgb2YgdmFsaWRhdGlvbiBmdW5jdGlvbiB3b3VsZCBhbHNvXG4gICAgICAgIC8vIG5lZWQgdG8gYmUgcGFzc2VkIHRvIHRoZSBsaXN0ZW5lcnMgc28gdGhlIG5hdmlnYXRpb24gY2FuIGJlIGFjY2VwdGVkXG4gICAgICAgIC8vIGNhbGwgYWxsIGxpc3RlbmVyc1xuICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICBsaXN0ZW5lcihjdXJyZW50TG9jYXRpb24udmFsdWUsIGZyb20sIHtcbiAgICAgICAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICAgICAgICB0eXBlOiBOYXZpZ2F0aW9uVHlwZS5wb3AsXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkZWx0YVxuICAgICAgICAgICAgICAgICAgICA/IGRlbHRhID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBOYXZpZ2F0aW9uRGlyZWN0aW9uLmZvcndhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTmF2aWdhdGlvbkRpcmVjdGlvbi5iYWNrXG4gICAgICAgICAgICAgICAgICAgIDogTmF2aWdhdGlvbkRpcmVjdGlvbi51bmtub3duLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gcGF1c2VMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHBhdXNlU3RhdGUgPSBjdXJyZW50TG9jYXRpb24udmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RlbihjYWxsYmFjaykge1xuICAgICAgICAvLyBzZXQgdXAgdGhlIGxpc3RlbmVyIGFuZCBwcmVwYXJlIHRlYXJkb3duIGNhbGxiYWNrc1xuICAgICAgICBsaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGVhcmRvd25zLnB1c2godGVhcmRvd24pO1xuICAgICAgICByZXR1cm4gdGVhcmRvd247XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJlZm9yZVVubG9hZExpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCB7IGhpc3RvcnkgfSA9IHdpbmRvdztcbiAgICAgICAgaWYgKCFoaXN0b3J5LnN0YXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZShhc3NpZ24oe30sIGhpc3Rvcnkuc3RhdGUsIHsgc2Nyb2xsOiBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSB9KSwgJycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBmb3IgKGNvbnN0IHRlYXJkb3duIG9mIHRlYXJkb3ducylcbiAgICAgICAgICAgIHRlYXJkb3duKCk7XG4gICAgICAgIHRlYXJkb3ducyA9IFtdO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BTdGF0ZUhhbmRsZXIpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkTGlzdGVuZXIpO1xuICAgIH1cbiAgICAvLyBzZXQgdXAgdGhlIGxpc3RlbmVycyBhbmQgcHJlcGFyZSB0ZWFyZG93biBjYWxsYmFja3NcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBwb3BTdGF0ZUhhbmRsZXIpO1xuICAgIC8vIFRPRE86IGNvdWxkIHdlIHVzZSAncGFnZWhpZGUnIG9yICd2aXNpYmlsaXR5Y2hhbmdlJyBpbnN0ZWFkP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vYmxvZy9wYWdlLWxpZmVjeWNsZS1hcGkvXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGJlZm9yZVVubG9hZExpc3RlbmVyLCB7XG4gICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGF1c2VMaXN0ZW5lcnMsXG4gICAgICAgIGxpc3RlbixcbiAgICAgICAgZGVzdHJveSxcbiAgICB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgc3RhdGUgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkU3RhdGUoYmFjaywgY3VycmVudCwgZm9yd2FyZCwgcmVwbGFjZWQgPSBmYWxzZSwgY29tcHV0ZVNjcm9sbCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFjayxcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgZm9yd2FyZCxcbiAgICAgICAgcmVwbGFjZWQsXG4gICAgICAgIHBvc2l0aW9uOiB3aW5kb3cuaGlzdG9yeS5sZW5ndGgsXG4gICAgICAgIHNjcm9sbDogY29tcHV0ZVNjcm9sbCA/IGNvbXB1dGVTY3JvbGxQb3NpdGlvbigpIDogbnVsbCxcbiAgICB9O1xufVxuZnVuY3Rpb24gdXNlSGlzdG9yeVN0YXRlTmF2aWdhdGlvbihiYXNlKSB7XG4gICAgY29uc3QgeyBoaXN0b3J5LCBsb2NhdGlvbiB9ID0gd2luZG93O1xuICAgIC8vIHByaXZhdGUgdmFyaWFibGVzXG4gICAgY29uc3QgY3VycmVudExvY2F0aW9uID0ge1xuICAgICAgICB2YWx1ZTogY3JlYXRlQ3VycmVudExvY2F0aW9uKGJhc2UsIGxvY2F0aW9uKSxcbiAgICB9O1xuICAgIGNvbnN0IGhpc3RvcnlTdGF0ZSA9IHsgdmFsdWU6IGhpc3Rvcnkuc3RhdGUgfTtcbiAgICAvLyBidWlsZCBjdXJyZW50IGhpc3RvcnkgZW50cnkgYXMgdGhpcyBpcyBhIGZyZXNoIG5hdmlnYXRpb25cbiAgICBpZiAoIWhpc3RvcnlTdGF0ZS52YWx1ZSkge1xuICAgICAgICBjaGFuZ2VMb2NhdGlvbihjdXJyZW50TG9jYXRpb24udmFsdWUsIHtcbiAgICAgICAgICAgIGJhY2s6IG51bGwsXG4gICAgICAgICAgICBjdXJyZW50OiBjdXJyZW50TG9jYXRpb24udmFsdWUsXG4gICAgICAgICAgICBmb3J3YXJkOiBudWxsLFxuICAgICAgICAgICAgLy8gdGhlIGxlbmd0aCBpcyBvZmYgYnkgb25lLCB3ZSBuZWVkIHRvIGRlY3JlYXNlIGl0XG4gICAgICAgICAgICBwb3NpdGlvbjogaGlzdG9yeS5sZW5ndGggLSAxLFxuICAgICAgICAgICAgcmVwbGFjZWQ6IHRydWUsXG4gICAgICAgICAgICAvLyBkb24ndCBhZGQgYSBzY3JvbGwgYXMgdGhlIHVzZXIgbWF5IGhhdmUgYW4gYW5jaG9yLCBhbmQgd2Ugd2FudFxuICAgICAgICAgICAgLy8gc2Nyb2xsQmVoYXZpb3IgdG8gYmUgdHJpZ2dlcmVkIHdpdGhvdXQgYSBzYXZlZCBwb3NpdGlvblxuICAgICAgICAgICAgc2Nyb2xsOiBudWxsLFxuICAgICAgICB9LCB0cnVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhbmdlTG9jYXRpb24odG8sIHN0YXRlLCByZXBsYWNlKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiBhIGJhc2UgdGFnIGlzIHByb3ZpZGVkLCBhbmQgd2UgYXJlIG9uIGEgbm9ybWFsIGRvbWFpbiwgd2UgaGF2ZSB0b1xuICAgICAgICAgKiByZXNwZWN0IHRoZSBwcm92aWRlZCBgYmFzZWAgYXR0cmlidXRlIGJlY2F1c2UgcHVzaFN0YXRlKCkgd2lsbCB1c2UgaXQgYW5kXG4gICAgICAgICAqIHBvdGVudGlhbGx5IGVyYXNlIGFueXRoaW5nIGJlZm9yZSB0aGUgYCNgIGxpa2UgYXRcbiAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvNjg1IHdoZXJlIGEgYmFzZSBvZlxuICAgICAgICAgKiBgL2ZvbGRlci8jYCBidXQgYSBiYXNlIG9mIGAvYCB3b3VsZCBlcmFzZSB0aGUgYC9mb2xkZXIvYCBzZWN0aW9uLiBJZlxuICAgICAgICAgKiB0aGVyZSBpcyBubyBob3N0LCB0aGUgYDxiYXNlPmAgdGFnIG1ha2VzIG5vIHNlbnNlIGFuZCBpZiB0aGVyZSBpc24ndCBhXG4gICAgICAgICAqIGJhc2UgdGFnIHdlIGNhbiBqdXN0IHVzZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBgI2AuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBoYXNoSW5kZXggPSBiYXNlLmluZGV4T2YoJyMnKTtcbiAgICAgICAgY29uc3QgdXJsID0gaGFzaEluZGV4ID4gLTFcbiAgICAgICAgICAgID8gKGxvY2F0aW9uLmhvc3QgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYmFzZScpXG4gICAgICAgICAgICAgICAgPyBiYXNlXG4gICAgICAgICAgICAgICAgOiBiYXNlLnNsaWNlKGhhc2hJbmRleCkpICsgdG9cbiAgICAgICAgICAgIDogY3JlYXRlQmFzZUxvY2F0aW9uKCkgKyBiYXNlICsgdG87XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBCUk9XU0VSIFFVSVJLXG4gICAgICAgICAgICAvLyBOT1RFOiBTYWZhcmkgdGhyb3dzIGEgU2VjdXJpdHlFcnJvciB3aGVuIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiAxMDAgdGltZXMgaW4gMzAgc2Vjb25kc1xuICAgICAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xuICAgICAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlID0gc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ0Vycm9yIHdpdGggcHVzaC9yZXBsYWNlIFN0YXRlJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvcmNlIHRoZSBuYXZpZ2F0aW9uLCB0aGlzIGFsc28gcmVzZXRzIHRoZSBjYWxsIGNvdW50XG4gICAgICAgICAgICBsb2NhdGlvbltyZXBsYWNlID8gJ3JlcGxhY2UnIDogJ2Fzc2lnbiddKHVybCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGFjZSh0bywgZGF0YSkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGFzc2lnbih7fSwgaGlzdG9yeS5zdGF0ZSwgYnVpbGRTdGF0ZShoaXN0b3J5U3RhdGUudmFsdWUuYmFjaywgXG4gICAgICAgIC8vIGtlZXAgYmFjayBhbmQgZm9yd2FyZCBlbnRyaWVzIGJ1dCBvdmVycmlkZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIHRvLCBoaXN0b3J5U3RhdGUudmFsdWUuZm9yd2FyZCwgdHJ1ZSksIGRhdGEsIHsgcG9zaXRpb246IGhpc3RvcnlTdGF0ZS52YWx1ZS5wb3NpdGlvbiB9KTtcbiAgICAgICAgY2hhbmdlTG9jYXRpb24odG8sIHN0YXRlLCB0cnVlKTtcbiAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2godG8sIGRhdGEpIHtcbiAgICAgICAgLy8gQWRkIHRvIGN1cnJlbnQgZW50cnkgdGhlIGluZm9ybWF0aW9uIG9mIHdoZXJlIHdlIGFyZSBnb2luZ1xuICAgICAgICAvLyBhcyB3ZWxsIGFzIHNhdmluZyB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBhc3NpZ24oe30sIFxuICAgICAgICAvLyB1c2UgY3VycmVudCBoaXN0b3J5IHN0YXRlIHRvIGdyYWNlZnVsbHkgaGFuZGxlIGEgd3JvbmcgY2FsbCB0b1xuICAgICAgICAvLyBoaXN0b3J5LnJlcGxhY2VTdGF0ZVxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2lzc3Vlcy8zNjZcbiAgICAgICAgaGlzdG9yeVN0YXRlLnZhbHVlLCBoaXN0b3J5LnN0YXRlLCB7XG4gICAgICAgICAgICBmb3J3YXJkOiB0byxcbiAgICAgICAgICAgIHNjcm9sbDogY29tcHV0ZVNjcm9sbFBvc2l0aW9uKCksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFoaXN0b3J5LnN0YXRlKSB7XG4gICAgICAgICAgICB3YXJuKGBoaXN0b3J5LnN0YXRlIHNlZW1zIHRvIGhhdmUgYmVlbiBtYW51YWxseSByZXBsYWNlZCB3aXRob3V0IHByZXNlcnZpbmcgdGhlIG5lY2Vzc2FyeSB2YWx1ZXMuIE1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSBleGlzdGluZyBoaXN0b3J5IHN0YXRlIGlmIHlvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBoaXN0b3J5LnJlcGxhY2VTdGF0ZTpcXG5cXG5gICtcbiAgICAgICAgICAgICAgICBgaGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeS5zdGF0ZSwgJycsIHVybClcXG5cXG5gICtcbiAgICAgICAgICAgICAgICBgWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gYXQgaHR0cHM6Ly9uZXh0LnJvdXRlci52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uLyN1c2FnZS1vZi1oaXN0b3J5LXN0YXRlLmApO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKGN1cnJlbnRTdGF0ZS5jdXJyZW50LCBjdXJyZW50U3RhdGUsIHRydWUpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IGFzc2lnbih7fSwgYnVpbGRTdGF0ZShjdXJyZW50TG9jYXRpb24udmFsdWUsIHRvLCBudWxsKSwgeyBwb3NpdGlvbjogY3VycmVudFN0YXRlLnBvc2l0aW9uICsgMSB9LCBkYXRhKTtcbiAgICAgICAgY2hhbmdlTG9jYXRpb24odG8sIHN0YXRlLCBmYWxzZSk7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbi52YWx1ZSA9IHRvO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBsb2NhdGlvbjogY3VycmVudExvY2F0aW9uLFxuICAgICAgICBzdGF0ZTogaGlzdG9yeVN0YXRlLFxuICAgICAgICBwdXNoLFxuICAgICAgICByZXBsYWNlLFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gSFRNTDUgaGlzdG9yeS4gTW9zdCBjb21tb24gaGlzdG9yeSBmb3Igc2luZ2xlIHBhZ2UgYXBwbGljYXRpb25zLlxuICpcbiAqIEBwYXJhbSBiYXNlIC1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlV2ViSGlzdG9yeShiYXNlKSB7XG4gICAgYmFzZSA9IG5vcm1hbGl6ZUJhc2UoYmFzZSk7XG4gICAgY29uc3QgaGlzdG9yeU5hdmlnYXRpb24gPSB1c2VIaXN0b3J5U3RhdGVOYXZpZ2F0aW9uKGJhc2UpO1xuICAgIGNvbnN0IGhpc3RvcnlMaXN0ZW5lcnMgPSB1c2VIaXN0b3J5TGlzdGVuZXJzKGJhc2UsIGhpc3RvcnlOYXZpZ2F0aW9uLnN0YXRlLCBoaXN0b3J5TmF2aWdhdGlvbi5sb2NhdGlvbiwgaGlzdG9yeU5hdmlnYXRpb24ucmVwbGFjZSk7XG4gICAgZnVuY3Rpb24gZ28oZGVsdGEsIHRyaWdnZXJMaXN0ZW5lcnMgPSB0cnVlKSB7XG4gICAgICAgIGlmICghdHJpZ2dlckxpc3RlbmVycylcbiAgICAgICAgICAgIGhpc3RvcnlMaXN0ZW5lcnMucGF1c2VMaXN0ZW5lcnMoKTtcbiAgICAgICAgaGlzdG9yeS5nbyhkZWx0YSk7XG4gICAgfVxuICAgIGNvbnN0IHJvdXRlckhpc3RvcnkgPSBhc3NpZ24oe1xuICAgICAgICAvLyBpdCdzIG92ZXJyaWRkZW4gcmlnaHQgYWZ0ZXJcbiAgICAgICAgbG9jYXRpb246ICcnLFxuICAgICAgICBiYXNlLFxuICAgICAgICBnbyxcbiAgICAgICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZi5iaW5kKG51bGwsIGJhc2UpLFxuICAgIH0sIGhpc3RvcnlOYXZpZ2F0aW9uLCBoaXN0b3J5TGlzdGVuZXJzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm91dGVySGlzdG9yeSwgJ2xvY2F0aW9uJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGhpc3RvcnlOYXZpZ2F0aW9uLmxvY2F0aW9uLnZhbHVlLFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnc3RhdGUnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaGlzdG9yeU5hdmlnYXRpb24uc3RhdGUudmFsdWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJvdXRlckhpc3Rvcnk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbi1tZW1vcnkgYmFzZWQgaGlzdG9yeS4gVGhlIG1haW4gcHVycG9zZSBvZiB0aGlzIGhpc3RvcnkgaXMgdG8gaGFuZGxlIFNTUi4gSXQgc3RhcnRzIGluIGEgc3BlY2lhbCBsb2NhdGlvbiB0aGF0IGlzIG5vd2hlcmUuXG4gKiBJdCdzIHVwIHRvIHRoZSB1c2VyIHRvIHJlcGxhY2UgdGhhdCBsb2NhdGlvbiB3aXRoIHRoZSBzdGFydGVyIGxvY2F0aW9uIGJ5IGVpdGhlciBjYWxsaW5nIGByb3V0ZXIucHVzaGAgb3IgYHJvdXRlci5yZXBsYWNlYC5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtIEJhc2UgYXBwbGllZCB0byBhbGwgdXJscywgZGVmYXVsdHMgdG8gJy8nXG4gKiBAcmV0dXJucyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB0aGUgcm91dGVyIGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3RvcnkoYmFzZSA9ICcnKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IFtdO1xuICAgIGxldCBxdWV1ZSA9IFtTVEFSVF07XG4gICAgbGV0IHBvc2l0aW9uID0gMDtcbiAgICBiYXNlID0gbm9ybWFsaXplQmFzZShiYXNlKTtcbiAgICBmdW5jdGlvbiBzZXRMb2NhdGlvbihsb2NhdGlvbikge1xuICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICBpZiAocG9zaXRpb24gIT09IHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gd2UgYXJlIGluIHRoZSBtaWRkbGUsIHdlIHJlbW92ZSBldmVyeXRoaW5nIGZyb20gaGVyZSBpbiB0aGUgcXVldWVcbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShwb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcXVldWUucHVzaChsb2NhdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyaWdnZXJMaXN0ZW5lcnModG8sIGZyb20sIHsgZGlyZWN0aW9uLCBkZWx0YSB9KSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICAgIHR5cGU6IE5hdmlnYXRpb25UeXBlLnBvcCxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHRvLCBmcm9tLCBpbmZvKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByb3V0ZXJIaXN0b3J5ID0ge1xuICAgICAgICAvLyByZXdyaXR0ZW4gYnkgT2JqZWN0LmRlZmluZVByb3BlcnR5XG4gICAgICAgIGxvY2F0aW9uOiBTVEFSVCxcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIGJlIGtlcHQgaW4gcXVldWVcbiAgICAgICAgc3RhdGU6IHt9LFxuICAgICAgICBiYXNlLFxuICAgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLmJpbmQobnVsbCwgYmFzZSksXG4gICAgICAgIHJlcGxhY2UodG8pIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBjdXJyZW50IGVudHJ5IGFuZCBkZWNyZW1lbnQgcG9zaXRpb25cbiAgICAgICAgICAgIHF1ZXVlLnNwbGljZShwb3NpdGlvbi0tLCAxKTtcbiAgICAgICAgICAgIHNldExvY2F0aW9uKHRvKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHVzaCh0bywgZGF0YSkge1xuICAgICAgICAgICAgc2V0TG9jYXRpb24odG8pO1xuICAgICAgICB9LFxuICAgICAgICBsaXN0ZW4oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgcXVldWUgPSBbU1RBUlRdO1xuICAgICAgICAgICAgcG9zaXRpb24gPSAwO1xuICAgICAgICB9LFxuICAgICAgICBnbyhkZWx0YSwgc2hvdWxkVHJpZ2dlciA9IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmxvY2F0aW9uO1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gXG4gICAgICAgICAgICAvLyB3ZSBhcmUgY29uc2lkZXJpbmcgZGVsdGEgPT09IDAgZ29pbmcgZm9yd2FyZCwgYnV0IGluIGFic3RyYWN0IG1vZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIDAgZm9yIHRoZSBkZWx0YSBkb2Vzbid0IG1ha2Ugc2Vuc2UgbGlrZSBpdCBkb2VzIGluIGh0bWw1IHdoZXJlXG4gICAgICAgICAgICAvLyBpdCByZWxvYWRzIHRoZSBwYWdlXG4gICAgICAgICAgICBkZWx0YSA8IDAgPyBOYXZpZ2F0aW9uRGlyZWN0aW9uLmJhY2sgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLmZvcndhcmQ7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHBvc2l0aW9uICsgZGVsdGEsIHF1ZXVlLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRUcmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckxpc3RlbmVycyh0aGlzLmxvY2F0aW9uLCBmcm9tLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm91dGVySGlzdG9yeSwgJ2xvY2F0aW9uJywge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHF1ZXVlW3Bvc2l0aW9uXSxcbiAgICB9KTtcbiAgICByZXR1cm4gcm91dGVySGlzdG9yeTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgaGFzaCBoaXN0b3J5LiBVc2VmdWwgZm9yIHdlYiBhcHBsaWNhdGlvbnMgd2l0aCBubyBob3N0IChlLmcuIGBmaWxlOi8vYCkgb3Igd2hlbiBjb25maWd1cmluZyBhIHNlcnZlciB0b1xuICogaGFuZGxlIGFueSBVUkwgaXMgbm90IHBvc3NpYmxlLlxuICpcbiAqIEBwYXJhbSBiYXNlIC0gb3B0aW9uYWwgYmFzZSB0byBwcm92aWRlLiBEZWZhdWx0cyB0byBgbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2hgIElmIHRoZXJlIGlzIGEgYDxiYXNlPmAgdGFnXG4gKiBpbiB0aGUgYGhlYWRgLCBpdHMgdmFsdWUgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm9yIG9mIHRoaXMgcGFyYW1ldGVyICoqYnV0IG5vdGUgaXQgYWZmZWN0cyBhbGwgdGhlIGhpc3RvcnkucHVzaFN0YXRlKClcbiAqIGNhbGxzKiosIG1lYW5pbmcgdGhhdCBpZiB5b3UgdXNlIGEgYDxiYXNlPmAgdGFnLCBpdCdzIGBocmVmYCB2YWx1ZSAqKmhhcyB0byBtYXRjaCB0aGlzIHBhcmFtZXRlcioqIChpZ25vcmluZyBhbnl0aGluZ1xuICogYWZ0ZXIgdGhlIGAjYCkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiAvLyBhdCBodHRwczovL2V4YW1wbGUuY29tL2ZvbGRlclxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIjYFxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9mb2xkZXIvJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGh0dHBzOi8vZXhhbXBsZS5jb20vZm9sZGVyLyNgXG4gKiAvLyBpZiB0aGUgYCNgIGlzIHByb3ZpZGVkIGluIHRoZSBiYXNlLCBpdCB3b24ndCBiZSBhZGRlZCBieSBgY3JlYXRlV2ViSGFzaEhpc3RvcnlgXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2ZvbGRlci8jL2FwcC8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIvIy9hcHAvYFxuICogLy8geW91IHNob3VsZCBhdm9pZCBkb2luZyB0aGlzIGJlY2F1c2UgaXQgY2hhbmdlcyB0aGUgb3JpZ2luYWwgdXJsIGFuZCBicmVha3MgY29weWluZyB1cmxzXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL290aGVyLWZvbGRlci8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9vdGhlci1mb2xkZXIvI2BcbiAqXG4gKiAvLyBhdCBmaWxlOi8vL3Vzci9ldGMvZm9sZGVyL2luZGV4Lmh0bWxcbiAqIC8vIGZvciBsb2NhdGlvbnMgd2l0aCBubyBgaG9zdGAsIHRoZSBiYXNlIGlzIGlnbm9yZWRcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvaUFtSWdub3JlZCcpIC8vIGdpdmVzIGEgdXJsIG9mIGBmaWxlOi8vL3Vzci9ldGMvZm9sZGVyL2luZGV4Lmh0bWwjYFxuICogYGBgXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KGJhc2UpIHtcbiAgICAvLyBNYWtlIHN1cmUgdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBmaW5lIGluIHRlcm1zIG9mIGVuY29kaW5nLCBzcGVjaWFsbHkgZm9yIElFMTFcbiAgICAvLyBmb3IgYGZpbGU6Ly9gLCBkaXJlY3RseSB1c2UgdGhlIHBhdGhuYW1lIGFuZCBpZ25vcmUgdGhlIGJhc2VcbiAgICAvLyBsb2NhdGlvbi5wYXRobmFtZSBjb250YWlucyBhbiBpbml0aWFsIGAvYCBldmVuIGF0IHRoZSByb290OiBgaHR0cHM6Ly9leGFtcGxlLmNvbWBcbiAgICBiYXNlID0gbG9jYXRpb24uaG9zdCA/IGJhc2UgfHwgbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggOiAnJztcbiAgICAvLyBhbGxvdyB0aGUgdXNlciB0byBwcm92aWRlIGEgYCNgIGluIHRoZSBtaWRkbGU6IGAvYmFzZS8jL2FwcGBcbiAgICBpZiAoIWJhc2UuaW5jbHVkZXMoJyMnKSlcbiAgICAgICAgYmFzZSArPSAnIyc7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhYmFzZS5lbmRzV2l0aCgnIy8nKSAmJiAhYmFzZS5lbmRzV2l0aCgnIycpKSB7XG4gICAgICAgIHdhcm4oYEEgaGFzaCBiYXNlIG11c3QgZW5kIHdpdGggYSBcIiNcIjpcXG5cIiR7YmFzZX1cIiBzaG91bGQgYmUgXCIke2Jhc2UucmVwbGFjZSgvIy4qJC8sICcjJyl9XCIuYCk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVXZWJIaXN0b3J5KGJhc2UpO1xufVxuXG5mdW5jdGlvbiBpc1JvdXRlTG9jYXRpb24ocm91dGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHJvdXRlID09PSAnc3RyaW5nJyB8fCAocm91dGUgJiYgdHlwZW9mIHJvdXRlID09PSAnb2JqZWN0Jyk7XG59XG5mdW5jdGlvbiBpc1JvdXRlTmFtZShuYW1lKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbmFtZSA9PT0gJ3N5bWJvbCc7XG59XG5cbi8qKlxuICogSW5pdGlhbCByb3V0ZSBsb2NhdGlvbiB3aGVyZSB0aGUgcm91dGVyIGlzLiBDYW4gYmUgdXNlZCBpbiBuYXZpZ2F0aW9uIGd1YXJkc1xuICogdG8gZGlmZmVyZW50aWF0ZSB0aGUgaW5pdGlhbCBuYXZpZ2F0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBqc1xuICogaW1wb3J0IHsgU1RBUlRfTE9DQVRJT04gfSBmcm9tICd2dWUtcm91dGVyJ1xuICpcbiAqIHJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSkgPT4ge1xuICogICBpZiAoZnJvbSA9PT0gU1RBUlRfTE9DQVRJT04pIHtcbiAqICAgICAvLyBpbml0aWFsIG5hdmlnYXRpb25cbiAqICAgfVxuICogfSlcbiAqIGBgYFxuICovXG5jb25zdCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEID0ge1xuICAgIHBhdGg6ICcvJyxcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgcGFyYW1zOiB7fSxcbiAgICBxdWVyeToge30sXG4gICAgaGFzaDogJycsXG4gICAgZnVsbFBhdGg6ICcvJyxcbiAgICBtYXRjaGVkOiBbXSxcbiAgICBtZXRhOiB7fSxcbiAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxufTtcblxuY29uc3QgTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2wgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ25hdmlnYXRpb24gZmFpbHVyZScgOiAnJyk7XG4vKipcbiAqIEVudW1lcmF0aW9uIHdpdGggYWxsIHBvc3NpYmxlIHR5cGVzIGZvciBuYXZpZ2F0aW9uIGZhaWx1cmVzLiBDYW4gYmUgcGFzc2VkIHRvXG4gKiB7QGxpbmsgaXNOYXZpZ2F0aW9uRmFpbHVyZX0gdG8gY2hlY2sgZm9yIHNwZWNpZmljIGZhaWx1cmVzLlxuICovXG52YXIgTmF2aWdhdGlvbkZhaWx1cmVUeXBlO1xuKGZ1bmN0aW9uIChOYXZpZ2F0aW9uRmFpbHVyZVR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBBbiBhYm9ydGVkIG5hdmlnYXRpb24gaXMgYSBuYXZpZ2F0aW9uIHRoYXQgZmFpbGVkIGJlY2F1c2UgYSBuYXZpZ2F0aW9uXG4gICAgICogZ3VhcmQgcmV0dXJuZWQgYGZhbHNlYCBvciBjYWxsZWQgYG5leHQoZmFsc2UpYFxuICAgICAqL1xuICAgIE5hdmlnYXRpb25GYWlsdXJlVHlwZVtOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbXCJhYm9ydGVkXCJdID0gNF0gPSBcImFib3J0ZWRcIjtcbiAgICAvKipcbiAgICAgKiBBIGNhbmNlbGxlZCBuYXZpZ2F0aW9uIGlzIGEgbmF2aWdhdGlvbiB0aGF0IGZhaWxlZCBiZWNhdXNlIGEgbW9yZSByZWNlbnRcbiAgICAgKiBuYXZpZ2F0aW9uIGZpbmlzaGVkIHN0YXJ0ZWQgKG5vdCBuZWNlc3NhcmlseSBmaW5pc2hlZCkuXG4gICAgICovXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImNhbmNlbGxlZFwiXSA9IDhdID0gXCJjYW5jZWxsZWRcIjtcbiAgICAvKipcbiAgICAgKiBBIGR1cGxpY2F0ZWQgbmF2aWdhdGlvbiBpcyBhIG5hdmlnYXRpb24gdGhhdCBmYWlsZWQgYmVjYXVzZSBpdCB3YXNcbiAgICAgKiBpbml0aWF0ZWQgd2hpbGUgYWxyZWFkeSBiZWluZyBhdCB0aGUgZXhhY3Qgc2FtZSBsb2NhdGlvbi5cbiAgICAgKi9cbiAgICBOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbTmF2aWdhdGlvbkZhaWx1cmVUeXBlW1wiZHVwbGljYXRlZFwiXSA9IDE2XSA9IFwiZHVwbGljYXRlZFwiO1xufSkoTmF2aWdhdGlvbkZhaWx1cmVUeXBlIHx8IChOYXZpZ2F0aW9uRmFpbHVyZVR5cGUgPSB7fSkpO1xuLy8gREVWIG9ubHkgZGVidWcgbWVzc2FnZXNcbmNvbnN0IEVycm9yVHlwZU1lc3NhZ2VzID0ge1xuICAgIFsxIC8qIEVycm9yVHlwZXMuTUFUQ0hFUl9OT1RfRk9VTkQgKi9dKHsgbG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiB9KSB7XG4gICAgICAgIHJldHVybiBgTm8gbWF0Y2ggZm9yXFxuICR7SlNPTi5zdHJpbmdpZnkobG9jYXRpb24pfSR7Y3VycmVudExvY2F0aW9uXG4gICAgICAgICAgICA/ICdcXG53aGlsZSBiZWluZyBhdFxcbicgKyBKU09OLnN0cmluZ2lmeShjdXJyZW50TG9jYXRpb24pXG4gICAgICAgICAgICA6ICcnfWA7XG4gICAgfSxcbiAgICBbMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi9dKHsgZnJvbSwgdG8sIH0pIHtcbiAgICAgICAgcmV0dXJuIGBSZWRpcmVjdGVkIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3N0cmluZ2lmeVJvdXRlKHRvKX1cIiB2aWEgYSBuYXZpZ2F0aW9uIGd1YXJkLmA7XG4gICAgfSxcbiAgICBbNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqL10oeyBmcm9tLCB0byB9KSB7XG4gICAgICAgIHJldHVybiBgTmF2aWdhdGlvbiBhYm9ydGVkIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcbiAgICB9LFxuICAgIFs4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi9dKHsgZnJvbSwgdG8gfSkge1xuICAgICAgICByZXR1cm4gYE5hdmlnYXRpb24gY2FuY2VsbGVkIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiIHdpdGggYSBuZXcgbmF2aWdhdGlvbi5gO1xuICAgIH0sXG4gICAgWzE2IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9EVVBMSUNBVEVEICovXSh7IGZyb20sIHRvIH0pIHtcbiAgICAgICAgcmV0dXJuIGBBdm9pZGVkIHJlZHVuZGFudCBuYXZpZ2F0aW9uIHRvIGN1cnJlbnQgbG9jYXRpb246IFwiJHtmcm9tLmZ1bGxQYXRofVwiLmA7XG4gICAgfSxcbn07XG4vKipcbiAqIENyZWF0ZXMgYSB0eXBlZCBOYXZpZ2F0aW9uRmFpbHVyZSBvYmplY3QuXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB0eXBlIC0gTmF2aWdhdGlvbkZhaWx1cmVUeXBlXG4gKiBAcGFyYW0gcGFyYW1zIC0geyBmcm9tLCB0byB9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlckVycm9yKHR5cGUsIHBhcmFtcykge1xuICAgIC8vIGtlZXAgZnVsbCBlcnJvciBtZXNzYWdlcyBpbiBjanMgdmVyc2lvbnNcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8ICF0cnVlKSB7XG4gICAgICAgIHJldHVybiBhc3NpZ24obmV3IEVycm9yKEVycm9yVHlwZU1lc3NhZ2VzW3R5cGVdKHBhcmFtcykpLCB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgW05hdmlnYXRpb25GYWlsdXJlU3ltYm9sXTogdHJ1ZSxcbiAgICAgICAgfSwgcGFyYW1zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBhc3NpZ24obmV3IEVycm9yKCksIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBbTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2xdOiB0cnVlLFxuICAgICAgICB9LCBwYXJhbXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIHR5cGUpIHtcbiAgICByZXR1cm4gKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcbiAgICAgICAgTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2wgaW4gZXJyb3IgJiZcbiAgICAgICAgKHR5cGUgPT0gbnVsbCB8fCAhIShlcnJvci50eXBlICYgdHlwZSkpKTtcbn1cbmNvbnN0IHByb3BlcnRpZXNUb0xvZyA9IFsncGFyYW1zJywgJ3F1ZXJ5JywgJ2hhc2gnXTtcbmZ1bmN0aW9uIHN0cmluZ2lmeVJvdXRlKHRvKSB7XG4gICAgaWYgKHR5cGVvZiB0byA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB0bztcbiAgICBpZiAodG8ucGF0aCAhPSBudWxsKVxuICAgICAgICByZXR1cm4gdG8ucGF0aDtcbiAgICBjb25zdCBsb2NhdGlvbiA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIHByb3BlcnRpZXNUb0xvZykge1xuICAgICAgICBpZiAoa2V5IGluIHRvKVxuICAgICAgICAgICAgbG9jYXRpb25ba2V5XSA9IHRvW2tleV07XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsb2NhdGlvbiwgbnVsbCwgMik7XG59XG5cbi8vIGRlZmF1bHQgcGF0dGVybiBmb3IgYSBwYXJhbTogbm9uLWdyZWVkeSBldmVyeXRoaW5nIGJ1dCAvXG5jb25zdCBCQVNFX1BBUkFNX1BBVFRFUk4gPSAnW14vXSs/JztcbmNvbnN0IEJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUyA9IHtcbiAgICBzZW5zaXRpdmU6IGZhbHNlLFxuICAgIHN0cmljdDogZmFsc2UsXG4gICAgc3RhcnQ6IHRydWUsXG4gICAgZW5kOiB0cnVlLFxufTtcbi8vIFNwZWNpYWwgUmVnZXggY2hhcmFjdGVycyB0aGF0IG11c3QgYmUgZXNjYXBlZCBpbiBzdGF0aWMgdG9rZW5zXG5jb25zdCBSRUdFWF9DSEFSU19SRSA9IC9bLisqP14ke30oKVtcXF0vXFxcXF0vZztcbi8qKlxuICogQ3JlYXRlcyBhIHBhdGggcGFyc2VyIGZyb20gYW4gYXJyYXkgb2YgU2VnbWVudHMgKGEgc2VnbWVudCBpcyBhbiBhcnJheSBvZiBUb2tlbnMpXG4gKlxuICogQHBhcmFtIHNlZ21lbnRzIC0gYXJyYXkgb2Ygc2VnbWVudHMgcmV0dXJuZWQgYnkgdG9rZW5pemVQYXRoXG4gKiBAcGFyYW0gZXh0cmFPcHRpb25zIC0gb3B0aW9uYWwgb3B0aW9ucyBmb3IgdGhlIHJlZ2V4cFxuICogQHJldHVybnMgYSBQYXRoUGFyc2VyXG4gKi9cbmZ1bmN0aW9uIHRva2Vuc1RvUGFyc2VyKHNlZ21lbnRzLCBleHRyYU9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gYXNzaWduKHt9LCBCQVNFX1BBVEhfUEFSU0VSX09QVElPTlMsIGV4dHJhT3B0aW9ucyk7XG4gICAgLy8gdGhlIGFtb3VudCBvZiBzY29yZXMgaXMgdGhlIHNhbWUgYXMgdGhlIGxlbmd0aCBvZiBzZWdtZW50cyBleGNlcHQgZm9yIHRoZSByb290IHNlZ21lbnQgXCIvXCJcbiAgICBjb25zdCBzY29yZSA9IFtdO1xuICAgIC8vIHRoZSByZWdleHAgYXMgYSBzdHJpbmdcbiAgICBsZXQgcGF0dGVybiA9IG9wdGlvbnMuc3RhcnQgPyAnXicgOiAnJztcbiAgICAvLyBleHRyYWN0ZWQga2V5c1xuICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgLy8gdGhlIHJvb3Qgc2VnbWVudCBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudFxuICAgICAgICBjb25zdCBzZWdtZW50U2NvcmVzID0gc2VnbWVudC5sZW5ndGggPyBbXSA6IFs5MCAvKiBQYXRoU2NvcmUuUm9vdCAqL107XG4gICAgICAgIC8vIGFsbG93IHRyYWlsaW5nIHNsYXNoXG4gICAgICAgIGlmIChvcHRpb25zLnN0cmljdCAmJiAhc2VnbWVudC5sZW5ndGgpXG4gICAgICAgICAgICBwYXR0ZXJuICs9ICcvJztcbiAgICAgICAgZm9yIChsZXQgdG9rZW5JbmRleCA9IDA7IHRva2VuSW5kZXggPCBzZWdtZW50Lmxlbmd0aDsgdG9rZW5JbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHNlZ21lbnRbdG9rZW5JbmRleF07XG4gICAgICAgICAgICAvLyByZXNldHMgdGhlIHNjb3JlIGlmIHdlIGFyZSBpbnNpZGUgYSBzdWItc2VnbWVudCAvOmEtb3RoZXItOmJcbiAgICAgICAgICAgIGxldCBzdWJTZWdtZW50U2NvcmUgPSA0MCAvKiBQYXRoU2NvcmUuU2VnbWVudCAqLyArXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMuc2Vuc2l0aXZlID8gMC4yNSAvKiBQYXRoU2NvcmUuQm9udXNDYXNlU2Vuc2l0aXZlICovIDogMCk7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gMCAvKiBUb2tlblR5cGUuU3RhdGljICovKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJlcGVuZCB0aGUgc2xhc2ggaWYgd2UgYXJlIHN0YXJ0aW5nIGEgbmV3IHNlZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gJy8nO1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gdG9rZW4udmFsdWUucmVwbGFjZShSRUdFWF9DSEFSU19SRSwgJ1xcXFwkJicpO1xuICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSA0MCAvKiBQYXRoU2NvcmUuU3RhdGljICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gMSAvKiBUb2tlblR5cGUuUGFyYW0gKi8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCByZXBlYXRhYmxlLCBvcHRpb25hbCwgcmVnZXhwIH0gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmUgPSByZWdleHAgPyByZWdleHAgOiBCQVNFX1BBUkFNX1BBVFRFUk47XG4gICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgcHJvdmlkZWQgYSBjdXN0b20gcmVnZXhwIC86aWQoXFxcXGQrKVxuICAgICAgICAgICAgICAgIGlmIChyZSAhPT0gQkFTRV9QQVJBTV9QQVRURVJOKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAxMCAvKiBQYXRoU2NvcmUuQm9udXNDdXN0b21SZWdFeHAgKi87XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgcmVnZXhwIGlzIHZhbGlkIGJlZm9yZSB1c2luZyBpdFxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgKCR7cmV9KWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjdXN0b20gUmVnRXhwIGZvciBwYXJhbSBcIiR7dmFsdWV9XCIgKCR7cmV9KTogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHdoZW4gd2UgcmVwZWF0IHdlIG11c3QgdGFrZSBjYXJlIG9mIHRoZSByZXBlYXRpbmcgbGVhZGluZyBzbGFzaFxuICAgICAgICAgICAgICAgIGxldCBzdWJQYXR0ZXJuID0gcmVwZWF0YWJsZSA/IGAoKD86JHtyZX0pKD86Lyg/OiR7cmV9KSkqKWAgOiBgKCR7cmV9KWA7XG4gICAgICAgICAgICAgICAgLy8gcHJlcGVuZCB0aGUgc2xhc2ggaWYgd2UgYXJlIHN0YXJ0aW5nIGEgbmV3IHNlZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoIXRva2VuSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIHN1YlBhdHRlcm4gPVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgYW4gb3B0aW9uYWwgLyBpZiB0aGVyZSBhcmUgbW9yZSBzZWdtZW50cyBlLmcuIC86cD8tc3RhdGljXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvciAvOnA/LTpwMlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWwgJiYgc2VnbWVudC5sZW5ndGggPCAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgKD86LyR7c3ViUGF0dGVybn0pYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJy8nICsgc3ViUGF0dGVybjtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICAgIHN1YlBhdHRlcm4gKz0gJz8nO1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gc3ViUGF0dGVybjtcbiAgICAgICAgICAgICAgICBzdWJTZWdtZW50U2NvcmUgKz0gMjAgLyogUGF0aFNjb3JlLkR5bmFtaWMgKi87XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKVxuICAgICAgICAgICAgICAgICAgICBzdWJTZWdtZW50U2NvcmUgKz0gLTggLyogUGF0aFNjb3JlLkJvbnVzT3B0aW9uYWwgKi87XG4gICAgICAgICAgICAgICAgaWYgKHJlcGVhdGFibGUpXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAtMjAgLyogUGF0aFNjb3JlLkJvbnVzUmVwZWF0YWJsZSAqLztcbiAgICAgICAgICAgICAgICBpZiAocmUgPT09ICcuKicpXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAtNTAgLyogUGF0aFNjb3JlLkJvbnVzV2lsZGNhcmQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWdtZW50U2NvcmVzLnB1c2goc3ViU2VnbWVudFNjb3JlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbiBlbXB0eSBhcnJheSBsaWtlIC9ob21lLyAtPiBbW3tob21lfV0sIFtdXVxuICAgICAgICAvLyBpZiAoIXNlZ21lbnQubGVuZ3RoKSBwYXR0ZXJuICs9ICcvJ1xuICAgICAgICBzY29yZS5wdXNoKHNlZ21lbnRTY29yZXMpO1xuICAgIH1cbiAgICAvLyBvbmx5IGFwcGx5IHRoZSBzdHJpY3QgYm9udXMgdG8gdGhlIGxhc3Qgc2NvcmVcbiAgICBpZiAob3B0aW9ucy5zdHJpY3QgJiYgb3B0aW9ucy5lbmQpIHtcbiAgICAgICAgY29uc3QgaSA9IHNjb3JlLmxlbmd0aCAtIDE7XG4gICAgICAgIHNjb3JlW2ldW3Njb3JlW2ldLmxlbmd0aCAtIDFdICs9IDAuNzAwMDAwMDAwMDAwMDAwMSAvKiBQYXRoU2NvcmUuQm9udXNTdHJpY3QgKi87XG4gICAgfVxuICAgIC8vIFRPRE86IGRldiBvbmx5IHdhcm4gZG91YmxlIHRyYWlsaW5nIHNsYXNoXG4gICAgaWYgKCFvcHRpb25zLnN0cmljdClcbiAgICAgICAgcGF0dGVybiArPSAnLz8nO1xuICAgIGlmIChvcHRpb25zLmVuZClcbiAgICAgICAgcGF0dGVybiArPSAnJCc7XG4gICAgLy8gYWxsb3cgcGF0aHMgbGlrZSAvZHluYW1pYyB0byBvbmx5IG1hdGNoIGR5bmFtaWMgb3IgZHluYW1pYy8uLi4gYnV0IG5vdCBkeW5hbWljX3NvbWV0aGluZ19lbHNlXG4gICAgZWxzZSBpZiAob3B0aW9ucy5zdHJpY3QpXG4gICAgICAgIHBhdHRlcm4gKz0gJyg/Oi98JCknO1xuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCBvcHRpb25zLnNlbnNpdGl2ZSA/ICcnIDogJ2knKTtcbiAgICBmdW5jdGlvbiBwYXJzZShwYXRoKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGF0aC5tYXRjaChyZSk7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbWF0Y2gubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWF0Y2hbaV0gfHwgJyc7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2kgLSAxXTtcbiAgICAgICAgICAgIHBhcmFtc1trZXkubmFtZV0gPSB2YWx1ZSAmJiBrZXkucmVwZWF0YWJsZSA/IHZhbHVlLnNwbGl0KCcvJykgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdHJpbmdpZnkocGFyYW1zKSB7XG4gICAgICAgIGxldCBwYXRoID0gJyc7XG4gICAgICAgIC8vIGZvciBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIGFsbG93IHRvIGJlIGVtcHR5XG4gICAgICAgIGxldCBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpIHtcbiAgICAgICAgICAgIGlmICghYXZvaWREdXBsaWNhdGVkU2xhc2ggfHwgIXBhdGguZW5kc1dpdGgoJy8nKSlcbiAgICAgICAgICAgICAgICBwYXRoICs9ICcvJztcbiAgICAgICAgICAgIGF2b2lkRHVwbGljYXRlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gMCAvKiBUb2tlblR5cGUuU3RhdGljICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGggKz0gdG9rZW4udmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IDEgLyogVG9rZW5UeXBlLlBhcmFtICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIHJlcGVhdGFibGUsIG9wdGlvbmFsIH0gPSB0b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSB2YWx1ZSBpbiBwYXJhbXMgPyBwYXJhbXNbdmFsdWVdIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHBhcmFtKSAmJiAhcmVwZWF0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQcm92aWRlZCBwYXJhbSBcIiR7dmFsdWV9XCIgaXMgYW4gYXJyYXkgYnV0IGl0IGlzIG5vdCByZXBlYXRhYmxlICgqIG9yICsgbW9kaWZpZXJzKWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBpc0FycmF5KHBhcmFtKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJhbS5qb2luKCcvJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcGFyYW07XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBtb3JlIHRoYW4gb25lIG9wdGlvbmFsIHBhcmFtIGxpa2UgLzphPy1zdGF0aWMgd2UgZG9uJ3QgbmVlZCB0byBjYXJlIGFib3V0IHRoZSBvcHRpb25hbCBwYXJhbVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYXN0IHNsYXNoIGFzIHdlIGNvdWxkIGJlIGF0IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguZW5kc1dpdGgoJy8nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGFwcGVuZCBhIHNsYXNoIG9uIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdm9pZER1cGxpY2F0ZWRTbGFzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyByZXF1aXJlZCBwYXJhbSBcIiR7dmFsdWV9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGF2b2lkIGVtcHR5IHBhdGggd2hlbiB3ZSBoYXZlIG11bHRpcGxlIG9wdGlvbmFsIHBhcmFtc1xuICAgICAgICByZXR1cm4gcGF0aCB8fCAnLyc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlLFxuICAgICAgICBzY29yZSxcbiAgICAgICAga2V5cyxcbiAgICAgICAgcGFyc2UsXG4gICAgICAgIHN0cmluZ2lmeSxcbiAgICB9O1xufVxuLyoqXG4gKiBDb21wYXJlcyBhbiBhcnJheSBvZiBudW1iZXJzIGFzIHVzZWQgaW4gUGF0aFBhcnNlci5zY29yZSBhbmQgcmV0dXJucyBhXG4gKiBudW1iZXIuIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gYHNvcnRgIGFuIGFycmF5XG4gKlxuICogQHBhcmFtIGEgLSBmaXJzdCBhcnJheSBvZiBudW1iZXJzXG4gKiBAcGFyYW0gYiAtIHNlY29uZCBhcnJheSBvZiBudW1iZXJzXG4gKiBAcmV0dXJucyAwIGlmIGJvdGggYXJlIGVxdWFsLCA8IDAgaWYgYSBzaG91bGQgYmUgc29ydGVkIGZpcnN0LCA+IDAgaWYgYlxuICogc2hvdWxkIGJlIHNvcnRlZCBmaXJzdFxuICovXG5mdW5jdGlvbiBjb21wYXJlU2NvcmVBcnJheShhLCBiKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgYS5sZW5ndGggJiYgaSA8IGIubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBiW2ldIC0gYVtpXTtcbiAgICAgICAgLy8gb25seSBrZWVwIGdvaW5nIGlmIGRpZmYgPT09IDBcbiAgICAgICAgaWYgKGRpZmYpXG4gICAgICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGFzdCBzdWJzZWdtZW50IHdhcyBTdGF0aWMsIHRoZSBzaG9ydGVyIHNlZ21lbnRzIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3RcbiAgICAvLyBvdGhlcndpc2Ugc29ydCB0aGUgbG9uZ2VzdCBzZWdtZW50IGZpcnN0XG4gICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoID09PSAxICYmIGFbMF0gPT09IDQwIC8qIFBhdGhTY29yZS5TdGF0aWMgKi8gKyA0MCAvKiBQYXRoU2NvcmUuU2VnbWVudCAqL1xuICAgICAgICAgICAgPyAtMVxuICAgICAgICAgICAgOiAxO1xuICAgIH1cbiAgICBlbHNlIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aCA9PT0gMSAmJiBiWzBdID09PSA0MCAvKiBQYXRoU2NvcmUuU3RhdGljICovICsgNDAgLyogUGF0aFNjb3JlLlNlZ21lbnQgKi9cbiAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgOiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG4vKipcbiAqIENvbXBhcmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB3aXRoIGBzb3J0YCB0byBzb3J0IGFuIGFycmF5IG9mIFBhdGhQYXJzZXJcbiAqXG4gKiBAcGFyYW0gYSAtIGZpcnN0IFBhdGhQYXJzZXJcbiAqIEBwYXJhbSBiIC0gc2Vjb25kIFBhdGhQYXJzZXJcbiAqIEByZXR1cm5zIDAgaWYgYm90aCBhcmUgZXF1YWwsIDwgMCBpZiBhIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3QsID4gMCBpZiBiXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVQYXRoUGFyc2VyU2NvcmUoYSwgYikge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBhU2NvcmUgPSBhLnNjb3JlO1xuICAgIGNvbnN0IGJTY29yZSA9IGIuc2NvcmU7XG4gICAgd2hpbGUgKGkgPCBhU2NvcmUubGVuZ3RoICYmIGkgPCBiU2NvcmUubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBjb21wYXJlU2NvcmVBcnJheShhU2NvcmVbaV0sIGJTY29yZVtpXSk7XG4gICAgICAgIC8vIGRvIG5vdCByZXR1cm4gaWYgYm90aCBhcmUgZXF1YWxcbiAgICAgICAgaWYgKGNvbXApXG4gICAgICAgICAgICByZXR1cm4gY29tcDtcbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoTWF0aC5hYnMoYlNjb3JlLmxlbmd0aCAtIGFTY29yZS5sZW5ndGgpID09PSAxKSB7XG4gICAgICAgIGlmIChpc0xhc3RTY29yZU5lZ2F0aXZlKGFTY29yZSkpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKGlzTGFzdFNjb3JlTmVnYXRpdmUoYlNjb3JlKSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgLy8gaWYgYSBhbmQgYiBzaGFyZSB0aGUgc2FtZSBzY29yZSBlbnRyaWVzIGJ1dCBiIGhhcyBtb3JlLCBzb3J0IGIgZmlyc3RcbiAgICByZXR1cm4gYlNjb3JlLmxlbmd0aCAtIGFTY29yZS5sZW5ndGg7XG4gICAgLy8gdGhpcyBpcyB0aGUgdGVybmFyeSB2ZXJzaW9uXG4gICAgLy8gcmV0dXJuIGFTY29yZS5sZW5ndGggPCBiU2NvcmUubGVuZ3RoXG4gICAgLy8gICA/IDFcbiAgICAvLyAgIDogYVNjb3JlLmxlbmd0aCA+IGJTY29yZS5sZW5ndGhcbiAgICAvLyAgID8gLTFcbiAgICAvLyAgIDogMFxufVxuLyoqXG4gKiBUaGlzIGFsbG93cyBkZXRlY3Rpbmcgc3BsYXRzIGF0IHRoZSBlbmQgb2YgYSBwYXRoOiAvaG9tZS86aWQoLiopKlxuICpcbiAqIEBwYXJhbSBzY29yZSAtIHNjb3JlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBsYXN0IGVudHJ5IGlzIG5lZ2F0aXZlXG4gKi9cbmZ1bmN0aW9uIGlzTGFzdFNjb3JlTmVnYXRpdmUoc2NvcmUpIHtcbiAgICBjb25zdCBsYXN0ID0gc2NvcmVbc2NvcmUubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHNjb3JlLmxlbmd0aCA+IDAgJiYgbGFzdFtsYXN0Lmxlbmd0aCAtIDFdIDwgMDtcbn1cblxuY29uc3QgUk9PVF9UT0tFTiA9IHtcbiAgICB0eXBlOiAwIC8qIFRva2VuVHlwZS5TdGF0aWMgKi8sXG4gICAgdmFsdWU6ICcnLFxufTtcbmNvbnN0IFZBTElEX1BBUkFNX1JFID0gL1thLXpBLVowLTlfXS87XG4vLyBBZnRlciBzb21lIHByb2ZpbGluZywgdGhlIGNhY2hlIHNlZW1zIHRvIGJlIHVubmVjZXNzYXJ5IGJlY2F1c2UgdG9rZW5pemVQYXRoXG4vLyAodGhlIHNsb3dlc3QgcGFydCBvZiBhZGRpbmcgYSByb3V0ZSkgaXMgdmVyeSBmYXN0XG4vLyBjb25zdCB0b2tlbkNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIFRva2VuW11bXT4oKVxuZnVuY3Rpb24gdG9rZW5pemVQYXRoKHBhdGgpIHtcbiAgICBpZiAoIXBhdGgpXG4gICAgICAgIHJldHVybiBbW11dO1xuICAgIGlmIChwYXRoID09PSAnLycpXG4gICAgICAgIHJldHVybiBbW1JPT1RfVE9LRU5dXTtcbiAgICBpZiAoIXBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJylcbiAgICAgICAgICAgID8gYFJvdXRlIHBhdGhzIHNob3VsZCBzdGFydCB3aXRoIGEgXCIvXCI6IFwiJHtwYXRofVwiIHNob3VsZCBiZSBcIi8ke3BhdGh9XCIuYFxuICAgICAgICAgICAgOiBgSW52YWxpZCBwYXRoIFwiJHtwYXRofVwiYCk7XG4gICAgfVxuICAgIC8vIGlmICh0b2tlbkNhY2hlLmhhcyhwYXRoKSkgcmV0dXJuIHRva2VuQ2FjaGUuZ2V0KHBhdGgpIVxuICAgIGZ1bmN0aW9uIGNyYXNoKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFUlIgKCR7c3RhdGV9KS9cIiR7YnVmZmVyfVwiOiAke21lc3NhZ2V9YCk7XG4gICAgfVxuICAgIGxldCBzdGF0ZSA9IDAgLyogVG9rZW5pemVyU3RhdGUuU3RhdGljICovO1xuICAgIGxldCBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgY29uc3QgdG9rZW5zID0gW107XG4gICAgLy8gdGhlIHNlZ21lbnQgd2lsbCBhbHdheXMgYmUgdmFsaWQgYmVjYXVzZSB3ZSBnZXQgaW50byB0aGUgaW5pdGlhbCBzdGF0ZVxuICAgIC8vIHdpdGggdGhlIGxlYWRpbmcgL1xuICAgIGxldCBzZWdtZW50O1xuICAgIGZ1bmN0aW9uIGZpbmFsaXplU2VnbWVudCgpIHtcbiAgICAgICAgaWYgKHNlZ21lbnQpXG4gICAgICAgICAgICB0b2tlbnMucHVzaChzZWdtZW50KTtcbiAgICAgICAgc2VnbWVudCA9IFtdO1xuICAgIH1cbiAgICAvLyBpbmRleCBvbiB0aGUgcGF0aFxuICAgIGxldCBpID0gMDtcbiAgICAvLyBjaGFyIGF0IGluZGV4XG4gICAgbGV0IGNoYXI7XG4gICAgLy8gYnVmZmVyIG9mIHRoZSB2YWx1ZSByZWFkXG4gICAgbGV0IGJ1ZmZlciA9ICcnO1xuICAgIC8vIGN1c3RvbSByZWdleHAgZm9yIGEgcGFyYW1cbiAgICBsZXQgY3VzdG9tUmUgPSAnJztcbiAgICBmdW5jdGlvbiBjb25zdW1lQnVmZmVyKCkge1xuICAgICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHN0YXRlID09PSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLykge1xuICAgICAgICAgICAgc2VnbWVudC5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAwIC8qIFRva2VuVHlwZS5TdGF0aWMgKi8sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGJ1ZmZlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAxIC8qIFRva2VuaXplclN0YXRlLlBhcmFtICovIHx8XG4gICAgICAgICAgICBzdGF0ZSA9PT0gMiAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cCAqLyB8fFxuICAgICAgICAgICAgc3RhdGUgPT09IDMgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHBFbmQgKi8pIHtcbiAgICAgICAgICAgIGlmIChzZWdtZW50Lmxlbmd0aCA+IDEgJiYgKGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnKycpKVxuICAgICAgICAgICAgICAgIGNyYXNoKGBBIHJlcGVhdGFibGUgcGFyYW0gKCR7YnVmZmVyfSkgbXVzdCBiZSBhbG9uZSBpbiBpdHMgc2VnbWVudC4gZWc6ICcvOmlkcysuYCk7XG4gICAgICAgICAgICBzZWdtZW50LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IDEgLyogVG9rZW5UeXBlLlBhcmFtICovLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBidWZmZXIsXG4gICAgICAgICAgICAgICAgcmVnZXhwOiBjdXN0b21SZSxcbiAgICAgICAgICAgICAgICByZXBlYXRhYmxlOiBjaGFyID09PSAnKicgfHwgY2hhciA9PT0gJysnLFxuICAgICAgICAgICAgICAgIG9wdGlvbmFsOiBjaGFyID09PSAnKicgfHwgY2hhciA9PT0gJz8nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjcmFzaCgnSW52YWxpZCBzdGF0ZSB0byBjb25zdW1lIGJ1ZmZlcicpO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlciA9ICcnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRDaGFyVG9CdWZmZXIoKSB7XG4gICAgICAgIGJ1ZmZlciArPSBjaGFyO1xuICAgIH1cbiAgICB3aGlsZSAoaSA8IHBhdGgubGVuZ3RoKSB7XG4gICAgICAgIGNoYXIgPSBwYXRoW2krK107XG4gICAgICAgIGlmIChjaGFyID09PSAnXFxcXCcgJiYgc3RhdGUgIT09IDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi8pIHtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgIHN0YXRlID0gNCAvKiBUb2tlbml6ZXJTdGF0ZS5Fc2NhcGVOZXh0ICovO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSAwIC8qIFRva2VuaXplclN0YXRlLlN0YXRpYyAqLzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZVNlZ21lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAxIC8qIFRva2VuaXplclN0YXRlLlBhcmFtICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0IC8qIFRva2VuaXplclN0YXRlLkVzY2FwZU5leHQgKi86XG4gICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBwcmV2aW91c1N0YXRlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxIC8qIFRva2VuaXplclN0YXRlLlBhcmFtICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnKCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChWQUxJRF9QQVJBTV9SRS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENoYXJUb0J1ZmZlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3VtZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDAgLyogVG9rZW5pemVyU3RhdGUuU3RhdGljICovO1xuICAgICAgICAgICAgICAgICAgICAvLyBnbyBiYWNrIG9uZSBjaGFyYWN0ZXIgaWYgd2Ugd2VyZSBub3QgbW9kaWZ5aW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyICE9PSAnKicgJiYgY2hhciAhPT0gJz8nICYmIGNoYXIgIT09ICcrJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi86XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgd29ydGggaGFuZGxpbmcgbmVzdGVkIHJlZ2V4cD8gbGlrZSA6cCg/OnByZWZpeF8oW14vXSspX3N1ZmZpeClcbiAgICAgICAgICAgICAgICAvLyBpdCBhbHJlYWR5IHdvcmtzIGJ5IGVzY2FwaW5nIHRoZSBjbG9zaW5nIClcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3BhdGhzLmVzbS5kZXYvP3A9QUFNZUpiaUF3UUVjREtiQW9BQWtQNjBQRzJSNlFBdmdOYUE2QUZBQ00yQUJ1UUJCI1xuICAgICAgICAgICAgICAgIC8vIGlzIHRoaXMgcmVhbGx5IHNvbWV0aGluZyBwZW9wbGUgbmVlZCBzaW5jZSB5b3UgY2FuIGFsc28gd3JpdGVcbiAgICAgICAgICAgICAgICAvLyAvcHJlZml4XzpwKClfc3VmZml4XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09ICcpJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGVzY2FwZWQgKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VzdG9tUmVbY3VzdG9tUmUubGVuZ3RoIC0gMV0gPT0gJ1xcXFwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tUmUgPSBjdXN0b21SZS5zbGljZSgwLCAtMSkgKyBjaGFyO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDMgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHBFbmQgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21SZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMyAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cEVuZCAqLzpcbiAgICAgICAgICAgICAgICAvLyBzYW1lIGFzIGZpbmFsaXppbmcgYSBwYXJhbVxuICAgICAgICAgICAgICAgIGNvbnN1bWVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IDAgLyogVG9rZW5pemVyU3RhdGUuU3RhdGljICovO1xuICAgICAgICAgICAgICAgIC8vIGdvIGJhY2sgb25lIGNoYXJhY3RlciBpZiB3ZSB3ZXJlIG5vdCBtb2RpZnlpbmdcbiAgICAgICAgICAgICAgICBpZiAoY2hhciAhPT0gJyonICYmIGNoYXIgIT09ICc/JyAmJiBjaGFyICE9PSAnKycpXG4gICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICBjdXN0b21SZSA9ICcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjcmFzaCgnVW5rbm93biBzdGF0ZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdGF0ZSA9PT0gMiAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cCAqLylcbiAgICAgICAgY3Jhc2goYFVuZmluaXNoZWQgY3VzdG9tIFJlZ0V4cCBmb3IgcGFyYW0gXCIke2J1ZmZlcn1cImApO1xuICAgIGNvbnN1bWVCdWZmZXIoKTtcbiAgICBmaW5hbGl6ZVNlZ21lbnQoKTtcbiAgICAvLyB0b2tlbkNhY2hlLnNldChwYXRoLCB0b2tlbnMpXG4gICAgcmV0dXJuIHRva2Vucztcbn1cblxuZnVuY3Rpb24gY3JlYXRlUm91dGVSZWNvcmRNYXRjaGVyKHJlY29yZCwgcGFyZW50LCBvcHRpb25zKSB7XG4gICAgY29uc3QgcGFyc2VyID0gdG9rZW5zVG9QYXJzZXIodG9rZW5pemVQYXRoKHJlY29yZC5wYXRoKSwgb3B0aW9ucyk7XG4gICAgLy8gd2FybiBhZ2FpbnN0IHBhcmFtcyB3aXRoIHRoZSBzYW1lIG5hbWVcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcGFyc2VyLmtleXMpIHtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0tleXMuaGFzKGtleS5uYW1lKSlcbiAgICAgICAgICAgICAgICB3YXJuKGBGb3VuZCBkdXBsaWNhdGVkIHBhcmFtcyB3aXRoIG5hbWUgXCIke2tleS5uYW1lfVwiIGZvciBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIi4gT25seSB0aGUgbGFzdCBvbmUgd2lsbCBiZSBhdmFpbGFibGUgb24gXCIkcm91dGUucGFyYW1zXCIuYCk7XG4gICAgICAgICAgICBleGlzdGluZ0tleXMuYWRkKGtleS5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtYXRjaGVyID0gYXNzaWduKHBhcnNlciwge1xuICAgICAgICByZWNvcmQsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgLy8gdGhlc2UgbmVlZHMgdG8gYmUgcG9wdWxhdGVkIGJ5IHRoZSBwYXJlbnRcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBhbGlhczogW10sXG4gICAgfSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBib3RoIGFyZSBhbGlhc2VzIG9yIGJvdGggYXJlIG5vdCBhbGlhc2VzXG4gICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gbWl4IHRoZW0gYmVjYXVzZSB0aGUgb3JkZXIgaXMgdXNlZCB3aGVuXG4gICAgICAgIC8vIHBhc3Npbmcgb3JpZ2luYWxSZWNvcmQgaW4gTWF0Y2hlci5hZGRSb3V0ZVxuICAgICAgICBpZiAoIW1hdGNoZXIucmVjb3JkLmFsaWFzT2YgPT09ICFwYXJlbnQucmVjb3JkLmFsaWFzT2YpXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChtYXRjaGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJvdXRlciBNYXRjaGVyLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHJvdXRlcyAtIGFycmF5IG9mIGluaXRpYWwgcm91dGVzXG4gKiBAcGFyYW0gZ2xvYmFsT3B0aW9ucyAtIGdsb2JhbCByb3V0ZSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlck1hdGNoZXIocm91dGVzLCBnbG9iYWxPcHRpb25zKSB7XG4gICAgLy8gbm9ybWFsaXplZCBvcmRlcmVkIGFycmF5IG9mIG1hdGNoZXJzXG4gICAgY29uc3QgbWF0Y2hlcnMgPSBbXTtcbiAgICBjb25zdCBtYXRjaGVyTWFwID0gbmV3IE1hcCgpO1xuICAgIGdsb2JhbE9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoeyBzdHJpY3Q6IGZhbHNlLCBlbmQ6IHRydWUsIHNlbnNpdGl2ZTogZmFsc2UgfSwgZ2xvYmFsT3B0aW9ucyk7XG4gICAgZnVuY3Rpb24gZ2V0UmVjb3JkTWF0Y2hlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVyTWFwLmdldChuYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkUm91dGUocmVjb3JkLCBwYXJlbnQsIG9yaWdpbmFsUmVjb3JkKSB7XG4gICAgICAgIC8vIHVzZWQgbGF0ZXIgb24gdG8gcmVtb3ZlIGJ5IG5hbWVcbiAgICAgICAgY29uc3QgaXNSb290QWRkID0gIW9yaWdpbmFsUmVjb3JkO1xuICAgICAgICBjb25zdCBtYWluTm9ybWFsaXplZFJlY29yZCA9IG5vcm1hbGl6ZVJvdXRlUmVjb3JkKHJlY29yZCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGNoZWNrQ2hpbGRNaXNzaW5nTmFtZVdpdGhFbXB0eVBhdGgobWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgbWlnaHQgYmUgdGhlIGNoaWxkIG9mIGFuIGFsaWFzXG4gICAgICAgIG1haW5Ob3JtYWxpemVkUmVjb3JkLmFsaWFzT2YgPSBvcmlnaW5hbFJlY29yZCAmJiBvcmlnaW5hbFJlY29yZC5yZWNvcmQ7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoZ2xvYmFsT3B0aW9ucywgcmVjb3JkKTtcbiAgICAgICAgLy8gZ2VuZXJhdGUgYW4gYXJyYXkgb2YgcmVjb3JkcyB0byBjb3JyZWN0bHkgaGFuZGxlIGFsaWFzZXNcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJlY29yZHMgPSBbXG4gICAgICAgICAgICBtYWluTm9ybWFsaXplZFJlY29yZCxcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKCdhbGlhcycgaW4gcmVjb3JkKSB7XG4gICAgICAgICAgICBjb25zdCBhbGlhc2VzID0gdHlwZW9mIHJlY29yZC5hbGlhcyA9PT0gJ3N0cmluZycgPyBbcmVjb3JkLmFsaWFzXSA6IHJlY29yZC5hbGlhcztcbiAgICAgICAgICAgIGZvciAoY29uc3QgYWxpYXMgb2YgYWxpYXNlcykge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRSZWNvcmRzLnB1c2goYXNzaWduKHt9LCBtYWluTm9ybWFsaXplZFJlY29yZCwge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyB1cyB0byBob2xkIGEgY29weSBvZiB0aGUgYGNvbXBvbmVudHNgIG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB0aGF0IGFzeW5jIGNvbXBvbmVudHMgY2FjaGUgaXMgaG9sZCBvbiB0aGUgb3JpZ2luYWwgcmVjb3JkXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IG9yaWdpbmFsUmVjb3JkXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9yaWdpbmFsUmVjb3JkLnJlY29yZC5jb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG1haW5Ob3JtYWxpemVkUmVjb3JkLmNvbXBvbmVudHMsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGFsaWFzLFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBtaWdodCBiZSB0aGUgY2hpbGQgb2YgYW4gYWxpYXNcbiAgICAgICAgICAgICAgICAgICAgYWxpYXNPZjogb3JpZ2luYWxSZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gb3JpZ2luYWxSZWNvcmQucmVjb3JkXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG1haW5Ob3JtYWxpemVkUmVjb3JkLFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgYWxpYXNlcyBhcmUgYWx3YXlzIG9mIHRoZSBzYW1lIGtpbmQgYXMgdGhlIG9yaWdpbmFsIHNpbmNlIHRoZXlcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJlIGRlZmluZWQgb24gdGhlIHNhbWUgcmVjb3JkXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBtYXRjaGVyO1xuICAgICAgICBsZXQgb3JpZ2luYWxNYXRjaGVyO1xuICAgICAgICBmb3IgKGNvbnN0IG5vcm1hbGl6ZWRSZWNvcmQgb2Ygbm9ybWFsaXplZFJlY29yZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gbm9ybWFsaXplZFJlY29yZDtcbiAgICAgICAgICAgIC8vIEJ1aWxkIHVwIHRoZSBwYXRoIGZvciBuZXN0ZWQgcm91dGVzIGlmIHRoZSBjaGlsZCBpc24ndCBhbiBhYnNvbHV0ZVxuICAgICAgICAgICAgLy8gcm91dGUuIE9ubHkgYWRkIHRoZSAvIGRlbGltaXRlciBpZiB0aGUgY2hpbGQgcGF0aCBpc24ndCBlbXB0eSBhbmQgaWYgdGhlXG4gICAgICAgICAgICAvLyBwYXJlbnQgcGF0aCBkb2Vzbid0IGhhdmUgYSB0cmFpbGluZyBzbGFzaFxuICAgICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXRoWzBdICE9PSAnLycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gcGFyZW50LnJlY29yZC5wYXRoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbm5lY3RpbmdTbGFzaCA9IHBhcmVudFBhdGhbcGFyZW50UGF0aC5sZW5ndGggLSAxXSA9PT0gJy8nID8gJycgOiAnLyc7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFJlY29yZC5wYXRoID1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlY29yZC5wYXRoICsgKHBhdGggJiYgY29ubmVjdGluZ1NsYXNoICsgcGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIG5vcm1hbGl6ZWRSZWNvcmQucGF0aCA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYXRjaCBhbGwgcm91dGVzIChcIipcIikgbXVzdCBub3cgYmUgZGVmaW5lZCB1c2luZyBhIHBhcmFtIHdpdGggYSBjdXN0b20gcmVnZXhwLlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnU2VlIG1vcmUgYXQgaHR0cHM6Ly9uZXh0LnJvdXRlci52dWVqcy5vcmcvZ3VpZGUvbWlncmF0aW9uLyNyZW1vdmVkLXN0YXItb3ItY2F0Y2gtYWxsLXJvdXRlcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgb2JqZWN0IGJlZm9yZWhhbmQsIHNvIGl0IGNhbiBiZSBwYXNzZWQgdG8gY2hpbGRyZW5cbiAgICAgICAgICAgIG1hdGNoZXIgPSBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIobm9ybWFsaXplZFJlY29yZCwgcGFyZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgcGFyZW50ICYmIHBhdGhbMF0gPT09ICcvJylcbiAgICAgICAgICAgICAgICBjaGVja01pc3NpbmdQYXJhbXNJbkFic29sdXRlUGF0aChtYXRjaGVyLCBwYXJlbnQpO1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGFuIGFsaWFzIHdlIG11c3QgdGVsbCB0aGUgb3JpZ2luYWwgcmVjb3JkIHRoYXQgd2UgZXhpc3QsXG4gICAgICAgICAgICAvLyBzbyB3ZSBjYW4gYmUgcmVtb3ZlZFxuICAgICAgICAgICAgaWYgKG9yaWdpbmFsUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxSZWNvcmQuYWxpYXMucHVzaChtYXRjaGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrU2FtZVBhcmFtcyhvcmlnaW5hbFJlY29yZCwgbWF0Y2hlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgZmlyc3QgcmVjb3JkIGlzIHRoZSBvcmlnaW5hbCBhbmQgb3RoZXJzIGFyZSBhbGlhc2VzXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxNYXRjaGVyID0gb3JpZ2luYWxNYXRjaGVyIHx8IG1hdGNoZXI7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTWF0Y2hlciAhPT0gbWF0Y2hlcilcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxNYXRjaGVyLmFsaWFzLnB1c2gobWF0Y2hlcik7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSByb3V0ZSBpZiBuYW1lZCBhbmQgb25seSBmb3IgdGhlIHRvcCByZWNvcmQgKGF2b2lkIGluIG5lc3RlZCBjYWxscylcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdvcmtzIGJlY2F1c2UgdGhlIG9yaWdpbmFsIHJlY29yZCBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAgICAgICAgICAgaWYgKGlzUm9vdEFkZCAmJiByZWNvcmQubmFtZSAmJiAhaXNBbGlhc1JlY29yZChtYXRjaGVyKSlcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUm91dGUocmVjb3JkLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1haW5Ob3JtYWxpemVkUmVjb3JkLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBtYWluTm9ybWFsaXplZFJlY29yZC5jaGlsZHJlbjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJvdXRlKGNoaWxkcmVuW2ldLCBtYXRjaGVyLCBvcmlnaW5hbFJlY29yZCAmJiBvcmlnaW5hbFJlY29yZC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIG5vIG9yaWdpbmFsIHJlY29yZCwgdGhlbiB0aGUgZmlyc3Qgb25lIHdhcyBub3QgYW4gYWxpYXMgYW5kIGFsbFxuICAgICAgICAgICAgLy8gb3RoZXIgYWxpYXNlcyAoaWYgYW55KSBuZWVkIHRvIHJlZmVyZW5jZSB0aGlzIHJlY29yZCB3aGVuIGFkZGluZyBjaGlsZHJlblxuICAgICAgICAgICAgb3JpZ2luYWxSZWNvcmQgPSBvcmlnaW5hbFJlY29yZCB8fCBtYXRjaGVyO1xuICAgICAgICAgICAgLy8gVE9ETzogYWRkIG5vcm1hbGl6ZWQgcmVjb3JkcyBmb3IgbW9yZSBmbGV4aWJpbGl0eVxuICAgICAgICAgICAgLy8gaWYgKHBhcmVudCAmJiBpc0FsaWFzUmVjb3JkKG9yaWdpbmFsUmVjb3JkKSkge1xuICAgICAgICAgICAgLy8gICBwYXJlbnQuY2hpbGRyZW4ucHVzaChvcmlnaW5hbFJlY29yZClcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIEF2b2lkIGFkZGluZyBhIHJlY29yZCB0aGF0IGRvZXNuJ3QgZGlzcGxheSBhbnl0aGluZy4gVGhpcyBhbGxvd3MgcGFzc2luZyB0aHJvdWdoIHJlY29yZHMgd2l0aG91dCBhIGNvbXBvbmVudCB0b1xuICAgICAgICAgICAgLy8gbm90IGJlIHJlYWNoZWQgYW5kIHBhc3MgdGhyb3VnaCB0aGUgY2F0Y2ggYWxsIHJvdXRlXG4gICAgICAgICAgICBpZiAoKG1hdGNoZXIucmVjb3JkLmNvbXBvbmVudHMgJiZcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyLnJlY29yZC5jb21wb25lbnRzKS5sZW5ndGgpIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2hlci5yZWNvcmQubmFtZSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoZXIucmVjb3JkLnJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0TWF0Y2hlcihtYXRjaGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxNYXRjaGVyXG4gICAgICAgICAgICA/ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBvdGhlciBtYXRjaGVycyBhcmUgYWxpYXNlcywgdGhleSBzaG91bGQgYmUgcmVtb3ZlZCBieSB0aGUgb3JpZ2luYWwgbWF0Y2hlclxuICAgICAgICAgICAgICAgIHJlbW92ZVJvdXRlKG9yaWdpbmFsTWF0Y2hlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IG5vb3A7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdXRlKG1hdGNoZXJSZWYpIHtcbiAgICAgICAgaWYgKGlzUm91dGVOYW1lKG1hdGNoZXJSZWYpKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVyID0gbWF0Y2hlck1hcC5nZXQobWF0Y2hlclJlZik7XG4gICAgICAgICAgICBpZiAobWF0Y2hlcikge1xuICAgICAgICAgICAgICAgIG1hdGNoZXJNYXAuZGVsZXRlKG1hdGNoZXJSZWYpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXJzLnNwbGljZShtYXRjaGVycy5pbmRleE9mKG1hdGNoZXIpLCAxKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVyLmNoaWxkcmVuLmZvckVhY2gocmVtb3ZlUm91dGUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXIuYWxpYXMuZm9yRWFjaChyZW1vdmVSb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IG1hdGNoZXJzLmluZGV4T2YobWF0Y2hlclJlZik7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoZXJSZWYucmVjb3JkLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXJNYXAuZGVsZXRlKG1hdGNoZXJSZWYucmVjb3JkLm5hbWUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXJSZWYuY2hpbGRyZW4uZm9yRWFjaChyZW1vdmVSb3V0ZSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hlclJlZi5hbGlhcy5mb3JFYWNoKHJlbW92ZVJvdXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSb3V0ZXMoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0TWF0Y2hlcihtYXRjaGVyKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBtYXRjaGVycy5sZW5ndGggJiZcbiAgICAgICAgICAgIGNvbXBhcmVQYXRoUGFyc2VyU2NvcmUobWF0Y2hlciwgbWF0Y2hlcnNbaV0pID49IDAgJiZcbiAgICAgICAgICAgIC8vIEFkZGluZyBjaGlsZHJlbiB3aXRoIGVtcHR5IHBhdGggc2hvdWxkIHN0aWxsIGFwcGVhciBiZWZvcmUgdGhlIHBhcmVudFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvMTEyNFxuICAgICAgICAgICAgKG1hdGNoZXIucmVjb3JkLnBhdGggIT09IG1hdGNoZXJzW2ldLnJlY29yZC5wYXRoIHx8XG4gICAgICAgICAgICAgICAgIWlzUmVjb3JkQ2hpbGRPZihtYXRjaGVyLCBtYXRjaGVyc1tpXSkpKVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICBtYXRjaGVycy5zcGxpY2UoaSwgMCwgbWF0Y2hlcik7XG4gICAgICAgIC8vIG9ubHkgYWRkIHRoZSBvcmlnaW5hbCByZWNvcmQgdG8gdGhlIG5hbWUgbWFwXG4gICAgICAgIGlmIChtYXRjaGVyLnJlY29yZC5uYW1lICYmICFpc0FsaWFzUmVjb3JkKG1hdGNoZXIpKVxuICAgICAgICAgICAgbWF0Y2hlck1hcC5zZXQobWF0Y2hlci5yZWNvcmQubmFtZSwgbWF0Y2hlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmUobG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICBsZXQgbWF0Y2hlcjtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGlmICgnbmFtZScgaW4gbG9jYXRpb24gJiYgbG9jYXRpb24ubmFtZSkge1xuICAgICAgICAgICAgbWF0Y2hlciA9IG1hdGNoZXJNYXAuZ2V0KGxvY2F0aW9uLm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVyKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZVJvdXRlckVycm9yKDEgLyogRXJyb3JUeXBlcy5NQVRDSEVSX05PVF9GT1VORCAqLywge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdhcm4gaWYgdGhlIHVzZXIgaXMgcGFzc2luZyBpbnZhbGlkIHBhcmFtcyBzbyB0aGV5IGNhbiBkZWJ1ZyBpdCBiZXR0ZXIgd2hlbiB0aGV5IGdldCByZW1vdmVkXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW52YWxpZFBhcmFtcyA9IE9iamVjdC5rZXlzKGxvY2F0aW9uLnBhcmFtcyB8fCB7fSkuZmlsdGVyKHBhcmFtTmFtZSA9PiAhbWF0Y2hlci5rZXlzLmZpbmQoayA9PiBrLm5hbWUgPT09IHBhcmFtTmFtZSkpO1xuICAgICAgICAgICAgICAgIGlmIChpbnZhbGlkUGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBEaXNjYXJkZWQgaW52YWxpZCBwYXJhbShzKSBcIiR7aW52YWxpZFBhcmFtcy5qb2luKCdcIiwgXCInKX1cIiB3aGVuIG5hdmlnYXRpbmcuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2Jsb2IvbWFpbi9wYWNrYWdlcy9yb3V0ZXIvQ0hBTkdFTE9HLm1kIzQxNC0yMDIyLTA4LTIyIGZvciBtb3JlIGRldGFpbHMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZSA9IG1hdGNoZXIucmVjb3JkLm5hbWU7XG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oXG4gICAgICAgICAgICAvLyBwYXJhbXNGcm9tTG9jYXRpb24gaXMgYSBuZXcgb2JqZWN0XG4gICAgICAgICAgICBwYXJhbXNGcm9tTG9jYXRpb24oY3VycmVudExvY2F0aW9uLnBhcmFtcywgXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgcGFyYW1zIHRoYXQgZXhpc3QgaW4gdGhlIHJlc29sdmVkIGxvY2F0aW9uXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgb3B0aW9uYWwgcGFyYW1zIGNvbWluZyBmcm9tIGEgcGFyZW50IHJlY29yZFxuICAgICAgICAgICAgbWF0Y2hlci5rZXlzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihrID0+ICFrLm9wdGlvbmFsKVxuICAgICAgICAgICAgICAgIC5jb25jYXQobWF0Y2hlci5wYXJlbnQgPyBtYXRjaGVyLnBhcmVudC5rZXlzLmZpbHRlcihrID0+IGsub3B0aW9uYWwpIDogW10pXG4gICAgICAgICAgICAgICAgLm1hcChrID0+IGsubmFtZSkpLCBcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgYW55IGV4aXN0aW5nIHBhcmFtcyBpbiB0aGUgY3VycmVudCBsb2NhdGlvbiB0aGF0IGRvIG5vdCBleGlzdCBoZXJlXG4gICAgICAgICAgICAvLyAjMTQ5NyB0aGlzIGVuc3VyZXMgYmV0dGVyIGFjdGl2ZS9leGFjdCBtYXRjaGluZ1xuICAgICAgICAgICAgbG9jYXRpb24ucGFyYW1zICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zRnJvbUxvY2F0aW9uKGxvY2F0aW9uLnBhcmFtcywgbWF0Y2hlci5rZXlzLm1hcChrID0+IGsubmFtZSkpKTtcbiAgICAgICAgICAgIC8vIHRocm93cyBpZiBjYW5ub3QgYmUgc3RyaW5naWZpZWRcbiAgICAgICAgICAgIHBhdGggPSBtYXRjaGVyLnN0cmluZ2lmeShwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxvY2F0aW9uLnBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm8gbmVlZCB0byByZXNvbHZlIHRoZSBwYXRoIHdpdGggdGhlIG1hdGNoZXIgYXMgaXQgd2FzIHByb3ZpZGVkXG4gICAgICAgICAgICAvLyB0aGlzIGFsc28gYWxsb3dzIHRoZSB1c2VyIHRvIGNvbnRyb2wgdGhlIGVuY29kaW5nXG4gICAgICAgICAgICBwYXRoID0gbG9jYXRpb24ucGF0aDtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgd2FybihgVGhlIE1hdGNoZXIgY2Fubm90IHJlc29sdmUgcmVsYXRpdmUgcGF0aHMgYnV0IHJlY2VpdmVkIFwiJHtwYXRofVwiLiBVbmxlc3MgeW91IGRpcmVjdGx5IGNhbGxlZCBcXGBtYXRjaGVyLnJlc29sdmUoXCIke3BhdGh9XCIpXFxgLCB0aGlzIGlzIHByb2JhYmx5IGEgYnVnIGluIHZ1ZS1yb3V0ZXIuIFBsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzL25ldy9jaG9vc2UuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRjaGVyID0gbWF0Y2hlcnMuZmluZChtID0+IG0ucmUudGVzdChwYXRoKSk7XG4gICAgICAgICAgICAvLyBtYXRjaGVyIHNob3VsZCBoYXZlIGEgdmFsdWUgYWZ0ZXIgdGhlIGxvb3BcbiAgICAgICAgICAgIGlmIChtYXRjaGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Uga25vdyB0aGUgbWF0Y2hlciB3b3JrcyBiZWNhdXNlIHdlIHRlc3RlZCB0aGUgcmVnZXhwXG4gICAgICAgICAgICAgICAgcGFyYW1zID0gbWF0Y2hlci5wYXJzZShwYXRoKTtcbiAgICAgICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGlzIGEgcmVsYXRpdmUgcGF0aFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbWF0Y2ggYnkgbmFtZSBvciBwYXRoIG9mIGN1cnJlbnQgcm91dGVcbiAgICAgICAgICAgIG1hdGNoZXIgPSBjdXJyZW50TG9jYXRpb24ubmFtZVxuICAgICAgICAgICAgICAgID8gbWF0Y2hlck1hcC5nZXQoY3VycmVudExvY2F0aW9uLm5hbWUpXG4gICAgICAgICAgICAgICAgOiBtYXRjaGVycy5maW5kKG0gPT4gbS5yZS50ZXN0KGN1cnJlbnRMb2NhdGlvbi5wYXRoKSk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoZXIpXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlUm91dGVyRXJyb3IoMSAvKiBFcnJvclR5cGVzLk1BVENIRVJfTk9UX0ZPVU5EICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSBuYXZpZ2F0aW5nIHRvIHRoZSBzYW1lIGxvY2F0aW9uLCB3ZSBkb24ndCBuZWVkIHRvIHBpY2sgdGhlXG4gICAgICAgICAgICAvLyBwYXJhbXMgbGlrZSB3aGVuIGBuYW1lYCBpcyBwcm92aWRlZFxuICAgICAgICAgICAgcGFyYW1zID0gYXNzaWduKHt9LCBjdXJyZW50TG9jYXRpb24ucGFyYW1zLCBsb2NhdGlvbi5wYXJhbXMpO1xuICAgICAgICAgICAgcGF0aCA9IG1hdGNoZXIuc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hlZCA9IFtdO1xuICAgICAgICBsZXQgcGFyZW50TWF0Y2hlciA9IG1hdGNoZXI7XG4gICAgICAgIHdoaWxlIChwYXJlbnRNYXRjaGVyKSB7XG4gICAgICAgICAgICAvLyByZXZlcnNlZCBvcmRlciBzbyBwYXJlbnRzIGFyZSBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICBtYXRjaGVkLnVuc2hpZnQocGFyZW50TWF0Y2hlci5yZWNvcmQpO1xuICAgICAgICAgICAgcGFyZW50TWF0Y2hlciA9IHBhcmVudE1hdGNoZXIucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgIG1hdGNoZWQsXG4gICAgICAgICAgICBtZXRhOiBtZXJnZU1ldGFGaWVsZHMobWF0Y2hlZCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGFkZCBpbml0aWFsIHJvdXRlc1xuICAgIHJvdXRlcy5mb3JFYWNoKHJvdXRlID0+IGFkZFJvdXRlKHJvdXRlKSk7XG4gICAgcmV0dXJuIHsgYWRkUm91dGUsIHJlc29sdmUsIHJlbW92ZVJvdXRlLCBnZXRSb3V0ZXMsIGdldFJlY29yZE1hdGNoZXIgfTtcbn1cbmZ1bmN0aW9uIHBhcmFtc0Zyb21Mb2NhdGlvbihwYXJhbXMsIGtleXMpIHtcbiAgICBjb25zdCBuZXdQYXJhbXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmIChrZXkgaW4gcGFyYW1zKVxuICAgICAgICAgICAgbmV3UGFyYW1zW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1BhcmFtcztcbn1cbi8qKlxuICogTm9ybWFsaXplcyBhIFJvdXRlUmVjb3JkUmF3LiBDcmVhdGVzIGEgY29weVxuICpcbiAqIEBwYXJhbSByZWNvcmRcbiAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZlcnNpb25cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUm91dGVSZWNvcmQocmVjb3JkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aDogcmVjb3JkLnBhdGgsXG4gICAgICAgIHJlZGlyZWN0OiByZWNvcmQucmVkaXJlY3QsXG4gICAgICAgIG5hbWU6IHJlY29yZC5uYW1lLFxuICAgICAgICBtZXRhOiByZWNvcmQubWV0YSB8fCB7fSxcbiAgICAgICAgYWxpYXNPZjogdW5kZWZpbmVkLFxuICAgICAgICBiZWZvcmVFbnRlcjogcmVjb3JkLmJlZm9yZUVudGVyLFxuICAgICAgICBwcm9wczogbm9ybWFsaXplUmVjb3JkUHJvcHMocmVjb3JkKSxcbiAgICAgICAgY2hpbGRyZW46IHJlY29yZC5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgaW5zdGFuY2VzOiB7fSxcbiAgICAgICAgbGVhdmVHdWFyZHM6IG5ldyBTZXQoKSxcbiAgICAgICAgdXBkYXRlR3VhcmRzOiBuZXcgU2V0KCksXG4gICAgICAgIGVudGVyQ2FsbGJhY2tzOiB7fSxcbiAgICAgICAgY29tcG9uZW50czogJ2NvbXBvbmVudHMnIGluIHJlY29yZFxuICAgICAgICAgICAgPyByZWNvcmQuY29tcG9uZW50cyB8fCBudWxsXG4gICAgICAgICAgICA6IHJlY29yZC5jb21wb25lbnQgJiYgeyBkZWZhdWx0OiByZWNvcmQuY29tcG9uZW50IH0sXG4gICAgfTtcbn1cbi8qKlxuICogTm9ybWFsaXplIHRoZSBvcHRpb25hbCBgcHJvcHNgIGluIGEgcmVjb3JkIHRvIGFsd2F5cyBiZSBhbiBvYmplY3Qgc2ltaWxhciB0b1xuICogY29tcG9uZW50cy4gQWxzbyBhY2NlcHQgYSBib29sZWFuIGZvciBjb21wb25lbnRzLlxuICogQHBhcmFtIHJlY29yZFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVSZWNvcmRQcm9wcyhyZWNvcmQpIHtcbiAgICBjb25zdCBwcm9wc09iamVjdCA9IHt9O1xuICAgIC8vIHByb3BzIGRvZXMgbm90IGV4aXN0IG9uIHJlZGlyZWN0IHJlY29yZHMsIGJ1dCB3ZSBjYW4gc2V0IGZhbHNlIGRpcmVjdGx5XG4gICAgY29uc3QgcHJvcHMgPSByZWNvcmQucHJvcHMgfHwgZmFsc2U7XG4gICAgaWYgKCdjb21wb25lbnQnIGluIHJlY29yZCkge1xuICAgICAgICBwcm9wc09iamVjdC5kZWZhdWx0ID0gcHJvcHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBOT1RFOiB3ZSBjb3VsZCBhbHNvIGFsbG93IGEgZnVuY3Rpb24gdG8gYmUgYXBwbGllZCB0byBldmVyeSBjb21wb25lbnQuXG4gICAgICAgIC8vIFdvdWxkIG5lZWQgdXNlciBmZWVkYmFjayBmb3IgdXNlIGNhc2VzXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cylcbiAgICAgICAgICAgIHByb3BzT2JqZWN0W25hbWVdID0gdHlwZW9mIHByb3BzID09PSAnb2JqZWN0JyA/IHByb3BzW25hbWVdIDogcHJvcHM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wc09iamVjdDtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgcmVjb3JkIG9yIGFueSBvZiBpdHMgcGFyZW50IGlzIGFuIGFsaWFzXG4gKiBAcGFyYW0gcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGlzQWxpYXNSZWNvcmQocmVjb3JkKSB7XG4gICAgd2hpbGUgKHJlY29yZCkge1xuICAgICAgICBpZiAocmVjb3JkLnJlY29yZC5hbGlhc09mKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJlY29yZCA9IHJlY29yZC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTWVyZ2UgbWV0YSBmaWVsZHMgb2YgYW4gYXJyYXkgb2YgcmVjb3Jkc1xuICpcbiAqIEBwYXJhbSBtYXRjaGVkIC0gYXJyYXkgb2YgbWF0Y2hlZCByZWNvcmRzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSB7XG4gICAgcmV0dXJuIG1hdGNoZWQucmVkdWNlKChtZXRhLCByZWNvcmQpID0+IGFzc2lnbihtZXRhLCByZWNvcmQubWV0YSksIHt9KTtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgcGFydGlhbE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0ga2V5IGluIHBhcnRpYWxPcHRpb25zID8gcGFydGlhbE9wdGlvbnNba2V5XSA6IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gaXNTYW1lUGFyYW0oYSwgYikge1xuICAgIHJldHVybiAoYS5uYW1lID09PSBiLm5hbWUgJiZcbiAgICAgICAgYS5vcHRpb25hbCA9PT0gYi5vcHRpb25hbCAmJlxuICAgICAgICBhLnJlcGVhdGFibGUgPT09IGIucmVwZWF0YWJsZSk7XG59XG4vKipcbiAqIENoZWNrIGlmIGEgcGF0aCBhbmQgaXRzIGFsaWFzIGhhdmUgdGhlIHNhbWUgcmVxdWlyZWQgcGFyYW1zXG4gKlxuICogQHBhcmFtIGEgLSBvcmlnaW5hbCByZWNvcmRcbiAqIEBwYXJhbSBiIC0gYWxpYXMgcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU2FtZVBhcmFtcyhhLCBiKSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgYS5rZXlzKSB7XG4gICAgICAgIGlmICgha2V5Lm9wdGlvbmFsICYmICFiLmtleXMuZmluZChpc1NhbWVQYXJhbS5iaW5kKG51bGwsIGtleSkpKVxuICAgICAgICAgICAgcmV0dXJuIHdhcm4oYEFsaWFzIFwiJHtiLnJlY29yZC5wYXRofVwiIGFuZCB0aGUgb3JpZ2luYWwgcmVjb3JkOiBcIiR7YS5yZWNvcmQucGF0aH1cIiBtdXN0IGhhdmUgdGhlIGV4YWN0IHNhbWUgcGFyYW0gbmFtZWQgXCIke2tleS5uYW1lfVwiYCk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGIua2V5cykge1xuICAgICAgICBpZiAoIWtleS5vcHRpb25hbCAmJiAhYS5rZXlzLmZpbmQoaXNTYW1lUGFyYW0uYmluZChudWxsLCBrZXkpKSlcbiAgICAgICAgICAgIHJldHVybiB3YXJuKGBBbGlhcyBcIiR7Yi5yZWNvcmQucGF0aH1cIiBhbmQgdGhlIG9yaWdpbmFsIHJlY29yZDogXCIke2EucmVjb3JkLnBhdGh9XCIgbXVzdCBoYXZlIHRoZSBleGFjdCBzYW1lIHBhcmFtIG5hbWVkIFwiJHtrZXkubmFtZX1cImApO1xuICAgIH1cbn1cbi8qKlxuICogQSByb3V0ZSB3aXRoIGEgbmFtZSBhbmQgYSBjaGlsZCB3aXRoIGFuIGVtcHR5IHBhdGggd2l0aG91dCBhIG5hbWUgc2hvdWxkIHdhcm4gd2hlbiBhZGRpbmcgdGhlIHJvdXRlXG4gKlxuICogQHBhcmFtIG1haW5Ob3JtYWxpemVkUmVjb3JkIC0gUm91dGVSZWNvcmROb3JtYWxpemVkXG4gKiBAcGFyYW0gcGFyZW50IC0gUm91dGVSZWNvcmRNYXRjaGVyXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ2hpbGRNaXNzaW5nTmFtZVdpdGhFbXB0eVBhdGgobWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiZcbiAgICAgICAgcGFyZW50LnJlY29yZC5uYW1lICYmXG4gICAgICAgICFtYWluTm9ybWFsaXplZFJlY29yZC5uYW1lICYmXG4gICAgICAgICFtYWluTm9ybWFsaXplZFJlY29yZC5wYXRoKSB7XG4gICAgICAgIHdhcm4oYFRoZSByb3V0ZSBuYW1lZCBcIiR7U3RyaW5nKHBhcmVudC5yZWNvcmQubmFtZSl9XCIgaGFzIGEgY2hpbGQgd2l0aG91dCBhIG5hbWUgYW5kIGFuIGVtcHR5IHBhdGguIFVzaW5nIHRoYXQgbmFtZSB3b24ndCByZW5kZXIgdGhlIGVtcHR5IHBhdGggY2hpbGQgc28geW91IHByb2JhYmx5IHdhbnQgdG8gbW92ZSB0aGUgbmFtZSB0byB0aGUgY2hpbGQgaW5zdGVhZC4gSWYgdGhpcyBpcyBpbnRlbnRpb25hbCwgYWRkIGEgbmFtZSB0byB0aGUgY2hpbGQgcm91dGUgdG8gcmVtb3ZlIHRoZSB3YXJuaW5nLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrTWlzc2luZ1BhcmFtc0luQWJzb2x1dGVQYXRoKHJlY29yZCwgcGFyZW50KSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgcGFyZW50LmtleXMpIHtcbiAgICAgICAgaWYgKCFyZWNvcmQua2V5cy5maW5kKGlzU2FtZVBhcmFtLmJpbmQobnVsbCwga2V5KSkpXG4gICAgICAgICAgICByZXR1cm4gd2FybihgQWJzb2x1dGUgcGF0aCBcIiR7cmVjb3JkLnJlY29yZC5wYXRofVwiIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBwYXJhbSBuYW1lZCBcIiR7a2V5Lm5hbWV9XCIgYXMgaXRzIHBhcmVudCBcIiR7cGFyZW50LnJlY29yZC5wYXRofVwiLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzUmVjb3JkQ2hpbGRPZihyZWNvcmQsIHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQuY2hpbGRyZW4uc29tZShjaGlsZCA9PiBjaGlsZCA9PT0gcmVjb3JkIHx8IGlzUmVjb3JkQ2hpbGRPZihyZWNvcmQsIGNoaWxkKSk7XG59XG5cbi8qKlxuICogVHJhbnNmb3JtcyBhIHF1ZXJ5U3RyaW5nIGludG8gYSB7QGxpbmsgTG9jYXRpb25RdWVyeX0gb2JqZWN0LiBBY2NlcHQgYm90aCwgYVxuICogdmVyc2lvbiB3aXRoIHRoZSBsZWFkaW5nIGA/YCBhbmQgd2l0aG91dCBTaG91bGQgd29yayBhcyBVUkxTZWFyY2hQYXJhbXNcblxuICogQGludGVybmFsXG4gKlxuICogQHBhcmFtIHNlYXJjaCAtIHNlYXJjaCBzdHJpbmcgdG8gcGFyc2VcbiAqIEByZXR1cm5zIGEgcXVlcnkgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIHBhcnNlUXVlcnkoc2VhcmNoKSB7XG4gICAgY29uc3QgcXVlcnkgPSB7fTtcbiAgICAvLyBhdm9pZCBjcmVhdGluZyBhbiBvYmplY3Qgd2l0aCBhbiBlbXB0eSBrZXkgYW5kIGVtcHR5IHZhbHVlXG4gICAgLy8gYmVjYXVzZSBvZiBzcGxpdCgnJicpXG4gICAgaWYgKHNlYXJjaCA9PT0gJycgfHwgc2VhcmNoID09PSAnPycpXG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICBjb25zdCBoYXNMZWFkaW5nSU0gPSBzZWFyY2hbMF0gPT09ICc/JztcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSAoaGFzTGVhZGluZ0lNID8gc2VhcmNoLnNsaWNlKDEpIDogc2VhcmNoKS5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VhcmNoUGFyYW1zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIC8vIHByZSBkZWNvZGUgdGhlICsgaW50byBzcGFjZVxuICAgICAgICBjb25zdCBzZWFyY2hQYXJhbSA9IHNlYXJjaFBhcmFtc1tpXS5yZXBsYWNlKFBMVVNfUkUsICcgJyk7XG4gICAgICAgIC8vIGFsbG93IHRoZSA9IGNoYXJhY3RlclxuICAgICAgICBjb25zdCBlcVBvcyA9IHNlYXJjaFBhcmFtLmluZGV4T2YoJz0nKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZGVjb2RlKGVxUG9zIDwgMCA/IHNlYXJjaFBhcmFtIDogc2VhcmNoUGFyYW0uc2xpY2UoMCwgZXFQb3MpKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBlcVBvcyA8IDAgPyBudWxsIDogZGVjb2RlKHNlYXJjaFBhcmFtLnNsaWNlKGVxUG9zICsgMSkpO1xuICAgICAgICBpZiAoa2V5IGluIHF1ZXJ5KSB7XG4gICAgICAgICAgICAvLyBhbiBleHRyYSB2YXJpYWJsZSBmb3IgdHMgdHlwZXNcbiAgICAgICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBxdWVyeVtrZXldO1xuICAgICAgICAgICAgaWYgKCFpc0FycmF5KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBxdWVyeVtrZXldID0gW2N1cnJlbnRWYWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBxdWVyeVtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5O1xufVxuLyoqXG4gKiBTdHJpbmdpZmllcyBhIHtAbGluayBMb2NhdGlvblF1ZXJ5UmF3fSBvYmplY3QuIExpa2UgYFVSTFNlYXJjaFBhcmFtc2AsIGl0XG4gKiBkb2Vzbid0IHByZXBlbmQgYSBgP2BcbiAqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAcGFyYW0gcXVlcnkgLSBxdWVyeSBvYmplY3QgdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJucyBzdHJpbmcgdmVyc2lvbiBvZiB0aGUgcXVlcnkgd2l0aG91dCB0aGUgbGVhZGluZyBgP2BcbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5UXVlcnkocXVlcnkpIHtcbiAgICBsZXQgc2VhcmNoID0gJyc7XG4gICAgZm9yIChsZXQga2V5IGluIHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAga2V5ID0gZW5jb2RlUXVlcnlLZXkoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgbnVsbCBhZGRzIHRoZSB2YWx1ZVxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaC5sZW5ndGggPyAnJicgOiAnJykgKyBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBrZWVwIG51bGwgdmFsdWVzXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IHZhbHVlLm1hcCh2ID0+IHYgJiYgZW5jb2RlUXVlcnlWYWx1ZSh2KSlcbiAgICAgICAgICAgIDogW3ZhbHVlICYmIGVuY29kZVF1ZXJ5VmFsdWUodmFsdWUpXTtcbiAgICAgICAgdmFsdWVzLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgLy8gc2tpcCB1bmRlZmluZWQgdmFsdWVzIGluIGFycmF5cyBhcyBpZiB0aGV5IHdlcmUgbm90IHByZXNlbnRcbiAgICAgICAgICAgIC8vIHNtYWxsZXIgY29kZSB0aGFuIHVzaW5nIGZpbHRlclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGFwcGVuZCAmIHdpdGggbm9uLWVtcHR5IHNlYXJjaFxuICAgICAgICAgICAgICAgIHNlYXJjaCArPSAoc2VhcmNoLmxlbmd0aCA/ICcmJyA6ICcnKSArIGtleTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoICs9ICc9JyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlYXJjaDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhIHtAbGluayBMb2NhdGlvblF1ZXJ5UmF3fSBpbnRvIGEge0BsaW5rIExvY2F0aW9uUXVlcnl9IGJ5IGNhc3RpbmdcbiAqIG51bWJlcnMgaW50byBzdHJpbmdzLCByZW1vdmluZyBrZXlzIHdpdGggYW4gdW5kZWZpbmVkIHZhbHVlIGFuZCByZXBsYWNpbmdcbiAqIHVuZGVmaW5lZCB3aXRoIG51bGwgaW4gYXJyYXlzXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gcXVlcnkgb2JqZWN0IHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMgYSBub3JtYWxpemVkIHF1ZXJ5IG9iamVjdFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVRdWVyeShxdWVyeSkge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRRdWVyeSA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRRdWVyeVtrZXldID0gaXNBcnJheSh2YWx1ZSlcbiAgICAgICAgICAgICAgICA/IHZhbHVlLm1hcCh2ID0+ICh2ID09IG51bGwgPyBudWxsIDogJycgKyB2KSlcbiAgICAgICAgICAgICAgICA6IHZhbHVlID09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6ICcnICsgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRRdWVyeTtcbn1cblxuLyoqXG4gKiBSb3V0ZVJlY29yZCBiZWluZyByZW5kZXJlZCBieSB0aGUgY2xvc2VzdCBhbmNlc3RvciBSb3V0ZXIgVmlldy4gVXNlZCBmb3JcbiAqIGBvbkJlZm9yZVJvdXRlVXBkYXRlYCBhbmQgYG9uQmVmb3JlUm91dGVMZWF2ZWAuIHJ2bG0gc3RhbmRzIGZvciBSb3V0ZXIgVmlld1xuICogTG9jYXRpb24gTWF0Y2hlZFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBtYXRjaGVkUm91dGVLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlciB2aWV3IGxvY2F0aW9uIG1hdGNoZWQnIDogJycpO1xuLyoqXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgcm91dGVyIHZpZXcgZGVwdGggdG8gY29udHJvbCB3aGljaCBjb21wb25lbnQgaW5cbiAqIGBtYXRjaGVkYCBpcyByZW5kZXJlZC4gcnZkIHN0YW5kcyBmb3IgUm91dGVyIFZpZXcgRGVwdGhcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3Qgdmlld0RlcHRoS2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBkZXB0aCcgOiAnJyk7XG4vKipcbiAqIEFsbG93cyBvdmVycmlkaW5nIHRoZSByb3V0ZXIgaW5zdGFuY2UgcmV0dXJuZWQgYnkgYHVzZVJvdXRlcmAgaW4gdGVzdHMuIHJcbiAqIHN0YW5kcyBmb3Igcm91dGVyXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlcktleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIGN1cnJlbnQgcm91dGUgcmV0dXJuZWQgYnkgYHVzZVJvdXRlYCBpbiB0ZXN0cy4gcmxcbiAqIHN0YW5kcyBmb3Igcm91dGUgbG9jYXRpb25cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3Qgcm91dGVMb2NhdGlvbktleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGUgbG9jYXRpb24nIDogJycpO1xuLyoqXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgY3VycmVudCByb3V0ZSB1c2VkIGJ5IHJvdXRlci12aWV3LiBJbnRlcm5hbGx5IHRoaXMgaXNcbiAqIHVzZWQgd2hlbiB0aGUgYHJvdXRlYCBwcm9wIGlzIHBhc3NlZC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3Qgcm91dGVyVmlld0xvY2F0aW9uS2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBsb2NhdGlvbicgOiAnJyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbGlzdCBvZiBjYWxsYmFja3MgdGhhdCBjYW4gYmUgcmVzZXQuIFVzZWQgdG8gY3JlYXRlIGJlZm9yZSBhbmQgYWZ0ZXIgbmF2aWdhdGlvbiBndWFyZHMgbGlzdFxuICovXG5mdW5jdGlvbiB1c2VDYWxsYmFja3MoKSB7XG4gICAgbGV0IGhhbmRsZXJzID0gW107XG4gICAgZnVuY3Rpb24gYWRkKGhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBoYW5kbGVycy5pbmRleE9mKGhhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSlcbiAgICAgICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICBoYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQsXG4gICAgICAgIGxpc3Q6ICgpID0+IGhhbmRsZXJzLnNsaWNlKCksXG4gICAgICAgIHJlc2V0LFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyR3VhcmQocmVjb3JkLCBuYW1lLCBndWFyZCkge1xuICAgIGNvbnN0IHJlbW92ZUZyb21MaXN0ID0gKCkgPT4ge1xuICAgICAgICByZWNvcmRbbmFtZV0uZGVsZXRlKGd1YXJkKTtcbiAgICB9O1xuICAgIG9uVW5tb3VudGVkKHJlbW92ZUZyb21MaXN0KTtcbiAgICBvbkRlYWN0aXZhdGVkKHJlbW92ZUZyb21MaXN0KTtcbiAgICBvbkFjdGl2YXRlZCgoKSA9PiB7XG4gICAgICAgIHJlY29yZFtuYW1lXS5hZGQoZ3VhcmQpO1xuICAgIH0pO1xuICAgIHJlY29yZFtuYW1lXS5hZGQoZ3VhcmQpO1xufVxuLyoqXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGNvbXBvbmVudCBmb3IgdGhlIGN1cnJlbnRcbiAqIGxvY2F0aW9uIGlzIGFib3V0IHRvIGJlIGxlZnQuIFNpbWlsYXIgdG8ge0BsaW5rIGJlZm9yZVJvdXRlTGVhdmV9IGJ1dCBjYW4gYmVcbiAqIHVzZWQgaW4gYW55IGNvbXBvbmVudC4gVGhlIGd1YXJkIGlzIHJlbW92ZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBAcGFyYW0gbGVhdmVHdWFyZCAtIHtAbGluayBOYXZpZ2F0aW9uR3VhcmR9XG4gKi9cbmZ1bmN0aW9uIG9uQmVmb3JlUm91dGVMZWF2ZShsZWF2ZUd1YXJkKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZ2V0Q3VycmVudEluc3RhbmNlKCkpIHtcbiAgICAgICAgd2FybignZ2V0Q3VycmVudEluc3RhbmNlKCkgcmV0dXJuZWQgbnVsbC4gb25CZWZvcmVSb3V0ZUxlYXZlKCkgbXVzdCBiZSBjYWxsZWQgYXQgdGhlIHRvcCBvZiBhIHNldHVwIGZ1bmN0aW9uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlUmVjb3JkID0gaW5qZWN0KG1hdGNoZWRSb3V0ZUtleSwgXG4gICAgLy8gdG8gYXZvaWQgd2FybmluZ1xuICAgIHt9KS52YWx1ZTtcbiAgICBpZiAoIWFjdGl2ZVJlY29yZCkge1xuICAgICAgICAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgIHdhcm4oJ05vIGFjdGl2ZSByb3V0ZSByZWNvcmQgd2FzIGZvdW5kIHdoZW4gY2FsbGluZyBgb25CZWZvcmVSb3V0ZUxlYXZlKClgLiBNYWtlIHN1cmUgeW91IGNhbGwgdGhpcyBmdW5jdGlvbiBpbnNpZGUgYSBjb21wb25lbnQgY2hpbGQgb2YgPHJvdXRlci12aWV3Pi4gTWF5YmUgeW91IGNhbGxlZCBpdCBpbnNpZGUgb2YgQXBwLnZ1ZT8nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWdpc3Rlckd1YXJkKGFjdGl2ZVJlY29yZCwgJ2xlYXZlR3VhcmRzJywgbGVhdmVHdWFyZCk7XG59XG4vKipcbiAqIEFkZCBhIG5hdmlnYXRpb24gZ3VhcmQgdGhhdCB0cmlnZ2VycyB3aGVuZXZlciB0aGUgY3VycmVudCBsb2NhdGlvbiBpcyBhYm91dFxuICogdG8gYmUgdXBkYXRlZC4gU2ltaWxhciB0byB7QGxpbmsgYmVmb3JlUm91dGVVcGRhdGV9IGJ1dCBjYW4gYmUgdXNlZCBpbiBhbnlcbiAqIGNvbXBvbmVudC4gVGhlIGd1YXJkIGlzIHJlbW92ZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBAcGFyYW0gdXBkYXRlR3VhcmQgLSB7QGxpbmsgTmF2aWdhdGlvbkd1YXJkfVxuICovXG5mdW5jdGlvbiBvbkJlZm9yZVJvdXRlVXBkYXRlKHVwZGF0ZUd1YXJkKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhZ2V0Q3VycmVudEluc3RhbmNlKCkpIHtcbiAgICAgICAgd2FybignZ2V0Q3VycmVudEluc3RhbmNlKCkgcmV0dXJuZWQgbnVsbC4gb25CZWZvcmVSb3V0ZVVwZGF0ZSgpIG11c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBzZXR1cCBmdW5jdGlvbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZCA9IGluamVjdChtYXRjaGVkUm91dGVLZXksIFxuICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdcbiAgICB7fSkudmFsdWU7XG4gICAgaWYgKCFhY3RpdmVSZWNvcmQpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuKCdObyBhY3RpdmUgcm91dGUgcmVjb3JkIHdhcyBmb3VuZCB3aGVuIGNhbGxpbmcgYG9uQmVmb3JlUm91dGVVcGRhdGUoKWAuIE1ha2Ugc3VyZSB5b3UgY2FsbCB0aGlzIGZ1bmN0aW9uIGluc2lkZSBhIGNvbXBvbmVudCBjaGlsZCBvZiA8cm91dGVyLXZpZXc+LiBNYXliZSB5b3UgY2FsbGVkIGl0IGluc2lkZSBvZiBBcHAudnVlPycpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJlZ2lzdGVyR3VhcmQoYWN0aXZlUmVjb3JkLCAndXBkYXRlR3VhcmRzJywgdXBkYXRlR3VhcmQpO1xufVxuZnVuY3Rpb24gZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20sIHJlY29yZCwgbmFtZSwgcnVuV2l0aENvbnRleHQgPSBmbiA9PiBmbigpKSB7XG4gICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgZW50ZXJDYWxsYmFja0FycmF5IHRvIHByZXZlbnQgcHVzaGluZyBjYWxsYmFja3MgaWYgYSBuZXcgbmF2aWdhdGlvbiB0b29rIHBsYWNlXG4gICAgY29uc3QgZW50ZXJDYWxsYmFja0FycmF5ID0gcmVjb3JkICYmXG4gICAgICAgIC8vIG5hbWUgaXMgZGVmaW5lZCBpZiByZWNvcmQgaXMgYmVjYXVzZSBvZiB0aGUgZnVuY3Rpb24gb3ZlcmxvYWRcbiAgICAgICAgKHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9IHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSB8fCBbXSk7XG4gICAgcmV0dXJuICgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgbmV4dCA9ICh2YWxpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChjcmVhdGVSb3V0ZXJFcnJvcig0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbGlkIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZWplY3QodmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNSb3V0ZUxvY2F0aW9uKHZhbGlkKSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChjcmVhdGVSb3V0ZXJFcnJvcigyIC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLywge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiB0byxcbiAgICAgICAgICAgICAgICAgICAgdG86IHZhbGlkLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChlbnRlckNhbGxiYWNrQXJyYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgZW50ZXJDYWxsYmFja0FycmF5IGlzIHRydXRoeSwgYm90aCByZWNvcmQgYW5kIG5hbWUgYWxzbyBhcmVcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmVudGVyQ2FsbGJhY2tzW25hbWVdID09PSBlbnRlckNhbGxiYWNrQXJyYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHZhbGlkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGVyQ2FsbGJhY2tBcnJheS5wdXNoKHZhbGlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyB3cmFwcGluZyB3aXRoIFByb21pc2UucmVzb2x2ZSBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGJvdGggYXN5bmMgYW5kIHN5bmMgZ3VhcmRzXG4gICAgICAgIGNvbnN0IGd1YXJkUmV0dXJuID0gcnVuV2l0aENvbnRleHQoKCkgPT4gZ3VhcmQuY2FsbChyZWNvcmQgJiYgcmVjb3JkLmluc3RhbmNlc1tuYW1lXSwgdG8sIGZyb20sIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/IGNhbk9ubHlCZUNhbGxlZE9uY2UobmV4dCwgdG8sIGZyb20pIDogbmV4dCkpO1xuICAgICAgICBsZXQgZ3VhcmRDYWxsID0gUHJvbWlzZS5yZXNvbHZlKGd1YXJkUmV0dXJuKTtcbiAgICAgICAgaWYgKGd1YXJkLmxlbmd0aCA8IDMpXG4gICAgICAgICAgICBndWFyZENhbGwgPSBndWFyZENhbGwudGhlbihuZXh0KTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBndWFyZC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYFRoZSBcIm5leHRcIiBjYWxsYmFjayB3YXMgbmV2ZXIgY2FsbGVkIGluc2lkZSBvZiAke2d1YXJkLm5hbWUgPyAnXCInICsgZ3VhcmQubmFtZSArICdcIicgOiAnJ306XFxuJHtndWFyZC50b1N0cmluZygpfVxcbi4gSWYgeW91IGFyZSByZXR1cm5pbmcgYSB2YWx1ZSBpbnN0ZWFkIG9mIGNhbGxpbmcgXCJuZXh0XCIsIG1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIFwibmV4dFwiIHBhcmFtZXRlciBmcm9tIHlvdXIgZnVuY3Rpb24uYDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZ3VhcmRSZXR1cm4gPT09ICdvYmplY3QnICYmICd0aGVuJyBpbiBndWFyZFJldHVybikge1xuICAgICAgICAgICAgICAgIGd1YXJkQ2FsbCA9IGd1YXJkQ2FsbC50aGVuKHJlc29sdmVkVmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBfY2FsbGVkIGlzIGFkZGVkIGF0IGNhbk9ubHlCZUNhbGxlZE9uY2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0Ll9jYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbnZhbGlkIG5hdmlnYXRpb24gZ3VhcmQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkVmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChndWFyZFJldHVybiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogX2NhbGxlZCBpcyBhZGRlZCBhdCBjYW5Pbmx5QmVDYWxsZWRPbmNlXG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0Ll9jYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBuYXZpZ2F0aW9uIGd1YXJkJykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGd1YXJkQ2FsbC5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY2FuT25seUJlQ2FsbGVkT25jZShuZXh0LCB0bywgZnJvbSkge1xuICAgIGxldCBjYWxsZWQgPSAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjYWxsZWQrKyA9PT0gMSlcbiAgICAgICAgICAgIHdhcm4oYFRoZSBcIm5leHRcIiBjYWxsYmFjayB3YXMgY2FsbGVkIG1vcmUgdGhhbiBvbmNlIGluIG9uZSBuYXZpZ2F0aW9uIGd1YXJkIHdoZW4gZ29pbmcgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG8uZnVsbFBhdGh9XCIuIEl0IHNob3VsZCBiZSBjYWxsZWQgZXhhY3RseSBvbmUgdGltZSBpbiBlYWNoIG5hdmlnYXRpb24gZ3VhcmQuIFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uYCk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHdlIHB1dCBpdCBpbiB0aGUgb3JpZ2luYWwgb25lIGJlY2F1c2UgaXQncyBlYXNpZXIgdG8gY2hlY2tcbiAgICAgICAgbmV4dC5fY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNhbGxlZCA9PT0gMSlcbiAgICAgICAgICAgIG5leHQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMobWF0Y2hlZCwgZ3VhcmRUeXBlLCB0bywgZnJvbSwgcnVuV2l0aENvbnRleHQgPSBmbiA9PiBmbigpKSB7XG4gICAgY29uc3QgZ3VhcmRzID0gW107XG4gICAgZm9yIChjb25zdCByZWNvcmQgb2YgbWF0Y2hlZCkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFyZWNvcmQuY29tcG9uZW50cyAmJiAhcmVjb3JkLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgd2FybihgUmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgZWl0aGVyIG1pc3NpbmcgYSBcImNvbXBvbmVudChzKVwiYCArXG4gICAgICAgICAgICAgICAgYCBvciBcImNoaWxkcmVuXCIgcHJvcGVydHkuYCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHJlY29yZC5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICBsZXQgcmF3Q29tcG9uZW50ID0gcmVjb3JkLmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyYXdDb21wb25lbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiByYXdDb21wb25lbnQgIT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcmF3Q29tcG9uZW50ICE9PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgbm90YCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgIGEgdmFsaWQgY29tcG9uZW50LiBSZWNlaXZlZCBcIiR7U3RyaW5nKHJhd0NvbXBvbmVudCl9XCIuYCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IHRvIGVuc3VyZSB3ZSBzdG9wIGhlcmUgYnV0IHdhcm4gdG8gZW5zdXJlIHRoZSBtZXNzYWdlIGlzbid0XG4gICAgICAgICAgICAgICAgICAgIC8vIG1pc3NlZCBieSB0aGUgdXNlclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcm91dGUgY29tcG9uZW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCd0aGVuJyBpbiByYXdDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2FybiBpZiB1c2VyIHdyb3RlIGltcG9ydCgnL2NvbXBvbmVudC52dWUnKSBpbnN0ZWFkIG9mICgpID0+XG4gICAgICAgICAgICAgICAgICAgIC8vIGltcG9ydCgnLi9jb21wb25lbnQudnVlJylcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGEgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgUHJvbWlzZSBpbnN0ZWFkIG9mIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgUHJvbWlzZS4gRGlkIHlvdSBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB3cml0ZSBcImltcG9ydCgnLi9NeVBhZ2UudnVlJylcIiBpbnN0ZWFkIG9mIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFwiKCkgPT4gaW1wb3J0KCcuL015UGFnZS52dWUnKVwiID8gVGhpcyB3aWxsIGJyZWFrIGluIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gcmF3Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICByYXdDb21wb25lbnQgPSAoKSA9PiBwcm9taXNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyYXdDb21wb25lbnQuX19hc3luY0xvYWRlciAmJlxuICAgICAgICAgICAgICAgICAgICAvLyB3YXJuIG9ubHkgb25jZSBwZXIgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICFyYXdDb21wb25lbnQuX193YXJuZWREZWZpbmVBc3luYykge1xuICAgICAgICAgICAgICAgICAgICByYXdDb21wb25lbnQuX193YXJuZWREZWZpbmVBc3luYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBpbiByZWNvcmQgd2l0aCBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIiBpcyBkZWZpbmVkIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYHVzaW5nIFwiZGVmaW5lQXN5bmNDb21wb25lbnQoKVwiLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBXcml0ZSBcIigpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJylcIiBpbnN0ZWFkIG9mIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFwiZGVmaW5lQXN5bmNDb21wb25lbnQoKCkgPT4gaW1wb3J0KCcuL015UGFnZS52dWUnKSlcIi5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBza2lwIHVwZGF0ZSBhbmQgbGVhdmUgZ3VhcmRzIGlmIHRoZSByb3V0ZSBjb21wb25lbnQgaXMgbm90IG1vdW50ZWRcbiAgICAgICAgICAgIGlmIChndWFyZFR5cGUgIT09ICdiZWZvcmVSb3V0ZUVudGVyJyAmJiAhcmVjb3JkLmluc3RhbmNlc1tuYW1lXSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChpc1JvdXRlQ29tcG9uZW50KHJhd0NvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAvLyBfX3ZjY09wdHMgaXMgYWRkZWQgYnkgdnVlLWNsYXNzLWNvbXBvbmVudCBhbmQgY29udGFpbiB0aGUgcmVndWxhciBvcHRpb25zXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHJhd0NvbXBvbmVudC5fX3ZjY09wdHMgfHwgcmF3Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGd1YXJkID0gb3B0aW9uc1tndWFyZFR5cGVdO1xuICAgICAgICAgICAgICAgIGd1YXJkICYmXG4gICAgICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUsIHJ1bldpdGhDb250ZXh0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCByZXF1ZXN0aW5nIHRoZSBjaHVuayBhbHJlYWR5XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBvbmVudFByb21pc2UgPSByYXdDb21wb25lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICEoJ2NhdGNoJyBpbiBjb21wb25lbnRQcm9taXNlKSkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgYSBmdW5jdGlvbiB0aGF0IGRvZXMgbm90IHJldHVybiBhIFByb21pc2UuIElmIHlvdSB3ZXJlIHBhc3NpbmcgYSBmdW5jdGlvbmFsIGNvbXBvbmVudCwgbWFrZSBzdXJlIHRvIGFkZCBhIFwiZGlzcGxheU5hbWVcIiB0byB0aGUgY29tcG9uZW50LiBUaGlzIHdpbGwgYnJlYWsgaW4gcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29tcG9uZW50UHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKCgpID0+IGNvbXBvbmVudFByb21pc2UudGhlbihyZXNvbHZlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBDb3VsZG4ndCByZXNvbHZlIGNvbXBvbmVudCBcIiR7bmFtZX1cIiBhdCBcIiR7cmVjb3JkLnBhdGh9XCJgKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ29tcG9uZW50ID0gaXNFU01vZHVsZShyZXNvbHZlZClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZWQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZDtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgcmVzb2x2ZWQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBiZWNhdXNlIHdlIHdlbnQgaW50byB0aGUgZm9yIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNvbXBvbmVudHNbbmFtZV0gPSByZXNvbHZlZENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgLy8gX192Y2NPcHRzIGlzIGFkZGVkIGJ5IHZ1ZS1jbGFzcy1jb21wb25lbnQgYW5kIGNvbnRhaW4gdGhlIHJlZ3VsYXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZWRDb21wb25lbnQuX192Y2NPcHRzIHx8IHJlc29sdmVkQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChndWFyZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20sIHJlY29yZCwgbmFtZSwgcnVuV2l0aENvbnRleHQpKCkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3VhcmRzO1xufVxuLyoqXG4gKiBBbGxvd3MgZGlmZmVyZW50aWF0aW5nIGxhenkgY29tcG9uZW50cyBmcm9tIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBhbmQgdnVlLWNsYXNzLWNvbXBvbmVudFxuICogQGludGVybmFsXG4gKlxuICogQHBhcmFtIGNvbXBvbmVudFxuICovXG5mdW5jdGlvbiBpc1JvdXRlQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIHJldHVybiAodHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgfHxcbiAgICAgICAgJ2Rpc3BsYXlOYW1lJyBpbiBjb21wb25lbnQgfHxcbiAgICAgICAgJ3Byb3BzJyBpbiBjb21wb25lbnQgfHxcbiAgICAgICAgJ19fdmNjT3B0cycgaW4gY29tcG9uZW50KTtcbn1cbi8qKlxuICogRW5zdXJlcyBhIHJvdXRlIGlzIGxvYWRlZCwgc28gaXQgY2FuIGJlIHBhc3NlZCBhcyBvIHByb3AgdG8gYDxSb3V0ZXJWaWV3PmAuXG4gKlxuICogQHBhcmFtIHJvdXRlIC0gcmVzb2x2ZWQgcm91dGUgdG8gbG9hZFxuICovXG5mdW5jdGlvbiBsb2FkUm91dGVMb2NhdGlvbihyb3V0ZSkge1xuICAgIHJldHVybiByb3V0ZS5tYXRjaGVkLmV2ZXJ5KHJlY29yZCA9PiByZWNvcmQucmVkaXJlY3QpXG4gICAgICAgID8gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdDYW5ub3QgbG9hZCBhIHJvdXRlIHRoYXQgcmVkaXJlY3RzLicpKVxuICAgICAgICA6IFByb21pc2UuYWxsKHJvdXRlLm1hdGNoZWQubWFwKHJlY29yZCA9PiByZWNvcmQuY29tcG9uZW50cyAmJlxuICAgICAgICAgICAgUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMocmVjb3JkLmNvbXBvbmVudHMpLnJlZHVjZSgocHJvbWlzZXMsIG5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByYXdDb21wb25lbnQgPSByZWNvcmQuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJhd0NvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgICAgICAgICAgICAhKCdkaXNwbGF5TmFtZScgaW4gcmF3Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHJhd0NvbXBvbmVudCgpLnRoZW4ocmVzb2x2ZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBDb3VsZG4ndCByZXNvbHZlIGNvbXBvbmVudCBcIiR7bmFtZX1cIiBhdCBcIiR7cmVjb3JkLnBhdGh9XCIuIEVuc3VyZSB5b3UgcGFzc2VkIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZS5gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZENvbXBvbmVudCA9IGlzRVNNb2R1bGUocmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyByZXNvbHZlZC5kZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHJlc29sdmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIGJlY2F1c2Ugd2Ugd2VudCBpbnRvIHRoZSBmb3IgbG9vcFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLmNvbXBvbmVudHNbbmFtZV0gPSByZXNvbHZlZENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgICAgICAgICB9LCBbXSkpKSkudGhlbigoKSA9PiByb3V0ZSk7XG59XG5cbi8vIFRPRE86IHdlIGNvdWxkIGFsbG93IGN1cnJlbnRSb3V0ZSBhcyBhIHByb3AgdG8gZXhwb3NlIGBpc0FjdGl2ZWAgYW5kXG4vLyBgaXNFeGFjdEFjdGl2ZWAgYmVoYXZpb3Igc2hvdWxkIGdvIHRocm91Z2ggYW4gUkZDXG5mdW5jdGlvbiB1c2VMaW5rKHByb3BzKSB7XG4gICAgY29uc3Qgcm91dGVyID0gaW5qZWN0KHJvdXRlcktleSk7XG4gICAgY29uc3QgY3VycmVudFJvdXRlID0gaW5qZWN0KHJvdXRlTG9jYXRpb25LZXkpO1xuICAgIGNvbnN0IHJvdXRlID0gY29tcHV0ZWQoKCkgPT4gcm91dGVyLnJlc29sdmUodW5yZWYocHJvcHMudG8pKSk7XG4gICAgY29uc3QgYWN0aXZlUmVjb3JkSW5kZXggPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWF0Y2hlZCB9ID0gcm91dGUudmFsdWU7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBtYXRjaGVkO1xuICAgICAgICBjb25zdCByb3V0ZU1hdGNoZWQgPSBtYXRjaGVkW2xlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBjdXJyZW50TWF0Y2hlZCA9IGN1cnJlbnRSb3V0ZS5tYXRjaGVkO1xuICAgICAgICBpZiAoIXJvdXRlTWF0Y2hlZCB8fCAhY3VycmVudE1hdGNoZWQubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBjb25zdCBpbmRleCA9IGN1cnJlbnRNYXRjaGVkLmZpbmRJbmRleChpc1NhbWVSb3V0ZVJlY29yZC5iaW5kKG51bGwsIHJvdXRlTWF0Y2hlZCkpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgLy8gcG9zc2libGUgcGFyZW50IHJlY29yZFxuICAgICAgICBjb25zdCBwYXJlbnRSZWNvcmRQYXRoID0gZ2V0T3JpZ2luYWxQYXRoKG1hdGNoZWRbbGVuZ3RoIC0gMl0pO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAvLyB3ZSBhcmUgZGVhbGluZyB3aXRoIG5lc3RlZCByb3V0ZXNcbiAgICAgICAgbGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBhbmQgbWF0Y2hlZCByb3V0ZSBoYXZlIHRoZSBzYW1lIHBhdGgsIHRoaXMgbGluayBpc1xuICAgICAgICAgICAgLy8gcmVmZXJyaW5nIHRvIHRoZSBlbXB0eSBjaGlsZC4gT3Igd2UgY3VycmVudGx5IGFyZSBvbiBhIGRpZmZlcmVudFxuICAgICAgICAgICAgLy8gY2hpbGQgb2YgdGhlIHNhbWUgcGFyZW50XG4gICAgICAgICAgICBnZXRPcmlnaW5hbFBhdGgocm91dGVNYXRjaGVkKSA9PT0gcGFyZW50UmVjb3JkUGF0aCAmJlxuICAgICAgICAgICAgLy8gYXZvaWQgY29tcGFyaW5nIHRoZSBjaGlsZCB3aXRoIGl0cyBwYXJlbnRcbiAgICAgICAgICAgIGN1cnJlbnRNYXRjaGVkW2N1cnJlbnRNYXRjaGVkLmxlbmd0aCAtIDFdLnBhdGggIT09IHBhcmVudFJlY29yZFBhdGhcbiAgICAgICAgICAgID8gY3VycmVudE1hdGNoZWQuZmluZEluZGV4KGlzU2FtZVJvdXRlUmVjb3JkLmJpbmQobnVsbCwgbWF0Y2hlZFtsZW5ndGggLSAyXSkpXG4gICAgICAgICAgICA6IGluZGV4KTtcbiAgICB9KTtcbiAgICBjb25zdCBpc0FjdGl2ZSA9IGNvbXB1dGVkKCgpID0+IGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID4gLTEgJiZcbiAgICAgICAgaW5jbHVkZXNQYXJhbXMoY3VycmVudFJvdXRlLnBhcmFtcywgcm91dGUudmFsdWUucGFyYW1zKSk7XG4gICAgY29uc3QgaXNFeGFjdEFjdGl2ZSA9IGNvbXB1dGVkKCgpID0+IGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID4gLTEgJiZcbiAgICAgICAgYWN0aXZlUmVjb3JkSW5kZXgudmFsdWUgPT09IGN1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyhjdXJyZW50Um91dGUucGFyYW1zLCByb3V0ZS52YWx1ZS5wYXJhbXMpKTtcbiAgICBmdW5jdGlvbiBuYXZpZ2F0ZShlID0ge30pIHtcbiAgICAgICAgaWYgKGd1YXJkRXZlbnQoZSkpIHtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXJbdW5yZWYocHJvcHMucmVwbGFjZSkgPyAncmVwbGFjZScgOiAncHVzaCddKHVucmVmKHByb3BzLnRvKVxuICAgICAgICAgICAgLy8gYXZvaWQgdW5jYXVnaHQgZXJyb3JzIGFyZSB0aGV5IGFyZSBsb2dnZWQgYW55d2F5XG4gICAgICAgICAgICApLmNhdGNoKG5vb3ApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLy8gZGV2dG9vbHMgb25seVxuICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiYgaXNCcm93c2VyKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgY29uc3QgbGlua0NvbnRleHREZXZ0b29scyA9IHtcbiAgICAgICAgICAgICAgICByb3V0ZTogcm91dGUudmFsdWUsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmU6IGlzQWN0aXZlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzRXhhY3RBY3RpdmU6IGlzRXhhY3RBY3RpdmUudmFsdWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhpcyBpcyBpbnRlcm5hbFxuICAgICAgICAgICAgaW5zdGFuY2UuX192cmxfZGV2dG9vbHMgPSBpbnN0YW5jZS5fX3ZybF9kZXZ0b29scyB8fCBbXTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoaXMgaXMgaW50ZXJuYWxcbiAgICAgICAgICAgIGluc3RhbmNlLl9fdnJsX2RldnRvb2xzLnB1c2gobGlua0NvbnRleHREZXZ0b29scyk7XG4gICAgICAgICAgICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGlua0NvbnRleHREZXZ0b29scy5yb3V0ZSA9IHJvdXRlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxpbmtDb250ZXh0RGV2dG9vbHMuaXNBY3RpdmUgPSBpc0FjdGl2ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsaW5rQ29udGV4dERldnRvb2xzLmlzRXhhY3RBY3RpdmUgPSBpc0V4YWN0QWN0aXZlLnZhbHVlO1xuICAgICAgICAgICAgfSwgeyBmbHVzaDogJ3Bvc3QnIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5PVEU6IHVwZGF0ZSB7QGxpbmsgX1JvdXRlckxpbmtJfSdzIGAkc2xvdHNgIHR5cGUgd2hlbiB1cGRhdGluZyB0aGlzXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm91dGUsXG4gICAgICAgIGhyZWY6IGNvbXB1dGVkKCgpID0+IHJvdXRlLnZhbHVlLmhyZWYpLFxuICAgICAgICBpc0FjdGl2ZSxcbiAgICAgICAgaXNFeGFjdEFjdGl2ZSxcbiAgICAgICAgbmF2aWdhdGUsXG4gICAgfTtcbn1cbmNvbnN0IFJvdXRlckxpbmtJbXBsID0gLyojX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6ICdSb3V0ZXJMaW5rJyxcbiAgICBjb21wYXRDb25maWc6IHsgTU9ERTogMyB9LFxuICAgIHByb3BzOiB7XG4gICAgICAgIHRvOiB7XG4gICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHJlcGxhY2U6IEJvb2xlYW4sXG4gICAgICAgIGFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgICAgIC8vIGluYWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICAgICAgZXhhY3RBY3RpdmVDbGFzczogU3RyaW5nLFxuICAgICAgICBjdXN0b206IEJvb2xlYW4sXG4gICAgICAgIGFyaWFDdXJyZW50VmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdwYWdlJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHVzZUxpbmssXG4gICAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgICAgICBjb25zdCBsaW5rID0gcmVhY3RpdmUodXNlTGluayhwcm9wcykpO1xuICAgICAgICBjb25zdCB7IG9wdGlvbnMgfSA9IGluamVjdChyb3V0ZXJLZXkpO1xuICAgICAgICBjb25zdCBlbENsYXNzID0gY29tcHV0ZWQoKCkgPT4gKHtcbiAgICAgICAgICAgIFtnZXRMaW5rQ2xhc3MocHJvcHMuYWN0aXZlQ2xhc3MsIG9wdGlvbnMubGlua0FjdGl2ZUNsYXNzLCAncm91dGVyLWxpbmstYWN0aXZlJyldOiBsaW5rLmlzQWN0aXZlLFxuICAgICAgICAgICAgLy8gW2dldExpbmtDbGFzcyhcbiAgICAgICAgICAgIC8vICAgcHJvcHMuaW5hY3RpdmVDbGFzcyxcbiAgICAgICAgICAgIC8vICAgb3B0aW9ucy5saW5rSW5hY3RpdmVDbGFzcyxcbiAgICAgICAgICAgIC8vICAgJ3JvdXRlci1saW5rLWluYWN0aXZlJ1xuICAgICAgICAgICAgLy8gKV06ICFsaW5rLmlzRXhhY3RBY3RpdmUsXG4gICAgICAgICAgICBbZ2V0TGlua0NsYXNzKHByb3BzLmV4YWN0QWN0aXZlQ2xhc3MsIG9wdGlvbnMubGlua0V4YWN0QWN0aXZlQ2xhc3MsICdyb3V0ZXItbGluay1leGFjdC1hY3RpdmUnKV06IGxpbmsuaXNFeGFjdEFjdGl2ZSxcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIHNsb3RzLmRlZmF1bHQobGluayk7XG4gICAgICAgICAgICByZXR1cm4gcHJvcHMuY3VzdG9tXG4gICAgICAgICAgICAgICAgPyBjaGlsZHJlblxuICAgICAgICAgICAgICAgIDogaCgnYScsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2FyaWEtY3VycmVudCc6IGxpbmsuaXNFeGFjdEFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwcm9wcy5hcmlhQ3VycmVudFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IGxpbmsuaHJlZixcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3b3VsZCBvdmVycmlkZSB1c2VyIGFkZGVkIGF0dHJzIGJ1dCBWdWUgd2lsbCBzdGlsbCBhZGRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGxpc3RlbmVyLCBzbyB3ZSBlbmQgdXAgdHJpZ2dlcmluZyBib3RoXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGxpbmsubmF2aWdhdGUsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBlbENsYXNzLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICB9LFxufSk7XG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2Vcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG4vKipcbiAqIENvbXBvbmVudCB0byByZW5kZXIgYSBsaW5rIHRoYXQgdHJpZ2dlcnMgYSBuYXZpZ2F0aW9uIG9uIGNsaWNrLlxuICovXG5jb25zdCBSb3V0ZXJMaW5rID0gUm91dGVyTGlua0ltcGw7XG5mdW5jdGlvbiBndWFyZEV2ZW50KGUpIHtcbiAgICAvLyBkb24ndCByZWRpcmVjdCB3aXRoIGNvbnRyb2wga2V5c1xuICAgIGlmIChlLm1ldGFLZXkgfHwgZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXkpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBkb24ndCByZWRpcmVjdCB3aGVuIHByZXZlbnREZWZhdWx0IGNhbGxlZFxuICAgIGlmIChlLmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBkb24ndCByZWRpcmVjdCBvbiByaWdodCBjbGlja1xuICAgIGlmIChlLmJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9uICE9PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3QgaWYgYHRhcmdldD1cIl9ibGFua1wiYFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2V0QXR0cmlidXRlIGRvZXMgZXhpc3RcbiAgICBpZiAoZS5jdXJyZW50VGFyZ2V0ICYmIGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBnZXRBdHRyaWJ1dGUgZXhpc3RzXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpO1xuICAgICAgICBpZiAoL1xcYl9ibGFua1xcYi9pLnRlc3QodGFyZ2V0KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gdGhpcyBtYXkgYmUgYSBXZWV4IGV2ZW50IHdoaWNoIGRvZXNuJ3QgaGF2ZSB0aGlzIG1ldGhvZFxuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBpbmNsdWRlc1BhcmFtcyhvdXRlciwgaW5uZXIpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbm5lcikge1xuICAgICAgICBjb25zdCBpbm5lclZhbHVlID0gaW5uZXJba2V5XTtcbiAgICAgICAgY29uc3Qgb3V0ZXJWYWx1ZSA9IG91dGVyW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgaW5uZXJWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChpbm5lclZhbHVlICE9PSBvdXRlclZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShvdXRlclZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIG91dGVyVmFsdWUubGVuZ3RoICE9PSBpbm5lclZhbHVlLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIGlubmVyVmFsdWUuc29tZSgodmFsdWUsIGkpID0+IHZhbHVlICE9PSBvdXRlclZhbHVlW2ldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIEdldCB0aGUgb3JpZ2luYWwgcGF0aCB2YWx1ZSBvZiBhIHJlY29yZCBieSBmb2xsb3dpbmcgaXRzIGFsaWFzT2ZcbiAqIEBwYXJhbSByZWNvcmRcbiAqL1xuZnVuY3Rpb24gZ2V0T3JpZ2luYWxQYXRoKHJlY29yZCkge1xuICAgIHJldHVybiByZWNvcmQgPyAocmVjb3JkLmFsaWFzT2YgPyByZWNvcmQuYWxpYXNPZi5wYXRoIDogcmVjb3JkLnBhdGgpIDogJyc7XG59XG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgdG8gZ2V0IHRoZSBhY3RpdmUgY2xhc3MgYmFzZWQgb24gZGVmYXVsdHMuXG4gKiBAcGFyYW0gcHJvcENsYXNzXG4gKiBAcGFyYW0gZ2xvYmFsQ2xhc3NcbiAqIEBwYXJhbSBkZWZhdWx0Q2xhc3NcbiAqL1xuY29uc3QgZ2V0TGlua0NsYXNzID0gKHByb3BDbGFzcywgZ2xvYmFsQ2xhc3MsIGRlZmF1bHRDbGFzcykgPT4gcHJvcENsYXNzICE9IG51bGxcbiAgICA/IHByb3BDbGFzc1xuICAgIDogZ2xvYmFsQ2xhc3MgIT0gbnVsbFxuICAgICAgICA/IGdsb2JhbENsYXNzXG4gICAgICAgIDogZGVmYXVsdENsYXNzO1xuXG5jb25zdCBSb3V0ZXJWaWV3SW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnUm91dGVyVmlldycsXG4gICAgLy8gIzY3NCB3ZSBtYW51YWxseSBpbmhlcml0IHRoZW1cbiAgICBpbmhlcml0QXR0cnM6IGZhbHNlLFxuICAgIHByb3BzOiB7XG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdkZWZhdWx0JyxcbiAgICAgICAgfSxcbiAgICAgICAgcm91dGU6IE9iamVjdCxcbiAgICB9LFxuICAgIC8vIEJldHRlciBjb21wYXQgZm9yIEB2dWUvY29tcGF0IHVzZXJzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3JvdXRlci9pc3N1ZXMvMTMxNVxuICAgIGNvbXBhdENvbmZpZzogeyBNT0RFOiAzIH0sXG4gICAgc2V0dXAocHJvcHMsIHsgYXR0cnMsIHNsb3RzIH0pIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm5EZXByZWNhdGVkVXNhZ2UoKTtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWRSb3V0ZSA9IGluamVjdChyb3V0ZXJWaWV3TG9jYXRpb25LZXkpO1xuICAgICAgICBjb25zdCByb3V0ZVRvRGlzcGxheSA9IGNvbXB1dGVkKCgpID0+IHByb3BzLnJvdXRlIHx8IGluamVjdGVkUm91dGUudmFsdWUpO1xuICAgICAgICBjb25zdCBpbmplY3RlZERlcHRoID0gaW5qZWN0KHZpZXdEZXB0aEtleSwgMCk7XG4gICAgICAgIC8vIFRoZSBkZXB0aCBjaGFuZ2VzIGJhc2VkIG9uIGVtcHR5IGNvbXBvbmVudHMgb3B0aW9uLCB3aGljaCBhbGxvd3MgcGFzc3Rocm91Z2ggcm91dGVzIGUuZy4gcm91dGVzIHdpdGggY2hpbGRyZW5cbiAgICAgICAgLy8gdGhhdCBhcmUgdXNlZCB0byByZXVzZSB0aGUgYHBhdGhgIHByb3BlcnR5XG4gICAgICAgIGNvbnN0IGRlcHRoID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGluaXRpYWxEZXB0aCA9IHVucmVmKGluamVjdGVkRGVwdGgpO1xuICAgICAgICAgICAgY29uc3QgeyBtYXRjaGVkIH0gPSByb3V0ZVRvRGlzcGxheS52YWx1ZTtcbiAgICAgICAgICAgIGxldCBtYXRjaGVkUm91dGU7XG4gICAgICAgICAgICB3aGlsZSAoKG1hdGNoZWRSb3V0ZSA9IG1hdGNoZWRbaW5pdGlhbERlcHRoXSkgJiZcbiAgICAgICAgICAgICAgICAhbWF0Y2hlZFJvdXRlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsRGVwdGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsRGVwdGg7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtYXRjaGVkUm91dGVSZWYgPSBjb21wdXRlZCgoKSA9PiByb3V0ZVRvRGlzcGxheS52YWx1ZS5tYXRjaGVkW2RlcHRoLnZhbHVlXSk7XG4gICAgICAgIHByb3ZpZGUodmlld0RlcHRoS2V5LCBjb21wdXRlZCgoKSA9PiBkZXB0aC52YWx1ZSArIDEpKTtcbiAgICAgICAgcHJvdmlkZShtYXRjaGVkUm91dGVLZXksIG1hdGNoZWRSb3V0ZVJlZik7XG4gICAgICAgIHByb3ZpZGUocm91dGVyVmlld0xvY2F0aW9uS2V5LCByb3V0ZVRvRGlzcGxheSk7XG4gICAgICAgIGNvbnN0IHZpZXdSZWYgPSByZWYoKTtcbiAgICAgICAgLy8gd2F0Y2ggYXQgdGhlIHNhbWUgdGltZSB0aGUgY29tcG9uZW50IGluc3RhbmNlLCB0aGUgcm91dGUgcmVjb3JkIHdlIGFyZVxuICAgICAgICAvLyByZW5kZXJpbmcsIGFuZCB0aGUgbmFtZVxuICAgICAgICB3YXRjaCgoKSA9PiBbdmlld1JlZi52YWx1ZSwgbWF0Y2hlZFJvdXRlUmVmLnZhbHVlLCBwcm9wcy5uYW1lXSwgKFtpbnN0YW5jZSwgdG8sIG5hbWVdLCBbb2xkSW5zdGFuY2UsIGZyb20sIG9sZE5hbWVdKSA9PiB7XG4gICAgICAgICAgICAvLyBjb3B5IHJldXNlZCBpbnN0YW5jZXNcbiAgICAgICAgICAgIGlmICh0bykge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCB1cGRhdGUgdGhlIGluc3RhbmNlIGZvciBuZXcgaW5zdGFuY2VzIGFzIHdlbGwgYXMgcmV1c2VkXG4gICAgICAgICAgICAgICAgLy8gaW5zdGFuY2VzIHdoZW4gbmF2aWdhdGluZyB0byBhIG5ldyByb3V0ZVxuICAgICAgICAgICAgICAgIHRvLmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgaXMgcmV1c2VkIGZvciBhIGRpZmZlcmVudCByb3V0ZSBvciBuYW1lLCBzb1xuICAgICAgICAgICAgICAgIC8vIHdlIGNvcHkgYW55IHNhdmVkIHVwZGF0ZSBvciBsZWF2ZSBndWFyZHMuIFdpdGggYXN5bmMgc2V0dXAsIHRoZVxuICAgICAgICAgICAgICAgIC8vIG1vdW50aW5nIGNvbXBvbmVudCB3aWxsIG1vdW50IGJlZm9yZSB0aGUgbWF0Y2hlZFJvdXRlIGNoYW5nZXMsXG4gICAgICAgICAgICAgICAgLy8gbWFraW5nIGluc3RhbmNlID09PSBvbGRJbnN0YW5jZSwgc28gd2UgY2hlY2sgaWYgZ3VhcmRzIGhhdmUgYmVlblxuICAgICAgICAgICAgICAgIC8vIGFkZGVkIGJlZm9yZS4gVGhpcyB3b3JrcyBiZWNhdXNlIHdlIHJlbW92ZSBndWFyZHMgd2hlblxuICAgICAgICAgICAgICAgIC8vIHVubW91bnRpbmcvZGVhY3RpdmF0aW5nIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICBpZiAoZnJvbSAmJiBmcm9tICE9PSB0byAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZSA9PT0gb2xkSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0by5sZWF2ZUd1YXJkcy5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0by5sZWF2ZUd1YXJkcyA9IGZyb20ubGVhdmVHdWFyZHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0by51cGRhdGVHdWFyZHMuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8udXBkYXRlR3VhcmRzID0gZnJvbS51cGRhdGVHdWFyZHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGJlZm9yZVJvdXRlRW50ZXIgbmV4dCBjYWxsYmFja3NcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIHRvICYmXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gaW5zdGFuY2UgYnV0IHRvIGFuZCBmcm9tIGFyZSB0aGUgc2FtZSB0aGlzIG1pZ2h0IGJlXG4gICAgICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHZpc2l0XG4gICAgICAgICAgICAgICAgKCFmcm9tIHx8ICFpc1NhbWVSb3V0ZVJlY29yZCh0bywgZnJvbSkgfHwgIW9sZEluc3RhbmNlKSkge1xuICAgICAgICAgICAgICAgICh0by5lbnRlckNhbGxiYWNrc1tuYW1lXSB8fCBbXSkuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjayhpbnN0YW5jZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7IGZsdXNoOiAncG9zdCcgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvdXRlVG9EaXNwbGF5LnZhbHVlO1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGUgdmFsdWUgYXQgdGhlIHRpbWUgd2UgcmVuZGVyIGJlY2F1c2Ugd2hlbiB3ZSB1bm1vdW50LCB3ZVxuICAgICAgICAgICAgLy8gbmF2aWdhdGVkIHRvIGEgZGlmZmVyZW50IGxvY2F0aW9uIHNvIHRoZSB2YWx1ZSBpcyBkaWZmZXJlbnRcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnROYW1lID0gcHJvcHMubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZWRSb3V0ZSA9IG1hdGNoZWRSb3V0ZVJlZi52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IFZpZXdDb21wb25lbnQgPSBtYXRjaGVkUm91dGUgJiYgbWF0Y2hlZFJvdXRlLmNvbXBvbmVudHNbY3VycmVudE5hbWVdO1xuICAgICAgICAgICAgaWYgKCFWaWV3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3Qoc2xvdHMuZGVmYXVsdCwgeyBDb21wb25lbnQ6IFZpZXdDb21wb25lbnQsIHJvdXRlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJvcHMgZnJvbSByb3V0ZSBjb25maWd1cmF0aW9uXG4gICAgICAgICAgICBjb25zdCByb3V0ZVByb3BzT3B0aW9uID0gbWF0Y2hlZFJvdXRlLnByb3BzW2N1cnJlbnROYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlUHJvcHMgPSByb3V0ZVByb3BzT3B0aW9uXG4gICAgICAgICAgICAgICAgPyByb3V0ZVByb3BzT3B0aW9uID09PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgID8gcm91dGUucGFyYW1zXG4gICAgICAgICAgICAgICAgICAgIDogdHlwZW9mIHJvdXRlUHJvcHNPcHRpb24gPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcm91dGVQcm9wc09wdGlvbihyb3V0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcm91dGVQcm9wc09wdGlvblxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IG9uVm5vZGVVbm1vdW50ZWQgPSB2bm9kZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBpbnN0YW5jZSByZWZlcmVuY2UgdG8gcHJldmVudCBsZWFrXG4gICAgICAgICAgICAgICAgaWYgKHZub2RlLmNvbXBvbmVudC5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVkUm91dGUuaW5zdGFuY2VzW2N1cnJlbnROYW1lXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGgoVmlld0NvbXBvbmVudCwgYXNzaWduKHt9LCByb3V0ZVByb3BzLCBhdHRycywge1xuICAgICAgICAgICAgICAgIG9uVm5vZGVVbm1vdW50ZWQsXG4gICAgICAgICAgICAgICAgcmVmOiB2aWV3UmVmLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJlxuICAgICAgICAgICAgICAgIGlzQnJvd3NlciAmJlxuICAgICAgICAgICAgICAgIGNvbXBvbmVudC5yZWYpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBjYW4gZGlzcGxheSBpZiBpdCdzIGFuIGFsaWFzLCBpdHMgcHJvcHNcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1hdGNoZWRSb3V0ZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBtYXRjaGVkUm91dGUucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogbWF0Y2hlZFJvdXRlLm1ldGEsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcm5hbEluc3RhbmNlcyA9IGlzQXJyYXkoY29tcG9uZW50LnJlZilcbiAgICAgICAgICAgICAgICAgICAgPyBjb21wb25lbnQucmVmLm1hcChyID0+IHIuaSlcbiAgICAgICAgICAgICAgICAgICAgOiBbY29tcG9uZW50LnJlZi5pXTtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlcy5mb3JFYWNoKGluc3RhbmNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5fX3Zydl9kZXZ0b29scyA9IGluZm87XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgLy8gcGFzcyB0aGUgdm5vZGUgdG8gdGhlIHNsb3QgYXMgYSBwcm9wLlxuICAgICAgICAgICAgLy8gaCBhbmQgPGNvbXBvbmVudCA6aXM9XCIuLi5cIj4gYm90aCBhY2NlcHQgdm5vZGVzXG4gICAgICAgICAgICBub3JtYWxpemVTbG90KHNsb3RzLmRlZmF1bHQsIHsgQ29tcG9uZW50OiBjb21wb25lbnQsIHJvdXRlIH0pIHx8XG4gICAgICAgICAgICAgICAgY29tcG9uZW50KTtcbiAgICAgICAgfTtcbiAgICB9LFxufSk7XG5mdW5jdGlvbiBub3JtYWxpemVTbG90KHNsb3QsIGRhdGEpIHtcbiAgICBpZiAoIXNsb3QpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHNsb3RDb250ZW50ID0gc2xvdChkYXRhKTtcbiAgICByZXR1cm4gc2xvdENvbnRlbnQubGVuZ3RoID09PSAxID8gc2xvdENvbnRlbnRbMF0gOiBzbG90Q29udGVudDtcbn1cbi8vIGV4cG9ydCB0aGUgcHVibGljIHR5cGUgZm9yIGgvdHN4IGluZmVyZW5jZVxuLy8gYWxzbyB0byBhdm9pZCBpbmxpbmUgaW1wb3J0KCkgaW4gZ2VuZXJhdGVkIGQudHMgZmlsZXNcbi8qKlxuICogQ29tcG9uZW50IHRvIGRpc3BsYXkgdGhlIGN1cnJlbnQgcm91dGUgdGhlIHVzZXIgaXMgYXQuXG4gKi9cbmNvbnN0IFJvdXRlclZpZXcgPSBSb3V0ZXJWaWV3SW1wbDtcbi8vIHdhcm4gYWdhaW5zdCBkZXByZWNhdGVkIHVzYWdlIHdpdGggPHRyYW5zaXRpb24+ICYgPGtlZXAtYWxpdmU+XG4vLyBkdWUgdG8gZnVuY3Rpb25hbCBjb21wb25lbnQgYmVpbmcgbm8gbG9uZ2VyIGVhZ2VyIGluIFZ1ZSAzXG5mdW5jdGlvbiB3YXJuRGVwcmVjYXRlZFVzYWdlKCkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3QgcGFyZW50TmFtZSA9IGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQudHlwZS5uYW1lO1xuICAgIGNvbnN0IHBhcmVudFN1YlRyZWVUeXBlID0gaW5zdGFuY2UucGFyZW50ICYmIGluc3RhbmNlLnBhcmVudC5zdWJUcmVlICYmIGluc3RhbmNlLnBhcmVudC5zdWJUcmVlLnR5cGU7XG4gICAgaWYgKHBhcmVudE5hbWUgJiZcbiAgICAgICAgKHBhcmVudE5hbWUgPT09ICdLZWVwQWxpdmUnIHx8IHBhcmVudE5hbWUuaW5jbHVkZXMoJ1RyYW5zaXRpb24nKSkgJiZcbiAgICAgICAgdHlwZW9mIHBhcmVudFN1YlRyZWVUeXBlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICBwYXJlbnRTdWJUcmVlVHlwZS5uYW1lID09PSAnUm91dGVyVmlldycpIHtcbiAgICAgICAgY29uc3QgY29tcCA9IHBhcmVudE5hbWUgPT09ICdLZWVwQWxpdmUnID8gJ2tlZXAtYWxpdmUnIDogJ3RyYW5zaXRpb24nO1xuICAgICAgICB3YXJuKGA8cm91dGVyLXZpZXc+IGNhbiBubyBsb25nZXIgYmUgdXNlZCBkaXJlY3RseSBpbnNpZGUgPHRyYW5zaXRpb24+IG9yIDxrZWVwLWFsaXZlPi5cXG5gICtcbiAgICAgICAgICAgIGBVc2Ugc2xvdCBwcm9wcyBpbnN0ZWFkOlxcblxcbmAgK1xuICAgICAgICAgICAgYDxyb3V0ZXItdmlldyB2LXNsb3Q9XCJ7IENvbXBvbmVudCB9XCI+XFxuYCArXG4gICAgICAgICAgICBgICA8JHtjb21wfT5cXG5gICtcbiAgICAgICAgICAgIGAgICAgPGNvbXBvbmVudCA6aXM9XCJDb21wb25lbnRcIiAvPlxcbmAgK1xuICAgICAgICAgICAgYCAgPC8ke2NvbXB9PlxcbmAgK1xuICAgICAgICAgICAgYDwvcm91dGVyLXZpZXc+YCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvcGllcyBhIHJvdXRlIGxvY2F0aW9uIGFuZCByZW1vdmVzIGFueSBwcm9ibGVtYXRpYyBwcm9wZXJ0aWVzIHRoYXQgY2Fubm90IGJlIHNob3duIGluIGRldnRvb2xzIChlLmcuIFZ1ZSBpbnN0YW5jZXMpLlxuICpcbiAqIEBwYXJhbSByb3V0ZUxvY2F0aW9uIC0gcm91dGVMb2NhdGlvbiB0byBmb3JtYXRcbiAqIEBwYXJhbSB0b29sdGlwIC0gb3B0aW9uYWwgdG9vbHRpcFxuICogQHJldHVybnMgYSBjb3B5IG9mIHRoZSByb3V0ZUxvY2F0aW9uXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFJvdXRlTG9jYXRpb24ocm91dGVMb2NhdGlvbiwgdG9vbHRpcCkge1xuICAgIGNvbnN0IGNvcHkgPSBhc3NpZ24oe30sIHJvdXRlTG9jYXRpb24sIHtcbiAgICAgICAgLy8gcmVtb3ZlIHZhcmlhYmxlcyB0aGF0IGNhbiBjb250YWluIHZ1ZSBpbnN0YW5jZXNcbiAgICAgICAgbWF0Y2hlZDogcm91dGVMb2NhdGlvbi5tYXRjaGVkLm1hcChtYXRjaGVkID0+IG9taXQobWF0Y2hlZCwgWydpbnN0YW5jZXMnLCAnY2hpbGRyZW4nLCAnYWxpYXNPZiddKSksXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxuICAgICAgICAgICAgZGlzcGxheTogcm91dGVMb2NhdGlvbi5mdWxsUGF0aCxcbiAgICAgICAgICAgIHRvb2x0aXAsXG4gICAgICAgICAgICB2YWx1ZTogY29weSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZm9ybWF0RGlzcGxheShkaXNwbGF5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuLy8gdG8gc3VwcG9ydCBtdWx0aXBsZSByb3V0ZXIgaW5zdGFuY2VzXG5sZXQgcm91dGVySWQgPSAwO1xuZnVuY3Rpb24gYWRkRGV2dG9vbHMoYXBwLCByb3V0ZXIsIG1hdGNoZXIpIHtcbiAgICAvLyBUYWtlIG92ZXIgcm91dGVyLmJlZm9yZUVhY2ggYW5kIGFmdGVyRWFjaFxuICAgIC8vIG1ha2Ugc3VyZSB3ZSBhcmUgbm90IHJlZ2lzdGVyaW5nIHRoZSBkZXZ0b29sIHR3aWNlXG4gICAgaWYgKHJvdXRlci5fX2hhc0RldnRvb2xzKVxuICAgICAgICByZXR1cm47XG4gICAgcm91dGVyLl9faGFzRGV2dG9vbHMgPSB0cnVlO1xuICAgIC8vIGluY3JlbWVudCB0byBzdXBwb3J0IG11bHRpcGxlIHJvdXRlciBpbnN0YW5jZXNcbiAgICBjb25zdCBpZCA9IHJvdXRlcklkKys7XG4gICAgc2V0dXBEZXZ0b29sc1BsdWdpbih7XG4gICAgICAgIGlkOiAnb3JnLnZ1ZWpzLnJvdXRlcicgKyAoaWQgPyAnLicgKyBpZCA6ICcnKSxcbiAgICAgICAgbGFiZWw6ICdWdWUgUm91dGVyJyxcbiAgICAgICAgcGFja2FnZU5hbWU6ICd2dWUtcm91dGVyJyxcbiAgICAgICAgaG9tZXBhZ2U6ICdodHRwczovL3JvdXRlci52dWVqcy5vcmcnLFxuICAgICAgICBsb2dvOiAnaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL2xvZ28ucG5nJyxcbiAgICAgICAgY29tcG9uZW50U3RhdGVUeXBlczogWydSb3V0aW5nJ10sXG4gICAgICAgIGFwcCxcbiAgICB9LCBhcGkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFwaS5ub3cgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Z1ZSBSb3V0ZXJdOiBZb3Ugc2VlbSB0byBiZSB1c2luZyBhbiBvdXRkYXRlZCB2ZXJzaW9uIG9mIFZ1ZSBEZXZ0b29scy4gQXJlIHlvdSBzdGlsbCB1c2luZyB0aGUgQmV0YSByZWxlYXNlIGluc3RlYWQgb2YgdGhlIHN0YWJsZSBvbmU/IFlvdSBjYW4gZmluZCB0aGUgbGlua3MgYXQgaHR0cHM6Ly9kZXZ0b29scy52dWVqcy5vcmcvZ3VpZGUvaW5zdGFsbGF0aW9uLmh0bWwuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGlzcGxheSBzdGF0ZSBhZGRlZCBieSB0aGUgcm91dGVyXG4gICAgICAgIGFwaS5vbi5pbnNwZWN0Q29tcG9uZW50KChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLmluc3RhbmNlRGF0YSkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaW5zdGFuY2VEYXRhLnN0YXRlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUm91dGluZycsXG4gICAgICAgICAgICAgICAgICAgIGtleTogJyRyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZvcm1hdFJvdXRlTG9jYXRpb24ocm91dGVyLmN1cnJlbnRSb3V0ZS52YWx1ZSwgJ0N1cnJlbnQgUm91dGUnKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIG1hcmsgcm91dGVyLWxpbmsgYXMgYWN0aXZlIGFuZCBkaXNwbGF5IHRhZ3Mgb24gcm91dGVyIHZpZXdzXG4gICAgICAgIGFwaS5vbi52aXNpdENvbXBvbmVudFRyZWUoKHsgdHJlZU5vZGU6IG5vZGUsIGNvbXBvbmVudEluc3RhbmNlIH0pID0+IHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnRJbnN0YW5jZS5fX3Zydl9kZXZ0b29scykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBjb21wb25lbnRJbnN0YW5jZS5fX3Zydl9kZXZ0b29scztcbiAgICAgICAgICAgICAgICBub2RlLnRhZ3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAoaW5mby5uYW1lID8gYCR7aW5mby5uYW1lLnRvU3RyaW5nKCl9OiBgIDogJycpICsgaW5mby5wYXRoLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdUaGlzIGNvbXBvbmVudCBpcyByZW5kZXJlZCBieSAmbHQ7cm91dGVyLXZpZXcmZ3Q7JyxcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBQSU5LXzUwMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIG11bHRpcGxlIHVzZUxpbmsgYXJlIHVzZWRcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNvbXBvbmVudEluc3RhbmNlLl9fdnJsX2RldnRvb2xzKSkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlLl9fZGV2dG9vbHNBcGkgPSBhcGk7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX192cmxfZGV2dG9vbHMuZm9yRWFjaChkZXZ0b29sc0RhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYmFja2dyb3VuZENvbG9yID0gT1JBTkdFXzQwMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvb2x0aXAgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldnRvb2xzRGF0YS5pc0V4YWN0QWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBMSU1FXzUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAgPSAnVGhpcyBpcyBleGFjdGx5IGFjdGl2ZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGV2dG9vbHNEYXRhLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBCTFVFXzYwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAgPSAnVGhpcyBsaW5rIGlzIGFjdGl2ZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbm9kZS50YWdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGRldnRvb2xzRGF0YS5yb3V0ZS5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3YXRjaChyb3V0ZXIuY3VycmVudFJvdXRlLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyByZWZyZXNoIGFjdGl2ZSBzdGF0ZVxuICAgICAgICAgICAgcmVmcmVzaFJvdXRlc1ZpZXcoKTtcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShyb3V0ZXJJbnNwZWN0b3JJZCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKHJvdXRlckluc3BlY3RvcklkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25zTGF5ZXJJZCA9ICdyb3V0ZXI6bmF2aWdhdGlvbnM6JyArIGlkO1xuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgICAgICBpZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgbGFiZWw6IGBSb3V0ZXIke2lkID8gJyAnICsgaWQgOiAnJ30gTmF2aWdhdGlvbnNgLFxuICAgICAgICAgICAgY29sb3I6IDB4NDBhOGM0LFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY29uc3QgZXJyb3JzTGF5ZXJJZCA9ICdyb3V0ZXI6ZXJyb3JzJ1xuICAgICAgICAvLyBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgIC8vICAgaWQ6IGVycm9yc0xheWVySWQsXG4gICAgICAgIC8vICAgbGFiZWw6ICdSb3V0ZXIgRXJyb3JzJyxcbiAgICAgICAgLy8gICBjb2xvcjogMHhlYTU0NTUsXG4gICAgICAgIC8vIH0pXG4gICAgICAgIHJvdXRlci5vbkVycm9yKChlcnJvciwgdG8pID0+IHtcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBuYXZpZ2F0aW9uc0xheWVySWQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvciBkdXJpbmcgTmF2aWdhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB0by5mdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9nVHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogYXBpLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yIH0sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IHRvLm1ldGEuX19uYXZpZ2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gYG1ldGFgIGFuZCB1c2VkIHRvIGdyb3VwIGV2ZW50c1xuICAgICAgICBsZXQgbmF2aWdhdGlvbklkID0gMDtcbiAgICAgICAgcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdiZWZvcmVFYWNoJyksXG4gICAgICAgICAgICAgICAgZnJvbTogZm9ybWF0Um91dGVMb2NhdGlvbihmcm9tLCAnQ3VycmVudCBMb2NhdGlvbiBkdXJpbmcgdGhpcyBuYXZpZ2F0aW9uJyksXG4gICAgICAgICAgICAgICAgdG86IGZvcm1hdFJvdXRlTG9jYXRpb24odG8sICdUYXJnZXQgbG9jYXRpb24nKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBVc2VkIHRvIGdyb3VwIG5hdmlnYXRpb25zIHRvZ2V0aGVyLCBoaWRlIGZyb20gZGV2dG9vbHNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0by5tZXRhLCAnX19uYXZpZ2F0aW9uSWQnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5hdmlnYXRpb25JZCsrLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGFwaS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdGFydCBvZiBuYXZpZ2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IHRvLmZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiB0by5tZXRhLl9fbmF2aWdhdGlvbklkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvdXRlci5hZnRlckVhY2goKHRvLCBmcm9tLCBmYWlsdXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdhZnRlckVhY2gnKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgIGRhdGEuZmFpbHVyZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZhaWx1cmUgPyBmYWlsdXJlLm1lc3NhZ2UgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdOYXZpZ2F0aW9uIEZhaWx1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9IGZvcm1hdERpc3BsYXkoJ+KdjCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSBmb3JtYXREaXNwbGF5KCfinIUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIHNldCBoZXJlIHRvIGhhdmUgdGhlIHJpZ2h0IG9yZGVyXG4gICAgICAgICAgICBkYXRhLmZyb20gPSBmb3JtYXRSb3V0ZUxvY2F0aW9uKGZyb20sICdDdXJyZW50IExvY2F0aW9uIGR1cmluZyB0aGlzIG5hdmlnYXRpb24nKTtcbiAgICAgICAgICAgIGRhdGEudG8gPSBmb3JtYXRSb3V0ZUxvY2F0aW9uKHRvLCAnVGFyZ2V0IGxvY2F0aW9uJyk7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRW5kIG9mIG5hdmlnYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogdG8uZnVsbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGFwaS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbG9nVHlwZTogZmFpbHVyZSA/ICd3YXJuaW5nJyA6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogdG8ubWV0YS5fX25hdmlnYXRpb25JZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5zcGVjdG9yIG9mIEV4aXN0aW5nIHJvdXRlc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgcm91dGVySW5zcGVjdG9ySWQgPSAncm91dGVyLWluc3BlY3RvcjonICsgaWQ7XG4gICAgICAgIGFwaS5hZGRJbnNwZWN0b3Ioe1xuICAgICAgICAgICAgaWQ6IHJvdXRlckluc3BlY3RvcklkLFxuICAgICAgICAgICAgbGFiZWw6ICdSb3V0ZXMnICsgKGlkID8gJyAnICsgaWQgOiAnJyksXG4gICAgICAgICAgICBpY29uOiAnYm9vaycsXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggcm91dGVzJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hSb3V0ZXNWaWV3KCkge1xuICAgICAgICAgICAgLy8gdGhlIHJvdXRlcyB2aWV3IGlzbid0IGFjdGl2ZVxuICAgICAgICAgICAgaWYgKCFhY3RpdmVSb3V0ZXNQYXlsb2FkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhY3RpdmVSb3V0ZXNQYXlsb2FkO1xuICAgICAgICAgICAgLy8gY2hpbGRyZW4gcm91dGVzIHdpbGwgYXBwZWFyIGFzIG5lc3RlZFxuICAgICAgICAgICAgbGV0IHJvdXRlcyA9IG1hdGNoZXIuZ2V0Um91dGVzKCkuZmlsdGVyKHJvdXRlID0+ICFyb3V0ZS5wYXJlbnQgfHxcbiAgICAgICAgICAgICAgICAvLyB0aGVzZSByb3V0ZXMgaGF2ZSBhIHBhcmVudCB3aXRoIG5vIGNvbXBvbmVudCB3aGljaCB3aWxsIG5vdCBhcHBlYXIgaW4gdGhlIHZpZXdcbiAgICAgICAgICAgICAgICAvLyB0aGVyZWZvcmUgd2Ugc3RpbGwgbmVlZCB0byBpbmNsdWRlIHRoZW1cbiAgICAgICAgICAgICAgICAhcm91dGUucGFyZW50LnJlY29yZC5jb21wb25lbnRzKTtcbiAgICAgICAgICAgIC8vIHJlc2V0IG1hdGNoIHN0YXRlIHRvIGZhbHNlXG4gICAgICAgICAgICByb3V0ZXMuZm9yRWFjaChyZXNldE1hdGNoU3RhdGVPblJvdXRlUmVjb3JkKTtcbiAgICAgICAgICAgIC8vIGFwcGx5IGEgbWF0Y2ggc3RhdGUgaWYgdGhlcmUgaXMgYSBwYXlsb2FkXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5maWx0ZXIpIHtcbiAgICAgICAgICAgICAgICByb3V0ZXMgPSByb3V0ZXMuZmlsdGVyKHJvdXRlID0+IFxuICAgICAgICAgICAgICAgIC8vIHNhdmUgbWF0Y2hlcyBzdGF0ZSBiYXNlZCBvbiB0aGUgcGF5bG9hZFxuICAgICAgICAgICAgICAgIGlzUm91dGVNYXRjaGluZyhyb3V0ZSwgcGF5bG9hZC5maWx0ZXIudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBhY3RpdmUgcm91dGVzXG4gICAgICAgICAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiBtYXJrUm91dGVSZWNvcmRBY3RpdmUocm91dGUsIHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUpKTtcbiAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gcm91dGVzLm1hcChmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFjdGl2ZVJvdXRlc1BheWxvYWQ7XG4gICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKHBheWxvYWQgPT4ge1xuICAgICAgICAgICAgYWN0aXZlUm91dGVzUGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSByb3V0ZXJJbnNwZWN0b3JJZCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hSb3V0ZXNWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGxheSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHJvdXRlIHJlY29yZFxuICAgICAgICAgKi9cbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKHBheWxvYWQgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gcm91dGVySW5zcGVjdG9ySWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm91dGVzLmZpbmQocm91dGUgPT4gcm91dGUucmVjb3JkLl9fdmRfaWQgPT09IHBheWxvYWQubm9kZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZvcm1hdFJvdXRlUmVjb3JkTWF0Y2hlckZvclN0YXRlSW5zcGVjdG9yKHJvdXRlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUocm91dGVySW5zcGVjdG9ySWQpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKHJvdXRlckluc3BlY3RvcklkKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1vZGlmaWVyRm9yS2V5KGtleSkge1xuICAgIGlmIChrZXkub3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIGtleS5yZXBlYXRhYmxlID8gJyonIDogJz8nO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtleS5yZXBlYXRhYmxlID8gJysnIDogJyc7XG4gICAgfVxufVxuZnVuY3Rpb24gZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3Iocm91dGUpIHtcbiAgICBjb25zdCB7IHJlY29yZCB9ID0gcm91dGU7XG4gICAgY29uc3QgZmllbGRzID0gW1xuICAgICAgICB7IGVkaXRhYmxlOiBmYWxzZSwga2V5OiAncGF0aCcsIHZhbHVlOiByZWNvcmQucGF0aCB9LFxuICAgIF07XG4gICAgaWYgKHJlY29yZC5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiAnbmFtZScsXG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLm5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaWVsZHMucHVzaCh7IGVkaXRhYmxlOiBmYWxzZSwga2V5OiAncmVnZXhwJywgdmFsdWU6IHJvdXRlLnJlIH0pO1xuICAgIGlmIChyb3V0ZS5rZXlzLmxlbmd0aCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdrZXlzJyxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogcm91dGUua2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5Lm5hbWV9JHttb2RpZmllckZvcktleShrZXkpfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUGFyYW0ga2V5cycsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5rZXlzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlY29yZC5yZWRpcmVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogJ3JlZGlyZWN0JyxcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQucmVkaXJlY3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocm91dGUuYWxpYXMubGVuZ3RoKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogJ2FsaWFzZXMnLFxuICAgICAgICAgICAgdmFsdWU6IHJvdXRlLmFsaWFzLm1hcChhbGlhcyA9PiBhbGlhcy5yZWNvcmQucGF0aCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMocm91dGUucmVjb3JkLm1ldGEpLmxlbmd0aCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdtZXRhJyxcbiAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5yZWNvcmQubWV0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAga2V5OiAnc2NvcmUnLFxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiByb3V0ZS5zY29yZS5tYXAoc2NvcmUgPT4gc2NvcmUuam9pbignLCAnKSkuam9pbignIHwgJyksXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Njb3JlIHVzZWQgdG8gc29ydCByb3V0ZXMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5zY29yZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGZpZWxkcztcbn1cbi8qKlxuICogRXh0cmFjdGVkIGZyb20gdGFpbHdpbmQgcGFsZXR0ZVxuICovXG5jb25zdCBQSU5LXzUwMCA9IDB4ZWM0ODk5O1xuY29uc3QgQkxVRV82MDAgPSAweDI1NjNlYjtcbmNvbnN0IExJTUVfNTAwID0gMHg4NGNjMTY7XG5jb25zdCBDWUFOXzQwMCA9IDB4MjJkM2VlO1xuY29uc3QgT1JBTkdFXzQwMCA9IDB4ZmI5MjNjO1xuLy8gY29uc3QgR1JBWV8xMDAgPSAweGY0ZjRmNVxuY29uc3QgREFSSyA9IDB4NjY2NjY2O1xuZnVuY3Rpb24gZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3Iocm91dGUpIHtcbiAgICBjb25zdCB0YWdzID0gW107XG4gICAgY29uc3QgeyByZWNvcmQgfSA9IHJvdXRlO1xuICAgIGlmIChyZWNvcmQubmFtZSAhPSBudWxsKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogU3RyaW5nKHJlY29yZC5uYW1lKSxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogQ1lBTl80MDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVjb3JkLmFsaWFzT2YpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnYWxpYXMnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBPUkFOR0VfNDAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLl9fdmRfbWF0Y2gpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnbWF0Y2hlcycsXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFBJTktfNTAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLl9fdmRfZXhhY3RBY3RpdmUpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnZXhhY3QnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBMSU1FXzUwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5fX3ZkX2FjdGl2ZSkge1xuICAgICAgICB0YWdzLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6ICdhY3RpdmUnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBCTFVFXzYwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZWNvcmQucmVkaXJlY3QpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiB0eXBlb2YgcmVjb3JkLnJlZGlyZWN0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gYHJlZGlyZWN0OiAke3JlY29yZC5yZWRpcmVjdH1gXG4gICAgICAgICAgICAgICAgOiAncmVkaXJlY3RzJyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMHhmZmZmZmYsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IERBUkssXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhZGQgYW4gaWQgdG8gYmUgYWJsZSB0byBzZWxlY3QgaXQuIFVzaW5nIHRoZSBgcGF0aGAgaXMgbm90IHBvc3NpYmxlIGJlY2F1c2VcbiAgICAvLyBlbXB0eSBwYXRoIGNoaWxkcmVuIHdvdWxkIGNvbGxpZGUgd2l0aCB0aGVpciBwYXJlbnRzXG4gICAgbGV0IGlkID0gcmVjb3JkLl9fdmRfaWQ7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgaWQgPSBTdHJpbmcocm91dGVSZWNvcmRJZCsrKTtcbiAgICAgICAgcmVjb3JkLl9fdmRfaWQgPSBpZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsOiByZWNvcmQucGF0aCxcbiAgICAgICAgdGFncyxcbiAgICAgICAgY2hpbGRyZW46IHJvdXRlLmNoaWxkcmVuLm1hcChmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3RvciksXG4gICAgfTtcbn1cbi8vICBpbmNyZW1lbnRhbCBpZCBmb3Igcm91dGUgcmVjb3JkcyBhbmQgaW5zcGVjdG9yIHN0YXRlXG5sZXQgcm91dGVSZWNvcmRJZCA9IDA7XG5jb25zdCBFWFRSQUNUX1JFR0VYUF9SRSA9IC9eXFwvKC4qKVxcLyhbYS16XSopJC87XG5mdW5jdGlvbiBtYXJrUm91dGVSZWNvcmRBY3RpdmUocm91dGUsIGN1cnJlbnRSb3V0ZSkge1xuICAgIC8vIG5vIHJvdXRlIHdpbGwgYmUgYWN0aXZlIGlmIG1hdGNoZWQgaXMgZW1wdHlcbiAgICAvLyByZXNldCB0aGUgbWF0Y2hpbmcgc3RhdGVcbiAgICBjb25zdCBpc0V4YWN0QWN0aXZlID0gY3VycmVudFJvdXRlLm1hdGNoZWQubGVuZ3RoICYmXG4gICAgICAgIGlzU2FtZVJvdXRlUmVjb3JkKGN1cnJlbnRSb3V0ZS5tYXRjaGVkW2N1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDFdLCByb3V0ZS5yZWNvcmQpO1xuICAgIHJvdXRlLl9fdmRfZXhhY3RBY3RpdmUgPSByb3V0ZS5fX3ZkX2FjdGl2ZSA9IGlzRXhhY3RBY3RpdmU7XG4gICAgaWYgKCFpc0V4YWN0QWN0aXZlKSB7XG4gICAgICAgIHJvdXRlLl9fdmRfYWN0aXZlID0gY3VycmVudFJvdXRlLm1hdGNoZWQuc29tZShtYXRjaCA9PiBpc1NhbWVSb3V0ZVJlY29yZChtYXRjaCwgcm91dGUucmVjb3JkKSk7XG4gICAgfVxuICAgIHJvdXRlLmNoaWxkcmVuLmZvckVhY2goY2hpbGRSb3V0ZSA9PiBtYXJrUm91dGVSZWNvcmRBY3RpdmUoY2hpbGRSb3V0ZSwgY3VycmVudFJvdXRlKSk7XG59XG5mdW5jdGlvbiByZXNldE1hdGNoU3RhdGVPblJvdXRlUmVjb3JkKHJvdXRlKSB7XG4gICAgcm91dGUuX192ZF9tYXRjaCA9IGZhbHNlO1xuICAgIHJvdXRlLmNoaWxkcmVuLmZvckVhY2gocmVzZXRNYXRjaFN0YXRlT25Sb3V0ZVJlY29yZCk7XG59XG5mdW5jdGlvbiBpc1JvdXRlTWF0Y2hpbmcocm91dGUsIGZpbHRlcikge1xuICAgIGNvbnN0IGZvdW5kID0gU3RyaW5nKHJvdXRlLnJlKS5tYXRjaChFWFRSQUNUX1JFR0VYUF9SRSk7XG4gICAgcm91dGUuX192ZF9tYXRjaCA9IGZhbHNlO1xuICAgIGlmICghZm91bmQgfHwgZm91bmQubGVuZ3RoIDwgMykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIHVzZSBhIHJlZ2V4cCB3aXRob3V0ICQgYXQgdGhlIGVuZCB0byBtYXRjaCBuZXN0ZWQgcm91dGVzIGJldHRlclxuICAgIGNvbnN0IG5vbkVuZGluZ1JFID0gbmV3IFJlZ0V4cChmb3VuZFsxXS5yZXBsYWNlKC9cXCQkLywgJycpLCBmb3VuZFsyXSk7XG4gICAgaWYgKG5vbkVuZGluZ1JFLnRlc3QoZmlsdGVyKSkge1xuICAgICAgICAvLyBtYXJrIGNoaWxkcmVuIGFzIG1hdGNoZXNcbiAgICAgICAgcm91dGUuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiBpc1JvdXRlTWF0Y2hpbmcoY2hpbGQsIGZpbHRlcikpO1xuICAgICAgICAvLyBleGNlcHRpb24gY2FzZTogYC9gXG4gICAgICAgIGlmIChyb3V0ZS5yZWNvcmQucGF0aCAhPT0gJy8nIHx8IGZpbHRlciA9PT0gJy8nKSB7XG4gICAgICAgICAgICByb3V0ZS5fX3ZkX21hdGNoID0gcm91dGUucmUudGVzdChmaWx0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGlkZSB0aGUgLyByb3V0ZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSByb3V0ZS5yZWNvcmQucGF0aC50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGRlY29kZWRQYXRoID0gZGVjb2RlKHBhdGgpO1xuICAgIC8vIGFsc28gYWxsb3cgcGFydGlhbCBtYXRjaGluZyBvbiB0aGUgcGF0aFxuICAgIGlmICghZmlsdGVyLnN0YXJ0c1dpdGgoJy8nKSAmJlxuICAgICAgICAoZGVjb2RlZFBhdGguaW5jbHVkZXMoZmlsdGVyKSB8fCBwYXRoLmluY2x1ZGVzKGZpbHRlcikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZGVjb2RlZFBhdGguc3RhcnRzV2l0aChmaWx0ZXIpIHx8IHBhdGguc3RhcnRzV2l0aChmaWx0ZXIpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocm91dGUucmVjb3JkLm5hbWUgJiYgU3RyaW5nKHJvdXRlLnJlY29yZC5uYW1lKS5pbmNsdWRlcyhmaWx0ZXIpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gcm91dGUuY2hpbGRyZW4uc29tZShjaGlsZCA9PiBpc1JvdXRlTWF0Y2hpbmcoY2hpbGQsIGZpbHRlcikpO1xufVxuZnVuY3Rpb24gb21pdChvYmosIGtleXMpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJldFtrZXldID0gb2JqW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUm91dGVyIGluc3RhbmNlIHRoYXQgY2FuIGJlIHVzZWQgYnkgYSBWdWUgYXBwLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0ge0BsaW5rIFJvdXRlck9wdGlvbnN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihvcHRpb25zKSB7XG4gICAgY29uc3QgbWF0Y2hlciA9IGNyZWF0ZVJvdXRlck1hdGNoZXIob3B0aW9ucy5yb3V0ZXMsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHBhcnNlUXVlcnkkMSA9IG9wdGlvbnMucGFyc2VRdWVyeSB8fCBwYXJzZVF1ZXJ5O1xuICAgIGNvbnN0IHN0cmluZ2lmeVF1ZXJ5JDEgPSBvcHRpb25zLnN0cmluZ2lmeVF1ZXJ5IHx8IHN0cmluZ2lmeVF1ZXJ5O1xuICAgIGNvbnN0IHJvdXRlckhpc3RvcnkgPSBvcHRpb25zLmhpc3Rvcnk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcm91dGVySGlzdG9yeSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlIHRoZSBcImhpc3RvcnlcIiBvcHRpb24gd2hlbiBjYWxsaW5nIFwiY3JlYXRlUm91dGVyKClcIjonICtcbiAgICAgICAgICAgICcgaHR0cHM6Ly9uZXh0LnJvdXRlci52dWVqcy5vcmcvYXBpLyNoaXN0b3J5LicpO1xuICAgIGNvbnN0IGJlZm9yZUd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGNvbnN0IGJlZm9yZVJlc29sdmVHdWFyZHMgPSB1c2VDYWxsYmFja3MoKTtcbiAgICBjb25zdCBhZnRlckd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHNoYWxsb3dSZWYoU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCk7XG4gICAgbGV0IHBlbmRpbmdMb2NhdGlvbiA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgLy8gbGVhdmUgdGhlIHNjcm9sbFJlc3RvcmF0aW9uIGlmIG5vIHNjcm9sbEJlaGF2aW9yIGlzIHByb3ZpZGVkXG4gICAgaWYgKGlzQnJvd3NlciAmJiBvcHRpb25zLnNjcm9sbEJlaGF2aW9yICYmICdzY3JvbGxSZXN0b3JhdGlvbicgaW4gaGlzdG9yeSkge1xuICAgICAgICBoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ21hbnVhbCc7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhcmFtcyA9IGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBwYXJhbVZhbHVlID0+ICcnICsgcGFyYW1WYWx1ZSk7XG4gICAgY29uc3QgZW5jb2RlUGFyYW1zID0gYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGVuY29kZVBhcmFtKTtcbiAgICBjb25zdCBkZWNvZGVQYXJhbXMgPSBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBpbnRlbnRpb25hbGx5IGF2b2lkIHRoZSB0eXBlIGNoZWNrXG4gICAgYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGRlY29kZSk7XG4gICAgZnVuY3Rpb24gYWRkUm91dGUocGFyZW50T3JSb3V0ZSwgcm91dGUpIHtcbiAgICAgICAgbGV0IHBhcmVudDtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgaWYgKGlzUm91dGVOYW1lKHBhcmVudE9yUm91dGUpKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIocGFyZW50T3JSb3V0ZSk7XG4gICAgICAgICAgICByZWNvcmQgPSByb3V0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHBhcmVudE9yUm91dGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoZXIuYWRkUm91dGUocmVjb3JkLCBwYXJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVSb3V0ZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IHJlY29yZE1hdGNoZXIgPSBtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIobmFtZSk7XG4gICAgICAgIGlmIChyZWNvcmRNYXRjaGVyKSB7XG4gICAgICAgICAgICBtYXRjaGVyLnJlbW92ZVJvdXRlKHJlY29yZE1hdGNoZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgQ2Fubm90IHJlbW92ZSBub24tZXhpc3RlbnQgcm91dGUgXCIke1N0cmluZyhuYW1lKX1cImApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJvdXRlcygpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIuZ2V0Um91dGVzKCkubWFwKHJvdXRlTWF0Y2hlciA9PiByb3V0ZU1hdGNoZXIucmVjb3JkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzUm91dGUobmFtZSkge1xuICAgICAgICByZXR1cm4gISFtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIobmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmUocmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAvLyBjb25zdCBvYmplY3RMb2NhdGlvbiA9IHJvdXRlckxvY2F0aW9uQXNPYmplY3QocmF3TG9jYXRpb24pXG4gICAgICAgIC8vIHdlIGNyZWF0ZSBhIGNvcHkgdG8gbW9kaWZ5IGl0IGxhdGVyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGFzc2lnbih7fSwgY3VycmVudExvY2F0aW9uIHx8IGN1cnJlbnRSb3V0ZS52YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmF3TG9jYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbk5vcm1hbGl6ZWQgPSBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHJhd0xvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24ucGF0aCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkUm91dGUgPSBtYXRjaGVyLnJlc29sdmUoeyBwYXRoOiBsb2NhdGlvbk5vcm1hbGl6ZWQucGF0aCB9LCBjdXJyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgaHJlZiA9IHJvdXRlckhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbk5vcm1hbGl6ZWQuZnVsbFBhdGgpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmIChocmVmLnN0YXJ0c1dpdGgoJy8vJykpXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYExvY2F0aW9uIFwiJHtyYXdMb2NhdGlvbn1cIiByZXNvbHZlZCB0byBcIiR7aHJlZn1cIi4gQSByZXNvbHZlZCBsb2NhdGlvbiBjYW5ub3Qgc3RhcnQgd2l0aCBtdWx0aXBsZSBzbGFzaGVzLmApO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFtYXRjaGVkUm91dGUubWF0Y2hlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7cmF3TG9jYXRpb259XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsb2NhdGlvbk5vcm1hbGl6ZWQgaXMgYWx3YXlzIGEgbmV3IG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIGFzc2lnbihsb2NhdGlvbk5vcm1hbGl6ZWQsIG1hdGNoZWRSb3V0ZSwge1xuICAgICAgICAgICAgICAgIHBhcmFtczogZGVjb2RlUGFyYW1zKG1hdGNoZWRSb3V0ZS5wYXJhbXMpLFxuICAgICAgICAgICAgICAgIGhhc2g6IGRlY29kZShsb2NhdGlvbk5vcm1hbGl6ZWQuaGFzaCksXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb206IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hdGNoZXJMb2NhdGlvbjtcbiAgICAgICAgLy8gcGF0aCBjb3VsZCBiZSByZWxhdGl2ZSBpbiBvYmplY3QgYXMgd2VsbFxuICAgICAgICBpZiAocmF3TG9jYXRpb24ucGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgJ3BhcmFtcycgaW4gcmF3TG9jYXRpb24gJiZcbiAgICAgICAgICAgICAgICAhKCduYW1lJyBpbiByYXdMb2NhdGlvbikgJiZcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0aGUgdHlwZSBpcyBuZXZlclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHJhd0xvY2F0aW9uLnBhcmFtcykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2FybihgUGF0aCBcIiR7cmF3TG9jYXRpb24ucGF0aH1cIiB3YXMgcGFzc2VkIHdpdGggcGFyYW1zIGJ1dCB0aGV5IHdpbGwgYmUgaWdub3JlZC4gVXNlIGEgbmFtZWQgcm91dGUgYWxvbmdzaWRlIHBhcmFtcyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2hlckxvY2F0aW9uID0gYXNzaWduKHt9LCByYXdMb2NhdGlvbiwge1xuICAgICAgICAgICAgICAgIHBhdGg6IHBhcnNlVVJMKHBhcnNlUXVlcnkkMSwgcmF3TG9jYXRpb24ucGF0aCwgY3VycmVudExvY2F0aW9uLnBhdGgpLnBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgbnVsbGlzaCBwYXJhbVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0UGFyYW1zID0gYXNzaWduKHt9LCByYXdMb2NhdGlvbi5wYXJhbXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0UGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldFBhcmFtc1trZXldID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhcmdldFBhcmFtc1trZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHBhc3MgZW5jb2RlZCB2YWx1ZXMgdG8gdGhlIG1hdGNoZXIsIHNvIGl0IGNhbiBwcm9kdWNlIGVuY29kZWQgcGF0aCBhbmQgZnVsbFBhdGhcbiAgICAgICAgICAgIG1hdGNoZXJMb2NhdGlvbiA9IGFzc2lnbih7fSwgcmF3TG9jYXRpb24sIHtcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGVuY29kZVBhcmFtcyh0YXJnZXRQYXJhbXMpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBjdXJyZW50IGxvY2F0aW9uIHBhcmFtcyBhcmUgZGVjb2RlZCwgd2UgbmVlZCB0byBlbmNvZGUgdGhlbSBpbiBjYXNlIHRoZVxuICAgICAgICAgICAgLy8gbWF0Y2hlciBtZXJnZXMgdGhlIHBhcmFtc1xuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uLnBhcmFtcyA9IGVuY29kZVBhcmFtcyhjdXJyZW50TG9jYXRpb24ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXRjaGVkUm91dGUgPSBtYXRjaGVyLnJlc29sdmUobWF0Y2hlckxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24pO1xuICAgICAgICBjb25zdCBoYXNoID0gcmF3TG9jYXRpb24uaGFzaCB8fCAnJztcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBoYXNoICYmICFoYXNoLnN0YXJ0c1dpdGgoJyMnKSkge1xuICAgICAgICAgICAgd2FybihgQSBcXGBoYXNoXFxgIHNob3VsZCBhbHdheXMgc3RhcnQgd2l0aCB0aGUgY2hhcmFjdGVyIFwiI1wiLiBSZXBsYWNlIFwiJHtoYXNofVwiIHdpdGggXCIjJHtoYXNofVwiLmApO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBtYXRjaGVyIG1pZ2h0IGhhdmUgbWVyZ2VkIGN1cnJlbnQgbG9jYXRpb24gcGFyYW1zLCBzb1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJ1biB0aGUgZGVjb2RpbmcgYWdhaW5cbiAgICAgICAgbWF0Y2hlZFJvdXRlLnBhcmFtcyA9IG5vcm1hbGl6ZVBhcmFtcyhkZWNvZGVQYXJhbXMobWF0Y2hlZFJvdXRlLnBhcmFtcykpO1xuICAgICAgICBjb25zdCBmdWxsUGF0aCA9IHN0cmluZ2lmeVVSTChzdHJpbmdpZnlRdWVyeSQxLCBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XG4gICAgICAgICAgICBoYXNoOiBlbmNvZGVIYXNoKGhhc2gpLFxuICAgICAgICAgICAgcGF0aDogbWF0Y2hlZFJvdXRlLnBhdGgsXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgaHJlZiA9IHJvdXRlckhpc3RvcnkuY3JlYXRlSHJlZihmdWxsUGF0aCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgIGlmIChocmVmLnN0YXJ0c1dpdGgoJy8vJykpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBMb2NhdGlvbiBcIiR7cmF3TG9jYXRpb259XCIgcmVzb2x2ZWQgdG8gXCIke2hyZWZ9XCIuIEEgcmVzb2x2ZWQgbG9jYXRpb24gY2Fubm90IHN0YXJ0IHdpdGggbXVsdGlwbGUgc2xhc2hlcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFtYXRjaGVkUm91dGUubWF0Y2hlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBObyBtYXRjaCBmb3VuZCBmb3IgbG9jYXRpb24gd2l0aCBwYXRoIFwiJHtyYXdMb2NhdGlvbi5wYXRoICE9IG51bGwgPyByYXdMb2NhdGlvbi5wYXRoIDogcmF3TG9jYXRpb259XCJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzaWduKHtcbiAgICAgICAgICAgIGZ1bGxQYXRoLFxuICAgICAgICAgICAgLy8ga2VlcCB0aGUgaGFzaCBlbmNvZGVkIHNvIGZ1bGxQYXRoIGlzIGVmZmVjdGl2ZWx5IHBhdGggKyBlbmNvZGVkUXVlcnkgK1xuICAgICAgICAgICAgLy8gaGFzaFxuICAgICAgICAgICAgaGFzaCxcbiAgICAgICAgICAgIHF1ZXJ5OiBcbiAgICAgICAgICAgIC8vIGlmIHRoZSB1c2VyIGlzIHVzaW5nIGEgY3VzdG9tIHF1ZXJ5IGxpYiBsaWtlIHFzLCB3ZSBtaWdodCBoYXZlXG4gICAgICAgICAgICAvLyBuZXN0ZWQgb2JqZWN0cywgc28gd2Uga2VlcCB0aGUgcXVlcnkgYXMgaXMsIG1lYW5pbmcgaXQgY2FuIGNvbnRhaW5cbiAgICAgICAgICAgIC8vIG51bWJlcnMgYXQgYCRyb3V0ZS5xdWVyeWAsIGJ1dCBhdCB0aGUgcG9pbnQsIHRoZSB1c2VyIHdpbGwgaGF2ZSB0b1xuICAgICAgICAgICAgLy8gdXNlIHRoZWlyIG93biB0eXBlIGFueXdheS5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzMyOCNpc3N1ZWNvbW1lbnQtNjQ5NDgxNTY3XG4gICAgICAgICAgICBzdHJpbmdpZnlRdWVyeSQxID09PSBzdHJpbmdpZnlRdWVyeVxuICAgICAgICAgICAgICAgID8gbm9ybWFsaXplUXVlcnkocmF3TG9jYXRpb24ucXVlcnkpXG4gICAgICAgICAgICAgICAgOiAocmF3TG9jYXRpb24ucXVlcnkgfHwge30pLFxuICAgICAgICB9LCBtYXRjaGVkUm91dGUsIHtcbiAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBocmVmLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbG9jYXRpb25Bc09iamVjdCh0bykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRvID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHRvLCBjdXJyZW50Um91dGUudmFsdWUucGF0aClcbiAgICAgICAgICAgIDogYXNzaWduKHt9LCB0byk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uKHRvLCBmcm9tKSB7XG4gICAgICAgIGlmIChwZW5kaW5nTG9jYXRpb24gIT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlUm91dGVyRXJyb3IoOCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQ0FOQ0VMTEVEICovLCB7XG4gICAgICAgICAgICAgICAgZnJvbSxcbiAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2godG8pIHtcbiAgICAgICAgcmV0dXJuIHB1c2hXaXRoUmVkaXJlY3QodG8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYWNlKHRvKSB7XG4gICAgICAgIHJldHVybiBwdXNoKGFzc2lnbihsb2NhdGlvbkFzT2JqZWN0KHRvKSwgeyByZXBsYWNlOiB0cnVlIH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVkaXJlY3RSZWNvcmQodG8pIHtcbiAgICAgICAgY29uc3QgbGFzdE1hdGNoZWQgPSB0by5tYXRjaGVkW3RvLm1hdGNoZWQubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChsYXN0TWF0Y2hlZCAmJiBsYXN0TWF0Y2hlZC5yZWRpcmVjdCkge1xuICAgICAgICAgICAgY29uc3QgeyByZWRpcmVjdCB9ID0gbGFzdE1hdGNoZWQ7XG4gICAgICAgICAgICBsZXQgbmV3VGFyZ2V0TG9jYXRpb24gPSB0eXBlb2YgcmVkaXJlY3QgPT09ICdmdW5jdGlvbicgPyByZWRpcmVjdCh0bykgOiByZWRpcmVjdDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3VGFyZ2V0TG9jYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0TG9jYXRpb24gPVxuICAgICAgICAgICAgICAgICAgICBuZXdUYXJnZXRMb2NhdGlvbi5pbmNsdWRlcygnPycpIHx8IG5ld1RhcmdldExvY2F0aW9uLmluY2x1ZGVzKCcjJylcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKG5ld1RhcmdldExvY2F0aW9uID0gbG9jYXRpb25Bc09iamVjdChuZXdUYXJnZXRMb2NhdGlvbikpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IC8vIGZvcmNlIGVtcHR5IHBhcmFtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcGF0aDogbmV3VGFyZ2V0TG9jYXRpb24gfTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBmb3JjZSBlbXB0eSBwYXJhbXMgd2hlbiBhIHN0cmluZyBpcyBwYXNzZWQgdG8gbGV0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvdXRlciBwYXJzZSB0aGVtIGFnYWluXG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0TG9jYXRpb24ucGFyYW1zID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0TG9jYXRpb24ucGF0aCA9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgISgnbmFtZScgaW4gbmV3VGFyZ2V0TG9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCByZWRpcmVjdCBmb3VuZDpcXG4ke0pTT04uc3RyaW5naWZ5KG5ld1RhcmdldExvY2F0aW9uLCBudWxsLCAyKX1cXG4gd2hlbiBuYXZpZ2F0aW5nIHRvIFwiJHt0by5mdWxsUGF0aH1cIi4gQSByZWRpcmVjdCBtdXN0IGNvbnRhaW4gYSBuYW1lIG9yIHBhdGguIFRoaXMgd2lsbCBicmVhayBpbiBwcm9kdWN0aW9uLmApO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZWRpcmVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgICAgICAgICAgcXVlcnk6IHRvLnF1ZXJ5LFxuICAgICAgICAgICAgICAgIGhhc2g6IHRvLmhhc2gsXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgdHJhbnNmZXJyaW5nIHBhcmFtcyBpZiB0aGUgcmVkaXJlY3QgaGFzIGEgcGF0aFxuICAgICAgICAgICAgICAgIHBhcmFtczogbmV3VGFyZ2V0TG9jYXRpb24ucGF0aCAhPSBudWxsID8ge30gOiB0by5wYXJhbXMsXG4gICAgICAgICAgICB9LCBuZXdUYXJnZXRMb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFdpdGhSZWRpcmVjdCh0bywgcmVkaXJlY3RlZEZyb20pIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0TG9jYXRpb24gPSAocGVuZGluZ0xvY2F0aW9uID0gcmVzb2x2ZSh0bykpO1xuICAgICAgICBjb25zdCBmcm9tID0gY3VycmVudFJvdXRlLnZhbHVlO1xuICAgICAgICBjb25zdCBkYXRhID0gdG8uc3RhdGU7XG4gICAgICAgIGNvbnN0IGZvcmNlID0gdG8uZm9yY2U7XG4gICAgICAgIC8vIHRvIGNvdWxkIGJlIGEgc3RyaW5nIHdoZXJlIGByZXBsYWNlYCBpcyBhIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IHJlcGxhY2UgPSB0by5yZXBsYWNlID09PSB0cnVlO1xuICAgICAgICBjb25zdCBzaG91bGRSZWRpcmVjdCA9IGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRhcmdldExvY2F0aW9uKTtcbiAgICAgICAgaWYgKHNob3VsZFJlZGlyZWN0KVxuICAgICAgICAgICAgcmV0dXJuIHB1c2hXaXRoUmVkaXJlY3QoYXNzaWduKGxvY2F0aW9uQXNPYmplY3Qoc2hvdWxkUmVkaXJlY3QpLCB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IHR5cGVvZiBzaG91bGRSZWRpcmVjdCA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICAgICAgPyBhc3NpZ24oe30sIGRhdGEsIHNob3VsZFJlZGlyZWN0LnN0YXRlKVxuICAgICAgICAgICAgICAgICAgICA6IGRhdGEsXG4gICAgICAgICAgICAgICAgZm9yY2UsXG4gICAgICAgICAgICAgICAgcmVwbGFjZSxcbiAgICAgICAgICAgIH0pLCBcbiAgICAgICAgICAgIC8vIGtlZXAgb3JpZ2luYWwgcmVkaXJlY3RlZEZyb20gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICByZWRpcmVjdGVkRnJvbSB8fCB0YXJnZXRMb2NhdGlvbik7XG4gICAgICAgIC8vIGlmIGl0IHdhcyBhIHJlZGlyZWN0IHdlIGFscmVhZHkgY2FsbGVkIGBwdXNoV2l0aFJlZGlyZWN0YCBhYm92ZVxuICAgICAgICBjb25zdCB0b0xvY2F0aW9uID0gdGFyZ2V0TG9jYXRpb247XG4gICAgICAgIHRvTG9jYXRpb24ucmVkaXJlY3RlZEZyb20gPSByZWRpcmVjdGVkRnJvbTtcbiAgICAgICAgbGV0IGZhaWx1cmU7XG4gICAgICAgIGlmICghZm9yY2UgJiYgaXNTYW1lUm91dGVMb2NhdGlvbihzdHJpbmdpZnlRdWVyeSQxLCBmcm9tLCB0YXJnZXRMb2NhdGlvbikpIHtcbiAgICAgICAgICAgIGZhaWx1cmUgPSBjcmVhdGVSb3V0ZXJFcnJvcigxNiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fRFVQTElDQVRFRCAqLywgeyB0bzogdG9Mb2NhdGlvbiwgZnJvbSB9KTtcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgc2Nyb2xsIHRvIGFsbG93IHNjcm9sbGluZyB0byB0aGUgc2FtZSBhbmNob3JcbiAgICAgICAgICAgIGhhbmRsZVNjcm9sbChmcm9tLCBmcm9tLCBcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBwdXNoLCB0aGUgb25seSB3YXkgZm9yIGl0IHRvIGJlIHRyaWdnZXJlZCBmcm9tIGFcbiAgICAgICAgICAgIC8vIGhpc3RvcnkubGlzdGVuIGlzIHdpdGggYSByZWRpcmVjdCwgd2hpY2ggbWFrZXMgaXQgYmVjb21lIGEgcHVzaFxuICAgICAgICAgICAgdHJ1ZSwgXG4gICAgICAgICAgICAvLyBUaGlzIGNhbm5vdCBiZSB0aGUgZmlyc3QgbmF2aWdhdGlvbiBiZWNhdXNlIHRoZSBpbml0aWFsIGxvY2F0aW9uXG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgbWFudWFsbHkgbmF2aWdhdGVkIHRvXG4gICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChmYWlsdXJlID8gUHJvbWlzZS5yZXNvbHZlKGZhaWx1cmUpIDogbmF2aWdhdGUodG9Mb2NhdGlvbiwgZnJvbSkpXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yKVxuICAgICAgICAgICAgPyAvLyBuYXZpZ2F0aW9uIHJlZGlyZWN0cyBzdGlsbCBtYXJrIHRoZSByb3V0ZXIgYXMgcmVhZHlcbiAgICAgICAgICAgICAgICBpc05hdmlnYXRpb25GYWlsdXJlKGVycm9yLCAyIC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLylcbiAgICAgICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgICAgICA6IG1hcmtBc1JlYWR5KGVycm9yKSAvLyBhbHNvIHJldHVybnMgdGhlIGVycm9yXG4gICAgICAgICAgICA6IC8vIHJlamVjdCBhbnkgdW5rbm93biBlcnJvclxuICAgICAgICAgICAgICAgIHRyaWdnZXJFcnJvcihlcnJvciwgdG9Mb2NhdGlvbiwgZnJvbSkpXG4gICAgICAgICAgICAudGhlbigoZmFpbHVyZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCAyIC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIHJlZGlyZWN0aW5nIHRvIHRoZSBzYW1lIGxvY2F0aW9uIHdlIHdlcmUgYWxyZWFkeSBhdFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lUm91dGVMb2NhdGlvbihzdHJpbmdpZnlRdWVyeSQxLCByZXNvbHZlKGZhaWx1cmUudG8pLCB0b0xvY2F0aW9uKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHdlIGhhdmUgZG9uZSBpdCBhIGNvdXBsZSBvZiB0aW1lc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGFkZGVkIG9ubHkgaW4gZGV2XG4gICAgICAgICAgICAgICAgICAgICAgICAocmVkaXJlY3RlZEZyb20uX2NvdW50ID0gcmVkaXJlY3RlZEZyb20uX2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tLl9jb3VudCArIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDEpID4gMzApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oYERldGVjdGVkIGEgcG9zc2libHkgaW5maW5pdGUgcmVkaXJlY3Rpb24gaW4gYSBuYXZpZ2F0aW9uIGd1YXJkIHdoZW4gZ29pbmcgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG9Mb2NhdGlvbi5mdWxsUGF0aH1cIi4gQWJvcnRpbmcgdG8gYXZvaWQgYSBTdGFjayBPdmVyZmxvdy5cXG4gQXJlIHlvdSBhbHdheXMgcmV0dXJuaW5nIGEgbmV3IGxvY2F0aW9uIHdpdGhpbiBhIG5hdmlnYXRpb24gZ3VhcmQ/IFRoYXQgd291bGQgbGVhZCB0byB0aGlzIGVycm9yLiBPbmx5IHJldHVybiB3aGVuIHJlZGlyZWN0aW5nIG9yIGFib3J0aW5nLCB0aGF0IHNob3VsZCBmaXggdGhpcy4gVGhpcyBtaWdodCBicmVhayBpbiBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0luZmluaXRlIHJlZGlyZWN0IGluIG5hdmlnYXRpb24gZ3VhcmQnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHB1c2hXaXRoUmVkaXJlY3QoXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJlc2VydmUgYW4gZXhpc3RpbmcgcmVwbGFjZW1lbnQgYnV0IGFsbG93IHRoZSByZWRpcmVjdCB0byBvdmVycmlkZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZSxcbiAgICAgICAgICAgICAgICAgICAgfSwgbG9jYXRpb25Bc09iamVjdChmYWlsdXJlLnRvKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHR5cGVvZiBmYWlsdXJlLnRvID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXNzaWduKHt9LCBkYXRhLCBmYWlsdXJlLnRvLnN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmNlLFxuICAgICAgICAgICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlIHRoZSBvcmlnaW5hbCByZWRpcmVjdGVkRnJvbSBpZiBhbnlcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gfHwgdG9Mb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgZmFpbCB3ZSBkb24ndCBmaW5hbGl6ZSB0aGUgbmF2aWdhdGlvblxuICAgICAgICAgICAgICAgIGZhaWx1cmUgPSBmaW5hbGl6ZU5hdmlnYXRpb24odG9Mb2NhdGlvbiwgZnJvbSwgdHJ1ZSwgcmVwbGFjZSwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmlnZ2VyQWZ0ZXJFYWNoKHRvTG9jYXRpb24sIGZyb20sIGZhaWx1cmUpO1xuICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgdG8gcmVqZWN0IGFuZCBza2lwIGFsbCBuYXZpZ2F0aW9uIGd1YXJkcyBpZiBhIG5ldyBuYXZpZ2F0aW9uIGhhcHBlbmVkXG4gICAgICogQHBhcmFtIHRvXG4gICAgICogQHBhcmFtIGZyb21cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbkFuZFJlamVjdCh0bywgZnJvbSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uKHRvLCBmcm9tKTtcbiAgICAgICAgcmV0dXJuIGVycm9yID8gUHJvbWlzZS5yZWplY3QoZXJyb3IpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bldpdGhDb250ZXh0KGZuKSB7XG4gICAgICAgIGNvbnN0IGFwcCA9IGluc3RhbGxlZEFwcHMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICAvLyBzdXBwb3J0IFZ1ZSA8IDMuM1xuICAgICAgICByZXR1cm4gYXBwICYmIHR5cGVvZiBhcHAucnVuV2l0aENvbnRleHQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gYXBwLnJ1bldpdGhDb250ZXh0KGZuKVxuICAgICAgICAgICAgOiBmbigpO1xuICAgIH1cbiAgICAvLyBUT0RPOiByZWZhY3RvciB0aGUgd2hvbGUgYmVmb3JlIGd1YXJkcyBieSBpbnRlcm5hbGx5IHVzaW5nIHJvdXRlci5iZWZvcmVFYWNoXG4gICAgZnVuY3Rpb24gbmF2aWdhdGUodG8sIGZyb20pIHtcbiAgICAgICAgbGV0IGd1YXJkcztcbiAgICAgICAgY29uc3QgW2xlYXZpbmdSZWNvcmRzLCB1cGRhdGluZ1JlY29yZHMsIGVudGVyaW5nUmVjb3Jkc10gPSBleHRyYWN0Q2hhbmdpbmdSZWNvcmRzKHRvLCBmcm9tKTtcbiAgICAgICAgLy8gYWxsIGNvbXBvbmVudHMgaGVyZSBoYXZlIGJlZW4gcmVzb2x2ZWQgb25jZSBiZWNhdXNlIHdlIGFyZSBsZWF2aW5nXG4gICAgICAgIGd1YXJkcyA9IGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKGxlYXZpbmdSZWNvcmRzLnJldmVyc2UoKSwgJ2JlZm9yZVJvdXRlTGVhdmUnLCB0bywgZnJvbSk7XG4gICAgICAgIC8vIGxlYXZpbmdSZWNvcmRzIGlzIGFscmVhZHkgcmV2ZXJzZWRcbiAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgbGVhdmluZ1JlY29yZHMpIHtcbiAgICAgICAgICAgIHJlY29yZC5sZWF2ZUd1YXJkcy5mb3JFYWNoKGd1YXJkID0+IHtcbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2sgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbkFuZFJlamVjdC5iaW5kKG51bGwsIHRvLCBmcm9tKTtcbiAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVSb3V0ZUxlYXZlIGd1YXJkc1xuICAgICAgICByZXR1cm4gKHJ1bkd1YXJkUXVldWUoZ3VhcmRzKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gY2hlY2sgZ2xvYmFsIGd1YXJkcyBiZWZvcmVFYWNoXG4gICAgICAgICAgICBndWFyZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3VhcmQgb2YgYmVmb3JlR3VhcmRzLmxpc3QoKSkge1xuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gY2hlY2sgaW4gY29tcG9uZW50cyBiZWZvcmVSb3V0ZVVwZGF0ZVxuICAgICAgICAgICAgZ3VhcmRzID0gZXh0cmFjdENvbXBvbmVudHNHdWFyZHModXBkYXRpbmdSZWNvcmRzLCAnYmVmb3JlUm91dGVVcGRhdGUnLCB0bywgZnJvbSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB1cGRhdGluZ1JlY29yZHMpIHtcbiAgICAgICAgICAgICAgICByZWNvcmQudXBkYXRlR3VhcmRzLmZvckVhY2goZ3VhcmQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gY2hlY2sgdGhlIHJvdXRlIGJlZm9yZUVudGVyXG4gICAgICAgICAgICBndWFyZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIGVudGVyaW5nUmVjb3Jkcykge1xuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCB0cmlnZ2VyIGJlZm9yZUVudGVyIG9uIHJldXNlZCB2aWV3c1xuICAgICAgICAgICAgICAgIGlmIChyZWNvcmQuYmVmb3JlRW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkocmVjb3JkLmJlZm9yZUVudGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBiZWZvcmVFbnRlciBvZiByZWNvcmQuYmVmb3JlRW50ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihiZWZvcmVFbnRlciwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4ocmVjb3JkLmJlZm9yZUVudGVyLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlRW50ZXIgZ3VhcmRzXG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gTk9URTogYXQgdGhpcyBwb2ludCB0by5tYXRjaGVkIGlzIG5vcm1hbGl6ZWQgYW5kIGRvZXMgbm90IGNvbnRhaW4gYW55ICgpID0+IFByb21pc2U8Q29tcG9uZW50PlxuICAgICAgICAgICAgLy8gY2xlYXIgZXhpc3RpbmcgZW50ZXJDYWxsYmFja3MsIHRoZXNlIGFyZSBhZGRlZCBieSBleHRyYWN0Q29tcG9uZW50c0d1YXJkc1xuICAgICAgICAgICAgdG8ubWF0Y2hlZC5mb3JFYWNoKHJlY29yZCA9PiAocmVjb3JkLmVudGVyQ2FsbGJhY2tzID0ge30pKTtcbiAgICAgICAgICAgIC8vIGNoZWNrIGluLWNvbXBvbmVudCBiZWZvcmVSb3V0ZUVudGVyXG4gICAgICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyhlbnRlcmluZ1JlY29yZHMsICdiZWZvcmVSb3V0ZUVudGVyJywgdG8sIGZyb20sIHJ1bldpdGhDb250ZXh0KTtcbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIC8vIHJ1biB0aGUgcXVldWUgb2YgcGVyIHJvdXRlIGJlZm9yZUVudGVyIGd1YXJkc1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGdsb2JhbCBndWFyZHMgYmVmb3JlUmVzb2x2ZVxuICAgICAgICAgICAgZ3VhcmRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGJlZm9yZVJlc29sdmVHdWFyZHMubGlzdCgpKSB7XG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAvLyBjYXRjaCBhbnkgbmF2aWdhdGlvbiBjYW5jZWxlZFxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBpc05hdmlnYXRpb25GYWlsdXJlKGVyciwgOCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQ0FOQ0VMTEVEICovKVxuICAgICAgICAgICAgPyBlcnJcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZWplY3QoZXJyKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmlnZ2VyQWZ0ZXJFYWNoKHRvLCBmcm9tLCBmYWlsdXJlKSB7XG4gICAgICAgIC8vIG5hdmlnYXRpb24gaXMgY29uZmlybWVkLCBjYWxsIGFmdGVyR3VhcmRzXG4gICAgICAgIC8vIFRPRE86IHdyYXAgd2l0aCBlcnJvciBoYW5kbGVyc1xuICAgICAgICBhZnRlckd1YXJkc1xuICAgICAgICAgICAgLmxpc3QoKVxuICAgICAgICAgICAgLmZvckVhY2goZ3VhcmQgPT4gcnVuV2l0aENvbnRleHQoKCkgPT4gZ3VhcmQodG8sIGZyb20sIGZhaWx1cmUpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIC0gQ2xlYW5zIHVwIGFueSBuYXZpZ2F0aW9uIGd1YXJkc1xuICAgICAqIC0gQ2hhbmdlcyB0aGUgdXJsIGlmIG5lY2Vzc2FyeVxuICAgICAqIC0gQ2FsbHMgdGhlIHNjcm9sbEJlaGF2aW9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluYWxpemVOYXZpZ2F0aW9uKHRvTG9jYXRpb24sIGZyb20sIGlzUHVzaCwgcmVwbGFjZSwgZGF0YSkge1xuICAgICAgICAvLyBhIG1vcmUgcmVjZW50IG5hdmlnYXRpb24gdG9vayBwbGFjZVxuICAgICAgICBjb25zdCBlcnJvciA9IGNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uKHRvTG9jYXRpb24sIGZyb20pO1xuICAgICAgICBpZiAoZXJyb3IpXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIC8vIG9ubHkgY29uc2lkZXIgYXMgcHVzaCBpZiBpdCdzIG5vdCB0aGUgZmlyc3QgbmF2aWdhdGlvblxuICAgICAgICBjb25zdCBpc0ZpcnN0TmF2aWdhdGlvbiA9IGZyb20gPT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gIWlzQnJvd3NlciA/IHt9IDogaGlzdG9yeS5zdGF0ZTtcbiAgICAgICAgLy8gY2hhbmdlIFVSTCBvbmx5IGlmIHRoZSB1c2VyIGRpZCBhIHB1c2gvcmVwbGFjZSBhbmQgaWYgaXQncyBub3QgdGhlIGluaXRpYWwgbmF2aWdhdGlvbiBiZWNhdXNlXG4gICAgICAgIC8vIGl0J3MganVzdCByZWZsZWN0aW5nIHRoZSB1cmxcbiAgICAgICAgaWYgKGlzUHVzaCkge1xuICAgICAgICAgICAgLy8gb24gdGhlIGluaXRpYWwgbmF2aWdhdGlvbiwgd2Ugd2FudCB0byByZXVzZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIGZyb21cbiAgICAgICAgICAgIC8vIGhpc3Rvcnkgc3RhdGUgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBpZiAocmVwbGFjZSB8fCBpc0ZpcnN0TmF2aWdhdGlvbilcbiAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LnJlcGxhY2UodG9Mb2NhdGlvbi5mdWxsUGF0aCwgYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBpc0ZpcnN0TmF2aWdhdGlvbiAmJiBzdGF0ZSAmJiBzdGF0ZS5zY3JvbGwsXG4gICAgICAgICAgICAgICAgfSwgZGF0YSkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkucHVzaCh0b0xvY2F0aW9uLmZ1bGxQYXRoLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhY2NlcHQgY3VycmVudCBuYXZpZ2F0aW9uXG4gICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9IHRvTG9jYXRpb247XG4gICAgICAgIGhhbmRsZVNjcm9sbCh0b0xvY2F0aW9uLCBmcm9tLCBpc1B1c2gsIGlzRmlyc3ROYXZpZ2F0aW9uKTtcbiAgICAgICAgbWFya0FzUmVhZHkoKTtcbiAgICB9XG4gICAgbGV0IHJlbW92ZUhpc3RvcnlMaXN0ZW5lcjtcbiAgICAvLyBhdHRhY2ggbGlzdGVuZXIgdG8gaGlzdG9yeSB0byB0cmlnZ2VyIG5hdmlnYXRpb25zXG4gICAgZnVuY3Rpb24gc2V0dXBMaXN0ZW5lcnMoKSB7XG4gICAgICAgIC8vIGF2b2lkIHNldHRpbmcgdXAgbGlzdGVuZXJzIHR3aWNlIGR1ZSB0byBhbiBpbnZhbGlkIGZpcnN0IG5hdmlnYXRpb25cbiAgICAgICAgaWYgKHJlbW92ZUhpc3RvcnlMaXN0ZW5lcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyID0gcm91dGVySGlzdG9yeS5saXN0ZW4oKHRvLCBfZnJvbSwgaW5mbykgPT4ge1xuICAgICAgICAgICAgaWYgKCFyb3V0ZXIubGlzdGVuaW5nKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIGNhbm5vdCBiZSBhIHJlZGlyZWN0IHJvdXRlIGJlY2F1c2UgaXQgd2FzIGluIGhpc3RvcnlcbiAgICAgICAgICAgIGNvbnN0IHRvTG9jYXRpb24gPSByZXNvbHZlKHRvKTtcbiAgICAgICAgICAgIC8vIGR1ZSB0byBkeW5hbWljIHJvdXRpbmcsIGFuZCB0byBoYXNoIGhpc3Rvcnkgd2l0aCBtYW51YWwgbmF2aWdhdGlvblxuICAgICAgICAgICAgLy8gKG1hbnVhbGx5IGNoYW5naW5nIHRoZSB1cmwgb3IgY2FsbGluZyBoaXN0b3J5Lmhhc2ggPSAnIy9zb21ld2hlcmUnKSxcbiAgICAgICAgICAgIC8vIHRoZXJlIGNvdWxkIGJlIGEgcmVkaXJlY3QgcmVjb3JkIGluIGhpc3RvcnlcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJlZGlyZWN0ID0gaGFuZGxlUmVkaXJlY3RSZWNvcmQodG9Mb2NhdGlvbik7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICBwdXNoV2l0aFJlZGlyZWN0KGFzc2lnbihzaG91bGRSZWRpcmVjdCwgeyByZXBsYWNlOiB0cnVlIH0pLCB0b0xvY2F0aW9uKS5jYXRjaChub29wKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSB0b0xvY2F0aW9uO1xuICAgICAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRSb3V0ZS52YWx1ZTtcbiAgICAgICAgICAgIC8vIFRPRE86IHNob3VsZCBiZSBtb3ZlZCB0byB3ZWIgaGlzdG9yeT9cbiAgICAgICAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICBzYXZlU2Nyb2xsUG9zaXRpb24oZ2V0U2Nyb2xsS2V5KGZyb20uZnVsbFBhdGgsIGluZm8uZGVsdGEpLCBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuYXZpZ2F0ZSh0b0xvY2F0aW9uLCBmcm9tKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLyB8IDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2UgY291bGQgY2FsbCBpZiAoaW5mby5kZWx0YSkgcm91dGVySGlzdG9yeS5nbygtaW5mby5kZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFsc2UpIGJ1dCB0aGlzIGlzIGJ1ZyBwcm9uZSBhcyB3ZSBoYXZlIG5vIHdheSB0byB3YWl0IHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0aW9uIHRvIGJlIGZpbmlzaGVkIGJlZm9yZSBjYWxsaW5nIHB1c2hXaXRoUmVkaXJlY3QuIFVzaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgc2V0VGltZW91dCBvZiAxNm1zIHNlZW1zIHRvIHdvcmsgYnV0IHRoZXJlIGlzIG5vIGd1YXJhbnRlZSBmb3JcbiAgICAgICAgICAgICAgICAgICAgLy8gaXQgdG8gd29yayBvbiBldmVyeSBicm93c2VyLiBTbyBpbnN0ZWFkIHdlIGRvIG5vdCByZXN0b3JlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBoaXN0b3J5IGVudHJ5IGFuZCB0cmlnZ2VyIGEgbmV3IG5hdmlnYXRpb24gYXMgcmVxdWVzdGVkIGJ5IHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBuYXZpZ2F0aW9uIGd1YXJkLlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZXJyb3IgaXMgYWxyZWFkeSBoYW5kbGVkIGJ5IHJvdXRlci5wdXNoIHdlIGp1c3Qgd2FudCB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnaW5nIHRoZSBlcnJvclxuICAgICAgICAgICAgICAgICAgICBwdXNoV2l0aFJlZGlyZWN0KGVycm9yLnRvLCB0b0xvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIGFuIHVuY2F1Z2h0IHJlamVjdGlvbiwgbGV0IHB1c2ggY2FsbCB0cmlnZ2VyRXJyb3JcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZmFpbHVyZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWwgY2hhbmdlIGluIGhhc2ggaGlzdG9yeSAjOTE2IGVuZGluZyB1cCBpbiB0aGUgVVJMIG5vdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdpbmcsIGJ1dCBpdCB3YXMgY2hhbmdlZCBieSB0aGUgbWFudWFsIHVybCBjaGFuZ2UsIHNvIHdlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIG1hbnVhbGx5IGNoYW5nZSBpdCBvdXJzZWx2ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hdmlnYXRpb25GYWlsdXJlKGZhaWx1cmUsIDQgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0FCT1JURUQgKi8gfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE2IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9EVVBMSUNBVEVEICovKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpbmZvLmRlbHRhICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby50eXBlID09PSBOYXZpZ2F0aW9uVHlwZS5wb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC0xLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2gobm9vcCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRoZSB0aGVuIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IHJlc3RvcmUgaGlzdG9yeSBvbiB1bmtub3duIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgIGlmIChpbmZvLmRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdW5yZWNvZ25pemVkIGVycm9yLCB0cmFuc2ZlciB0byB0aGUgZ2xvYmFsIGhhbmRsZXJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJpZ2dlckVycm9yKGVycm9yLCB0b0xvY2F0aW9uLCBmcm9tKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKGZhaWx1cmUpID0+IHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlID1cbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxpemVOYXZpZ2F0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgbmF2aWdhdGlvbiwgYWxsIG1hdGNoZWQgY29tcG9uZW50cyBhcmUgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvTG9jYXRpb24sIGZyb20sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyByZXZlcnQgdGhlIG5hdmlnYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5kZWx0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBuZXcgbmF2aWdhdGlvbiBoYXMgYmVlbiB0cmlnZ2VyZWQsIHNvIHdlIGRvIG5vdCB3YW50IHRvIHJldmVydCwgdGhhdCB3aWxsIGNoYW5nZSB0aGUgY3VycmVudCBoaXN0b3J5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRyeSB3aGlsZSBhIGRpZmZlcmVudCByb3V0ZSBpcyBkaXNwbGF5ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc05hdmlnYXRpb25GYWlsdXJlKGZhaWx1cmUsIDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmZvLnR5cGUgPT09IE5hdmlnYXRpb25UeXBlLnBvcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCA0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovIHwgMTYgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0RVUExJQ0FURUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYW51YWwgY2hhbmdlIGluIGhhc2ggaGlzdG9yeSAjOTE2XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIGxpa2UgYSBwdXNoIGJ1dCBsYWNrcyB0aGUgaW5mb3JtYXRpb24gb2YgdGhlIGRpcmVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5nbygtMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyaWdnZXJBZnRlckVhY2godG9Mb2NhdGlvbiwgZnJvbSwgZmFpbHVyZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHdhcm5pbmdzIGluIHRoZSBjb25zb2xlIGFib3V0IHVuY2F1Z2h0IHJlamVjdGlvbnMsIHRoZXkgYXJlIGxvZ2dlZCBieSB0cmlnZ2VyRXJyb3JzXG4gICAgICAgICAgICAgICAgLmNhdGNoKG5vb3ApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6YXRpb24gYW5kIEVycm9yc1xuICAgIGxldCByZWFkeUhhbmRsZXJzID0gdXNlQ2FsbGJhY2tzKCk7XG4gICAgbGV0IGVycm9yTGlzdGVuZXJzID0gdXNlQ2FsbGJhY2tzKCk7XG4gICAgbGV0IHJlYWR5O1xuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgZXJyb3JMaXN0ZW5lcnMgYWRkZWQgdmlhIG9uRXJyb3IgYW5kIHRocm93cyB0aGUgZXJyb3IgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHBhcmFtIGVycm9yIC0gZXJyb3IgdG8gdGhyb3dcbiAgICAgKiBAcGFyYW0gdG8gLSBsb2NhdGlvbiB3ZSB3ZXJlIG5hdmlnYXRpbmcgdG8gd2hlbiB0aGUgZXJyb3IgaGFwcGVuZWRcbiAgICAgKiBAcGFyYW0gZnJvbSAtIGxvY2F0aW9uIHdlIHdlcmUgbmF2aWdhdGluZyBmcm9tIHdoZW4gdGhlIGVycm9yIGhhcHBlbmVkXG4gICAgICogQHJldHVybnMgdGhlIGVycm9yIGFzIGEgcmVqZWN0ZWQgcHJvbWlzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaWdnZXJFcnJvcihlcnJvciwgdG8sIGZyb20pIHtcbiAgICAgICAgbWFya0FzUmVhZHkoZXJyb3IpO1xuICAgICAgICBjb25zdCBsaXN0ID0gZXJyb3JMaXN0ZW5lcnMubGlzdCgpO1xuICAgICAgICBpZiAobGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpc3QuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZXJyb3IsIHRvLCBmcm9tKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgd2FybigndW5jYXVnaHQgZXJyb3IgZHVyaW5nIHJvdXRlIG5hdmlnYXRpb246Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWplY3QgdGhlIGVycm9yIG5vIG1hdHRlciB0aGVyZSB3ZXJlIGVycm9yIGxpc3RlbmVycyBvciBub3RcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZWFkeSgpIHtcbiAgICAgICAgaWYgKHJlYWR5ICYmIGN1cnJlbnRSb3V0ZS52YWx1ZSAhPT0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHJlYWR5SGFuZGxlcnMuYWRkKFtyZXNvbHZlLCByZWplY3RdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtBc1JlYWR5KGVycikge1xuICAgICAgICBpZiAoIXJlYWR5KSB7XG4gICAgICAgICAgICAvLyBzdGlsbCBub3QgcmVhZHkgaWYgYW4gZXJyb3IgaGFwcGVuZWRcbiAgICAgICAgICAgIHJlYWR5ID0gIWVycjtcbiAgICAgICAgICAgIHNldHVwTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICByZWFkeUhhbmRsZXJzXG4gICAgICAgICAgICAgICAgLmxpc3QoKVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKChbcmVzb2x2ZSwgcmVqZWN0XSkgPT4gKGVyciA/IHJlamVjdChlcnIpIDogcmVzb2x2ZSgpKSk7XG4gICAgICAgICAgICByZWFkeUhhbmRsZXJzLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gICAgLy8gU2Nyb2xsIGJlaGF2aW9yXG4gICAgZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKHRvLCBmcm9tLCBpc1B1c2gsIGlzRmlyc3ROYXZpZ2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsQmVoYXZpb3IgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghaXNCcm93c2VyIHx8ICFzY3JvbGxCZWhhdmlvcilcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSAoIWlzUHVzaCAmJiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGdldFNjcm9sbEtleSh0by5mdWxsUGF0aCwgMCkpKSB8fFxuICAgICAgICAgICAgKChpc0ZpcnN0TmF2aWdhdGlvbiB8fCAhaXNQdXNoKSAmJlxuICAgICAgICAgICAgICAgIGhpc3Rvcnkuc3RhdGUgJiZcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlLnNjcm9sbCkgfHxcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIHJldHVybiBuZXh0VGljaygpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBzY3JvbGxCZWhhdmlvcih0bywgZnJvbSwgc2Nyb2xsUG9zaXRpb24pKVxuICAgICAgICAgICAgLnRoZW4ocG9zaXRpb24gPT4gcG9zaXRpb24gJiYgc2Nyb2xsVG9Qb3NpdGlvbihwb3NpdGlvbikpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHRyaWdnZXJFcnJvcihlcnIsIHRvLCBmcm9tKSk7XG4gICAgfVxuICAgIGNvbnN0IGdvID0gKGRlbHRhKSA9PiByb3V0ZXJIaXN0b3J5LmdvKGRlbHRhKTtcbiAgICBsZXQgc3RhcnRlZDtcbiAgICBjb25zdCBpbnN0YWxsZWRBcHBzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHJvdXRlciA9IHtcbiAgICAgICAgY3VycmVudFJvdXRlLFxuICAgICAgICBsaXN0ZW5pbmc6IHRydWUsXG4gICAgICAgIGFkZFJvdXRlLFxuICAgICAgICByZW1vdmVSb3V0ZSxcbiAgICAgICAgaGFzUm91dGUsXG4gICAgICAgIGdldFJvdXRlcyxcbiAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgcHVzaCxcbiAgICAgICAgcmVwbGFjZSxcbiAgICAgICAgZ28sXG4gICAgICAgIGJhY2s6ICgpID0+IGdvKC0xKSxcbiAgICAgICAgZm9yd2FyZDogKCkgPT4gZ28oMSksXG4gICAgICAgIGJlZm9yZUVhY2g6IGJlZm9yZUd1YXJkcy5hZGQsXG4gICAgICAgIGJlZm9yZVJlc29sdmU6IGJlZm9yZVJlc29sdmVHdWFyZHMuYWRkLFxuICAgICAgICBhZnRlckVhY2g6IGFmdGVyR3VhcmRzLmFkZCxcbiAgICAgICAgb25FcnJvcjogZXJyb3JMaXN0ZW5lcnMuYWRkLFxuICAgICAgICBpc1JlYWR5LFxuICAgICAgICBpbnN0YWxsKGFwcCkge1xuICAgICAgICAgICAgY29uc3Qgcm91dGVyID0gdGhpcztcbiAgICAgICAgICAgIGFwcC5jb21wb25lbnQoJ1JvdXRlckxpbmsnLCBSb3V0ZXJMaW5rKTtcbiAgICAgICAgICAgIGFwcC5jb21wb25lbnQoJ1JvdXRlclZpZXcnLCBSb3V0ZXJWaWV3KTtcbiAgICAgICAgICAgIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kcm91dGVyID0gcm91dGVyO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywgJyRyb3V0ZScsIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogKCkgPT4gdW5yZWYoY3VycmVudFJvdXRlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gdGhpcyBpbml0aWFsIG5hdmlnYXRpb24gaXMgb25seSBuZWNlc3Nhcnkgb24gY2xpZW50LCBvbiBzZXJ2ZXIgaXQgZG9lc24ndFxuICAgICAgICAgICAgLy8gbWFrZSBzZW5zZSBiZWNhdXNlIGl0IHdpbGwgY3JlYXRlIGFuIGV4dHJhIHVubmVjZXNzYXJ5IG5hdmlnYXRpb24gYW5kIGNvdWxkXG4gICAgICAgICAgICAvLyBsZWFkIHRvIHByb2JsZW1zXG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyICYmXG4gICAgICAgICAgICAgICAgLy8gdXNlZCBmb3IgdGhlIGluaXRpYWwgbmF2aWdhdGlvbiBjbGllbnQgc2lkZSB0byBhdm9pZCBwdXNoaW5nXG4gICAgICAgICAgICAgICAgLy8gbXVsdGlwbGUgdGltZXMgd2hlbiB0aGUgcm91dGVyIGlzIHVzZWQgaW4gbXVsdGlwbGUgYXBwc1xuICAgICAgICAgICAgICAgICFzdGFydGVkICYmXG4gICAgICAgICAgICAgICAgY3VycmVudFJvdXRlLnZhbHVlID09PSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VlIGFib3ZlXG4gICAgICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHVzaChyb3V0ZXJIaXN0b3J5LmxvY2F0aW9uKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgd2FybignVW5leHBlY3RlZCBlcnJvciB3aGVuIHN0YXJ0aW5nIHRoZSByb3V0ZXI6JywgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlYWN0aXZlUm91dGUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVhY3RpdmVSb3V0ZSwga2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gY3VycmVudFJvdXRlLnZhbHVlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcHAucHJvdmlkZShyb3V0ZXJLZXksIHJvdXRlcik7XG4gICAgICAgICAgICBhcHAucHJvdmlkZShyb3V0ZUxvY2F0aW9uS2V5LCBzaGFsbG93UmVhY3RpdmUocmVhY3RpdmVSb3V0ZSkpO1xuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVyVmlld0xvY2F0aW9uS2V5LCBjdXJyZW50Um91dGUpO1xuICAgICAgICAgICAgY29uc3QgdW5tb3VudEFwcCA9IGFwcC51bm1vdW50O1xuICAgICAgICAgICAgaW5zdGFsbGVkQXBwcy5hZGQoYXBwKTtcbiAgICAgICAgICAgIGFwcC51bm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGluc3RhbGxlZEFwcHMuZGVsZXRlKGFwcCk7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvdXRlciBpcyBub3QgYXR0YWNoZWQgdG8gYW4gYXBwIGFueW1vcmVcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFsbGVkQXBwcy5zaXplIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnZhbGlkYXRlIHRoZSBjdXJyZW50IG5hdmlnYXRpb25cbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyICYmIHJlbW92ZUhpc3RvcnlMaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVIaXN0b3J5TGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Um91dGUudmFsdWUgPSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEO1xuICAgICAgICAgICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVubW91bnRBcHAoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBUT0RPOiB0aGlzIHByb2JhYmx5IG5lZWRzIHRvIGJlIHVwZGF0ZWQgc28gaXQgY2FuIGJlIHVzZWQgYnkgdnVlLXRlcm11aVxuICAgICAgICAgICAgaWYgKCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiBpc0Jyb3dzZXIpIHtcbiAgICAgICAgICAgICAgICBhZGREZXZ0b29scyhhcHAsIHJvdXRlciwgbWF0Y2hlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICAvLyBUT0RPOiB0eXBlIHRoaXMgYXMgTmF2aWdhdGlvbkd1YXJkUmV0dXJuIG9yIHNpbWlsYXIgaW5zdGVhZCBvZiBhbnlcbiAgICBmdW5jdGlvbiBydW5HdWFyZFF1ZXVlKGd1YXJkcykge1xuICAgICAgICByZXR1cm4gZ3VhcmRzLnJlZHVjZSgocHJvbWlzZSwgZ3VhcmQpID0+IHByb21pc2UudGhlbigoKSA9PiBydW5XaXRoQ29udGV4dChndWFyZCkpLCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXI7XG59XG5mdW5jdGlvbiBleHRyYWN0Q2hhbmdpbmdSZWNvcmRzKHRvLCBmcm9tKSB7XG4gICAgY29uc3QgbGVhdmluZ1JlY29yZHMgPSBbXTtcbiAgICBjb25zdCB1cGRhdGluZ1JlY29yZHMgPSBbXTtcbiAgICBjb25zdCBlbnRlcmluZ1JlY29yZHMgPSBbXTtcbiAgICBjb25zdCBsZW4gPSBNYXRoLm1heChmcm9tLm1hdGNoZWQubGVuZ3RoLCB0by5tYXRjaGVkLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCByZWNvcmRGcm9tID0gZnJvbS5tYXRjaGVkW2ldO1xuICAgICAgICBpZiAocmVjb3JkRnJvbSkge1xuICAgICAgICAgICAgaWYgKHRvLm1hdGNoZWQuZmluZChyZWNvcmQgPT4gaXNTYW1lUm91dGVSZWNvcmQocmVjb3JkLCByZWNvcmRGcm9tKSkpXG4gICAgICAgICAgICAgICAgdXBkYXRpbmdSZWNvcmRzLnB1c2gocmVjb3JkRnJvbSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbGVhdmluZ1JlY29yZHMucHVzaChyZWNvcmRGcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWNvcmRUbyA9IHRvLm1hdGNoZWRbaV07XG4gICAgICAgIGlmIChyZWNvcmRUbykge1xuICAgICAgICAgICAgLy8gdGhlIHR5cGUgZG9lc24ndCBtYXR0ZXIgYmVjYXVzZSB3ZSBhcmUgY29tcGFyaW5nIHBlciByZWZlcmVuY2VcbiAgICAgICAgICAgIGlmICghZnJvbS5tYXRjaGVkLmZpbmQocmVjb3JkID0+IGlzU2FtZVJvdXRlUmVjb3JkKHJlY29yZCwgcmVjb3JkVG8pKSkge1xuICAgICAgICAgICAgICAgIGVudGVyaW5nUmVjb3Jkcy5wdXNoKHJlY29yZFRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gW2xlYXZpbmdSZWNvcmRzLCB1cGRhdGluZ1JlY29yZHMsIGVudGVyaW5nUmVjb3Jkc107XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcm91dGVyIGluc3RhbmNlLiBFcXVpdmFsZW50IHRvIHVzaW5nIGAkcm91dGVyYCBpbnNpZGVcbiAqIHRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gdXNlUm91dGVyKCkge1xuICAgIHJldHVybiBpbmplY3Qocm91dGVyS2V5KTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCByb3V0ZSBsb2NhdGlvbi4gRXF1aXZhbGVudCB0byB1c2luZyBgJHJvdXRlYCBpbnNpZGVcbiAqIHRlbXBsYXRlcy5cbiAqL1xuZnVuY3Rpb24gdXNlUm91dGUoKSB7XG4gICAgcmV0dXJuIGluamVjdChyb3V0ZUxvY2F0aW9uS2V5KTtcbn1cblxuZXhwb3J0IHsgTmF2aWdhdGlvbkZhaWx1cmVUeXBlLCBSb3V0ZXJMaW5rLCBSb3V0ZXJWaWV3LCBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEIGFzIFNUQVJUX0xPQ0FUSU9OLCBjcmVhdGVNZW1vcnlIaXN0b3J5LCBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVJvdXRlck1hdGNoZXIsIGNyZWF0ZVdlYkhhc2hIaXN0b3J5LCBjcmVhdGVXZWJIaXN0b3J5LCBpc05hdmlnYXRpb25GYWlsdXJlLCBsb2FkUm91dGVMb2NhdGlvbiwgbWF0Y2hlZFJvdXRlS2V5LCBvbkJlZm9yZVJvdXRlTGVhdmUsIG9uQmVmb3JlUm91dGVVcGRhdGUsIHBhcnNlUXVlcnksIHJvdXRlTG9jYXRpb25LZXksIHJvdXRlcktleSwgcm91dGVyVmlld0xvY2F0aW9uS2V5LCBzdHJpbmdpZnlRdWVyeSwgdXNlTGluaywgdXNlUm91dGUsIHVzZVJvdXRlciwgdmlld0RlcHRoS2V5IH07XG4iLCJjbGFzcyBVc2VyIHtcclxuICBjb25zdHJ1Y3RvciAoZG9tYWluT3JpZ2luKSB7XHJcbiAgICB0aGlzLmRvbWFpbk9yaWdpbiA9IGRvbWFpbk9yaWdpblxyXG4gICAgdGhpcy5pZCA9ICcnXHJcbiAgICB0aGlzLm5hbWUgPSAnJ1xyXG4gICAgdGhpcy51c2VybmFtZSA9ICcnXHJcbiAgICB0aGlzLmxvZ2dlZEluID0gZmFsc2VcclxuICAgIHRoaXMuc2Vzc2lvbkp3dCA9ICcnXHJcbiAgICB0aGlzLmxhdGl0dWRlID0gJydcclxuICAgIHRoaXMubG9uZ2l0dWRlID0gJydcclxuICB9XHJcblxyXG4gIGFzeW5jIGFwaVJlZ2lzdGVyIChwYXlsb2FkKSB7XHJcbiAgICBjb25zb2xlLmxvZygnSW4gYXBpUmVnaXN0ZXInKVxyXG4gICAgY29uc3QgbmV3X3VzZXJfY3JlZGVudGlhbHMgPSB7XHJcbiAgICAgIG5hbWU6IHBheWxvYWQubmFtZSxcclxuICAgICAgdXNlcm5hbWU6IHBheWxvYWQudXNlcm5hbWUsXHJcbiAgICAgIHBhc3N3b3JkOiBwYXlsb2FkLnBhc3N3b3JkXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2cobmV3X3VzZXJfY3JlZGVudGlhbHMpXHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAvLyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy51c2VyLnNlc3Npb25fand0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobmV3X3VzZXJfY3JlZGVudGlhbHMpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdXJsID0gdGhpcy5kb21haW5PcmlnaW4gKyAnL2FwaS91c2Vycy8nXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3Rfb3B0aW9ucylcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKSAvLyBUaHJvdyBhbiBlcnJvciBvYmplY3QgY29udGFpbmluZyBib3RoIHRoZSBzdGF0dXMgY29kZSBhbmQgdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICB0aHJvdyB7XHJcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yRGF0YS5tZXNzYWdlIHx8ICdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2snXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IGFwaU9iamVjdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICByZXR1cm4gYXBpT2JqZWN0Lm5ld191c2VyXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYWRkIHVzZXI6ICcgKyBlcnJvci5tZXNzYWdlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBhcGlMb2dpbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XHJcbiAgICBjb25zb2xlLmxvZygnSW4gYXBpX2xvZ2luJylcclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcclxuICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAvLyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy51c2VyLnNlc3Npb25fand0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLmRvbWFpbk9yaWdpbiArICcvYXBpL2F1dGgvbG9naW4nXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHJlcXVlc3Rfb3B0aW9ucylcclxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIC8vIFRocm93IGFuIGVycm9yIG9iamVjdCBjb250YWluaW5nIGJvdGggdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIHRocm93IHtcclxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaydcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgYXBpT2JqZWN0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIC8vIHVwZGF0ZSB1c2VyIGRldGFpbHNcclxuICAgICAgY29uc29sZS5sb2coYXBpT2JqZWN0KVxyXG4gICAgICB0aGlzLmlkID0gYXBpT2JqZWN0LnBhY2thZ2UuaWRcclxuICAgICAgdGhpcy5uYW1lID0gYXBpT2JqZWN0LnBhY2thZ2UubmFtZVxyXG4gICAgICB0aGlzLnVzZXJuYW1lID0gYXBpT2JqZWN0LnBhY2thZ2UudXNlcm5hbWVcclxuICAgICAgdGhpcy5sb2dnZWRJbiA9IHRydWVcclxuICAgICAgdGhpcy5zZXNzaW9uSnd0ID0gYXBpT2JqZWN0LnBhY2thZ2Uuc2Vzc2lvbl9qd3RcclxuXHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlUGFja2FnZSA9IHtcclxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICBtZXNzYWdlOiBhcGlPYmplY3QubWVzc2FnZVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzcG9uc2VQYWNrYWdlXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9naW4nKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBhcGlFZGl0VXNlciAoZWRpdGVkTmFtZSkge1xyXG4gICAgY29uc29sZS5sb2coJ0luIGFwaV9lZGl0X3VzZXInKVxyXG5cclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIGVkaXRlZF9uYW1lOiBlZGl0ZWROYW1lXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5zZXNzaW9uSnd0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLmRvbWFpbk9yaWdpbiArICcvYXBpL3VzZXJzLydcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgcmVxdWVzdF9vcHRpb25zKVxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpIC8vIFRocm93IGFuIGVycm9yIG9iamVjdCBjb250YWluaW5nIGJvdGggdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIHRocm93IHtcclxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxyXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaydcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgYXBpT2JqZWN0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIHRoaXMubmFtZSA9IGFwaU9iamVjdC51c2VyLm5hbWVcclxuICAgICAgcmV0dXJuIGFwaU9iamVjdC51c2VyXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZWRpdCB1c2VyOiAnICsgZXJyb3IubWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgYXBpU3VibWl0Rm9ybSAoY2F0ZWdvcnksIHBheWxvYWQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdJbiBhcGlTdWJtaXRGb3JtJylcclxuXHJcbiAgICBjb25zdCByZXF1ZXN0X29wdGlvbnMgPSB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5zZXNzaW9uSnd0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLmRvbWFpbk9yaWdpbiArIGAvYXBpL2Zvcm1zLyR7Y2F0ZWdvcnl9YFxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCByZXF1ZXN0X29wdGlvbnMpXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkgLy8gVGhyb3cgYW4gZXJyb3Igb2JqZWN0IGNvbnRhaW5pbmcgYm90aCB0aGUgc3RhdHVzIGNvZGUgYW5kIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cge1xyXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvckRhdGEubWVzc2FnZSB8fCAnTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBhcGlPYmplY3QgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgcmV0dXJuIGFwaU9iamVjdC5mb3JtXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGZvcm06ICcgKyBlcnJvci5tZXNzYWdlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VyXHJcbiIsImNsYXNzIE1hcHMge1xyXG4gIGNvbnN0cnVjdG9yIChkb21haW5PcmlnaW4sIHVzZXIpIHtcclxuICAgIHRoaXMuZG9tYWluT3JpZ2luID0gZG9tYWluT3JpZ2luXHJcbiAgICB0aGlzLnVzZXIgPSB1c2VyXHJcbiAgfVxyXG5cclxuICBhc3luYyBhcGlHZXRNYXBzU2VhcmNoUmVxdWVzdCAoZGF0YSkge1xyXG4gICAgY29uc29sZS5sb2coJ0luIGFwaUdldFNlYXJjaFJlcXVlc3QnKVxyXG5cclxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBjYXRlZ29yaWVzIGFuZCBwdWxsIG91dCB0aG9zZSB0aGF0IGhhdmUgYmVlbiBzZWxlY3RlZFxyXG4gICAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yaWVzID0gW11cclxuXHJcbiAgICBjb25zb2xlLmxvZyhkYXRhWydjYXRlZ29yaWVzJ10pXHJcbiAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IGluIGRhdGFbJ2NhdGVnb3JpZXMnXSkge1xyXG4gICAgICBjb25zb2xlLmxvZygncHJpbnRpbmcnKVxyXG4gICAgICBjb25zb2xlLmxvZyhjYXRlZ29yeSlcclxuICAgICAgaWYgKGRhdGFbJ2NhdGVnb3JpZXMnXVtjYXRlZ29yeV0pIHtcclxuICAgICAgICBzZWxlY3RlZENhdGVnb3JpZXMucHVzaChjYXRlZ29yeS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhzZWxlY3RlZENhdGVnb3JpZXMpXHJcblxyXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgICAgY2F0ZWdvcmllczogc2VsZWN0ZWRDYXRlZ29yaWVzLFxyXG4gICAgICBkYXRlRnJvbTogZGF0YVsnZGF0ZUZyb20nXSxcclxuICAgICAgZGF0ZVRvOiBkYXRhWydkYXRlVG8nXSxcclxuICAgICAgc2VhcmNoUmFkaXVzS206IGRhdGFbJ3NlYXJjaFJhZGl1c0ttJ10sXHJcbiAgICAgIHNlYXJjaExhdGl0dWRlOiBkYXRhWydsYXRpdHVkZSddLFxyXG4gICAgICBzZWFyY2hMb25naXR1ZGU6IGRhdGFbJ2xvbmdpdHVkZSddXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudXNlci5zZXNzaW9uSnd0fWBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cmwgPSB0aGlzLmRvbWFpbk9yaWdpbiArICcvYXBpL21hcHMvJ1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCByZXF1ZXN0X29wdGlvbnMpXHJcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCkgLy8gVGhyb3cgYW4gZXJyb3Igb2JqZWN0IGNvbnRhaW5pbmcgYm90aCB0aGUgc3RhdHVzIGNvZGUgYW5kIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cge1xyXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXHJcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvckRhdGEubWVzc2FnZSB8fCAnTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBhcGlPYmplY3QgPSBhd2FpdCByZXNwb25zZS5qc29uKClcclxuICAgICAgcmV0dXJuIGFwaU9iamVjdC5yZXN1bHRzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAvLyBJZiB0aGUgZXJyb3Igb2JqZWN0IGNvbnRhaW5zIGEgc3RhdHVzIGNvZGUsIHJldHVybiBpdCBhbG9uZyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgIGlmIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPdGhlcndpc2UsIGp1c3QgcmV0dXJuIHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IHNlYXJjaCByZXN1bHRzOiAnICsgZXJyb3IubWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTWFwc1xyXG4iLCJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM2MhRE9DVFlQRSUyMHN2ZyUyMFBVQkxJQyUyMCctLy9XM0MvL0RURCUyMFNWRyUyMDEuMS8vRU4nJTIwJ2h0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCclM2UlM2MhLS0lMjBVcGxvYWRlZCUyMHRvOiUyMFNWRyUyMFJlcG8sJTIwd3d3LnN2Z3JlcG8uY29tLCUyMFRyYW5zZm9ybWVkJTIwYnk6JTIwU1ZHJTIwUmVwbyUyME1peGVyJTIwVG9vbHMlMjAtLSUzZSUzY3N2ZyUyMHdpZHRoPScyNHB4JyUyMGhlaWdodD0nMjRweCclMjB2aWV3Qm94PSctNS4yJTIwLTUuMiUyMDYyLjQwJTIwNjIuNDAnJTIweG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUyMGZpbGw9JyUyM2ZmZmZmZiclMjBzdHJva2U9JyUyMzAwMDAwMCclM2UlM2NnJTIwaWQ9J1NWR1JlcG9fYmdDYXJyaWVyJyUyMHN0cm9rZS13aWR0aD0nMCcvJTNlJTNjZyUyMGlkPSdTVkdSZXBvX3RyYWNlckNhcnJpZXInJTIwc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyUyMHN0cm9rZS1saW5lam9pbj0ncm91bmQnLyUzZSUzY2clMjBpZD0nU1ZHUmVwb19pY29uQ2FycmllciclM2UlM2NyZWN0JTIwZmlsbD0nbm9uZSclMjBoZWlnaHQ9JzQuOCclMjByeD0nMS42JyUyMHdpZHRoPScyNy4yJyUyMHg9JzEyLjQnJTIweT0nMjYnLyUzZSUzY3JlY3QlMjBmaWxsPSdub25lJyUyMGhlaWdodD0nNC44JyUyMHJ4PScxLjYnJTIwd2lkdGg9JzI0JyUyMHg9JzEyLjQnJTIweT0nMzUuNicvJTNlJTNjZyUzZSUzY3BhdGglMjBkPSdtMzYuNCUyMDE0LjhoOC40OGExLjA5JTIwMS4wOSUyMDAlMjAwJTIwMCUyMDEuMTItMS4xMiUyMDElMjAxJTIwMCUyMDAlMjAwJTIwLS4zMi0uOGwtMTAuNTYtMTAuNTZhMSUyMDElMjAwJTIwMCUyMDAlMjAtLjgtLjMyJTIwMS4wOSUyMDEuMDklMjAwJTIwMCUyMDAlMjAtMS4xMiUyMDEuMTJ2OC40OGEzLjIxJTIwMy4yMSUyMDAlMjAwJTIwMCUyMDMuMiUyMDMuMnonLyUzZSUzY3BhdGglMjBkPSdtNDQuNCUyMDE5LjZoLTExLjJhNC44MSUyMDQuODElMjAwJTIwMCUyMDElMjAtNC44LTQuOHYtMTEuMmExLjYlMjAxLjYlMjAwJTIwMCUyMDAlMjAtMS42LTEuNmgtMTZhNC44MSUyMDQuODElMjAwJTIwMCUyMDAlMjAtNC44JTIwNC44djM4LjRhNC44MSUyMDQuODElMjAwJTIwMCUyMDAlMjA0LjglMjA0LjhoMzAuNGE0LjgxJTIwNC44MSUyMDAlMjAwJTIwMCUyMDQuOC00Ljh2LTI0YTEuNiUyMDEuNiUyMDAlMjAwJTIwMCUyMC0xLjYtMS42em0tMzItMS42YTEuNjIlMjAxLjYyJTIwMCUyMDAlMjAxJTIwMS42LTEuNTVoNi41NWExLjU2JTIwMS41NiUyMDAlMjAwJTIwMSUyMDEuNTclMjAxLjU1djEuNTlhMS42MyUyMDEuNjMlMjAwJTIwMCUyMDElMjAtMS41OSUyMDEuNThoLTYuNTNhMS41NSUyMDEuNTUlMjAwJTIwMCUyMDElMjAtMS41OC0xLjU4em0yNCUyMDIwLjc3YTEuNiUyMDEuNiUyMDAlMjAwJTIwMSUyMC0xLjYlMjAxLjZoLTIwLjhhMS42JTIwMS42JTIwMCUyMDAlMjAxJTIwLTEuNi0xLjZ2LTEuNTdhMS42JTIwMS42JTIwMCUyMDAlMjAxJTIwMS42LTEuNmgyMC44YTEuNiUyMDEuNiUyMDAlMjAwJTIwMSUyMDEuNiUyMDEuNnptMy4yLTkuNmExLjYlMjAxLjYlMjAwJTIwMCUyMDElMjAtMS42JTIwMS42M2gtMjRhMS42JTIwMS42JTIwMCUyMDAlMjAxJTIwLTEuNi0xLjZ2LTEuNmExLjYlMjAxLjYlMjAwJTIwMCUyMDElMjAxLjYtMS42aDI0YTEuNiUyMDEuNiUyMDAlMjAwJTIwMSUyMDEuNiUyMDEuNnonLyUzZSUzYy9nJTNlJTNjL2clM2UlM2Mvc3ZnJTNlXCIiLCJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM2M/eG1sJTIwdmVyc2lvbj0nMS4wJyUyMGVuY29kaW5nPSd1dGYtOCc/JTNlJTNjIS0tJTIwTGljZW5zZTolMjBNSVQuJTIwTWFkZSUyMGJ5JTIwRXNyaTolMjBodHRwczovL2dpdGh1Yi5jb20vRXNyaS9jYWxjaXRlLXVpLWljb25zJTIwLS0lM2UlM2NzdmclMjB3aWR0aD0nMjRweCclMjBoZWlnaHQ9JzI0cHgnJTIwdmlld0JveD0nMCUyMDAlMjAyNCUyMDI0JyUyMHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM2UlM2NwYXRoJTIwZD0nTTEyJTIwMjIuOTQzQzMuNTMzJTIwMTguMzIlMjAyLjQ5OCUyMDEyLjAyNiUyMDMuMTYlMjA0LjcyM2wuMDgtLjg2OS44NzEtLjA0MmMzLjMxLS4xNjYlMjA1LjY2OC0uOTM0JTIwNy4yMS0yLjM1TDEyJTIwLjgzOGwuNjguNjI0YzEuNTQlMjAxLjQxNiUyMDMuOSUyMDIuMTg0JTIwNy4yMSUyMDIuMzVsLjg3LjA0Mi4wOC44NjljLjY2NiUyMDcuMzQtLjQwNyUyMDEzLjYxLTguODQlMjAxOC4yMnpNNC4xNiUyMDQuODExYy0uNTQzJTIwNS45ODgtLjA0JTIwMTIuNjk0JTIwNy44MzglMjAxNi45OTMlMjA3Ljg4LTQuMyUyMDguMzktMTEuMDAxJTIwNy44NDUtMTYuOTktMy41NTMtLjE3OC02LjEyLTEuMDM2LTcuODQtMi42MTYtMS43MiUyMDEuNTgtNC4yOSUyMDIuNDM1LTcuODQyJTIwMi42MTN6Jy8lM2UlM2NwYXRoJTIwZmlsbD0nbm9uZSclMjBkPSdNMCUyMDBoMjR2MjRIMHonLyUzZSUzYy9zdmclM2VcIiIsImV4cG9ydCBkZWZhdWx0IFwiZGF0YTppbWFnZS9zdmcreG1sLCUzYz94bWwlMjB2ZXJzaW9uPScxLjAnJTIwZW5jb2Rpbmc9J3V0Zi04Jz8lM2UlM2MhLS0lMjBMaWNlbnNlOiUyMFBELiUyME1hZGUlMjBieSUyME1hcnklMjBBa3ZlbzolMjBodHRwczovL21hcnlha3Zlby5jb20vJTIwLS0lM2UlM2NzdmclMjBmaWxsPSclMjMwMDAwMDAnJTIwd2lkdGg9JzgwMHB4JyUyMGhlaWdodD0nODAwcHgnJTIwdmlld0JveD0nMCUyMDAlMjAyNCUyMDI0JyUyMGlkPSdwaG9uZSclMjBkYXRhLW5hbWU9J0xpbmUlMjBDb2xvciclMjB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTIwY2xhc3M9J2ljb24lMjBsaW5lLWNvbG9yJyUzZSUzY3BhdGglMjBpZD0ncHJpbWFyeSclMjBkPSdNMjEsMTV2My45M2EyLDIsMCwwLDEtMi4yOSwyQTE4LDE4LDAsMCwxLDMuMTQsNS4yOSwyLDIsMCwwLDEsNS4xMywzSDlhMSwxLDAsMCwxLDEsLjg5LDEwLjc0LDEwLjc0LDAsMCwwLDEsMy43OCwxLDEsMCwwLDEtLjQyLDEuMjZsLS44Ni40OWExLDEsMCwwLDAtLjMzLDEuNDYsMTQuMDgsMTQuMDgsMCwwLDAsMy42OSwzLjY5LDEsMSwwLDAsMCwxLjQ2LS4zM2wuNDktLjg2QTEsMSwwLDAsMSwxNi4zMywxM2ExMC43NCwxMC43NCwwLDAsMCwzLjc4LDFBMSwxLDAsMCwxLDIxLDE1WiclMjBzdHlsZT0nZmlsbDolMjBub25lOyUyMHN0cm9rZTolMjByZ2IoMCwlMjAwLCUyMDApOyUyMHN0cm9rZS1saW5lY2FwOiUyMHJvdW5kOyUyMHN0cm9rZS1saW5lam9pbjolMjByb3VuZDslMjBzdHJva2Utd2lkdGg6JTIwMjsnJTNlJTNjL3BhdGglM2UlM2Mvc3ZnJTNlXCIiLCJleHBvcnQgZGVmYXVsdCBcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM2MhLS0lMjBMaWNlbnNlOiUyMFBELiUyME1hZGUlMjBieSUyMG1hcGJveDolMjBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21ha2klMjAtLSUzZSUzY3N2ZyUyMGZpbGw9JyUyMzAwMDAwMCclMjB3aWR0aD0nODAwcHgnJTIwaGVpZ2h0PSc4MDBweCclMjB2aWV3Qm94PScwJTIwMCUyMDE1JTIwMTUnJTIwdmVyc2lvbj0nMS4xJyUyMGlkPSdidWlsZGluZyclMjB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNlJTNjcGF0aCUyMGQ9J00zLDJ2MTFoNXYtM2gzdjNoMVYySDN6JTIwTTcsMTJINHYtMmgzVjEyeiUyME03LDlINFY3aDNWOXolMjBNNyw2SDRWNGgzVjZ6JTIwTTExLDlIOFY3aDNWOXolMjBNMTEsNkg4VjRoM1Y2eicvJTNlJTNjL3N2ZyUzZVwiIiwiPHRlbXBsYXRlPlxyXG4gICAgPG5hdiBjbGFzcz1cImJnLW9mZi1ibGFjayB0ZXh0LXdoaXRlIHRleHQtY2VudGVyIGZpeGVkIGluc2V0LXgtMCBib3R0b20tMCBwYi0zIHB0LTIgcHgtNlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1sZyBteC1hdXRvXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBmb250LW1vbnRzZXJyYXQgdGV4dC14c1wiPlxyXG4gICAgICAgICAgICAgICAgPFJvdXRlckxpbmsgdG89XCIvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIHBiLTJcIiA6Y2xhc3M9XCJ7ICd0ZXh0LW9yYW5nZS01MDAnOiAkcm91dGUubmFtZSA9PSAnaG9tZScgfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIDx2LWljb24gbmFtZT1cImlvLXNlbmRcIiAvPiAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImgtNiB3LTYgZmlsbC1jdXJyZW50XCIgdmlld0JveD1cIi01LjIgLTUuMiA2Mi40MCA2Mi40MFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9XCJub25lXCIgaGVpZ2h0PVwiNC44XCIgcng9XCIxLjZcIiB3aWR0aD1cIjI3LjJcIiB4PVwiMTIuNFwiIHk9XCIyNlwiPjwvcmVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPVwibm9uZVwiIGhlaWdodD1cIjQuOFwiIHJ4PVwiMS42XCIgd2lkdGg9XCIyNFwiIHg9XCIxMi40XCIgeT1cIjM1LjZcIj48L3JlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwibTM2LjQgMTQuOGg4LjQ4YTEuMDkgMS4wOSAwIDAgMCAxLjEyLTEuMTIgMSAxIDAgMCAwIC0uMzItLjhsLTEwLjU2LTEwLjU2YTEgMSAwIDAgMCAtLjgtLjMyIDEuMDkgMS4wOSAwIDAgMCAtMS4xMiAxLjEydjguNDhhMy4yMSAzLjIxIDAgMCAwIDMuMiAzLjJ6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJtNDQuNCAxOS42aC0xMS4yYTQuODEgNC44MSAwIDAgMSAtNC44LTQuOHYtMTEuMmExLjYgMS42IDAgMCAwIC0xLjYtMS42aC0xNmE0LjgxIDQuODEgMCAwIDAgLTQuOCA0Ljh2MzguNGE0LjgxIDQuODEgMCAwIDAgNC44IDQuOGgzMC40YTQuODEgNC44MSAwIDAgMCA0LjgtNC44di0yNGExLjYgMS42IDAgMCAwIC0xLjYtMS42em0tMzItMS42YTEuNjIgMS42MiAwIDAgMSAxLjYtMS41NWg2LjU1YTEuNTYgMS41NiAwIDAgMSAxLjU3IDEuNTV2MS41OWExLjYzIDEuNjMgMCAwIDEgLTEuNTkgMS41OGgtNi41M2ExLjU1IDEuNTUgMCAwIDEgLTEuNTgtMS41OHptMjQgMjAuNzdhMS42IDEuNiAwIDAgMSAtMS42IDEuNmgtMjAuOGExLjYgMS42IDAgMCAxIC0xLjYtMS42di0xLjU3YTEuNiAxLjYgMCAwIDEgMS42LTEuNmgyMC44YTEuNiAxLjYgMCAwIDEgMS42IDEuNnptMy4yLTkuNmExLjYgMS42IDAgMCAxIC0xLjYgMS42M2gtMjRhMS42IDEuNiAwIDAgMSAtMS42LTEuNnYtMS42YTEuNiAxLjYgMCAwIDEgMS42LTEuNmgyNGExLjYgMS42IDAgMCAxIDEuNiAxLjZ6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInB0LTFcIj5VcGRhdGU8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L1JvdXRlckxpbms+XHJcbiAgICAgICAgICAgICAgICA8Um91dGVyTGluayB0bz1cIi9tYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgcGItMlwiIDpjbGFzcz1cInsgJ3RleHQtb3JhbmdlLTUwMCc6ICRyb3V0ZS5uYW1lID09ICdtYXAnIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImgtNSB3LTUgZmlsbC1jdXJyZW50XCIgdmVyc2lvbj1cIjEuMFwiIGlkPVwiTGF5ZXJfMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgdmlld0JveD1cIjAgMCA2NCA2NFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNjQgNjRcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMzIsMEMxOC43NDYsMCw4LDEwLjc0Niw4LDI0YzAsNS4yMTksMS43MTEsMTAuMDA4LDQuNTU1LDEzLjkzYzAuMDUxLDAuMDk0LDAuMDU5LDAuMTk5LDAuMTE3LDAuMjg5bDE2LDI0IEMyOS40MTQsNjMuMzMyLDMwLjY2NCw2NCwzMiw2NHMyLjU4Ni0wLjY2OCwzLjMyOC0xLjc4MWwxNi0yNGMwLjA1OS0wLjA5LDAuMDY2LTAuMTk1LDAuMTE3LTAuMjg5QzU0LjI4OSwzNC4wMDgsNTYsMjkuMjE5LDU2LDI0IEM1NiwxMC43NDYsNDUuMjU0LDAsMzIsMHogTTMyLDMyYy00LjQxOCwwLTgtMy41ODItOC04czMuNTgyLTgsOC04czgsMy41ODIsOCw4UzM2LjQxOCwzMiwzMiwzMnpcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInB0LTFcIj5NYXBzPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Sb3V0ZXJMaW5rPlxyXG4gICAgICAgICAgICAgICAgPFJvdXRlckxpbmsgdG89XCIvcHJvZmlsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwYi0yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwieyAndGV4dC1vcmFuZ2UtNTAwJzogJHJvdXRlLm5hbWUgPT0gJ3Byb2ZpbGUnIH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImgtNSB3LTUgZmlsbC1jdXJyZW50XCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHZlcnNpb249XCIxLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aXRsZT5wcm9maWxlX3JvdW5kIFsjMTM0Ml08L3RpdGxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZWZzPiA8L2RlZnM+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJQYWdlLTFcIiBzdHJva2U9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIkRyaWJiYmxlLUxpZ2h0LVByZXZpZXdcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTE0MC4wMDAwMDAsIC0yMTU5LjAwMDAwMClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiaWNvbnNcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoNTYuMDAwMDAwLCAxNjAuMDAwMDAwKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTAwLjU2MjU0OCwyMDE2Ljk5OTk4IEw4Ny40MzgxNzEzLDIwMTYuOTk5OTggQzg2LjczMTc4MDQsMjAxNi45OTk5OCA4Ni4yMTAxNTM1LDIwMTYuMzAyOTggODYuNDc2NTgxMywyMDE1LjY2MTk4IEM4Ny43MTI3NjU1LDIwMTIuNjk3OTggOTAuNjE2OTMwNiwyMDEwLjk5OTk4IDkzLjk5OTg0OTIsMjAxMC45OTk5OCBDOTcuMzgzNzg4NSwyMDEwLjk5OTk4IDEwMC4yODc5NTQsMjAxMi42OTc5OCAxMDEuNTI0MTM4LDIwMTUuNjYxOTggQzEwMS43OTA1NjYsMjAxNi4zMDI5OCAxMDEuMjY4OTM5LDIwMTYuOTk5OTggMTAwLjU2MjU0OCwyMDE2Ljk5OTk4IE04OS45MTY2NjQ1LDIwMDQuOTk5OTggQzg5LjkxNjY2NDUsMjAwMi43OTM5OCA5MS43NDg5OTM2LDIwMDAuOTk5OTggOTMuOTk5ODQ5MiwyMDAwLjk5OTk4IEM5Ni4yNTE3MjU2LDIwMDAuOTk5OTggOTguMDgzMDMzOSwyMDAyLjc5Mzk4IDk4LjA4MzAzMzksMjAwNC45OTk5OCBDOTguMDgzMDMzOSwyMDA3LjIwNTk4IDk2LjI1MTcyNTYsMjAwOC45OTk5OCA5My45OTk4NDkyLDIwMDguOTk5OTggQzkxLjc0ODk5MzYsMjAwOC45OTk5OCA4OS45MTY2NjQ1LDIwMDcuMjA1OTggODkuOTE2NjY0NSwyMDA0Ljk5OTk4IE0xMDMuOTU1Njc0LDIwMTYuNjM1OTggQzEwMy4yMTM1NTYsMjAxMy4yNzY5OCAxMDAuODkyMjY1LDIwMTAuNzk3OTggOTcuODM3MDIyLDIwMDkuNjcyOTggQzk5LjQ1NjAwNDgsMjAwOC4zOTU5OCAxMDAuNDAwMjQxLDIwMDYuMzMwOTggMTAwLjA1MzE3MSwyMDA0LjA2OTk4IEM5OS42NTA5NzY5LDIwMDEuNDQ2OTggOTcuNDIzNTk5NiwxOTk5LjM0Nzk4IDk0LjczNDgyMjQsMTk5OS4wNDE5OCBDOTEuMDIzMjA3NSwxOTk4LjYxODk4IDg3Ljg3NTA3MjEsMjAwMS40NDg5OCA4Ny44NzUwNzIxLDIwMDQuOTk5OTggQzg3Ljg3NTA3MjEsMjAwNi44ODk5OCA4OC43NjkyODk2LDIwMDguNTczOTggOTAuMTYzNjk3MSwyMDA5LjY3Mjk4IEM4Ny4xMDc0MzM0LDIwMTAuNzk3OTggODQuNzg3MTYzNiwyMDEzLjI3Njk4IDg0LjA0NDAyNCwyMDE2LjYzNTk4IEM4My43NzQ1MzM4LDIwMTcuODU2OTggODQuNzc4OTk3MywyMDE4Ljk5OTk4IDg2LjA1Mzk3MTcsMjAxOC45OTk5OCBMMTAxLjk0NTcyNywyMDE4Ljk5OTk4IEMxMDMuMjIxNzIyLDIwMTguOTk5OTggMTA0LjIyNjE4NSwyMDE3Ljg1Njk4IDEwMy45NTU2NzQsMjAxNi42MzU5OFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwicHJvZmlsZV9yb3VuZC1bIzEzNDJdXCI+IDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHQtMVwiPnt7IHVzZXIubG9nZ2VkSW4gPyAnUHJvZmlsZScgOiAnTG9naW4nIH19PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Sb3V0ZXJMaW5rPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvbmF2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuXHJcbjxzY3JpcHQ+XHJcbmltcG9ydCB7IGZvcm1TVkcgfSBmcm9tICcuLi9hc3NldHMvc3ZnL2luZGV4J1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgdHlwZTogT2JqZWN0LFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmb3JtU1ZHOiBmb3JtU1ZHXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+PC9zdHlsZT4iLCI8dGVtcGxhdGU+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYmctb2ZmLWJsYWNrIHRleHQtd2hpdGUgcHktMyBmaXhlZCBcclxuICAgICAgICAgICAgIGluc2V0LXgtMCBcclxuICAgICAgICAgICAgIHRvcC0wXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIHRleHQtY2VudGVyIGl0ZW1zLWNlbnRlciBtYXgtY29udGFpbmVyIG14LWF1dG8gcHgtOFwiPlxyXG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCIhb25MaW5lXCIgY2xhc3M9XCJzbTp3LTI0XCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIGZpbGw9XCIjZjk3MzE2XCIgd2lkdGg9XCIzNHB4XCIgaGVpZ2h0PVwiMzRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcclxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjZjk3MzE2XCIgc3Ryb2tlLXdpZHRoPVwiMC4wMDAyNDAwMDAwMDAwMDAwMDAwM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19iZ0NhcnJpZXJcIiBzdHJva2Utd2lkdGg9XCIwXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19pY29uQ2FycmllclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZyBkYXRhLW5hbWU9XCJMYXllciAyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBkYXRhLW5hbWU9XCJ3aWZpLW9mZlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIG9wYWNpdHk9XCIwXCI+PC9yZWN0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTlcIiByPVwiMVwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTIuNDQgMTFsLTEuOS0xLjg5LTIuNDYtMi40NC0xLjU1LTEuNTUtMS44Mi0xLjgzYTEgMSAwIDAgMC0xLjQyIDEuNDJsMS4zOCAxLjM3IDEuNDYgMS40NiAyLjIzIDIuMjQgMS41NSAxLjU0IDIuNzQgMi43NCAyLjc5IDIuOCAzLjg1IDMuODVhMSAxIDAgMCAwIDEuNDIgMCAxIDEgMCAwIDAgMC0xLjQyelwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTIxLjcyIDcuOTNBMTMuOTMgMTMuOTMgMCAwIDAgMTIgNGExNC4xIDE0LjEgMCAwIDAtNC40NC43M2wxLjYyIDEuNjJhMTEuODkgMTEuODkgMCAwIDEgMTEuMTYgMyAxIDEgMCAwIDAgLjY5LjI4IDEgMSAwIDAgMCAuNzItLjMxIDEgMSAwIDAgMC0uMDMtMS4zOXpcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0zLjgyIDYuNjVhMTQuMzIgMTQuMzIgMCAwIDAtMS41NCAxLjI4IDEgMSAwIDAgMCAxLjM4IDEuNDQgMTMuMDkgMTMuMDkgMCAwIDEgMS42LTEuMjl6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTcgMTMuMTRhMSAxIDAgMCAwIC43MS4zIDEgMSAwIDAgMCAuNzItMS42OUE5IDkgMCAwIDAgMTIgOWgtLjE2bDIuMzUgMi4zNUE3IDcgMCAwIDEgMTcgMTMuMTR6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNy40MyAxMC4yNmE4LjggOC44IDAgMCAwLTEuOSAxLjQ5QTEgMSAwIDAgMCA3IDEzLjE0YTcuMyA3LjMgMCAwIDEgMi0xLjQxelwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTguNTMgMTUuNGExIDEgMCAxIDAgMS4zOSAxLjQ0IDMuMDYgMy4wNiAwIDAgMSAzLjg0LS4yNWwtMi41Mi0yLjUyYTUgNSAwIDAgMC0yLjcxIDEuMzN6XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IHYtZWxzZSBjbGFzcz1cInNtOnctMjRcIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIzNHB4XCIgaGVpZ2h0PVwiMzRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiMzNDMyMzZcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9faWNvbkNhcnJpZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjFcIiBjeT1cIjFcIiByPVwiMVwiIHRyYW5zZm9ybT1cIm1hdHJpeCgxIDAgMCAtMSAxMSAxOSlcIiBmaWxsPVwiI2Y5NzMxNlwiPjwvY2lyY2xlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0yMC4xOTE1IDEwLjI2NDJDMTkuMjg2NCA4Ljk3MTUzIDE4LjA4ODEgNy45MTE0IDE2LjY5NDcgNy4xNzA1M0MxNS4zMDE0IDYuNDI5NjUgMTMuNzUyNCA2LjAyOTA3IDEyLjE3NDYgNi4wMDE1MkMxMC41OTY3IDUuOTczOTggOS4wMzQ3MSA2LjMyMDI2IDcuNjE2MzIgNy4wMTIwNkM2LjE5NzkzIDcuNzAzODUgNC45NjM0IDguNzIxNTIgNC4wMTM2NyA5Ljk4MTg1TTE3LjczNDEgMTIuOTg1QzE3LjEwMDUgMTIuMDgwMSAxNi4yNjE3IDExLjMzOCAxNS4yODYzIDEwLjgxOTRDMTQuMzExIDEwLjMwMDggMTMuMjI2NyAxMC4wMjAzIDEyLjEyMjIgMTAuMDAxMUMxMS4wMTc3IDkuOTgxNzkgOS45MjQzIDEwLjIyNDIgOC45MzE0MyAxMC43MDg0QzcuOTM4NTYgMTEuMTkyNyA3LjA3NDM5IDExLjkwNTEgNi40MDk1OCAxMi43ODczTTE0LjQ1NzUgMTUuMjc5M0MxNC4xODU5IDE0Ljg5MTUgMTMuODI2NSAxNC41NzM0IDEzLjQwODQgMTQuMzUxMkMxMi45OTA0IDE0LjEyODkgMTIuNTI1NyAxNC4wMDg3IDEyLjA1MjQgMTQuMDAwNUMxMS41NzkgMTMuOTkyMiAxMS4xMTA0IDE0LjA5NjEgMTAuNjg0OSAxNC4zMDM2QzEwLjI1OTQgMTQuNTExMiA5Ljg4OTA0IDE0LjgxNjUgOS42MDQxMiAxNS4xOTQ2XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiNmOTczMTZcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxoMSBjbGFzcz1cImZsZXggZm9udC1tb250c2VycmF0IGZvbnQtc2VtaWJvbGQgdGV4dC14bCB0ZXh0LW9yYW5nZS01MDBcIj5bIFJlc1FIdWIgXVxyXG4gICAgICAgICAgICAgICAgPC9oMT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHB0LTEgc206aXRlbXMtY2VudGVyIHNtOmhpZGRlblwiIEBjbGljaz1cInRvZ2dsZU1vYmlsZU1lbnVcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmbGV4IGZsZXgtY29sIGdhcC0xIHBiLTEgaC01IGp1c3RpZnktY2VudGVyIGhvdmVyOmN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTYgaC1bMnB4XSBiZy1vcmFuZ2UtNTAwIHRyYW5zaXRpb24gdHJhbnNmb3JtIGR1cmF0aW9uLTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsgJ3JvdGF0ZS00NSB0cmFuc2xhdGUteS1bM3B4XSc6IG1vYmlsZU1lbnVPcGVuIH1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ3LTYgaC1bMnB4XSBiZy1vcmFuZ2UtNTAwIHRyYW5zaXRpb24gdHJhbnNmb3JtXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwieyAnaGlkZGVuJzogbW9iaWxlTWVudU9wZW4gfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInctNiBoLVsycHhdIGJnLW9yYW5nZS01MDAgdHJhbnNpdGlvbiB0cmFuc2Zvcm0gZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzPVwieyAncm90YXRlLVstNDVkZWddIHRyYW5zbGF0ZS15LVstM3B4XSc6IG1vYmlsZU1lbnVPcGVuIH1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoaWRkZW4gc206YmxvY2sgc206dy0yNFwiPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJob3ZlcjpjdXJzb3ItcG9pbnRlciB0ZXh0LW9yYW5nZS01MDAgZm9udC1zZW1pYm9sZFwiPkZBUTwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiaG92ZXI6Y3Vyc29yLXBvaW50ZXIgdGV4dC1vcmFuZ2UtNTAwIGZvbnQtc2VtaWJvbGRcIj5MYW5ndWFnZTwvbGk+XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBvbkxpbmU6IHtcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbW9iaWxlTWVudU9wZW46IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgdG9nZ2xlTW9iaWxlTWVudSgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2JpbGVNZW51T3BlbiA9ICF0aGlzLm1vYmlsZU1lbnVPcGVuXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+PC9zdHlsZT4iLCJjb25zdCBkYk5hbWUgPSAnb2ZmbGluZURCJ1xyXG5jb25zdCBkYlZlcnNpb24gPSAxXHJcbmxldCBkYlxyXG5cclxuLy8gRnVuY3Rpb24gdG8gb3BlbiBhIGNvbm5lY3Rpb24gdG8gdGhlIEluZGV4ZWREQiBhbmQgZW5zdXJlIHRoZSBvYmplY3Qgc3RvcmVzIGV4aXN0XHJcbmNvbnN0IG9wZW5EQiA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgZGJWZXJzaW9uKVxyXG5cclxuICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHtcclxuICAgICAgcmVqZWN0KCdFcnJvciBvcGVuaW5nIEluZGV4ZWREQiBkYXRhYmFzZTogJyArIGV2ZW50LnRhcmdldC5lcnJvckNvZGUpXHJcbiAgICB9XHJcblxyXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XHJcbiAgICAgIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdFxyXG4gICAgICByZXNvbHZlKGRiKVxyXG4gICAgfVxyXG5cclxuICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gZXZlbnQgPT4ge1xyXG4gICAgICBjb25zdCBkYiA9IGV2ZW50LnRhcmdldC5yZXN1bHRcclxuICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKCdzZXNzaW9uSnd0JykpIHtcclxuICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZSgnc2Vzc2lvbkp3dCcsIHsga2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogdHJ1ZSB9KVxyXG4gICAgICB9XHJcbiAgICAgIGlmICghZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucygnZm9ybUVudHJpZXMnKSkge1xyXG4gICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCdmb3JtRW50cmllcycsIHsga2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogdHJ1ZSB9KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gYWRkIGFuIGl0ZW0gdG8gdGhlIHNwZWNpZmllZCBvYmplY3Qgc3RvcmVcclxuY29uc3QgYWRkSXRlbSA9IGFzeW5jIChpdGVtLCBzdG9yZU5hbWUpID0+IHtcclxuICBjb25zb2xlLmxvZyhpdGVtKVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EQigpXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFtzdG9yZU5hbWVdLCAncmVhZHdyaXRlJylcclxuICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpXHJcbiAgICAgIGlmIChpdGVtLmlkKSB7XHJcbiAgICAgICAgZGVsZXRlIGl0ZW0uaWRcclxuICAgICAgfVxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuYWRkKGl0ZW0pXHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBldmVudCA9PiB7XHJcbiAgICAgICAgcmVqZWN0KCdFcnJvciBhZGRpbmcgaXRlbSB0byBJbmRleGVkREI6ICcgKyBldmVudC50YXJnZXQuZXJyb3JDb2RlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGV2ZW50ID0+IHtcclxuICAgICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XHJcbiAgICAgICAgZGIuY2xvc2UoKSAvLyBDbG9zZSB0aGUgZGF0YWJhc2UgYWZ0ZXIgdHJhbnNhY3Rpb24gY29tcGxldGVzXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGFkZCBpdGVtIHRvIGRhdGFiYXNlOiAnICsgZXJyb3IubWVzc2FnZSlcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGdldCBhbGwgaXRlbXMgZnJvbSB0aGUgc3BlY2lmaWVkIG9iamVjdCBzdG9yZVxyXG5jb25zdCBnZXRBbGxJdGVtcyA9IGFzeW5jIHN0b3JlTmFtZSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgb3BlbkRCKClcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oW3N0b3JlTmFtZV0sICdyZWFkb25seScpXHJcbiAgICAgIGNvbnN0IHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKVxyXG4gICAgICBjb25zdCByZXF1ZXN0ID0gc3RvcmUuZ2V0QWxsKClcclxuXHJcbiAgICAgIHJlcXVlc3Qub25lcnJvciA9IGV2ZW50ID0+IHtcclxuICAgICAgICByZWplY3QoJ0Vycm9yIGZldGNoaW5nIGl0ZW1zIGZyb20gSW5kZXhlZERCOiAnICsgZXZlbnQudGFyZ2V0LmVycm9yQ29kZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBldmVudCA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGRiLmNsb3NlKCkgLy8gQ2xvc2UgdGhlIGRhdGFiYXNlIGFmdGVyIHRyYW5zYWN0aW9uIGNvbXBsZXRlc1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBpdGVtcyBmcm9tIGRhdGFiYXNlOiAnICsgZXJyb3IubWVzc2FnZSlcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmN0aW9uIHRvIGNsZWFyIGFsbCBpdGVtcyBmcm9tIHRoZSBzcGVjaWZpZWQgb2JqZWN0IHN0b3JlXHJcbmNvbnN0IGNsZWFyU3RvcmUgPSBhc3luYyBzdG9yZU5hbWUgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW5EQigpXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFtzdG9yZU5hbWVdLCAncmVhZHdyaXRlJylcclxuICAgICAgY29uc3Qgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpXHJcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBzdG9yZS5jbGVhcigpXHJcblxyXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBldmVudCA9PiB7XHJcbiAgICAgICAgcmVqZWN0KCdFcnJvciBjbGVhcmluZyBzdG9yZSBpbiBJbmRleGVkREI6ICcgKyBldmVudC50YXJnZXQuZXJyb3JDb2RlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGV2ZW50ID0+IHtcclxuICAgICAgICByZXNvbHZlKClcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcclxuICAgICAgICBkYi5jbG9zZSgpIC8vIENsb3NlIHRoZSBkYXRhYmFzZSBhZnRlciB0cmFuc2FjdGlvbiBjb21wbGV0ZXNcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY2xlYXIgc3RvcmUgaW4gZGF0YWJhc2U6ICcgKyBlcnJvci5tZXNzYWdlKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgYWRkSXRlbSwgZ2V0QWxsSXRlbXMsIGNsZWFyU3RvcmUgfVxyXG4iLCI8c2NyaXB0IHNldHVwPlxyXG5pbXBvcnQgeyBSb3V0ZXJWaWV3IH0gZnJvbSAndnVlLXJvdXRlcidcclxuaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnO1xyXG5cclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9zdG9yZXMvVXNlcic7XHJcbmltcG9ydCBNYXBzIGZyb20gJy4vc3RvcmVzL01hcHMnO1xyXG5cclxuLy8gd2hlbiB3ZSBhcmUgZGV2ZWxvcGluZyB1c2luZyBsb2NhbGhvc3Qgb24gcG9ydCA1MTczICh2dWUncyBkZWZhdWx0IHBvcnQpLFxyXG4vLyB0byBpbnRlZ3JhdGUgd2l0aCB0aGUgZmxhc2sgYmFja2VuZCwgd2UgbmVlZCB0byBtb2RpZnkgdGhlIHBvcnQgdG8gNTAwMCAoZmxhc2sgZGVmYXVsdCBwb3J0KVxyXG5sZXQgZG9tYWluT3JpZ2luID0gd2luZG93LmxvY2F0aW9uLm9yaWdpblxyXG5pZiAoZG9tYWluT3JpZ2luLnNsaWNlKC01KSA9PSBcIjo1MTczXCIpIHtcclxuICBkb21haW5PcmlnaW4gPSBkb21haW5PcmlnaW4ucmVwbGFjZShcIjo1MTczXCIsIFwiOjUwMDBcIilcclxufVxyXG5cclxuY29uc3QgdXNlciA9IHJlYWN0aXZlKG5ldyBVc2VyKGRvbWFpbk9yaWdpbikpXHJcbmNvbnN0IG1hcHMgPSByZWFjdGl2ZShuZXcgTWFwcyhkb21haW5PcmlnaW4sIHVzZXIpKVxyXG48L3NjcmlwdD5cclxuXHJcbjx0ZW1wbGF0ZT5cclxuICA8ZGl2IGNsYXNzPVwiYmctYmxhY2sgbWluLWgtW2NhbGMoMTAwdmgtMTE4cHgpXVwiPlxyXG4gICAgPCEtLSBIZWFkZXIgLS0+XHJcbiAgICA8aGVhZGVyIGNsYXNzPVwicmVsYXRpdmUgei0xMFwiPlxyXG4gICAgICA8TW9iaWxlSGVhZGVyIDpvbkxpbmU9XCJvbkxpbmVcIiA6dXNlcj1cInVzZXJcIj48L01vYmlsZUhlYWRlcj5cclxuICAgIDwvaGVhZGVyPlxyXG5cclxuICAgIDwhLS0gQ29udGVudCAtLT5cclxuICAgIDxtYWluIGNsYXNzPVwicmVsYXRpdmUgei0wXCI+XHJcbiAgICAgIDxSb3V0ZXJWaWV3IDpvbkxpbmU9XCJvbkxpbmVcIiA6dXNlcj1cInVzZXJcIiA6bWFwcz1cIm1hcHNcIiAvPlxyXG4gICAgPC9tYWluPlxyXG5cclxuICAgIDwhLS0gRm9vdGVyIC0tPlxyXG4gICAgPGZvb3RlciBjbGFzcz1cInJlbGF0aXZlIHotMTBcIj5cclxuICAgICAgPE1vYmlsZU5hdkJhciA6dXNlcj1cInVzZXJcIj48L01vYmlsZU5hdkJhcj5cclxuICAgIDwvZm9vdGVyPlxyXG4gIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IE1vYmlsZU5hdkJhciBmcm9tICcuL2NvbXBvbmVudHMvTW9iaWxlTmF2QmFyLnZ1ZSc7XHJcbmltcG9ydCBNb2JpbGVIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL01vYmlsZUhlYWRlci52dWUnO1xyXG5pbXBvcnQgeyBnZXRBbGxJdGVtcywgY2xlYXJTdG9yZSB9IGZyb20gJy4vc3RvcmVzL29mZmxpbmVXb3JrZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNvbXBvbmVudHM6IHtcclxuICAgIE1vYmlsZU5hdkJhcixcclxuICAgIE1vYmlsZUhlYWRlclxyXG4gIH0sXHJcbiAgZGF0YSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG9uTGluZTogbmF2aWdhdG9yLm9uTGluZSxcclxuICAgICAgc2Vzc2lvbkp3dDogXCJcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgd2F0Y2g6IHtcclxuICAgIC8vIHdoZW5ldmVyIG9uTGluZSBjaGFuZ2VzIGZyb20gZmFsc2UgdG8gdHJ1ZSAtIHRyeSB0byBzZW5kIGVudHJpZXMgaW4gSW5kZXhlZERiXHJcbiAgICAvLyB0byBzZXJ2ZXJcclxuICAgIGFzeW5jIG9uTGluZShuZXdTdGF0dXMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAobmV3U3RhdHVzKSB7XHJcbiAgICAgICAgICBjb25zdCBmb3JtRW50cmllcyA9IHRoaXMucGFyc2VGb3JtRW50cmllc1RvSnNvbihhd2FpdCBnZXRBbGxJdGVtcyhcImZvcm1FbnRyaWVzXCIpKVxyXG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbkp3dCA9IChhd2FpdCBnZXRBbGxJdGVtcyhcInNlc3Npb25Kd3RcIikpWzBdLnNlc3Npb25Kd3RcclxuICAgICAgICAgIGlmIChmb3JtRW50cmllcykge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXBpU3VibWl0T2ZmbGluZUZvcm1zKGZvcm1FbnRyaWVzLCBzZXNzaW9uSnd0KVxyXG4gICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKGBCYWNrIG9ubGluZS4gJHtyZXNwb25zZS5mb3Jtcy5sZW5ndGh9IGZvcm1zIHBvc3RlZCBzdWNjZXNzZnVsbHlgKVxyXG4gICAgICAgICAgICBhd2FpdCBjbGVhclN0b3JlKFwiZm9ybUVudHJpZXNcIilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGhhbmRsZU9ubGluZVN0YXR1cygpIHtcclxuICAgICAgdGhpcy5vbkxpbmUgPSBuYXZpZ2F0b3Iub25MaW5lO1xyXG4gICAgfSxcclxuICAgIHBhcnNlRm9ybUVudHJpZXNUb0pzb24oZm9ybUVudHJpZXMpIHtcclxuICAgICAgY29uc3QgZm9ybXNUb1JldHVybiA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm9ybUVudHJpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3Jtc1RvUmV0dXJuLnB1c2goSlNPTi5wYXJzZShmb3JtRW50cmllc1tpXS5wYXlsb2FkKSlcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhmb3Jtc1RvUmV0dXJuKVxyXG4gICAgICByZXR1cm4gZm9ybXNUb1JldHVyblxyXG4gICAgfSxcclxuICAgIGFzeW5jIGFwaVN1Ym1pdE9mZmxpbmVGb3Jtcyhmb3JtRW50cmllcywgc2Vzc2lvbkp3dCkge1xyXG4gICAgICBcIkluIGFwaVN1Ym1pdE9mZmxpbmVGb3Jtc1wiXHJcbiAgICAgIGxldCBkb21haW5PcmlnaW4gPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luXHJcbiAgICAgIGlmIChkb21haW5PcmlnaW4uc2xpY2UoLTUpID09IFwiOjUxNzNcIikge1xyXG4gICAgICAgIGRvbWFpbk9yaWdpbiA9IGRvbWFpbk9yaWdpbi5yZXBsYWNlKFwiOjUxNzNcIiwgXCI6NTAwMFwiKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnSW4gYXBpU3VibWl0T2ZmbGluZUZvcm1zJylcclxuICAgICAgY29uc3QgcGF5bG9hZCA9IHsgcGF5bG9hZDogZm9ybUVudHJpZXMgfVxyXG5cclxuICAgICAgY29uc3QgcmVxdWVzdF9vcHRpb25zID0ge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7c2Vzc2lvbkp3dH1gXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB1cmwgPSBkb21haW5PcmlnaW4gKyBgL2FwaS9mb3Jtcy9gXHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCByZXF1ZXN0X29wdGlvbnMpXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpIC8vIFRocm93IGFuIGVycm9yIG9iamVjdCBjb250YWluaW5nIGJvdGggdGhlIHN0YXR1cyBjb2RlIGFuZCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgICAgdGhyb3cge1xyXG4gICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JEYXRhLm1lc3NhZ2UgfHwgJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaydcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXBpT2JqZWN0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgcmV0dXJuIGFwaU9iamVjdFxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIC8vIElmIHRoZSBlcnJvciBvYmplY3QgY29udGFpbnMgYSBzdGF0dXMgY29kZSwgcmV0dXJuIGl0IGFsb25nIHdpdGggdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzKSB7XHJcbiAgICAgICAgICB0aHJvdyB7IHN0YXR1czogZXJyb3Iuc3RhdHVzIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBqdXN0IHJldHVybiB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGZvcm1zOiAnICsgZXJyb3IubWVzc2FnZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIG1vdW50ZWQoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLmhhbmRsZU9ubGluZVN0YXR1cyk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5oYW5kbGVPbmxpbmVTdGF0dXMpO1xyXG4gICAgdGhpcy4kcm91dGVyLnB1c2goJy9wcm9maWxlJylcclxuICB9LFxyXG4gIGJlZm9yZVVubW91bnQoKSB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLmhhbmRsZU9ubGluZVN0YXR1cyk7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5oYW5kbGVPbmxpbmVTdGF0dXMpO1xyXG4gIH0sXHJcblxyXG59O1xyXG48L3NjcmlwdD5cclxuIiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC13cmFwIGdhcC14LTZcIj5cclxuICAgICAgICA8c2VjdGlvbiB2LWZvcj1cIihzZWN0aW9uLCBpbmRleCkgaW4gZm9ybU9iai5zZWN0aW9uc1wiIDprZXk9XCJpbmRleFwiIGNsYXNzPVwicGItNCBweC00IHctZnVsbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNzAwIGJnLVsjMTYxYjIyXSBmbGV4IGZsZXgtY29sIHRleHQtd2hpdGUgcHgtNCBweS0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LW1kIGZvbnQtYm9sZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt7IHNlY3Rpb24udGl0bGUgfX1cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHYtZm9yPVwiKGVudHJ5LCBpbmRleCkgaW4gc2VjdGlvbi5mb3JtRW50cmllc1wiIDprZXk9XCJpbmRleFwiIGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1zbSBtYi0yXCIgOmZvcj1cImVudHJ5LmxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7IGVudHJ5LnRpdGxlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgbWItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IHYtaWY9XCIhZW50cnkudGV4dGFyZWFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzaGFkb3cgYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppZD1cImVudHJ5LmxhYmVsXCIgdi1tb2RlbD1cInBheWxvYWRbZW50cnkucGF5bG9hZExhYmVsXVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2LWZvcj1cIihvcHRpb24sIG9wdGlvbkluZGV4KSBpbiBlbnRyeS5vcHRpb25zXCIgOmtleT1cIm9wdGlvbkluZGV4XCI+e3sgb3B0aW9uIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2LWVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aWQ9XCJlbnRyeS5sYWJlbFwiIHYtbW9kZWw9XCJwYXlsb2FkW2VudHJ5LnBheWxvYWRMYWJlbF1cIiByb3dzPVwiNFwiIG1heGxlbmd0aD1cIjI1MFwiPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1pZj1cIiFlbnRyeS50ZXh0YXJlYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInBvaW50ZXItZXZlbnRzLW5vbmUgYWJzb2x1dGUgaW5zZXQteS0wIHJpZ2h0LTAgZmxleCBpdGVtcy1jZW50ZXIgcHgtMiB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiZmlsbC1jdXJyZW50IGgtNCB3LTRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOS4yOTMgMTIuOTVsLjcwNy43MDdMMTUuNjU3IDhsLTEuNDE0LTEuNDE0TDEwIDEwLjgyOCA1Ljc1NyA2LjU4NiA0LjM0MyA4elwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJlbnRyeS50ZXh0YXJlYVwiIGNsYXNzPVwidGV4dC1zbVwiPnt7IHBheWxvYWRbZW50cnkucGF5bG9hZExhYmVsXSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkW2VudHJ5LnBheWxvYWRMYWJlbF0ubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19LzI1MDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxzZWN0aW9uIGNsYXNzPVwicGItMTAgZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1vcmFuZ2UtNTAwIGhvdmVyOmJnLW9yYW5nZS02MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMiBweC00IHJvdW5kZWRcIlxyXG4gICAgICAgICAgICBAY2xpY2s9XCJzdWJtaXRGb3JtXCI+U3VibWl0IDwvYnV0dG9uPlxyXG4gICAgPC9zZWN0aW9uPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgZW1pdHM6IFsnc3VibWl0Rm9ybSddLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICBmb3JtT2JqOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IE9iamVjdCxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcGF5bG9hZDoge31cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBzdWJtaXRGb3JtKCkge1xyXG4gICAgICAgICAgICB0aGlzLnBheWxvYWQuZm9ybU5hbWUgPSB0aGlzLmZvcm1PYmouY2F0ZWdvcnlcclxuICAgICAgICAgICAgdGhpcy4kZW1pdCgnc3VibWl0Rm9ybScsIHRoaXMucGF5bG9hZClcclxuICAgICAgICAgICAgdGhpcy5wYXlsb2FkID0ge31cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICBmb3JtT2JqKG5ld0NhdGVnb3J5LCBvbGRDYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBpZiAobmV3Q2F0ZWdvcnkgIT0gb2xkQ2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF5bG9hZCA9IHt9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG4vKiBBZGQgY3VzdG9tIHN0eWxlcyBoZXJlIGlmIG5lZWRlZCAqL1xyXG48L3N0eWxlPlxyXG4iLCJjb25zdCBzZWN1cml0eUZvcm0gPSB7XHJcbiAgY2F0ZWdvcnk6ICdzZWN1cml0eScsXHJcbiAgc2VjdGlvbnM6IFtcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICdTZWN1cml0eSByaXNrcycsXHJcbiAgICAgIGZvcm1OYW1lOiAnc2VjdXJpdHknLFxyXG4gICAgICBmb3JtRW50cmllczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGxhYmVsOiAncmlzay1hcm1lZC1ncm91cHMnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnYXJtZWRHcm91cHNQcmVzZW5jZScsXHJcbiAgICAgICAgICB0aXRsZTogJ1ByZXNlbmNlIG9mIGFybWVkIGdyb3VwcycsXHJcbiAgICAgICAgICBvcHRpb25zOiBbJ1ByZXNlbnQnLCAnQWJzZW50JywgJ1Vua25vd24nXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdyaXNrLXJlcG9ydCcsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdyZXBvcnRPZlZpb2xlbmNlJyxcclxuICAgICAgICAgIHRpdGxlOiAnUmVwb3J0cyBvZiB2aW9sZW5jZSBvciB1bnJlc3QnLFxyXG4gICAgICAgICAgb3B0aW9uczogWydDb25maXJtZWQnLCAnU3VzcGVjdGVkJywgJ05vdCByZXBvcnRlZCddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ3Jpc2stbG9jYWwtZW5mb3JjZW1lbnQnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnbG9jYWxFbmZvcmNlbWVudFByZXNlbmNlJyxcclxuICAgICAgICAgIHRpdGxlOiAnTGF3IGVuZm9yY2VtZW50IG9yIG1pbGl0YXJ5IHByZXNlbmNlJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnUHJlc2VudCcsICdBYnNlbnQnLCAnVW5rbm93biddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ3Jpc2stY29tbWVudHMnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnc2VjdXJpdHlSaXNrQ29tbWVudHMnLFxyXG4gICAgICAgICAgdGl0bGU6ICdBZGRpdGlvbmFsIENvbW1lbnRzJyxcclxuICAgICAgICAgIHRleHRhcmVhOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ0luY2lkZW50cycsXHJcbiAgICAgIGZvcm1OYW1lOiAnaW5jaWRlbnRzJyxcclxuICAgICAgZm9ybUVudHJpZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ2luY2lkZW50cy1yZXBvcnRlZCcsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdpbmNpZGVudHNSZXBvcnRlZCcsXHJcbiAgICAgICAgICB0aXRsZTogJ1JlcG9ydGVkIGluY2lkZW50cycsXHJcbiAgICAgICAgICBvcHRpb25zOiBbJ0xvb3RpbmcnLCAnVGhlZnQnLCAnVmFuZGFsaXNtJywgJ1Zpb2xlbmNlJywgJ05vIHJlcG9ydGVkIGluY2lkZW50cyddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ2luY2lkZW50cy1yaXNrLXRvLXJlbGllZicsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdyaXNrVG9SZWxpZWYnLFxyXG4gICAgICAgICAgdGl0bGU6ICdTZWN1cml0eSBpbmNpZGVudHMgYWZmZWN0aW5nIHJlbGllZiBlZmZvcnRzJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnSGlnaCByaXNrJywgJ01vZGVyYXRlIHJpc2snLCAnTG93IHJpc2snLCAnVW5rbm93biddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ2luY2lkZW50cy1jb21tZW50cycsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdpbmNpZGVudHNDb21tZW50cycsXHJcbiAgICAgICAgICB0aXRsZTogJ0FkZGl0aW9uYWwgQ29tbWVudHMnLFxyXG4gICAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH1cclxuICBdXHJcbn1cclxuXHJcbmNvbnN0IGluZnJhc3RydWN0dXJlRm9ybSA9IHtcclxuICBjYXRlZ29yeTogJ2luZnJhc3RydWN0dXJlJyxcclxuICBzZWN0aW9uczogW1xyXG4gICAge1xyXG4gICAgICB0aXRsZTogJ1JvYWRzJyxcclxuICAgICAgZm9ybU5hbWU6ICdyb2FkcycsXHJcbiAgICAgIGZvcm1FbnRyaWVzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdDb25kaXRpb24nLFxyXG4gICAgICAgICAgbGFiZWw6ICdyb2FkLWNvbmRpdGlvbicsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdyb2FkQ29uZGl0aW9uJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnQ2xlYXInLCAnRGFtYWdlZCcsICdCbG9ja2VkJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnVHlwZSBvZiBkYW1hZ2UnLFxyXG4gICAgICAgICAgbGFiZWw6ICdyb2FkLWRhbWFnZScsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdyb2FkRGFtYWdlJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnRmxvb2RlZCcsICdEZWJyaXMnLCAnQ29sbGFwc2VkJywgJ05vbmUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdBY2Nlc3NpYmlsaXR5JyxcclxuICAgICAgICAgIGxhYmVsOiAncm9hZC1hY2Nlc3MnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAncm9hZEFjY2VzcycsXHJcbiAgICAgICAgICBvcHRpb25zOiBbJ1Bhc3NhYmxlJywgJ0ltcGFzc2FibGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdyb2FkLWNvbW1lbnRzJyxcclxuICAgICAgICAgIHBheWxvYWRMYWJlbDogJ3JvYWRDb21tZW50cycsXHJcbiAgICAgICAgICB0aXRsZTogJ0FkZGl0aW9uYWwgQ29tbWVudHMnLFxyXG4gICAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnQnVpbGRpbmdzJyxcclxuICAgICAgZm9ybU5hbWU6ICdidWlsZGluZ3MnLFxyXG4gICAgICBmb3JtRW50cmllczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnU3RydWN0dXJhbCBJbnRlZ3JpdHknLFxyXG4gICAgICAgICAgbGFiZWw6ICdidWlsZGluZy1pbnRlZ3JpdHknLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnYnVpbGRpbmdJbnRlZ3JpdHknLFxyXG4gICAgICAgICAgb3B0aW9uczogWydJbnRhY3QnLCAnRGFtYWdlZCcsICdDb2xsYXBzZWQnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdUeXBlJyxcclxuICAgICAgICAgIGxhYmVsOiAnYnVpbGRpbmctdHlwZScsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdidWlsZGluZ1R5cGUnLFxyXG4gICAgICAgICAgb3B0aW9uczogWydSZXNpZGVudGlhbCcsICdDb21tZXJjaWFsJywgJ0dvdmVybm1lbnQnLCAnTm9uZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aXRsZTogJ0RhbWFnZSBBc3Nlc3NtZW50JyxcclxuICAgICAgICAgIGxhYmVsOiAnYnVpbGRpbmctZGFtYWdlJyxcclxuICAgICAgICAgIHBheWxvYWRMYWJlbDogJ2J1aWxkaW5nRGFtYWdlJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnTWlub3InLCAnTW9kZXJhdGUnLCAnU2V2ZXJlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGxhYmVsOiAnYnVpbGRpbmctY29tbWVudHMnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnYnVpbGRpbmdDb21tZW50cycsXHJcbiAgICAgICAgICB0aXRsZTogJ0FkZGl0aW9uYWwgQ29tbWVudHMnLFxyXG4gICAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnVXRpbGl0aWVzJyxcclxuICAgICAgZm9ybU5hbWU6ICd1dGlsaXRpZXMnLFxyXG4gICAgICBmb3JtRW50cmllczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnUG93ZXIgU3VwcGx5JyxcclxuICAgICAgICAgIGxhYmVsOiAndXRpbGl0eS1wb3dlcicsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICd1dGlsaXR5UG93ZXInLFxyXG4gICAgICAgICAgb3B0aW9uczogWydBdmFpbGFibGUnLCAnT3V0YWdlcycsICdHZW5lcmF0b3JzJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHRpdGxlOiAnV2F0ZXIgU3VwcGx5JyxcclxuICAgICAgICAgIGxhYmVsOiAndXRpbGl0eS13YXRlcicsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICd1dGlsaXR5V2F0ZXInLFxyXG4gICAgICAgICAgb3B0aW9uczogWydGdW5jdGlvbmFsJywgJ0NvbnRhbWluYXRlZCcsICdTaG9ydGFnZXMnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdGl0bGU6ICdDb21tdW5pY2F0aW9ucycsXHJcbiAgICAgICAgICBsYWJlbDogJ3V0aWxpdHktY29tbXMnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAndXRpbGl0eUNvbW1zJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnRnVuY3Rpb25hbCcsICdDZWxsIFNlcnZpY2UgT25seScsICdJbnRlcm5ldCBDb25uZWN0aXZpdHknLCAnTGltaXRlZCddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ3V0aWxpdHktY29tbWVudHMnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAndXRpbGl0eUNvbW1lbnRzJyxcclxuICAgICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBDb21tZW50cycsXHJcbiAgICAgICAgICB0ZXh0YXJlYTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfVxyXG4gIF1cclxufVxyXG5cclxuY29uc3QgY29tbXVuaWNhdGlvbnNGb3JtID0ge1xyXG4gIGNhdGVnb3J5OiAnY29tbXVuaWNhdGlvbnMnLFxyXG4gIHNlY3Rpb25zOiBbXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiAnQ29tbXVuaWNhdGlvbnMnLFxyXG4gICAgICBmb3JtTmFtZTogJ2NvbW11bmljYXRpb25zJyxcclxuICAgICAgZm9ybUVudHJpZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ2NvbW1zLWluZnJhc3RydWN0dXJlJyxcclxuICAgICAgICAgIHBheWxvYWRMYWJlbDogJ2NvbW1zSW5mcmFzdHJ1Y3R1cmUnLFxyXG4gICAgICAgICAgdGl0bGU6ICdTdGF0dXMgb2YgY2VsbCB0b3dlcnMgYW5kIGludGVybmV0IGluZnJhc3RydWN0dXJlJyxcclxuICAgICAgICAgIG9wdGlvbnM6IFsnRnVsbHkgb3BlcmF0aW9uYWwnLCAnUGFydGx5IG9wZXJhdGlvbmFsJywgJ09mZmxpbmUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb21tcy1waG9uZS1hbmQtaW50ZXJuZXQnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnY29tbXNQaG9uZUFuZEludGVybmV0JyxcclxuICAgICAgICAgIHRpdGxlOiAnUmVsaWFiaWxpdHkgb2YgcGhvbmUgYW5kIGludGVybmV0IGNvbm5lY3Rpdml0eScsXHJcbiAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICdIaWdoIChjb25zaXN0ZW50IHNpZ25hbCBhbmQgYmFuZHdpZHRoKScsXHJcbiAgICAgICAgICAgICdNb2RlcmF0ZSAoaW50ZXJtaXR0ZW50IHNpZ25hbCBhbmQvb3IgcmVkdWNlZCBiYW5kd2lkdGgpJyxcclxuICAgICAgICAgICAgJ0xvdyAodW5yZWxpYWJsZSBzaWduYWwgYW5kIGluc3VmZmljaWVudCBiYW5kd2lkdGgpJ1xyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb21tcy1hdmFpbGFibGl0eScsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdjb21tc0F2YWlsYWJpbGl0eScsXHJcbiAgICAgICAgICB0aXRsZTogJ0F2YWlsYWJpbGl0eSBvZiBjb21tdW5pY2F0aW9uIGRldmljZXMnLFxyXG4gICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAnQWJ1bmRhbnQgKHBob25lcywgcmFkaW9zLCBzYXRlbGxpdGUgcGhvbmVzKScsXHJcbiAgICAgICAgICAgICdMaW1pdGVkIChzb21lIGRldmljZXMgYXZhaWxhYmxlLCBtYXkgbm90IGJlIGVub3VnaCBmb3IgYWxsIHRlYW1zKScsXHJcbiAgICAgICAgICAgICdTY2FyY2UgKHZlcnkgZmV3IGRldmljZXMsIHByaW9yaXR5IGZvciBjcml0aWNhbCBjb21tdW5pY2F0aW9ucyBvbmx5KSdcclxuICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGxhYmVsOiAnY29tbXMtYWx0ZXJuYXRpdmUnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnY29tbXNBbHRlcm5hdGl2ZScsXHJcbiAgICAgICAgICB0aXRsZTogJ0FsdGVybmF0aXZlIGNvbW11bmljYXRpb24gbWV0aG9kcycsXHJcbiAgICAgICAgICBvcHRpb25zOiBbJ1NhdGVsbGl0ZSBwaG9uZXMnLCAnSGlnaC1mcmVxdWVuY3kgcmFkaW9zJywgJ05vbmUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb21tcy1jb21tZW50cycsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdjb21tc0NvbW1lbnRzJyxcclxuICAgICAgICAgIHRpdGxlOiAnQWRkaXRpb25hbCBDb21tZW50cycsXHJcbiAgICAgICAgICB0ZXh0YXJlYTogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6ICdDb25uZWN0aXZpdHknLFxyXG4gICAgICBmb3JtTmFtZTogJ2Nvbm5lY3Rpdml0eScsXHJcbiAgICAgIGZvcm1FbnRyaWVzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb25uZWN0LWVsZWN0cmljaXR5JyxcclxuICAgICAgICAgIHBheWxvYWRMYWJlbDogJ2Nvbm5lY3RFbGVjdHJpY2l0eScsXHJcbiAgICAgICAgICB0aXRsZTogJ0VsZWN0cmljaXR5IEF2YWlsYWJpbGl0eScsXHJcbiAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICdTdGFibGUgZ3JpZCBzdXBwbHknLFxyXG4gICAgICAgICAgICAnT2NjYXNpb25hbCBvdXRhZ2VzLCBiYWNrdXAgYXZhaWxhYmxlJyxcclxuICAgICAgICAgICAgJ1Vuc3RhYmxlIGdyaWQsIHJlbGlhbmNlIG9uIGdlbmVyYXRvcnMnXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsYWJlbDogJ2Nvbm5lY3QtZnVlbC1hdmFpbGFiaWxpdHknLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnY29ubmVjdEZ1ZWxBdmFpbGFiaWxpdHknLFxyXG4gICAgICAgICAgdGl0bGU6ICdGdWVsIEF2YWlsYWJpbGl0eSBmb3IgR2VuZXJhdG9ycycsXHJcbiAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICdTdWZmaWNpZW50IChyZWxpYWJsZSBzdXBwbHkgY2hhaW4pJyxcclxuICAgICAgICAgICAgJ0xpbWl0ZWQgKHN1cHBseSBjaGFpbiBkaXNydXB0aW9ucyBwb3NzaWJsZSknLFxyXG4gICAgICAgICAgICAnU2NhcmNlIChubyByZWxpYWJsZSBzdXBwbHkgY2hhaW4pJ1xyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb25uZWN0LWJhY2t1cC1wb3dlcicsXHJcbiAgICAgICAgICBwYXlsb2FkTGFiZWw6ICdjb25uZWN0QmFja3VwUG93ZXInLFxyXG4gICAgICAgICAgdGl0bGU6ICdCYWNrdXAgUG93ZXIgU291cmNlcycsXHJcbiAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICdTb2xhciBwYW5lbHMgKGF2YWlsYWJsZSBhbmQgcmVsaWFibGUpJyxcclxuICAgICAgICAgICAgJ0JhdHRlcmllcyAoYXZhaWxhYmxlIGJ1dCB1bnJlbGlhYmxlKScsXHJcbiAgICAgICAgICAgICdOb25lJ1xyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb25uZWN0LWxvY2FsLWNvbnRyb2wnLFxyXG4gICAgICAgICAgcGF5bG9hZExhYmVsOiAnY29ubmVjdExvY2FsQ29udHJvbCcsXHJcbiAgICAgICAgICB0aXRsZTogJ0xvY2FsIENvbnRyb2wgb2YgRWxlY3RyaWNpdHkgU3VwcGx5JyxcclxuICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgJ0dvdmVybm1lbnQtY29udHJvbGxlZCBncmlkJyxcclxuICAgICAgICAgICAgJ0luZGVwZW5kZW50IGxvY2FsIGVudGl0aWVzJyxcclxuICAgICAgICAgICAgJ05vIGxvY2FsIGNvbnRyb2wsIGRlcGVuZGVudCBvbiBleHRlcm5hbCBzb3VyY2VzJ1xyXG4gICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbGFiZWw6ICdjb25uZWN0LWNvbW1lbnRzJyxcclxuICAgICAgICAgIHBheWxvYWRMYWJlbDogJ2Nvbm5lY3RDb21tZW50cycsXHJcbiAgICAgICAgICB0aXRsZTogJ0FkZGl0aW9uYWwgQ29tbWVudHMnLFxyXG4gICAgICAgICAgdGV4dGFyZWE6IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgIF1cclxuICAgIH1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCB7IHNlY3VyaXR5Rm9ybSwgaW5mcmFzdHJ1Y3R1cmVGb3JtLCBjb21tdW5pY2F0aW9uc0Zvcm0gfVxyXG4iLCJmdW5jdGlvbiBjaGVja0xvY2F0aW9uUGVybWlzc2lvbiAoKSB7XHJcbiAgaWYgKCdwZXJtaXNzaW9ucycgaW4gbmF2aWdhdG9yICYmICdnZW9sb2NhdGlvbicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICByZXR1cm4gbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHsgbmFtZTogJ2dlb2xvY2F0aW9uJyB9KS50aGVuKGZ1bmN0aW9uIChwZXJtaXNzaW9uU3RhdHVzKSB7XHJcbiAgICAgIGlmIChwZXJtaXNzaW9uU3RhdHVzLnN0YXRlID09PSAnZ3JhbnRlZCcpIHtcclxuICAgICAgICAvLyBQZXJtaXNzaW9uIGFscmVhZHkgZ3JhbnRlZCwgcmV0dXJuIGEgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHVzZXIncyBsb2NhdGlvblxyXG4gICAgICAgIHJldHVybiBnZXRMb2NhdGlvbigpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUGVybWlzc2lvbiBub3QgZ3JhbnRlZCwgYXNrIHRoZSB1c2VyIGZvciBwZXJtaXNzaW9uXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24ocmVzb2x2ZSwgcmVqZWN0KVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSBlbHNlIGlmICgnZ2VvbG9jYXRpb24nIGluIG5hdmlnYXRvcikge1xyXG4gICAgLy8gR2VvbG9jYXRpb24gaXMgYXZhaWxhYmxlIGJ1dCBwZXJtaXNzaW9ucyBBUEkgaXMgbm90IHN1cHBvcnRlZFxyXG4gICAgcmV0dXJuIGdldExvY2F0aW9uKClcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gR2VvbG9jYXRpb24gaXMgbm90IGF2YWlsYWJsZVxyXG4gICAgY29uc29sZS5lcnJvcignR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJylcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuJylcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExvY2F0aW9uICgpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihyZXNvbHZlLCByZWplY3QpXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IHsgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24gfVxyXG4iLCI8dGVtcGxhdGU+XHJcbiAgPHNlY3Rpb24gY2xhc3M9XCJtdC0xMiBtYi0xNiBwdC00XCI+XHJcbiAgICA8Zm9ybSBjbGFzcz1cInctZnVsbCBtYXgtdy1sZyBteC1hdXRvIGZsZXggZmxleC1jb2xcIiBAc3VibWl0LnByZXZlbnQ+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ3LWZ1bGwgcHgtMyBtYi02XCI+XHJcbiAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1tZCBmb250LWJvbGQgbWItMlwiIGZvcj1cImdyaWQtc3RhdGVcIj5cclxuICAgICAgICAgIENhdGVnb3J5XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgY2xhc3M9XCJzaGFkb3cgYmctYmxhY2sgdGV4dC13aGl0ZSBhcHBlYXJhbmNlLW5vbmUgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCByb3VuZGVkIHctZnVsbCBweS0yIHB4LTMgbGVhZGluZy10aWdodCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6c2hhZG93LW91dGxpbmVcIlxyXG4gICAgICAgICAgICBpZD1cImdyaWQtc3RhdGVcIiB2LW1vZGVsPVwic2VsZWN0ZWRGb3JtXCI+XHJcbiAgICAgICAgICAgIDxvcHRpb24+SW5mcmFzdHJ1Y3R1cmU8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbj5NZWRpY2FsPC9vcHRpb24+XHJcbiAgICAgICAgICAgIDxvcHRpb24+U2VjdXJpdHk8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbj5Mb2dpc3RpY3M8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbj5FbnZpcm9ubWVudDwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uPkhlYWx0aDwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8b3B0aW9uPkNvbW11bmljYXRpb25zPC9vcHRpb24+XHJcbiAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIGluc2V0LXktMCByaWdodC0wIGZsZXggaXRlbXMtY2VudGVyIHB4LTIgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiZmlsbC1jdXJyZW50IGgtNCB3LTRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiPlxyXG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOS4yOTMgMTIuOTVsLjcwNy43MDdMMTUuNjU3IDhsLTEuNDE0LTEuNDE0TDEwIDEwLjgyOCA1Ljc1NyA2LjU4NiA0LjM0MyA4elwiIC8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8Qm9pbGVycGxhdGVGb3JtIDpmb3JtT2JqPVwic2VsZWN0ZWRGb3JtT2JqXCIgQHN1Ym1pdEZvcm09XCJzdWJtaXRGb3JtXCI+PC9Cb2lsZXJwbGF0ZUZvcm0+XHJcbiAgICA8L2Zvcm0+XHJcbiAgPC9zZWN0aW9uPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IEJvaWxlcnBsYXRlRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL0JvaWxlcnBsYXRlRm9ybS52dWUnO1xyXG5pbXBvcnQgeyBpbmZyYXN0cnVjdHVyZUZvcm0sIHNlY3VyaXR5Rm9ybSwgY29tbXVuaWNhdGlvbnNGb3JtIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbmRleCc7XHJcbmltcG9ydCB7IGFkZEl0ZW0gfSBmcm9tICdAL3N0b3Jlcy9vZmZsaW5lV29ya2VyJztcclxuaW1wb3J0IHsgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24gfSBmcm9tICdAL3N0b3Jlcy9nZW9Mb2NhdGlvbic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgQm9pbGVycGxhdGVGb3JtLFxyXG4gIH0sXHJcbiAgcHJvcHM6IHtcclxuICAgIHVzZXI6IHtcclxuICAgICAgdHlwZTogT2JqZWN0LFxyXG4gICAgfSxcclxuICAgIG9uTGluZToge1xyXG4gICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGRhdGEoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbmZyYXN0cnVjdHVyZUZvcm06IGluZnJhc3RydWN0dXJlRm9ybSxcclxuICAgICAgc2VjdXJpdHlGb3JtOiBzZWN1cml0eUZvcm0sXHJcbiAgICAgIGNvbW11bmljYXRpb25zRm9ybTogY29tbXVuaWNhdGlvbnNGb3JtLFxyXG4gICAgICBzZWxlY3RlZEZvcm06ICdJbmZyYXN0cnVjdHVyZScsXHJcbiAgICAgIGl0ZW1zOiBbXVxyXG4gICAgfTtcclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGFzeW5jIHN1Ym1pdEZvcm0ocGF5bG9hZCkge1xyXG4gICAgICBpZiAobmF2aWdhdG9yLm9uTGluZSkge1xyXG4gICAgICAgIGlmICghdGhpcy51c2VyLmxvZ2dlZEluKSB7XHJcbiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKVxyXG4gICAgICAgICAgdGhpcy4kdG9hc3QuaW5mbygnUGxlYXNlIGxvZ2luIHRvIHBvc3QgdXBkYXRlJylcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHBheWxvYWQgPSB0aGlzLmFkZFVzZXJMb2NhdGlvblRvUGF5bG9hZChwYXlsb2FkKVxyXG4gICAgICAgICAgYXdhaXQgdGhpcy51c2VyLmFwaVN1Ym1pdEZvcm0odGhpcy5zZWxlY3RlZEZvcm0udG9Mb3dlckNhc2UoKSwgcGF5bG9hZClcclxuICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoXCJGb3JtIHN1Y2Nlc3NmdWxseSBzdWJtaXR0ZWRcIilcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3Iuc3RhdHVzKVxyXG4gICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHRvYXN0Lndhcm5pbmcoJ1BsZWFzZSBsb2dpbiBmaXJzdCcpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBIYW5kbGUgb3RoZXIgZXJyb3JzXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiT3RoZXIgZXJyb3I6XCIsIGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHBheWxvYWQgPSBhd2FpdCB0aGlzLmFkZFVzZXJMb2NhdGlvblRvUGF5bG9hZChwYXlsb2FkKTtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuYWRkSXRlbVRvRGIoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xyXG4gICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcygnRm9ybSBzYXZlZC4gV2lsbCBhdHRlbXB0IHRvIHNlbmQgd2hlbiBiYWNrIG9ubGluZScpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBmb3JtIG9mZmxpbmU6JywgZXJyb3IpO1xyXG4gICAgICAgICAgdGhpcy4kdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGZvcm0gb2ZmbGluZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFzeW5jIGFkZFVzZXJMb2NhdGlvblRvUGF5bG9hZChwYXlsb2FkKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXNlclBvc2l0aW9uID0gYXdhaXQgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24oKTtcclxuICAgICAgICBwYXlsb2FkLmxhdGl0dWRlID0gdXNlclBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZVxyXG4gICAgICAgIHBheWxvYWQubG9uZ2l0dWRlID0gdXNlclBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVcclxuICAgICAgICBwYXlsb2FkLnRpbWVzdGFtcCA9IERhdGUubm93KClcclxuICAgICAgICByZXR1cm4gcGF5bG9hZFxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbG9jYXRpb246JywgZXJyb3IpO1xyXG4gICAgICAgIC8vIEhhbmRsZSBlcnJvclxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgYWRkSXRlbVRvRGIocGF5bG9hZCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBUaGUgcGF5bG9hZCBpcyAke3BheWxvYWR9YClcclxuICAgICAgICBjb25zdCBuZXdJdGVtID0geyBwYXlsb2FkIH07XHJcbiAgICAgICAgY29uc3QgaXRlbUlkID0gYXdhaXQgYWRkSXRlbShuZXdJdGVtLCBcImZvcm1FbnRyaWVzXCIpO1xyXG4gICAgICAgIHRoaXMuaXRlbXMucHVzaCh7IGlkOiBpdGVtSWQsIC4uLm5ld0l0ZW0gfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgYWxlcnQoJ0ZhaWxlZCB0byBhZGQgaXRlbScpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgY29tcHV0ZWQ6IHtcclxuICAgIHNlbGVjdGVkRm9ybU9iaigpIHtcclxuICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkRm9ybS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgY2FzZSAnaW5mcmFzdHJ1Y3R1cmUnOlxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5mcmFzdHJ1Y3R1cmVGb3JtO1xyXG4gICAgICAgIGNhc2UgJ3NlY3VyaXR5JzpcclxuICAgICAgICAgIHJldHVybiB0aGlzLnNlY3VyaXR5Rm9ybTtcclxuICAgICAgICBjYXNlICdjb21tdW5pY2F0aW9ucyc6XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb21tdW5pY2F0aW9uc0Zvcm07XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiBudWxsOyAvLyBvciBoYW5kbGUgdGhlIGRlZmF1bHQgY2FzZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZSBzY29wZWQ+PC9zdHlsZT5cclxuIiwiKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudDxcInVcIil7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2EuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIubWFwZGl2W2RhdGEtdi1kYmY4MmM0MF17d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uY3VzdG9tLWNvbnRyb2wtd3JhcHBlcltkYXRhLXYtZDA5OWEzYTZde2Rpc3BsYXk6bm9uZX0ubWFwZGl2IC5jdXN0b20tY29udHJvbC13cmFwcGVyW2RhdGEtdi1kMDk5YTNhNl17ZGlzcGxheTppbmxpbmUtYmxvY2t9LmluZm8td2luZG93LXdyYXBwZXJbZGF0YS12LWNiZTE3MDdiXXtkaXNwbGF5Om5vbmV9Lm1hcGRpdiAuaW5mby13aW5kb3ctd3JhcHBlcltkYXRhLXYtY2JlMTcwN2Jde2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jdXN0b20tbWFya2VyLXdyYXBwZXJbZGF0YS12LTJkMmQzNDNhXXtkaXNwbGF5Om5vbmV9Lm1hcGRpdiAuY3VzdG9tLW1hcmtlci13cmFwcGVyW2RhdGEtdi0yZDJkMzQzYV17ZGlzcGxheTppbmxpbmUtYmxvY2t9XCIpKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGEpfX1jYXRjaChkKXtjb25zb2xlLmVycm9yKFwidml0ZS1wbHVnaW4tY3NzLWluamVjdGVkLWJ5LWpzXCIsZCl9fSkoKTtcbnZhciBxZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBCZSA9IChuLCBlLCB0KSA9PiBlIGluIG4gPyBxZShuLCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiB0IH0pIDogbltlXSA9IHQ7XG52YXIgc2UgPSAobiwgZSwgdCkgPT4gKEJlKG4sIHR5cGVvZiBlICE9IFwic3ltYm9sXCIgPyBlICsgXCJcIiA6IGUsIHQpLCB0KTtcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBQLCByZWYgYXMgeSwgcHJvdmlkZSBhcyBHLCB3YXRjaCBhcyBPLCBvbk1vdW50ZWQgYXMgTWUsIG9uQmVmb3JlVW5tb3VudCBhcyBCLCBtYXJrUmF3IGFzIEksIHRvUmVmIGFzIFosIG9wZW5CbG9jayBhcyBZLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgWCwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIGFlLCByZW5kZXJTbG90IGFzIFEsIG5vcm1hbGl6ZVByb3BzIGFzIFplLCBndWFyZFJlYWN0aXZlUHJvcHMgYXMgTmUsIGluamVjdCBhcyBDLCBjb21wdXRlZCBhcyBKLCBDb21tZW50IGFzIEVlLCBtZXJnZVByb3BzIGFzIFBlLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgT2UgfSBmcm9tIFwidnVlXCI7XG5jb25zdCBOID0gU3ltYm9sKFwibWFwXCIpLCBVID0gU3ltYm9sKFwiYXBpXCIpLCB4ZSA9IFN5bWJvbChcIm1hcmtlclwiKSwgTGUgPSBTeW1ib2woXCJtYXJrZXJDbHVzdGVyXCIpLCBlZSA9IFN5bWJvbChcIkN1c3RvbU1hcmtlclwiKSwgU2UgPSBTeW1ib2woXCJtYXBUaWxlc0xvYWRlZFwiKSwgcSA9IFtcbiAgXCJjbGlja1wiLFxuICBcImRibGNsaWNrXCIsXG4gIFwiZHJhZ1wiLFxuICBcImRyYWdlbmRcIixcbiAgXCJkcmFnc3RhcnRcIixcbiAgXCJtb3VzZWRvd25cIixcbiAgXCJtb3VzZW1vdmVcIixcbiAgXCJtb3VzZW91dFwiLFxuICBcIm1vdXNlb3ZlclwiLFxuICBcIm1vdXNldXBcIixcbiAgXCJyaWdodGNsaWNrXCJcbl07XG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbmZ1bmN0aW9uIFVlKG4sIGUsIHQsIHMpIHtcbiAgZnVuY3Rpb24gcihvKSB7XG4gICAgcmV0dXJuIG8gaW5zdGFuY2VvZiB0ID8gbyA6IG5ldyB0KGZ1bmN0aW9uKGEpIHtcbiAgICAgIGEobyk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyAodCB8fCAodCA9IFByb21pc2UpKShmdW5jdGlvbihvLCBhKSB7XG4gICAgZnVuY3Rpb24gbCh1KSB7XG4gICAgICB0cnkge1xuICAgICAgICBkKHMubmV4dCh1KSk7XG4gICAgICB9IGNhdGNoIChjKSB7XG4gICAgICAgIGEoYyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGkodSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZChzLnRocm93KHUpKTtcbiAgICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgICAgYShjKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZCh1KSB7XG4gICAgICB1LmRvbmUgPyBvKHUudmFsdWUpIDogcih1LnZhbHVlKS50aGVuKGwsIGkpO1xuICAgIH1cbiAgICBkKChzID0gcy5hcHBseShuLCBlIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG52YXIgRGUgPSBmdW5jdGlvbiBuKGUsIHQpIHtcbiAgaWYgKGUgPT09IHQpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoZSAmJiB0ICYmIHR5cGVvZiBlID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHQgPT0gXCJvYmplY3RcIikge1xuICAgIGlmIChlLmNvbnN0cnVjdG9yICE9PSB0LmNvbnN0cnVjdG9yKVxuICAgICAgcmV0dXJuICExO1xuICAgIHZhciBzLCByLCBvO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBpZiAocyA9IGUubGVuZ3RoLCBzICE9IHQubGVuZ3RoKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBmb3IgKHIgPSBzOyByLS0gIT09IDA7IClcbiAgICAgICAgaWYgKCFuKGVbcl0sIHRbcl0pKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaWYgKGUuY29uc3RydWN0b3IgPT09IFJlZ0V4cClcbiAgICAgIHJldHVybiBlLnNvdXJjZSA9PT0gdC5zb3VyY2UgJiYgZS5mbGFncyA9PT0gdC5mbGFncztcbiAgICBpZiAoZS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpXG4gICAgICByZXR1cm4gZS52YWx1ZU9mKCkgPT09IHQudmFsdWVPZigpO1xuICAgIGlmIChlLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKVxuICAgICAgcmV0dXJuIGUudG9TdHJpbmcoKSA9PT0gdC50b1N0cmluZygpO1xuICAgIGlmIChvID0gT2JqZWN0LmtleXMoZSksIHMgPSBvLmxlbmd0aCwgcyAhPT0gT2JqZWN0LmtleXModCkubGVuZ3RoKVxuICAgICAgcmV0dXJuICExO1xuICAgIGZvciAociA9IHM7IHItLSAhPT0gMDsgKVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgb1tyXSkpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKHIgPSBzOyByLS0gIT09IDA7ICkge1xuICAgICAgdmFyIGEgPSBvW3JdO1xuICAgICAgaWYgKCFuKGVbYV0sIHRbYV0pKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHJldHVybiAhMDtcbiAgfVxuICByZXR1cm4gZSAhPT0gZSAmJiB0ICE9PSB0O1xufTtcbmNvbnN0IGRlID0gXCJfX2dvb2dsZU1hcHNTY3JpcHRJZFwiO1xudmFyIFI7XG4oZnVuY3Rpb24obikge1xuICBuW24uSU5JVElBTElaRUQgPSAwXSA9IFwiSU5JVElBTElaRURcIiwgbltuLkxPQURJTkcgPSAxXSA9IFwiTE9BRElOR1wiLCBuW24uU1VDQ0VTUyA9IDJdID0gXCJTVUNDRVNTXCIsIG5bbi5GQUlMVVJFID0gM10gPSBcIkZBSUxVUkVcIjtcbn0pKFIgfHwgKFIgPSB7fSkpO1xuY2xhc3MgVCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIExvYWRlciB1c2luZyBbW0xvYWRlck9wdGlvbnNdXS4gTm8gZGVmYXVsdHMgYXJlIHNldFxuICAgKiB1c2luZyB0aGlzIGxpYnJhcnksIGluc3RlYWQgdGhlIGRlZmF1bHRzIGFyZSBzZXQgYnkgdGhlIEdvb2dsZSBNYXBzXG4gICAqIEphdmFTY3JpcHQgQVBJIHNlcnZlci5cbiAgICpcbiAgICogYGBgXG4gICAqIGNvbnN0IGxvYWRlciA9IExvYWRlcih7YXBpS2V5LCB2ZXJzaW9uOiAnd2Vla2x5JywgbGlicmFyaWVzOiBbJ3BsYWNlcyddfSk7XG4gICAqIGBgYFxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBhcGlLZXk6IGUsIGF1dGhSZWZlcnJlclBvbGljeTogdCwgY2hhbm5lbDogcywgY2xpZW50OiByLCBpZDogbyA9IGRlLCBsYW5ndWFnZTogYSwgbGlicmFyaWVzOiBsID0gW10sIG1hcElkczogaSwgbm9uY2U6IGQsIHJlZ2lvbjogdSwgcmV0cmllczogYyA9IDMsIHVybDogaCA9IFwiaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzXCIsIHZlcnNpb246IHAgfSkge1xuICAgIGlmICh0aGlzLmNhbGxiYWNrcyA9IFtdLCB0aGlzLmRvbmUgPSAhMSwgdGhpcy5sb2FkaW5nID0gITEsIHRoaXMuZXJyb3JzID0gW10sIHRoaXMuYXBpS2V5ID0gZSwgdGhpcy5hdXRoUmVmZXJyZXJQb2xpY3kgPSB0LCB0aGlzLmNoYW5uZWwgPSBzLCB0aGlzLmNsaWVudCA9IHIsIHRoaXMuaWQgPSBvIHx8IGRlLCB0aGlzLmxhbmd1YWdlID0gYSwgdGhpcy5saWJyYXJpZXMgPSBsLCB0aGlzLm1hcElkcyA9IGksIHRoaXMubm9uY2UgPSBkLCB0aGlzLnJlZ2lvbiA9IHUsIHRoaXMucmV0cmllcyA9IGMsIHRoaXMudXJsID0gaCwgdGhpcy52ZXJzaW9uID0gcCwgVC5pbnN0YW5jZSkge1xuICAgICAgaWYgKCFEZSh0aGlzLm9wdGlvbnMsIFQuaW5zdGFuY2Uub3B0aW9ucykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTG9hZGVyIG11c3Qgbm90IGJlIGNhbGxlZCBhZ2FpbiB3aXRoIGRpZmZlcmVudCBvcHRpb25zLiAke0pTT04uc3RyaW5naWZ5KHRoaXMub3B0aW9ucyl9ICE9PSAke0pTT04uc3RyaW5naWZ5KFQuaW5zdGFuY2Uub3B0aW9ucyl9YCk7XG4gICAgICByZXR1cm4gVC5pbnN0YW5jZTtcbiAgICB9XG4gICAgVC5pbnN0YW5jZSA9IHRoaXM7XG4gIH1cbiAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZlcnNpb246IHRoaXMudmVyc2lvbixcbiAgICAgIGFwaUtleTogdGhpcy5hcGlLZXksXG4gICAgICBjaGFubmVsOiB0aGlzLmNoYW5uZWwsXG4gICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBsaWJyYXJpZXM6IHRoaXMubGlicmFyaWVzLFxuICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2UsXG4gICAgICByZWdpb246IHRoaXMucmVnaW9uLFxuICAgICAgbWFwSWRzOiB0aGlzLm1hcElkcyxcbiAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxuICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgIGF1dGhSZWZlcnJlclBvbGljeTogdGhpcy5hdXRoUmVmZXJyZXJQb2xpY3lcbiAgICB9O1xuICB9XG4gIGdldCBzdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3JzLmxlbmd0aCA/IFIuRkFJTFVSRSA6IHRoaXMuZG9uZSA/IFIuU1VDQ0VTUyA6IHRoaXMubG9hZGluZyA/IFIuTE9BRElORyA6IFIuSU5JVElBTElaRUQ7XG4gIH1cbiAgZ2V0IGZhaWxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb25lICYmICF0aGlzLmxvYWRpbmcgJiYgdGhpcy5lcnJvcnMubGVuZ3RoID49IHRoaXMucmV0cmllcyArIDE7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZVVybCByZXR1cm5zIHRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSBzY3JpcHQgdXJsIGdpdmVuIHRoZSBbW0xvYWRlck9wdGlvbnNdXS5cbiAgICpcbiAgICogQGlnbm9yZVxuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgY3JlYXRlVXJsKCkge1xuICAgIGxldCBlID0gdGhpcy51cmw7XG4gICAgcmV0dXJuIGUgKz0gXCI/Y2FsbGJhY2s9X19nb29nbGVNYXBzQ2FsbGJhY2tcIiwgdGhpcy5hcGlLZXkgJiYgKGUgKz0gYCZrZXk9JHt0aGlzLmFwaUtleX1gKSwgdGhpcy5jaGFubmVsICYmIChlICs9IGAmY2hhbm5lbD0ke3RoaXMuY2hhbm5lbH1gKSwgdGhpcy5jbGllbnQgJiYgKGUgKz0gYCZjbGllbnQ9JHt0aGlzLmNsaWVudH1gKSwgdGhpcy5saWJyYXJpZXMubGVuZ3RoID4gMCAmJiAoZSArPSBgJmxpYnJhcmllcz0ke3RoaXMubGlicmFyaWVzLmpvaW4oXCIsXCIpfWApLCB0aGlzLmxhbmd1YWdlICYmIChlICs9IGAmbGFuZ3VhZ2U9JHt0aGlzLmxhbmd1YWdlfWApLCB0aGlzLnJlZ2lvbiAmJiAoZSArPSBgJnJlZ2lvbj0ke3RoaXMucmVnaW9ufWApLCB0aGlzLnZlcnNpb24gJiYgKGUgKz0gYCZ2PSR7dGhpcy52ZXJzaW9ufWApLCB0aGlzLm1hcElkcyAmJiAoZSArPSBgJm1hcF9pZHM9JHt0aGlzLm1hcElkcy5qb2luKFwiLFwiKX1gKSwgdGhpcy5hdXRoUmVmZXJyZXJQb2xpY3kgJiYgKGUgKz0gYCZhdXRoX3JlZmVycmVyX3BvbGljeT0ke3RoaXMuYXV0aFJlZmVycmVyUG9saWN5fWApLCBlO1xuICB9XG4gIGRlbGV0ZVNjcmlwdCgpIHtcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XG4gICAgZSAmJiBlLnJlbW92ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkIHRoZSBHb29nbGUgTWFwcyBKYXZhU2NyaXB0IEFQSSBzY3JpcHQgYW5kIHJldHVybiBhIFByb21pc2UuXG4gICAqIEBkZXByZWNhdGVkLCB1c2UgaW1wb3J0TGlicmFyeSgpIGluc3RlYWQuXG4gICAqL1xuICBsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLmxvYWRQcm9taXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIExvYWQgdGhlIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHNjcmlwdCBhbmQgcmV0dXJuIGEgUHJvbWlzZS5cbiAgICpcbiAgICogQGlnbm9yZVxuICAgKiBAZGVwcmVjYXRlZCwgdXNlIGltcG9ydExpYnJhcnkoKSBpbnN0ZWFkLlxuICAgKi9cbiAgbG9hZFByb21pc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChlLCB0KSA9PiB7XG4gICAgICB0aGlzLmxvYWRDYWxsYmFjaygocykgPT4ge1xuICAgICAgICBzID8gdChzLmVycm9yKSA6IGUod2luZG93Lmdvb2dsZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBpbXBvcnRMaWJyYXJ5KGUpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlKCksIGdvb2dsZS5tYXBzLmltcG9ydExpYnJhcnkoZSk7XG4gIH1cbiAgLyoqXG4gICAqIExvYWQgdGhlIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJIHNjcmlwdCB3aXRoIGEgY2FsbGJhY2suXG4gICAqIEBkZXByZWNhdGVkLCB1c2UgaW1wb3J0TGlicmFyeSgpIGluc3RlYWQuXG4gICAqL1xuICBsb2FkQ2FsbGJhY2soZSkge1xuICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goZSksIHRoaXMuZXhlY3V0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIHNjcmlwdCBvbiBkb2N1bWVudC5cbiAgICovXG4gIHNldFNjcmlwdCgpIHtcbiAgICB2YXIgZSwgdDtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkpIHtcbiAgICAgIHRoaXMuY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcyA9IHtcbiAgICAgIGtleTogdGhpcy5hcGlLZXksXG4gICAgICBjaGFubmVsOiB0aGlzLmNoYW5uZWwsXG4gICAgICBjbGllbnQ6IHRoaXMuY2xpZW50LFxuICAgICAgbGlicmFyaWVzOiB0aGlzLmxpYnJhcmllcy5sZW5ndGggJiYgdGhpcy5saWJyYXJpZXMsXG4gICAgICB2OiB0aGlzLnZlcnNpb24sXG4gICAgICBtYXBJZHM6IHRoaXMubWFwSWRzLFxuICAgICAgbGFuZ3VhZ2U6IHRoaXMubGFuZ3VhZ2UsXG4gICAgICByZWdpb246IHRoaXMucmVnaW9uLFxuICAgICAgYXV0aFJlZmVycmVyUG9saWN5OiB0aGlzLmF1dGhSZWZlcnJlclBvbGljeVxuICAgIH07XG4gICAgT2JqZWN0LmtleXMocykuZm9yRWFjaChcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAobykgPT4gIXNbb10gJiYgZGVsZXRlIHNbb11cbiAgICApLCAhKCh0ID0gKGUgPSB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5nb29nbGUpID09PSBudWxsIHx8IGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGUubWFwcykgPT09IG51bGwgfHwgdCA9PT0gdm9pZCAwKSAmJiB0LmltcG9ydExpYnJhcnkgfHwgKChvKSA9PiB7XG4gICAgICBsZXQgYSwgbCwgaSwgZCA9IFwiVGhlIEdvb2dsZSBNYXBzIEphdmFTY3JpcHQgQVBJXCIsIHUgPSBcImdvb2dsZVwiLCBjID0gXCJpbXBvcnRMaWJyYXJ5XCIsIGggPSBcIl9faWJfX1wiLCBwID0gZG9jdW1lbnQsIG0gPSB3aW5kb3c7XG4gICAgICBtID0gbVt1XSB8fCAobVt1XSA9IHt9KTtcbiAgICAgIGNvbnN0IGYgPSBtLm1hcHMgfHwgKG0ubWFwcyA9IHt9KSwgZyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksIHYgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCksIHcgPSAoKSA9PiAoXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgYSB8fCAoYSA9IG5ldyBQcm9taXNlKChfLCBFKSA9PiBVZSh0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICB2YXIgYjtcbiAgICAgICAgICB5aWVsZCBsID0gcC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLCBsLmlkID0gdGhpcy5pZCwgdi5zZXQoXCJsaWJyYXJpZXNcIiwgWy4uLmddICsgXCJcIik7XG4gICAgICAgICAgZm9yIChpIGluIG8pXG4gICAgICAgICAgICB2LnNldChpLnJlcGxhY2UoL1tBLVpdL2csICh4KSA9PiBcIl9cIiArIHhbMF0udG9Mb3dlckNhc2UoKSksIG9baV0pO1xuICAgICAgICAgIHYuc2V0KFwiY2FsbGJhY2tcIiwgdSArIFwiLm1hcHMuXCIgKyBoKSwgbC5zcmMgPSB0aGlzLnVybCArIFwiP1wiICsgdiwgZltoXSA9IF8sIGwub25lcnJvciA9ICgpID0+IGEgPSBFKEVycm9yKGQgKyBcIiBjb3VsZCBub3QgbG9hZC5cIikpLCBsLm5vbmNlID0gdGhpcy5ub25jZSB8fCAoKGIgPSBwLnF1ZXJ5U2VsZWN0b3IoXCJzY3JpcHRbbm9uY2VdXCIpKSA9PT0gbnVsbCB8fCBiID09PSB2b2lkIDAgPyB2b2lkIDAgOiBiLm5vbmNlKSB8fCBcIlwiLCBwLmhlYWQuYXBwZW5kKGwpO1xuICAgICAgICB9KSkpXG4gICAgICApO1xuICAgICAgZltjXSA/IGNvbnNvbGUud2FybihkICsgXCIgb25seSBsb2FkcyBvbmNlLiBJZ25vcmluZzpcIiwgbykgOiBmW2NdID0gKF8sIC4uLkUpID0+IGcuYWRkKF8pICYmIHcoKS50aGVuKCgpID0+IGZbY10oXywgLi4uRSkpO1xuICAgIH0pKHMpO1xuICAgIGNvbnN0IHIgPSB0aGlzLmxpYnJhcmllcy5tYXAoKG8pID0+IHRoaXMuaW1wb3J0TGlicmFyeShvKSk7XG4gICAgci5sZW5ndGggfHwgci5wdXNoKHRoaXMuaW1wb3J0TGlicmFyeShcImNvcmVcIikpLCBQcm9taXNlLmFsbChyKS50aGVuKCgpID0+IHRoaXMuY2FsbGJhY2soKSwgKG8pID0+IHtcbiAgICAgIGNvbnN0IGEgPSBuZXcgRXJyb3JFdmVudChcImVycm9yXCIsIHsgZXJyb3I6IG8gfSk7XG4gICAgICB0aGlzLmxvYWRFcnJvckNhbGxiYWNrKGEpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbG9hZGVyIHN0YXRlLlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kZWxldGVTY3JpcHQoKSwgdGhpcy5kb25lID0gITEsIHRoaXMubG9hZGluZyA9ICExLCB0aGlzLmVycm9ycyA9IFtdLCB0aGlzLm9uZXJyb3JFdmVudCA9IG51bGw7XG4gIH1cbiAgcmVzZXRJZlJldHJ5aW5nRmFpbGVkKCkge1xuICAgIHRoaXMuZmFpbGVkICYmIHRoaXMucmVzZXQoKTtcbiAgfVxuICBsb2FkRXJyb3JDYWxsYmFjayhlKSB7XG4gICAgaWYgKHRoaXMuZXJyb3JzLnB1c2goZSksIHRoaXMuZXJyb3JzLmxlbmd0aCA8PSB0aGlzLnJldHJpZXMpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmVycm9ycy5sZW5ndGggKiBNYXRoLnBvdygyLCB0aGlzLmVycm9ycy5sZW5ndGgpO1xuICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQgR29vZ2xlIE1hcHMgc2NyaXB0LCByZXRyeWluZyBpbiAke3R9IG1zLmApLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kZWxldGVTY3JpcHQoKSwgdGhpcy5zZXRTY3JpcHQoKTtcbiAgICAgIH0sIHQpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5vbmVycm9yRXZlbnQgPSBlLCB0aGlzLmNhbGxiYWNrKCk7XG4gIH1cbiAgY2FsbGJhY2soKSB7XG4gICAgdGhpcy5kb25lID0gITAsIHRoaXMubG9hZGluZyA9ICExLCB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlKHRoaXMub25lcnJvckV2ZW50KTtcbiAgICB9KSwgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgfVxuICBleGVjdXRlKCkge1xuICAgIGlmICh0aGlzLnJlc2V0SWZSZXRyeWluZ0ZhaWxlZCgpLCB0aGlzLmRvbmUpXG4gICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgZWxzZSB7XG4gICAgICBpZiAod2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMgJiYgd2luZG93Lmdvb2dsZS5tYXBzLnZlcnNpb24pIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiR29vZ2xlIE1hcHMgYWxyZWFkeSBsb2FkZWQgb3V0c2lkZSBAZ29vZ2xlbWFwcy9qcy1hcGktbG9hZGVyLlRoaXMgbWF5IHJlc3VsdCBpbiB1bmRlc2lyYWJsZSBiZWhhdmlvciBhcyBvcHRpb25zIGFuZCBzY3JpcHQgcGFyYW1ldGVycyBtYXkgbm90IG1hdGNoLlwiKSwgdGhpcy5jYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmxvYWRpbmcgfHwgKHRoaXMubG9hZGluZyA9ICEwLCB0aGlzLnNldFNjcmlwdCgpKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIEZlKG4pIHtcbiAgcmV0dXJuIGNsYXNzIGV4dGVuZHMgbi5PdmVybGF5VmlldyB7XG4gICAgY29uc3RydWN0b3Iocykge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHNlKHRoaXMsIFwiZWxlbWVudFwiKTtcbiAgICAgIHNlKHRoaXMsIFwib3B0c1wiKTtcbiAgICAgIGNvbnN0IHsgZWxlbWVudDogciwgLi4ubyB9ID0gcztcbiAgICAgIHRoaXMuZWxlbWVudCA9IHIsIHRoaXMub3B0cyA9IG8sIHRoaXMub3B0cy5tYXAgJiYgdGhpcy5zZXRNYXAodGhpcy5vcHRzLm1hcCk7XG4gICAgfVxuICAgIGdldFBvc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0cy5wb3NpdGlvbiA/IHRoaXMub3B0cy5wb3NpdGlvbiBpbnN0YW5jZW9mIG4uTGF0TG5nID8gdGhpcy5vcHRzLnBvc2l0aW9uIDogbmV3IG4uTGF0TG5nKHRoaXMub3B0cy5wb3NpdGlvbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXRWaXNpYmxlKCkge1xuICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICByZXR1cm4gcy5zdHlsZS5kaXNwbGF5ICE9PSBcIm5vbmVcIiAmJiBzLnN0eWxlLnZpc2liaWxpdHkgIT09IFwiaGlkZGVuXCIgJiYgKHMuc3R5bGUub3BhY2l0eSA9PT0gXCJcIiB8fCBOdW1iZXIocy5zdHlsZS5vcGFjaXR5KSA+IDAuMDEpO1xuICAgIH1cbiAgICBvbkFkZCgpIHtcbiAgICAgIGlmICghdGhpcy5lbGVtZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBzID0gdGhpcy5nZXRQYW5lcygpO1xuICAgICAgcyAmJiBzLm92ZXJsYXlNb3VzZVRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgICBkcmF3KCkge1xuICAgICAgaWYgKCF0aGlzLmVsZW1lbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLmdldFByb2plY3Rpb24oKSwgciA9IHMgPT0gbnVsbCA/IHZvaWQgMCA6IHMuZnJvbUxhdExuZ1RvRGl2UGl4ZWwodGhpcy5nZXRQb3NpdGlvbigpKTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQsIGEgPSB0aGlzLmVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIGxldCBsLCBpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0cy5hbmNob3JQb2ludCkge1xuICAgICAgICAgIGNhc2UgXCJUT1BfQ0VOVEVSXCI6XG4gICAgICAgICAgICBsID0gci54IC0gYSAvIDIsIGkgPSByLnk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiQk9UVE9NX0NFTlRFUlwiOlxuICAgICAgICAgICAgbCA9IHIueCAtIGEgLyAyLCBpID0gci55IC0gbztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJMRUZUX0NFTlRFUlwiOlxuICAgICAgICAgICAgbCA9IHIueCwgaSA9IHIueSAtIG8gLyAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIlJJR0hUX0NFTlRFUlwiOlxuICAgICAgICAgICAgbCA9IHIueCAtIGEsIGkgPSByLnkgLSBvIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJUT1BfTEVGVFwiOlxuICAgICAgICAgICAgbCA9IHIueCwgaSA9IHIueTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJUT1BfUklHSFRcIjpcbiAgICAgICAgICAgIGwgPSByLnggLSBhLCBpID0gci55O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIkJPVFRPTV9MRUZUXCI6XG4gICAgICAgICAgICBsID0gci54LCBpID0gci55IC0gbztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJCT1RUT01fUklHSFRcIjpcbiAgICAgICAgICAgIGwgPSByLnggLSBhLCBpID0gci55IC0gbztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsID0gci54IC0gYSAvIDIsIGkgPSByLnkgLSBvIC8gMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IGwgKyBcInB4XCIsIHRoaXMuZWxlbWVudC5zdHlsZS50b3AgPSBpICsgXCJweFwiLCB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHt0aGlzLm9wdHMub2Zmc2V0WCB8fCAwfXB4KSB0cmFuc2xhdGVZKCR7dGhpcy5vcHRzLm9mZnNldFkgfHwgMH1weClgLCB0aGlzLm9wdHMuekluZGV4ICYmICh0aGlzLmVsZW1lbnQuc3R5bGUuekluZGV4ID0gdGhpcy5vcHRzLnpJbmRleC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb25SZW1vdmUoKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgICBzZXRPcHRpb25zKHMpIHtcbiAgICAgIGNvbnN0IHsgZWxlbWVudDogciwgLi4ubyB9ID0gcztcbiAgICAgIHRoaXMuZWxlbWVudCA9IHIsIHRoaXMub3B0cyA9IG8sIHRoaXMuZHJhdygpO1xuICAgIH1cbiAgfTtcbn1cbmxldCBoZTtcbmNvbnN0IHBlID0gW1xuICBcImJvdW5kc19jaGFuZ2VkXCIsXG4gIFwiY2VudGVyX2NoYW5nZWRcIixcbiAgXCJjbGlja1wiLFxuICBcImNvbnRleHRtZW51XCIsXG4gIFwiZGJsY2xpY2tcIixcbiAgXCJkcmFnXCIsXG4gIFwiZHJhZ2VuZFwiLFxuICBcImRyYWdzdGFydFwiLFxuICBcImhlYWRpbmdfY2hhbmdlZFwiLFxuICBcImlkbGVcIixcbiAgXCJpc2ZyYWN0aW9uYWx6b29tZW5hYmxlZF9jaGFuZ2VkXCIsXG4gIFwibWFwY2FwYWJpbGl0aWVzX2NoYW5nZWRcIixcbiAgXCJtYXB0eXBlaWRfY2hhbmdlZFwiLFxuICBcIm1vdXNlbW92ZVwiLFxuICBcIm1vdXNlb3V0XCIsXG4gIFwibW91c2VvdmVyXCIsXG4gIFwicHJvamVjdGlvbl9jaGFuZ2VkXCIsXG4gIFwicmVuZGVyaW5ndHlwZV9jaGFuZ2VkXCIsXG4gIFwicmlnaHRjbGlja1wiLFxuICBcInRpbGVzbG9hZGVkXCIsXG4gIFwidGlsdF9jaGFuZ2VkXCIsXG4gIFwiem9vbV9jaGFuZ2VkXCJcbl0sIFZlID0gUCh7XG4gIHByb3BzOiB7XG4gICAgYXBpUHJvbWlzZToge1xuICAgICAgdHlwZTogUHJvbWlzZVxuICAgIH0sXG4gICAgYXBpS2V5OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBcIlwiXG4gICAgfSxcbiAgICB2ZXJzaW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiBcIndlZWtseVwiXG4gICAgfSxcbiAgICBsaWJyYXJpZXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogKCkgPT4gW1wicGxhY2VzXCJdXG4gICAgfSxcbiAgICByZWdpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgbGFuZ3VhZ2U6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgYmFja2dyb3VuZENvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIGNlbnRlcjoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogKCkgPT4gKHsgbGF0OiAwLCBsbmc6IDAgfSlcbiAgICB9LFxuICAgIGNsaWNrYWJsZUljb25zOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBjb250cm9sU2l6ZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBkaXNhYmxlRGVmYXVsdFVpOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBkaXNhYmxlRG91YmxlQ2xpY2tab29tOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBkcmFnZ2FibGU6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIGRyYWdnYWJsZUN1cnNvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBkcmFnZ2luZ0N1cnNvcjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBmdWxsc2NyZWVuQ29udHJvbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgZnVsbHNjcmVlbkNvbnRyb2xQb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBnZXN0dXJlSGFuZGxpbmc6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgaGVhZGluZzoge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBpc0ZyYWN0aW9uYWxab29tRW5hYmxlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAga2V5Ym9hcmRTaG9ydGN1dHM6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIG1hcFR5cGVDb250cm9sOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBtYXBUeXBlQ29udHJvbE9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgbWFwVHlwZUlkOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBtYXBJZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBtYXhab29tOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIG1pblpvb206IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgbm9DbGVhcjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgcGFuQ29udHJvbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgcGFuQ29udHJvbFBvc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHJlc3RyaWN0aW9uOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHJvdGF0ZUNvbnRyb2w6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIHJvdGF0ZUNvbnRyb2xQb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBzY2FsZUNvbnRyb2w6IHtcbiAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICByZXF1aXJlZDogITEsXG4gICAgICBkZWZhdWx0OiB2b2lkIDBcbiAgICB9LFxuICAgIHNjYWxlQ29udHJvbFN0eWxlOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHNjcm9sbHdoZWVsOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBzdHJlZXRWaWV3OiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHN0cmVldFZpZXdDb250cm9sOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6ICExLFxuICAgICAgZGVmYXVsdDogdm9pZCAwXG4gICAgfSxcbiAgICBzdHJlZXRWaWV3Q29udHJvbFBvc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHN0eWxlczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICByZXF1aXJlZDogITFcbiAgICB9LFxuICAgIHRpbHQ6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIHJlcXVpcmVkOiAhMVxuICAgIH0sXG4gICAgem9vbToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICB6b29tQ29udHJvbDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiAhMSxcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMFxuICAgIH0sXG4gICAgem9vbUNvbnRyb2xQb3NpdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6ICExXG4gICAgfSxcbiAgICBub25jZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogXCJcIlxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IHBlLFxuICBzZXR1cChuLCB7IGVtaXQ6IGUgfSkge1xuICAgIGNvbnN0IHQgPSB5KCksIHMgPSB5KCExKSwgciA9IHkoKSwgbyA9IHkoKSwgYSA9IHkoITEpO1xuICAgIEcoTiwgciksIEcoVSwgbyksIEcoU2UsIGEpO1xuICAgIGNvbnN0IGwgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjID0geyAuLi5uIH07XG4gICAgICBPYmplY3Qua2V5cyhjKS5mb3JFYWNoKChmKSA9PiB7XG4gICAgICAgIGNbZl0gPT09IHZvaWQgMCAmJiBkZWxldGUgY1tmXTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcCA9IChmKSA9PiB7XG4gICAgICAgIHZhciBnO1xuICAgICAgICByZXR1cm4gZiA/IHsgcG9zaXRpb246IChnID0gby52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGcuQ29udHJvbFBvc2l0aW9uW2ZdIH0gOiB7fTtcbiAgICAgIH0sIG0gPSB7XG4gICAgICAgIHNjYWxlQ29udHJvbE9wdGlvbnM6IG4uc2NhbGVDb250cm9sU3R5bGUgPyB7IHN0eWxlOiBuLnNjYWxlQ29udHJvbFN0eWxlIH0gOiB7fSxcbiAgICAgICAgcGFuQ29udHJvbE9wdGlvbnM6IHAobi5wYW5Db250cm9sUG9zaXRpb24pLFxuICAgICAgICB6b29tQ29udHJvbE9wdGlvbnM6IHAobi56b29tQ29udHJvbFBvc2l0aW9uKSxcbiAgICAgICAgcm90YXRlQ29udHJvbE9wdGlvbnM6IHAobi5yb3RhdGVDb250cm9sUG9zaXRpb24pLFxuICAgICAgICBzdHJlZXRWaWV3Q29udHJvbE9wdGlvbnM6IHAobi5zdHJlZXRWaWV3Q29udHJvbFBvc2l0aW9uKSxcbiAgICAgICAgZnVsbHNjcmVlbkNvbnRyb2xPcHRpb25zOiBwKG4uZnVsbHNjcmVlbkNvbnRyb2xQb3NpdGlvbiksXG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IG4uZGlzYWJsZURlZmF1bHRVaVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7IC4uLmMsIC4uLm0gfTtcbiAgICB9LCBpID0gTyhcbiAgICAgIFtvLCByXSxcbiAgICAgIChbYywgaF0pID0+IHtcbiAgICAgICAgY29uc3QgcCA9IGMsIG0gPSBoO1xuICAgICAgICBwICYmIG0gJiYgKHAuZXZlbnQuYWRkTGlzdGVuZXJPbmNlKG0sIFwidGlsZXNsb2FkZWRcIiwgKCkgPT4ge1xuICAgICAgICAgIGEudmFsdWUgPSAhMDtcbiAgICAgICAgfSksIHNldFRpbWVvdXQoaSwgMCkpO1xuICAgICAgfSxcbiAgICAgIHsgaW1tZWRpYXRlOiAhMCB9XG4gICAgKSwgZCA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgYXBpS2V5OiBjLCByZWdpb246IGgsIHZlcnNpb246IHAsIGxhbmd1YWdlOiBtLCBsaWJyYXJpZXM6IGYsIG5vbmNlOiBnIH0gPSBuO1xuICAgICAgICBoZSA9IG5ldyBUKHsgYXBpS2V5OiBjLCByZWdpb246IGgsIHZlcnNpb246IHAsIGxhbmd1YWdlOiBtLCBsaWJyYXJpZXM6IGYsIG5vbmNlOiBnIH0pO1xuICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGMpO1xuICAgICAgfVxuICAgIH0sIHUgPSAoYykgPT4ge1xuICAgICAgby52YWx1ZSA9IEkoYy5tYXBzKSwgci52YWx1ZSA9IEkobmV3IGMubWFwcy5NYXAodC52YWx1ZSwgbCgpKSk7XG4gICAgICBjb25zdCBoID0gRmUoby52YWx1ZSk7XG4gICAgICBvLnZhbHVlW2VlXSA9IGgsIHBlLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgdmFyIGY7XG4gICAgICAgIChmID0gci52YWx1ZSkgPT0gbnVsbCB8fCBmLmFkZExpc3RlbmVyKG0sIChnKSA9PiBlKG0sIGcpKTtcbiAgICAgIH0pLCBzLnZhbHVlID0gITA7XG4gICAgICBjb25zdCBwID0gT2JqZWN0LmtleXMobikuZmlsdGVyKFxuICAgICAgICAobSkgPT4gIVtcImFwaVByb21pc2VcIiwgXCJhcGlLZXlcIiwgXCJ2ZXJzaW9uXCIsIFwibGlicmFyaWVzXCIsIFwicmVnaW9uXCIsIFwibGFuZ3VhZ2VcIiwgXCJjZW50ZXJcIiwgXCJ6b29tXCIsIFwibm9uY2VcIl0uaW5jbHVkZXMobSlcbiAgICAgICkubWFwKChtKSA9PiBaKG4sIG0pKTtcbiAgICAgIE8oXG4gICAgICAgIFsoKSA9PiBuLmNlbnRlciwgKCkgPT4gbi56b29tLCAuLi5wXSxcbiAgICAgICAgKFttLCBmXSwgW2csIHZdKSA9PiB7XG4gICAgICAgICAgdmFyIHgsIE0sIEY7XG4gICAgICAgICAgY29uc3QgeyBjZW50ZXI6IHcsIHpvb206IF8sIC4uLkUgfSA9IGwoKTtcbiAgICAgICAgICAoeCA9IHIudmFsdWUpID09IG51bGwgfHwgeC5zZXRPcHRpb25zKEUpLCBmICE9PSB2b2lkIDAgJiYgZiAhPT0gdiAmJiAoKE0gPSByLnZhbHVlKSA9PSBudWxsIHx8IE0uc2V0Wm9vbShmKSk7XG4gICAgICAgICAgY29uc3QgYiA9ICFnIHx8IG0ubG5nICE9PSBnLmxuZyB8fCBtLmxhdCAhPT0gZy5sYXQ7XG4gICAgICAgICAgbSAmJiBiICYmICgoRiA9IHIudmFsdWUpID09IG51bGwgfHwgRi5wYW5UbyhtKSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcbiAgICByZXR1cm4gTWUoKCkgPT4ge1xuICAgICAgbi5hcGlQcm9taXNlICYmIG4uYXBpUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UgPyBuLmFwaVByb21pc2UudGhlbih1KSA6IChkKCksIGhlLmxvYWQoKS50aGVuKHUpKTtcbiAgICB9KSwgQigoKSA9PiB7XG4gICAgICB2YXIgYztcbiAgICAgIGEudmFsdWUgPSAhMSwgci52YWx1ZSAmJiAoKGMgPSBvLnZhbHVlKSA9PSBudWxsIHx8IGMuZXZlbnQuY2xlYXJJbnN0YW5jZUxpc3RlbmVycyhyLnZhbHVlKSk7XG4gICAgfSksIHsgbWFwUmVmOiB0LCByZWFkeTogcywgbWFwOiByLCBhcGk6IG8sIG1hcFRpbGVzTG9hZGVkOiBhIH07XG4gIH1cbn0pO1xuY29uc3QgdGUgPSAobiwgZSkgPT4ge1xuICBjb25zdCB0ID0gbi5fX3ZjY09wdHMgfHwgbjtcbiAgZm9yIChjb25zdCBbcywgcl0gb2YgZSlcbiAgICB0W3NdID0gcjtcbiAgcmV0dXJuIHQ7XG59LCB6ZSA9IHtcbiAgcmVmOiBcIm1hcFJlZlwiLFxuICBjbGFzczogXCJtYXBkaXZcIlxufTtcbmZ1bmN0aW9uIEdlKG4sIGUsIHQsIHMsIHIsIG8pIHtcbiAgcmV0dXJuIFkoKSwgWChcImRpdlwiLCBudWxsLCBbXG4gICAgYWUoXCJkaXZcIiwgemUsIG51bGwsIDUxMiksXG4gICAgUShuLiRzbG90cywgXCJkZWZhdWx0XCIsIFplKE5lKHsgcmVhZHk6IG4ucmVhZHksIG1hcDogbi5tYXAsIGFwaTogbi5hcGksIG1hcFRpbGVzTG9hZGVkOiBuLm1hcFRpbGVzTG9hZGVkIH0pKSwgdm9pZCAwLCAhMClcbiAgXSk7XG59XG5jb25zdCBFdCA9IC8qIEBfX1BVUkVfXyAqLyB0ZShWZSwgW1tcInJlbmRlclwiLCBHZV0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi1kYmY4MmM0MFwiXV0pO1xuZnVuY3Rpb24gSGUobikge1xuICByZXR1cm4gbiAmJiBuLl9fZXNNb2R1bGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIFwiZGVmYXVsdFwiKSA/IG4uZGVmYXVsdCA6IG47XG59XG52YXIgV2UgPSBmdW5jdGlvbiBuKGUsIHQpIHtcbiAgaWYgKGUgPT09IHQpXG4gICAgcmV0dXJuICEwO1xuICBpZiAoZSAmJiB0ICYmIHR5cGVvZiBlID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHQgPT0gXCJvYmplY3RcIikge1xuICAgIGlmIChlLmNvbnN0cnVjdG9yICE9PSB0LmNvbnN0cnVjdG9yKVxuICAgICAgcmV0dXJuICExO1xuICAgIHZhciBzLCByLCBvO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICBpZiAocyA9IGUubGVuZ3RoLCBzICE9IHQubGVuZ3RoKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBmb3IgKHIgPSBzOyByLS0gIT09IDA7IClcbiAgICAgICAgaWYgKCFuKGVbcl0sIHRbcl0pKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaWYgKGUuY29uc3RydWN0b3IgPT09IFJlZ0V4cClcbiAgICAgIHJldHVybiBlLnNvdXJjZSA9PT0gdC5zb3VyY2UgJiYgZS5mbGFncyA9PT0gdC5mbGFncztcbiAgICBpZiAoZS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpXG4gICAgICByZXR1cm4gZS52YWx1ZU9mKCkgPT09IHQudmFsdWVPZigpO1xuICAgIGlmIChlLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKVxuICAgICAgcmV0dXJuIGUudG9TdHJpbmcoKSA9PT0gdC50b1N0cmluZygpO1xuICAgIGlmIChvID0gT2JqZWN0LmtleXMoZSksIHMgPSBvLmxlbmd0aCwgcyAhPT0gT2JqZWN0LmtleXModCkubGVuZ3RoKVxuICAgICAgcmV0dXJuICExO1xuICAgIGZvciAociA9IHM7IHItLSAhPT0gMDsgKVxuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgb1tyXSkpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKHIgPSBzOyByLS0gIT09IDA7ICkge1xuICAgICAgdmFyIGEgPSBvW3JdO1xuICAgICAgaWYgKCFuKGVbYV0sIHRbYV0pKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHJldHVybiAhMDtcbiAgfVxuICByZXR1cm4gZSAhPT0gZSAmJiB0ICE9PSB0O1xufTtcbmNvbnN0ICQgPSAvKiBAX19QVVJFX18gKi8gSGUoV2UpLCBLZSA9IChuKSA9PiBuID09PSBcIk1hcmtlclwiLCBKZSA9IChuKSA9PiBuID09PSBlZSwgRCA9IChuLCBlLCB0LCBzKSA9PiB7XG4gIGNvbnN0IHIgPSB5KCksIG8gPSBDKE4sIHkoKSksIGEgPSBDKFUsIHkoKSksIGwgPSBDKExlLCB5KCkpLCBpID0gSihcbiAgICAoKSA9PiAhIShsLnZhbHVlICYmIGEudmFsdWUgJiYgKHIudmFsdWUgaW5zdGFuY2VvZiBhLnZhbHVlLk1hcmtlciB8fCByLnZhbHVlIGluc3RhbmNlb2YgYS52YWx1ZVtlZV0pKVxuICApO1xuICByZXR1cm4gTyhcbiAgICBbbywgdF0sXG4gICAgKGQsIFt1LCBjXSkgPT4ge1xuICAgICAgdmFyIHAsIG0sIGY7XG4gICAgICBjb25zdCBoID0gISQodC52YWx1ZSwgYykgfHwgby52YWx1ZSAhPT0gdTtcbiAgICAgICFvLnZhbHVlIHx8ICFhLnZhbHVlIHx8ICFoIHx8IChyLnZhbHVlID8gKHIudmFsdWUuc2V0T3B0aW9ucyh0LnZhbHVlKSwgaS52YWx1ZSAmJiAoKHAgPSBsLnZhbHVlKSA9PSBudWxsIHx8IHAucmVtb3ZlTWFya2VyKHIudmFsdWUpLCAobSA9IGwudmFsdWUpID09IG51bGwgfHwgbS5hZGRNYXJrZXIoci52YWx1ZSkpKSA6IChLZShuKSA/IHIudmFsdWUgPSBJKFxuICAgICAgICBuZXcgYS52YWx1ZVtuXSh0LnZhbHVlKVxuICAgICAgKSA6IEplKG4pID8gci52YWx1ZSA9IEkoXG4gICAgICAgIG5ldyBhLnZhbHVlW25dKHQudmFsdWUpXG4gICAgICApIDogci52YWx1ZSA9IEkoXG4gICAgICAgIG5ldyBhLnZhbHVlW25dKHtcbiAgICAgICAgICAuLi50LnZhbHVlLFxuICAgICAgICAgIG1hcDogby52YWx1ZVxuICAgICAgICB9KVxuICAgICAgKSwgaS52YWx1ZSA/IChmID0gbC52YWx1ZSkgPT0gbnVsbCB8fCBmLmFkZE1hcmtlcihyLnZhbHVlKSA6IHIudmFsdWUuc2V0TWFwKG8udmFsdWUpLCBlLmZvckVhY2goKGcpID0+IHtcbiAgICAgICAgdmFyIHY7XG4gICAgICAgICh2ID0gci52YWx1ZSkgPT0gbnVsbCB8fCB2LmFkZExpc3RlbmVyKGcsICh3KSA9PiBzKGcsIHcpKTtcbiAgICAgIH0pKSk7XG4gICAgfSxcbiAgICB7XG4gICAgICBpbW1lZGlhdGU6ICEwXG4gICAgfVxuICApLCBCKCgpID0+IHtcbiAgICB2YXIgZCwgdTtcbiAgICByLnZhbHVlICYmICgoZCA9IGEudmFsdWUpID09IG51bGwgfHwgZC5ldmVudC5jbGVhckluc3RhbmNlTGlzdGVuZXJzKHIudmFsdWUpLCBpLnZhbHVlID8gKHUgPSBsLnZhbHVlKSA9PSBudWxsIHx8IHUucmVtb3ZlTWFya2VyKHIudmFsdWUpIDogci52YWx1ZS5zZXRNYXAobnVsbCkpO1xuICB9KSwgcjtcbn0sIGZlID0gW1xuICBcImFuaW1hdGlvbl9jaGFuZ2VkXCIsXG4gIFwiY2xpY2tcIixcbiAgXCJkYmxjbGlja1wiLFxuICBcInJpZ2h0Y2xpY2tcIixcbiAgXCJkcmFnc3RhcnRcIixcbiAgXCJkcmFnZW5kXCIsXG4gIFwiZHJhZ1wiLFxuICBcIm1vdXNlb3ZlclwiLFxuICBcIm1vdXNlZG93blwiLFxuICBcIm1vdXNlb3V0XCIsXG4gIFwibW91c2V1cFwiLFxuICBcImRyYWdnYWJsZV9jaGFuZ2VkXCIsXG4gIFwiY2xpY2thYmxlX2NoYW5nZWRcIixcbiAgXCJjb250ZXh0bWVudVwiLFxuICBcImN1cnNvcl9jaGFuZ2VkXCIsXG4gIFwiZmxhdF9jaGFuZ2VkXCIsXG4gIFwicmlnaHRjbGlja1wiLFxuICBcInppbmRleF9jaGFuZ2VkXCIsXG4gIFwiaWNvbl9jaGFuZ2VkXCIsXG4gIFwicG9zaXRpb25fY2hhbmdlZFwiLFxuICBcInNoYXBlX2NoYW5nZWRcIixcbiAgXCJ0aXRsZV9jaGFuZ2VkXCIsXG4gIFwidmlzaWJsZV9jaGFuZ2VkXCJcbl0sIFB0ID0gUCh7XG4gIG5hbWU6IFwiTWFya2VyXCIsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogZmUsXG4gIHNldHVwKG4sIHsgZW1pdDogZSwgZXhwb3NlOiB0LCBzbG90czogcyB9KSB7XG4gICAgY29uc3QgciA9IFoobiwgXCJvcHRpb25zXCIpLCBvID0gRChcIk1hcmtlclwiLCBmZSwgciwgZSk7XG4gICAgcmV0dXJuIEcoeGUsIG8pLCB0KHsgbWFya2VyOiBvIH0pLCAoKSA9PiB7XG4gICAgICB2YXIgYTtcbiAgICAgIHJldHVybiAoYSA9IHMuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGEuY2FsbChzKTtcbiAgICB9O1xuICB9XG59KSwgT3QgPSBQKHtcbiAgbmFtZTogXCJQb2x5bGluZVwiLFxuICBwcm9wczoge1xuICAgIG9wdGlvbnM6IHtcbiAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgIHJlcXVpcmVkOiAhMFxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IHEsXG4gIHNldHVwKG4sIHsgZW1pdDogZSB9KSB7XG4gICAgY29uc3QgdCA9IFoobiwgXCJvcHRpb25zXCIpO1xuICAgIHJldHVybiB7IHBvbHlsaW5lOiBEKFwiUG9seWxpbmVcIiwgcSwgdCwgZSkgfTtcbiAgfSxcbiAgcmVuZGVyOiAoKSA9PiBudWxsXG59KSwgeHQgPSBQKHtcbiAgbmFtZTogXCJQb2x5Z29uXCIsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogcSxcbiAgc2V0dXAobiwgeyBlbWl0OiBlIH0pIHtcbiAgICBjb25zdCB0ID0gWihuLCBcIm9wdGlvbnNcIik7XG4gICAgcmV0dXJuIHsgcG9seWdvbjogRChcIlBvbHlnb25cIiwgcSwgdCwgZSkgfTtcbiAgfSxcbiAgcmVuZGVyOiAoKSA9PiBudWxsXG59KSwgbWUgPSBxLmNvbmNhdChbXCJib3VuZHNfY2hhbmdlZFwiXSksIEx0ID0gUCh7XG4gIG5hbWU6IFwiUmVjdGFuZ2xlXCIsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgcmVxdWlyZWQ6ICEwXG4gICAgfVxuICB9LFxuICBlbWl0czogbWUsXG4gIHNldHVwKG4sIHsgZW1pdDogZSB9KSB7XG4gICAgY29uc3QgdCA9IFoobiwgXCJvcHRpb25zXCIpO1xuICAgIHJldHVybiB7IHJlY3RhbmdsZTogRChcIlJlY3RhbmdsZVwiLCBtZSwgdCwgZSkgfTtcbiAgfSxcbiAgcmVuZGVyOiAoKSA9PiBudWxsXG59KSwgZ2UgPSBxLmNvbmNhdChbXCJjZW50ZXJfY2hhbmdlZFwiLCBcInJhZGl1c19jaGFuZ2VkXCJdKSwgU3QgPSBQKHtcbiAgbmFtZTogXCJDaXJjbGVcIixcbiAgcHJvcHM6IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIGVtaXRzOiBnZSxcbiAgc2V0dXAobiwgeyBlbWl0OiBlIH0pIHtcbiAgICBjb25zdCB0ID0gWihuLCBcIm9wdGlvbnNcIik7XG4gICAgcmV0dXJuIHsgY2lyY2xlOiBEKFwiQ2lyY2xlXCIsIGdlLCB0LCBlKSB9O1xuICB9LFxuICByZW5kZXI6ICgpID0+IG51bGxcbn0pLCBZZSA9IFAoe1xuICBwcm9wczoge1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9LFxuICAgIGluZGV4OiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICBkZWZhdWx0OiAxXG4gICAgfVxuICB9LFxuICBlbWl0czogW1wiY29udGVudDpsb2FkZWRcIl0sXG4gIHNldHVwKG4sIHsgZW1pdDogZSB9KSB7XG4gICAgY29uc3QgdCA9IHkobnVsbCksIHMgPSBDKE4sIHkoKSksIHIgPSBDKFUsIHkoKSksIG8gPSBDKFNlLCB5KCExKSksIGEgPSBPKFxuICAgICAgW28sIHIsIHRdLFxuICAgICAgKFtkLCB1LCBjXSkgPT4ge1xuICAgICAgICB1ICYmIGQgJiYgYyAmJiAobChuLnBvc2l0aW9uKSwgZShcImNvbnRlbnQ6bG9hZGVkXCIpLCBzZXRUaW1lb3V0KGEsIDApKTtcbiAgICAgIH0sXG4gICAgICB7IGltbWVkaWF0ZTogITAgfVxuICAgICksIGwgPSAoZCkgPT4ge1xuICAgICAgaWYgKHMudmFsdWUgJiYgci52YWx1ZSAmJiB0LnZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHUgPSByLnZhbHVlLkNvbnRyb2xQb3NpdGlvbltkXTtcbiAgICAgICAgcy52YWx1ZS5jb250cm9sc1t1XS5wdXNoKHQudmFsdWUpO1xuICAgICAgfVxuICAgIH0sIGkgPSAoZCkgPT4ge1xuICAgICAgaWYgKHMudmFsdWUgJiYgci52YWx1ZSkge1xuICAgICAgICBsZXQgdSA9IG51bGw7XG4gICAgICAgIGNvbnN0IGMgPSByLnZhbHVlLkNvbnRyb2xQb3NpdGlvbltkXTtcbiAgICAgICAgcy52YWx1ZS5jb250cm9sc1tjXS5mb3JFYWNoKChoLCBwKSA9PiB7XG4gICAgICAgICAgaCA9PT0gdC52YWx1ZSAmJiAodSA9IHApO1xuICAgICAgICB9KSwgdSAhPT0gbnVsbCAmJiBzLnZhbHVlLmNvbnRyb2xzW2NdLnJlbW92ZUF0KHUpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEIoKCkgPT4gaShuLnBvc2l0aW9uKSksIE8oXG4gICAgICAoKSA9PiBuLnBvc2l0aW9uLFxuICAgICAgKGQsIHUpID0+IHtcbiAgICAgICAgaSh1KSwgbChkKTtcbiAgICAgIH1cbiAgICApLCBPKFxuICAgICAgKCkgPT4gbi5pbmRleCxcbiAgICAgIChkKSA9PiB7XG4gICAgICAgIGQgJiYgdC52YWx1ZSAmJiAodC52YWx1ZS5pbmRleCA9IG4uaW5kZXgpO1xuICAgICAgfVxuICAgICksIHsgY29udHJvbFJlZjogdCB9O1xuICB9XG59KTtcbmNvbnN0IFhlID0ge1xuICByZWY6IFwiY29udHJvbFJlZlwiLFxuICBjbGFzczogXCJjdXN0b20tY29udHJvbC13cmFwcGVyXCJcbn07XG5mdW5jdGlvbiBRZShuLCBlLCB0LCBzLCByLCBvKSB7XG4gIHJldHVybiBZKCksIFgoXCJkaXZcIiwgWGUsIFtcbiAgICBRKG4uJHNsb3RzLCBcImRlZmF1bHRcIiwge30sIHZvaWQgMCwgITApXG4gIF0sIDUxMik7XG59XG5jb25zdCBJdCA9IC8qIEBfX1BVUkVfXyAqLyB0ZShZZSwgW1tcInJlbmRlclwiLCBRZV0sIFtcIl9fc2NvcGVJZFwiLCBcImRhdGEtdi1kMDk5YTNhNlwiXV0pLCB2ZSA9IFtcImNsb3NlY2xpY2tcIiwgXCJjb250ZW50X2NoYW5nZWRcIiwgXCJkb21yZWFkeVwiLCBcInBvc2l0aW9uX2NoYW5nZWRcIiwgXCJ2aXNpYmxlXCIsIFwiemluZGV4X2NoYW5nZWRcIl0sIGV0ID0gUCh7XG4gIGluaGVyaXRBdHRyczogITEsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KVxuICAgIH0sXG4gICAgbW9kZWxWYWx1ZToge1xuICAgICAgdHlwZTogQm9vbGVhblxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IFsuLi52ZSwgXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiXSxcbiAgc2V0dXAobiwgeyBzbG90czogZSwgZW1pdDogdCwgZXhwb3NlOiBzIH0pIHtcbiAgICBjb25zdCByID0geSgpLCBvID0geSgpLCBhID0gQyhOLCB5KCkpLCBsID0gQyhVLCB5KCkpLCBpID0gQyh4ZSwgeSgpKTtcbiAgICBsZXQgZCwgdSA9IG4ubW9kZWxWYWx1ZTtcbiAgICBjb25zdCBjID0gSigoKSA9PiB7XG4gICAgICB2YXIgZjtcbiAgICAgIHJldHVybiAoZiA9IGUuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGYuY2FsbChlKS5zb21lKChnKSA9PiBnLnR5cGUgIT09IEVlKTtcbiAgICB9KSwgaCA9IChmKSA9PiB7XG4gICAgICB1ID0gZiwgdChcInVwZGF0ZTptb2RlbFZhbHVlXCIsIGYpO1xuICAgIH0sIHAgPSAoZikgPT4ge1xuICAgICAgci52YWx1ZSAmJiAoci52YWx1ZS5vcGVuKHsgbWFwOiBhLnZhbHVlLCBhbmNob3I6IGkudmFsdWUsIC4uLmYgfSksIGgoITApKTtcbiAgICB9LCBtID0gKCkgPT4ge1xuICAgICAgci52YWx1ZSAmJiAoci52YWx1ZS5jbG9zZSgpLCBoKCExKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWUoKCkgPT4ge1xuICAgICAgTyhcbiAgICAgICAgW2EsICgpID0+IG4ub3B0aW9uc10sXG4gICAgICAgIChbZiwgZ10sIFt2LCB3XSkgPT4ge1xuICAgICAgICAgIHZhciBFO1xuICAgICAgICAgIGNvbnN0IF8gPSAhJChnLCB3KSB8fCBhLnZhbHVlICE9PSB2O1xuICAgICAgICAgIGEudmFsdWUgJiYgbC52YWx1ZSAmJiBfICYmIChyLnZhbHVlID8gKHIudmFsdWUuc2V0T3B0aW9ucyh7XG4gICAgICAgICAgICAuLi5nLFxuICAgICAgICAgICAgY29udGVudDogYy52YWx1ZSA/IG8udmFsdWUgOiBnLmNvbnRlbnRcbiAgICAgICAgICB9KSwgaS52YWx1ZSB8fCBwKCkpIDogKHIudmFsdWUgPSBJKFxuICAgICAgICAgICAgbmV3IGwudmFsdWUuSW5mb1dpbmRvdyh7XG4gICAgICAgICAgICAgIC4uLmcsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGMudmFsdWUgPyBvLnZhbHVlIDogZy5jb250ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICksIGkudmFsdWUgJiYgKGQgPSBpLnZhbHVlLmFkZExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgcCgpO1xuICAgICAgICAgIH0pKSwgKCFpLnZhbHVlIHx8IHUpICYmIHAoKSwgdmUuZm9yRWFjaCgoYikgPT4ge1xuICAgICAgICAgICAgdmFyIHg7XG4gICAgICAgICAgICAoeCA9IHIudmFsdWUpID09IG51bGwgfHwgeC5hZGRMaXN0ZW5lcihiLCAoTSkgPT4gdChiLCBNKSk7XG4gICAgICAgICAgfSksIChFID0gci52YWx1ZSkgPT0gbnVsbCB8fCBFLmFkZExpc3RlbmVyKFwiY2xvc2VjbGlja1wiLCAoKSA9PiBoKCExKSkpKTtcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGltbWVkaWF0ZTogITBcbiAgICAgICAgfVxuICAgICAgKSwgTyhcbiAgICAgICAgKCkgPT4gbi5tb2RlbFZhbHVlLFxuICAgICAgICAoZikgPT4ge1xuICAgICAgICAgIGYgIT09IHUgJiYgKGYgPyBwKCkgOiBtKCkpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pLCBCKCgpID0+IHtcbiAgICAgIHZhciBmO1xuICAgICAgZCAmJiBkLnJlbW92ZSgpLCByLnZhbHVlICYmICgoZiA9IGwudmFsdWUpID09IG51bGwgfHwgZi5ldmVudC5jbGVhckluc3RhbmNlTGlzdGVuZXJzKHIudmFsdWUpLCBtKCkpO1xuICAgIH0pLCBzKHsgaW5mb1dpbmRvdzogciwgb3BlbjogcCwgY2xvc2U6IG0gfSksIHsgaW5mb1dpbmRvdzogciwgaW5mb1dpbmRvd1JlZjogbywgaGFzU2xvdENvbnRlbnQ6IGMsIG9wZW46IHAsIGNsb3NlOiBtIH07XG4gIH1cbn0pO1xuY29uc3QgdHQgPSB7XG4gIGtleTogMCxcbiAgY2xhc3M6IFwiaW5mby13aW5kb3ctd3JhcHBlclwiXG59O1xuZnVuY3Rpb24gc3QobiwgZSwgdCwgcywgciwgbykge1xuICByZXR1cm4gbi5oYXNTbG90Q29udGVudCA/IChZKCksIFgoXCJkaXZcIiwgdHQsIFtcbiAgICBhZShcImRpdlwiLCBQZSh7IHJlZjogXCJpbmZvV2luZG93UmVmXCIgfSwgbi4kYXR0cnMpLCBbXG4gICAgICBRKG4uJHNsb3RzLCBcImRlZmF1bHRcIiwge30sIHZvaWQgMCwgITApXG4gICAgXSwgMTYpXG4gIF0pKSA6IE9lKFwiXCIsICEwKTtcbn1cbmNvbnN0IEF0ID0gLyogQF9fUFVSRV9fICovIHRlKGV0LCBbW1wicmVuZGVyXCIsIHN0XSwgW1wiX19zY29wZUlkXCIsIFwiZGF0YS12LWNiZTE3MDdiXCJdXSksIHllID0gW1xuICBJbnQ4QXJyYXksXG4gIFVpbnQ4QXJyYXksXG4gIFVpbnQ4Q2xhbXBlZEFycmF5LFxuICBJbnQxNkFycmF5LFxuICBVaW50MTZBcnJheSxcbiAgSW50MzJBcnJheSxcbiAgVWludDMyQXJyYXksXG4gIEZsb2F0MzJBcnJheSxcbiAgRmxvYXQ2NEFycmF5XG5dLCByZSA9IDEsIFYgPSA4O1xuY2xhc3MgbGUge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbmRleCBmcm9tIHJhdyBgQXJyYXlCdWZmZXJgIGRhdGEuXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGRhdGFcbiAgICovXG4gIHN0YXRpYyBmcm9tKGUpIHtcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIEFycmF5QnVmZmVyLlwiKTtcbiAgICBjb25zdCBbdCwgc10gPSBuZXcgVWludDhBcnJheShlLCAwLCAyKTtcbiAgICBpZiAodCAhPT0gMjE5KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YSBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgaW4gYSBLREJ1c2ggZm9ybWF0LlwiKTtcbiAgICBjb25zdCByID0gcyA+PiA0O1xuICAgIGlmIChyICE9PSByZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihgR290IHYke3J9IGRhdGEgd2hlbiBleHBlY3RlZCB2JHtyZX0uYCk7XG4gICAgY29uc3QgbyA9IHllW3MgJiAxNV07XG4gICAgaWYgKCFvKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGFycmF5IHR5cGUuXCIpO1xuICAgIGNvbnN0IFthXSA9IG5ldyBVaW50MTZBcnJheShlLCAyLCAxKSwgW2xdID0gbmV3IFVpbnQzMkFycmF5KGUsIDQsIDEpO1xuICAgIHJldHVybiBuZXcgbGUobCwgYSwgbywgZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5kZXggdGhhdCB3aWxsIGhvbGQgYSBnaXZlbiBudW1iZXIgb2YgaXRlbXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBudW1JdGVtc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW25vZGVTaXplPTY0XSBTaXplIG9mIHRoZSBLRC10cmVlIG5vZGUgKDY0IGJ5IGRlZmF1bHQpLlxuICAgKiBAcGFyYW0ge1R5cGVkQXJyYXlDb25zdHJ1Y3Rvcn0gW0FycmF5VHlwZT1GbG9hdDY0QXJyYXldIFRoZSBhcnJheSB0eXBlIHVzZWQgZm9yIGNvb3JkaW5hdGVzIHN0b3JhZ2UgKGBGbG9hdDY0QXJyYXlgIGJ5IGRlZmF1bHQpLlxuICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBbZGF0YV0gKEZvciBpbnRlcm5hbCB1c2Ugb25seSlcbiAgICovXG4gIGNvbnN0cnVjdG9yKGUsIHQgPSA2NCwgcyA9IEZsb2F0NjRBcnJheSwgcikge1xuICAgIGlmIChpc05hTihlKSB8fCBlIDwgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5wZXhwZWN0ZWQgbnVtSXRlbXMgdmFsdWU6ICR7ZX0uYCk7XG4gICAgdGhpcy5udW1JdGVtcyA9ICtlLCB0aGlzLm5vZGVTaXplID0gTWF0aC5taW4oTWF0aC5tYXgoK3QsIDIpLCA2NTUzNSksIHRoaXMuQXJyYXlUeXBlID0gcywgdGhpcy5JbmRleEFycmF5VHlwZSA9IGUgPCA2NTUzNiA/IFVpbnQxNkFycmF5IDogVWludDMyQXJyYXk7XG4gICAgY29uc3QgbyA9IHllLmluZGV4T2YodGhpcy5BcnJheVR5cGUpLCBhID0gZSAqIDIgKiB0aGlzLkFycmF5VHlwZS5CWVRFU19QRVJfRUxFTUVOVCwgbCA9IGUgKiB0aGlzLkluZGV4QXJyYXlUeXBlLkJZVEVTX1BFUl9FTEVNRU5ULCBpID0gKDggLSBsICUgOCkgJSA4O1xuICAgIGlmIChvIDwgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlZCBhcnJheSBjbGFzczogJHtzfS5gKTtcbiAgICByICYmIHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/ICh0aGlzLmRhdGEgPSByLCB0aGlzLmlkcyA9IG5ldyB0aGlzLkluZGV4QXJyYXlUeXBlKHRoaXMuZGF0YSwgViwgZSksIHRoaXMuY29vcmRzID0gbmV3IHRoaXMuQXJyYXlUeXBlKHRoaXMuZGF0YSwgViArIGwgKyBpLCBlICogMiksIHRoaXMuX3BvcyA9IGUgKiAyLCB0aGlzLl9maW5pc2hlZCA9ICEwKSA6ICh0aGlzLmRhdGEgPSBuZXcgQXJyYXlCdWZmZXIoViArIGEgKyBsICsgaSksIHRoaXMuaWRzID0gbmV3IHRoaXMuSW5kZXhBcnJheVR5cGUodGhpcy5kYXRhLCBWLCBlKSwgdGhpcy5jb29yZHMgPSBuZXcgdGhpcy5BcnJheVR5cGUodGhpcy5kYXRhLCBWICsgbCArIGksIGUgKiAyKSwgdGhpcy5fcG9zID0gMCwgdGhpcy5fZmluaXNoZWQgPSAhMSwgbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhLCAwLCAyKS5zZXQoWzIxOSwgKHJlIDw8IDQpICsgb10pLCBuZXcgVWludDE2QXJyYXkodGhpcy5kYXRhLCAyLCAxKVswXSA9IHQsIG5ldyBVaW50MzJBcnJheSh0aGlzLmRhdGEsIDQsIDEpWzBdID0gZSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIHBvaW50IHRvIHRoZSBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICogQHJldHVybnMge251bWJlcn0gQW4gaW5jcmVtZW50YWwgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBhZGRlZCBpdGVtIChzdGFydGluZyBmcm9tIGAwYCkuXG4gICAqL1xuICBhZGQoZSwgdCkge1xuICAgIGNvbnN0IHMgPSB0aGlzLl9wb3MgPj4gMTtcbiAgICByZXR1cm4gdGhpcy5pZHNbc10gPSBzLCB0aGlzLmNvb3Jkc1t0aGlzLl9wb3MrK10gPSBlLCB0aGlzLmNvb3Jkc1t0aGlzLl9wb3MrK10gPSB0LCBzO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGluZGV4aW5nIG9mIHRoZSBhZGRlZCBwb2ludHMuXG4gICAqL1xuICBmaW5pc2goKSB7XG4gICAgY29uc3QgZSA9IHRoaXMuX3BvcyA+PiAxO1xuICAgIGlmIChlICE9PSB0aGlzLm51bUl0ZW1zKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZGRlZCAke2V9IGl0ZW1zIHdoZW4gZXhwZWN0ZWQgJHt0aGlzLm51bUl0ZW1zfS5gKTtcbiAgICByZXR1cm4gaWUodGhpcy5pZHMsIHRoaXMuY29vcmRzLCB0aGlzLm5vZGVTaXplLCAwLCB0aGlzLm51bUl0ZW1zIC0gMSwgMCksIHRoaXMuX2ZpbmlzaGVkID0gITAsIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFNlYXJjaCB0aGUgaW5kZXggZm9yIGl0ZW1zIHdpdGhpbiBhIGdpdmVuIGJvdW5kaW5nIGJveC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pbllcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFhcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFlcbiAgICogQHJldHVybnMge251bWJlcltdfSBBbiBhcnJheSBvZiBpbmRpY2VzIGNvcnJlcG9uZGluZyB0byB0aGUgZm91bmQgaXRlbXMuXG4gICAqL1xuICByYW5nZShlLCB0LCBzLCByKSB7XG4gICAgaWYgKCF0aGlzLl9maW5pc2hlZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgbm90IHlldCBpbmRleGVkIC0gY2FsbCBpbmRleC5maW5pc2goKS5cIik7XG4gICAgY29uc3QgeyBpZHM6IG8sIGNvb3JkczogYSwgbm9kZVNpemU6IGwgfSA9IHRoaXMsIGkgPSBbMCwgby5sZW5ndGggLSAxLCAwXSwgZCA9IFtdO1xuICAgIGZvciAoOyBpLmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCB1ID0gaS5wb3AoKSB8fCAwLCBjID0gaS5wb3AoKSB8fCAwLCBoID0gaS5wb3AoKSB8fCAwO1xuICAgICAgaWYgKGMgLSBoIDw9IGwpIHtcbiAgICAgICAgZm9yIChsZXQgZyA9IGg7IGcgPD0gYzsgZysrKSB7XG4gICAgICAgICAgY29uc3QgdiA9IGFbMiAqIGddLCB3ID0gYVsyICogZyArIDFdO1xuICAgICAgICAgIHYgPj0gZSAmJiB2IDw9IHMgJiYgdyA+PSB0ICYmIHcgPD0gciAmJiBkLnB1c2gob1tnXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBwID0gaCArIGMgPj4gMSwgbSA9IGFbMiAqIHBdLCBmID0gYVsyICogcCArIDFdO1xuICAgICAgbSA+PSBlICYmIG0gPD0gcyAmJiBmID49IHQgJiYgZiA8PSByICYmIGQucHVzaChvW3BdKSwgKHUgPT09IDAgPyBlIDw9IG0gOiB0IDw9IGYpICYmIChpLnB1c2goaCksIGkucHVzaChwIC0gMSksIGkucHVzaCgxIC0gdSkpLCAodSA9PT0gMCA/IHMgPj0gbSA6IHIgPj0gZikgJiYgKGkucHVzaChwICsgMSksIGkucHVzaChjKSwgaS5wdXNoKDEgLSB1KSk7XG4gICAgfVxuICAgIHJldHVybiBkO1xuICB9XG4gIC8qKlxuICAgKiBTZWFyY2ggdGhlIGluZGV4IGZvciBpdGVtcyB3aXRoaW4gYSBnaXZlbiByYWRpdXMuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBxeFxuICAgKiBAcGFyYW0ge251bWJlcn0gcXlcbiAgICogQHBhcmFtIHtudW1iZXJ9IHIgUXVlcnkgcmFkaXVzLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyW119IEFuIGFycmF5IG9mIGluZGljZXMgY29ycmVwb25kaW5nIHRvIHRoZSBmb3VuZCBpdGVtcy5cbiAgICovXG4gIHdpdGhpbihlLCB0LCBzKSB7XG4gICAgaWYgKCF0aGlzLl9maW5pc2hlZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgbm90IHlldCBpbmRleGVkIC0gY2FsbCBpbmRleC5maW5pc2goKS5cIik7XG4gICAgY29uc3QgeyBpZHM6IHIsIGNvb3Jkczogbywgbm9kZVNpemU6IGEgfSA9IHRoaXMsIGwgPSBbMCwgci5sZW5ndGggLSAxLCAwXSwgaSA9IFtdLCBkID0gcyAqIHM7XG4gICAgZm9yICg7IGwubGVuZ3RoOyApIHtcbiAgICAgIGNvbnN0IHUgPSBsLnBvcCgpIHx8IDAsIGMgPSBsLnBvcCgpIHx8IDAsIGggPSBsLnBvcCgpIHx8IDA7XG4gICAgICBpZiAoYyAtIGggPD0gYSkge1xuICAgICAgICBmb3IgKGxldCBnID0gaDsgZyA8PSBjOyBnKyspXG4gICAgICAgICAgd2Uob1syICogZ10sIG9bMiAqIGcgKyAxXSwgZSwgdCkgPD0gZCAmJiBpLnB1c2gocltnXSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgcCA9IGggKyBjID4+IDEsIG0gPSBvWzIgKiBwXSwgZiA9IG9bMiAqIHAgKyAxXTtcbiAgICAgIHdlKG0sIGYsIGUsIHQpIDw9IGQgJiYgaS5wdXNoKHJbcF0pLCAodSA9PT0gMCA/IGUgLSBzIDw9IG0gOiB0IC0gcyA8PSBmKSAmJiAobC5wdXNoKGgpLCBsLnB1c2gocCAtIDEpLCBsLnB1c2goMSAtIHUpKSwgKHUgPT09IDAgPyBlICsgcyA+PSBtIDogdCArIHMgPj0gZikgJiYgKGwucHVzaChwICsgMSksIGwucHVzaChjKSwgbC5wdXNoKDEgLSB1KSk7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG59XG5mdW5jdGlvbiBpZShuLCBlLCB0LCBzLCByLCBvKSB7XG4gIGlmIChyIC0gcyA8PSB0KVxuICAgIHJldHVybjtcbiAgY29uc3QgYSA9IHMgKyByID4+IDE7XG4gIEllKG4sIGUsIGEsIHMsIHIsIG8pLCBpZShuLCBlLCB0LCBzLCBhIC0gMSwgMSAtIG8pLCBpZShuLCBlLCB0LCBhICsgMSwgciwgMSAtIG8pO1xufVxuZnVuY3Rpb24gSWUobiwgZSwgdCwgcywgciwgbykge1xuICBmb3IgKDsgciA+IHM7ICkge1xuICAgIGlmIChyIC0gcyA+IDYwMCkge1xuICAgICAgY29uc3QgZCA9IHIgLSBzICsgMSwgdSA9IHQgLSBzICsgMSwgYyA9IE1hdGgubG9nKGQpLCBoID0gMC41ICogTWF0aC5leHAoMiAqIGMgLyAzKSwgcCA9IDAuNSAqIE1hdGguc3FydChjICogaCAqIChkIC0gaCkgLyBkKSAqICh1IC0gZCAvIDIgPCAwID8gLTEgOiAxKSwgbSA9IE1hdGgubWF4KHMsIE1hdGguZmxvb3IodCAtIHUgKiBoIC8gZCArIHApKSwgZiA9IE1hdGgubWluKHIsIE1hdGguZmxvb3IodCArIChkIC0gdSkgKiBoIC8gZCArIHApKTtcbiAgICAgIEllKG4sIGUsIHQsIG0sIGYsIG8pO1xuICAgIH1cbiAgICBjb25zdCBhID0gZVsyICogdCArIG9dO1xuICAgIGxldCBsID0gcywgaSA9IHI7XG4gICAgZm9yICh6KG4sIGUsIHMsIHQpLCBlWzIgKiByICsgb10gPiBhICYmIHoobiwgZSwgcywgcik7IGwgPCBpOyApIHtcbiAgICAgIGZvciAoeihuLCBlLCBsLCBpKSwgbCsrLCBpLS07IGVbMiAqIGwgKyBvXSA8IGE7IClcbiAgICAgICAgbCsrO1xuICAgICAgZm9yICg7IGVbMiAqIGkgKyBvXSA+IGE7IClcbiAgICAgICAgaS0tO1xuICAgIH1cbiAgICBlWzIgKiBzICsgb10gPT09IGEgPyB6KG4sIGUsIHMsIGkpIDogKGkrKywgeihuLCBlLCBpLCByKSksIGkgPD0gdCAmJiAocyA9IGkgKyAxKSwgdCA8PSBpICYmIChyID0gaSAtIDEpO1xuICB9XG59XG5mdW5jdGlvbiB6KG4sIGUsIHQsIHMpIHtcbiAgbmUobiwgdCwgcyksIG5lKGUsIDIgKiB0LCAyICogcyksIG5lKGUsIDIgKiB0ICsgMSwgMiAqIHMgKyAxKTtcbn1cbmZ1bmN0aW9uIG5lKG4sIGUsIHQpIHtcbiAgY29uc3QgcyA9IG5bZV07XG4gIG5bZV0gPSBuW3RdLCBuW3RdID0gcztcbn1cbmZ1bmN0aW9uIHdlKG4sIGUsIHQsIHMpIHtcbiAgY29uc3QgciA9IG4gLSB0LCBvID0gZSAtIHM7XG4gIHJldHVybiByICogciArIG8gKiBvO1xufVxuY29uc3QgcnQgPSB7XG4gIG1pblpvb206IDAsXG4gIC8vIG1pbiB6b29tIHRvIGdlbmVyYXRlIGNsdXN0ZXJzIG9uXG4gIG1heFpvb206IDE2LFxuICAvLyBtYXggem9vbSBsZXZlbCB0byBjbHVzdGVyIHRoZSBwb2ludHMgb25cbiAgbWluUG9pbnRzOiAyLFxuICAvLyBtaW5pbXVtIHBvaW50cyB0byBmb3JtIGEgY2x1c3RlclxuICByYWRpdXM6IDQwLFxuICAvLyBjbHVzdGVyIHJhZGl1cyBpbiBwaXhlbHNcbiAgZXh0ZW50OiA1MTIsXG4gIC8vIHRpbGUgZXh0ZW50IChyYWRpdXMgaXMgY2FsY3VsYXRlZCByZWxhdGl2ZSB0byBpdClcbiAgbm9kZVNpemU6IDY0LFxuICAvLyBzaXplIG9mIHRoZSBLRC10cmVlIGxlYWYgbm9kZSwgYWZmZWN0cyBwZXJmb3JtYW5jZVxuICBsb2c6ICExLFxuICAvLyB3aGV0aGVyIHRvIGxvZyB0aW1pbmcgaW5mb1xuICAvLyB3aGV0aGVyIHRvIGdlbmVyYXRlIG51bWVyaWMgaWRzIGZvciBpbnB1dCBmZWF0dXJlcyAoaW4gdmVjdG9yIHRpbGVzKVxuICBnZW5lcmF0ZUlkOiAhMSxcbiAgLy8gYSByZWR1Y2UgZnVuY3Rpb24gZm9yIGNhbGN1bGF0aW5nIGN1c3RvbSBjbHVzdGVyIHByb3BlcnRpZXNcbiAgcmVkdWNlOiBudWxsLFxuICAvLyAoYWNjdW11bGF0ZWQsIHByb3BzKSA9PiB7IGFjY3VtdWxhdGVkLnN1bSArPSBwcm9wcy5zdW07IH1cbiAgLy8gcHJvcGVydGllcyB0byB1c2UgZm9yIGluZGl2aWR1YWwgcG9pbnRzIHdoZW4gcnVubmluZyB0aGUgcmVkdWNlclxuICBtYXA6IChuKSA9PiBuXG4gIC8vIHByb3BzID0+ICh7c3VtOiBwcm9wcy5teV92YWx1ZX0pXG59LCBfZSA9IE1hdGguZnJvdW5kIHx8ICgobikgPT4gKGUpID0+IChuWzBdID0gK2UsIG5bMF0pKShuZXcgRmxvYXQzMkFycmF5KDEpKSwgQSA9IDIsIFMgPSAzLCBvZSA9IDQsIEwgPSA1LCBBZSA9IDY7XG5jbGFzcyBUZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUocnQpLCBlKSwgdGhpcy50cmVlcyA9IG5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4Wm9vbSArIDEpLCB0aGlzLnN0cmlkZSA9IHRoaXMub3B0aW9ucy5yZWR1Y2UgPyA3IDogNiwgdGhpcy5jbHVzdGVyUHJvcHMgPSBbXTtcbiAgfVxuICBsb2FkKGUpIHtcbiAgICBjb25zdCB7IGxvZzogdCwgbWluWm9vbTogcywgbWF4Wm9vbTogciB9ID0gdGhpcy5vcHRpb25zO1xuICAgIHQgJiYgY29uc29sZS50aW1lKFwidG90YWwgdGltZVwiKTtcbiAgICBjb25zdCBvID0gYHByZXBhcmUgJHtlLmxlbmd0aH0gcG9pbnRzYDtcbiAgICB0ICYmIGNvbnNvbGUudGltZShvKSwgdGhpcy5wb2ludHMgPSBlO1xuICAgIGNvbnN0IGEgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGQgPSBlW2ldO1xuICAgICAgaWYgKCFkLmdlb21ldHJ5KVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGNvbnN0IFt1LCBjXSA9IGQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsIGggPSBfZShXKHUpKSwgcCA9IF9lKEsoYykpO1xuICAgICAgYS5wdXNoKFxuICAgICAgICBoLFxuICAgICAgICBwLFxuICAgICAgICAvLyBwcm9qZWN0ZWQgcG9pbnQgY29vcmRpbmF0ZXNcbiAgICAgICAgMSAvIDAsXG4gICAgICAgIC8vIHRoZSBsYXN0IHpvb20gdGhlIHBvaW50IHdhcyBwcm9jZXNzZWQgYXRcbiAgICAgICAgaSxcbiAgICAgICAgLy8gaW5kZXggb2YgdGhlIHNvdXJjZSBmZWF0dXJlIGluIHRoZSBvcmlnaW5hbCBpbnB1dCBhcnJheVxuICAgICAgICAtMSxcbiAgICAgICAgLy8gcGFyZW50IGNsdXN0ZXIgaWRcbiAgICAgICAgMVxuICAgICAgICAvLyBudW1iZXIgb2YgcG9pbnRzIGluIGEgY2x1c3RlclxuICAgICAgKSwgdGhpcy5vcHRpb25zLnJlZHVjZSAmJiBhLnB1c2goMCk7XG4gICAgfVxuICAgIGxldCBsID0gdGhpcy50cmVlc1tyICsgMV0gPSB0aGlzLl9jcmVhdGVUcmVlKGEpO1xuICAgIHQgJiYgY29uc29sZS50aW1lRW5kKG8pO1xuICAgIGZvciAobGV0IGkgPSByOyBpID49IHM7IGktLSkge1xuICAgICAgY29uc3QgZCA9ICtEYXRlLm5vdygpO1xuICAgICAgbCA9IHRoaXMudHJlZXNbaV0gPSB0aGlzLl9jcmVhdGVUcmVlKHRoaXMuX2NsdXN0ZXIobCwgaSkpLCB0ICYmIGNvbnNvbGUubG9nKFwieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zXCIsIGksIGwubnVtSXRlbXMsICtEYXRlLm5vdygpIC0gZCk7XG4gICAgfVxuICAgIHJldHVybiB0ICYmIGNvbnNvbGUudGltZUVuZChcInRvdGFsIHRpbWVcIiksIHRoaXM7XG4gIH1cbiAgZ2V0Q2x1c3RlcnMoZSwgdCkge1xuICAgIGxldCBzID0gKChlWzBdICsgMTgwKSAlIDM2MCArIDM2MCkgJSAzNjAgLSAxODA7XG4gICAgY29uc3QgciA9IE1hdGgubWF4KC05MCwgTWF0aC5taW4oOTAsIGVbMV0pKTtcbiAgICBsZXQgbyA9IGVbMl0gPT09IDE4MCA/IDE4MCA6ICgoZVsyXSArIDE4MCkgJSAzNjAgKyAzNjApICUgMzYwIC0gMTgwO1xuICAgIGNvbnN0IGEgPSBNYXRoLm1heCgtOTAsIE1hdGgubWluKDkwLCBlWzNdKSk7XG4gICAgaWYgKGVbMl0gLSBlWzBdID49IDM2MClcbiAgICAgIHMgPSAtMTgwLCBvID0gMTgwO1xuICAgIGVsc2UgaWYgKHMgPiBvKSB7XG4gICAgICBjb25zdCBjID0gdGhpcy5nZXRDbHVzdGVycyhbcywgciwgMTgwLCBhXSwgdCksIGggPSB0aGlzLmdldENsdXN0ZXJzKFstMTgwLCByLCBvLCBhXSwgdCk7XG4gICAgICByZXR1cm4gYy5jb25jYXQoaCk7XG4gICAgfVxuICAgIGNvbnN0IGwgPSB0aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh0KV0sIGkgPSBsLnJhbmdlKFcocyksIEsoYSksIFcobyksIEsocikpLCBkID0gbC5kYXRhLCB1ID0gW107XG4gICAgZm9yIChjb25zdCBjIG9mIGkpIHtcbiAgICAgIGNvbnN0IGggPSB0aGlzLnN0cmlkZSAqIGM7XG4gICAgICB1LnB1c2goZFtoICsgTF0gPiAxID8ga2UoZCwgaCwgdGhpcy5jbHVzdGVyUHJvcHMpIDogdGhpcy5wb2ludHNbZFtoICsgU11dKTtcbiAgICB9XG4gICAgcmV0dXJuIHU7XG4gIH1cbiAgZ2V0Q2hpbGRyZW4oZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLl9nZXRPcmlnaW5JZChlKSwgcyA9IHRoaXMuX2dldE9yaWdpblpvb20oZSksIHIgPSBcIk5vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLlwiLCBvID0gdGhpcy50cmVlc1tzXTtcbiAgICBpZiAoIW8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3Iocik7XG4gICAgY29uc3QgYSA9IG8uZGF0YTtcbiAgICBpZiAodCAqIHRoaXMuc3RyaWRlID49IGEubGVuZ3RoKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKHIpO1xuICAgIGNvbnN0IGwgPSB0aGlzLm9wdGlvbnMucmFkaXVzIC8gKHRoaXMub3B0aW9ucy5leHRlbnQgKiBNYXRoLnBvdygyLCBzIC0gMSkpLCBpID0gYVt0ICogdGhpcy5zdHJpZGVdLCBkID0gYVt0ICogdGhpcy5zdHJpZGUgKyAxXSwgdSA9IG8ud2l0aGluKGksIGQsIGwpLCBjID0gW107XG4gICAgZm9yIChjb25zdCBoIG9mIHUpIHtcbiAgICAgIGNvbnN0IHAgPSBoICogdGhpcy5zdHJpZGU7XG4gICAgICBhW3AgKyBvZV0gPT09IGUgJiYgYy5wdXNoKGFbcCArIExdID4gMSA/IGtlKGEsIHAsIHRoaXMuY2x1c3RlclByb3BzKSA6IHRoaXMucG9pbnRzW2FbcCArIFNdXSk7XG4gICAgfVxuICAgIGlmIChjLmxlbmd0aCA9PT0gMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihyKTtcbiAgICByZXR1cm4gYztcbiAgfVxuICBnZXRMZWF2ZXMoZSwgdCwgcykge1xuICAgIHQgPSB0IHx8IDEwLCBzID0gcyB8fCAwO1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICByZXR1cm4gdGhpcy5fYXBwZW5kTGVhdmVzKHIsIGUsIHQsIHMsIDApLCByO1xuICB9XG4gIGdldFRpbGUoZSwgdCwgcykge1xuICAgIGNvbnN0IHIgPSB0aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbShlKV0sIG8gPSBNYXRoLnBvdygyLCBlKSwgeyBleHRlbnQ6IGEsIHJhZGl1czogbCB9ID0gdGhpcy5vcHRpb25zLCBpID0gbCAvIGEsIGQgPSAocyAtIGkpIC8gbywgdSA9IChzICsgMSArIGkpIC8gbywgYyA9IHtcbiAgICAgIGZlYXR1cmVzOiBbXVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhcbiAgICAgIHIucmFuZ2UoKHQgLSBpKSAvIG8sIGQsICh0ICsgMSArIGkpIC8gbywgdSksXG4gICAgICByLmRhdGEsXG4gICAgICB0LFxuICAgICAgcyxcbiAgICAgIG8sXG4gICAgICBjXG4gICAgKSwgdCA9PT0gMCAmJiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoXG4gICAgICByLnJhbmdlKDEgLSBpIC8gbywgZCwgMSwgdSksXG4gICAgICByLmRhdGEsXG4gICAgICBvLFxuICAgICAgcyxcbiAgICAgIG8sXG4gICAgICBjXG4gICAgKSwgdCA9PT0gbyAtIDEgJiYgdGhpcy5fYWRkVGlsZUZlYXR1cmVzKFxuICAgICAgci5yYW5nZSgwLCBkLCBpIC8gbywgdSksXG4gICAgICByLmRhdGEsXG4gICAgICAtMSxcbiAgICAgIHMsXG4gICAgICBvLFxuICAgICAgY1xuICAgICksIGMuZmVhdHVyZXMubGVuZ3RoID8gYyA6IG51bGw7XG4gIH1cbiAgZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSkge1xuICAgIGxldCB0ID0gdGhpcy5fZ2V0T3JpZ2luWm9vbShlKSAtIDE7XG4gICAgZm9yICg7IHQgPD0gdGhpcy5vcHRpb25zLm1heFpvb207ICkge1xuICAgICAgY29uc3QgcyA9IHRoaXMuZ2V0Q2hpbGRyZW4oZSk7XG4gICAgICBpZiAodCsrLCBzLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgYnJlYWs7XG4gICAgICBlID0gc1swXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG4gIF9hcHBlbmRMZWF2ZXMoZSwgdCwgcywgciwgbykge1xuICAgIGNvbnN0IGEgPSB0aGlzLmdldENoaWxkcmVuKHQpO1xuICAgIGZvciAoY29uc3QgbCBvZiBhKSB7XG4gICAgICBjb25zdCBpID0gbC5wcm9wZXJ0aWVzO1xuICAgICAgaWYgKGkgJiYgaS5jbHVzdGVyID8gbyArIGkucG9pbnRfY291bnQgPD0gciA/IG8gKz0gaS5wb2ludF9jb3VudCA6IG8gPSB0aGlzLl9hcHBlbmRMZWF2ZXMoZSwgaS5jbHVzdGVyX2lkLCBzLCByLCBvKSA6IG8gPCByID8gbysrIDogZS5wdXNoKGwpLCBlLmxlbmd0aCA9PT0gcylcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBvO1xuICB9XG4gIF9jcmVhdGVUcmVlKGUpIHtcbiAgICBjb25zdCB0ID0gbmV3IGxlKGUubGVuZ3RoIC8gdGhpcy5zdHJpZGUgfCAwLCB0aGlzLm9wdGlvbnMubm9kZVNpemUsIEZsb2F0MzJBcnJheSk7XG4gICAgZm9yIChsZXQgcyA9IDA7IHMgPCBlLmxlbmd0aDsgcyArPSB0aGlzLnN0cmlkZSlcbiAgICAgIHQuYWRkKGVbc10sIGVbcyArIDFdKTtcbiAgICByZXR1cm4gdC5maW5pc2goKSwgdC5kYXRhID0gZSwgdDtcbiAgfVxuICBfYWRkVGlsZUZlYXR1cmVzKGUsIHQsIHMsIHIsIG8sIGEpIHtcbiAgICBmb3IgKGNvbnN0IGwgb2YgZSkge1xuICAgICAgY29uc3QgaSA9IGwgKiB0aGlzLnN0cmlkZSwgZCA9IHRbaSArIExdID4gMTtcbiAgICAgIGxldCB1LCBjLCBoO1xuICAgICAgaWYgKGQpXG4gICAgICAgIHUgPSAkZSh0LCBpLCB0aGlzLmNsdXN0ZXJQcm9wcyksIGMgPSB0W2ldLCBoID0gdFtpICsgMV07XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgZiA9IHRoaXMucG9pbnRzW3RbaSArIFNdXTtcbiAgICAgICAgdSA9IGYucHJvcGVydGllcztcbiAgICAgICAgY29uc3QgW2csIHZdID0gZi5nZW9tZXRyeS5jb29yZGluYXRlcztcbiAgICAgICAgYyA9IFcoZyksIGggPSBLKHYpO1xuICAgICAgfVxuICAgICAgY29uc3QgcCA9IHtcbiAgICAgICAgdHlwZTogMSxcbiAgICAgICAgZ2VvbWV0cnk6IFtbXG4gICAgICAgICAgTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50ICogKGMgKiBvIC0gcykpLFxuICAgICAgICAgIE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCAqIChoICogbyAtIHIpKVxuICAgICAgICBdXSxcbiAgICAgICAgdGFnczogdVxuICAgICAgfTtcbiAgICAgIGxldCBtO1xuICAgICAgZCB8fCB0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZCA/IG0gPSB0W2kgKyBTXSA6IG0gPSB0aGlzLnBvaW50c1t0W2kgKyBTXV0uaWQsIG0gIT09IHZvaWQgMCAmJiAocC5pZCA9IG0pLCBhLmZlYXR1cmVzLnB1c2gocCk7XG4gICAgfVxuICB9XG4gIF9saW1pdFpvb20oZSkge1xuICAgIHJldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSwgTWF0aC5taW4oTWF0aC5mbG9vcigrZSksIHRoaXMub3B0aW9ucy5tYXhab29tICsgMSkpO1xuICB9XG4gIF9jbHVzdGVyKGUsIHQpIHtcbiAgICBjb25zdCB7IHJhZGl1czogcywgZXh0ZW50OiByLCByZWR1Y2U6IG8sIG1pblBvaW50czogYSB9ID0gdGhpcy5vcHRpb25zLCBsID0gcyAvIChyICogTWF0aC5wb3coMiwgdCkpLCBpID0gZS5kYXRhLCBkID0gW10sIHUgPSB0aGlzLnN0cmlkZTtcbiAgICBmb3IgKGxldCBjID0gMDsgYyA8IGkubGVuZ3RoOyBjICs9IHUpIHtcbiAgICAgIGlmIChpW2MgKyBBXSA8PSB0KVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGlbYyArIEFdID0gdDtcbiAgICAgIGNvbnN0IGggPSBpW2NdLCBwID0gaVtjICsgMV0sIG0gPSBlLndpdGhpbihpW2NdLCBpW2MgKyAxXSwgbCksIGYgPSBpW2MgKyBMXTtcbiAgICAgIGxldCBnID0gZjtcbiAgICAgIGZvciAoY29uc3QgdiBvZiBtKSB7XG4gICAgICAgIGNvbnN0IHcgPSB2ICogdTtcbiAgICAgICAgaVt3ICsgQV0gPiB0ICYmIChnICs9IGlbdyArIExdKTtcbiAgICAgIH1cbiAgICAgIGlmIChnID4gZiAmJiBnID49IGEpIHtcbiAgICAgICAgbGV0IHYgPSBoICogZiwgdyA9IHAgKiBmLCBfLCBFID0gLTE7XG4gICAgICAgIGNvbnN0IGIgPSAoKGMgLyB1IHwgMCkgPDwgNSkgKyAodCArIDEpICsgdGhpcy5wb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKGNvbnN0IHggb2YgbSkge1xuICAgICAgICAgIGNvbnN0IE0gPSB4ICogdTtcbiAgICAgICAgICBpZiAoaVtNICsgQV0gPD0gdClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGlbTSArIEFdID0gdDtcbiAgICAgICAgICBjb25zdCBGID0gaVtNICsgTF07XG4gICAgICAgICAgdiArPSBpW01dICogRiwgdyArPSBpW00gKyAxXSAqIEYsIGlbTSArIG9lXSA9IGIsIG8gJiYgKF8gfHwgKF8gPSB0aGlzLl9tYXAoaSwgYywgITApLCBFID0gdGhpcy5jbHVzdGVyUHJvcHMubGVuZ3RoLCB0aGlzLmNsdXN0ZXJQcm9wcy5wdXNoKF8pKSwgbyhfLCB0aGlzLl9tYXAoaSwgTSkpKTtcbiAgICAgICAgfVxuICAgICAgICBpW2MgKyBvZV0gPSBiLCBkLnB1c2godiAvIGcsIHcgLyBnLCAxIC8gMCwgYiwgLTEsIGcpLCBvICYmIGQucHVzaChFKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IHYgPSAwOyB2IDwgdTsgdisrKVxuICAgICAgICAgIGQucHVzaChpW2MgKyB2XSk7XG4gICAgICAgIGlmIChnID4gMSlcbiAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbSkge1xuICAgICAgICAgICAgY29uc3QgdyA9IHYgKiB1O1xuICAgICAgICAgICAgaWYgKCEoaVt3ICsgQV0gPD0gdCkpIHtcbiAgICAgICAgICAgICAgaVt3ICsgQV0gPSB0O1xuICAgICAgICAgICAgICBmb3IgKGxldCBfID0gMDsgXyA8IHU7IF8rKylcbiAgICAgICAgICAgICAgICBkLnB1c2goaVt3ICsgX10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGQ7XG4gIH1cbiAgLy8gZ2V0IGluZGV4IG9mIHRoZSBwb2ludCBmcm9tIHdoaWNoIHRoZSBjbHVzdGVyIG9yaWdpbmF0ZWRcbiAgX2dldE9yaWdpbklkKGUpIHtcbiAgICByZXR1cm4gZSAtIHRoaXMucG9pbnRzLmxlbmd0aCA+PiA1O1xuICB9XG4gIC8vIGdldCB6b29tIG9mIHRoZSBwb2ludCBmcm9tIHdoaWNoIHRoZSBjbHVzdGVyIG9yaWdpbmF0ZWRcbiAgX2dldE9yaWdpblpvb20oZSkge1xuICAgIHJldHVybiAoZSAtIHRoaXMucG9pbnRzLmxlbmd0aCkgJSAzMjtcbiAgfVxuICBfbWFwKGUsIHQsIHMpIHtcbiAgICBpZiAoZVt0ICsgTF0gPiAxKSB7XG4gICAgICBjb25zdCBhID0gdGhpcy5jbHVzdGVyUHJvcHNbZVt0ICsgQWVdXTtcbiAgICAgIHJldHVybiBzID8gT2JqZWN0LmFzc2lnbih7fSwgYSkgOiBhO1xuICAgIH1cbiAgICBjb25zdCByID0gdGhpcy5wb2ludHNbZVt0ICsgU11dLnByb3BlcnRpZXMsIG8gPSB0aGlzLm9wdGlvbnMubWFwKHIpO1xuICAgIHJldHVybiBzICYmIG8gPT09IHIgPyBPYmplY3QuYXNzaWduKHt9LCBvKSA6IG87XG4gIH1cbn1cbmZ1bmN0aW9uIGtlKG4sIGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcIkZlYXR1cmVcIixcbiAgICBpZDogbltlICsgU10sXG4gICAgcHJvcGVydGllczogJGUobiwgZSwgdCksXG4gICAgZ2VvbWV0cnk6IHtcbiAgICAgIHR5cGU6IFwiUG9pbnRcIixcbiAgICAgIGNvb3JkaW5hdGVzOiBbbnQobltlXSksIG90KG5bZSArIDFdKV1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiAkZShuLCBlLCB0KSB7XG4gIGNvbnN0IHMgPSBuW2UgKyBMXSwgciA9IHMgPj0gMWU0ID8gYCR7TWF0aC5yb3VuZChzIC8gMWUzKX1rYCA6IHMgPj0gMWUzID8gYCR7TWF0aC5yb3VuZChzIC8gMTAwKSAvIDEwfWtgIDogcywgbyA9IG5bZSArIEFlXSwgYSA9IG8gPT09IC0xID8ge30gOiBPYmplY3QuYXNzaWduKHt9LCB0W29dKTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYSwge1xuICAgIGNsdXN0ZXI6ICEwLFxuICAgIGNsdXN0ZXJfaWQ6IG5bZSArIFNdLFxuICAgIHBvaW50X2NvdW50OiBzLFxuICAgIHBvaW50X2NvdW50X2FiYnJldmlhdGVkOiByXG4gIH0pO1xufVxuZnVuY3Rpb24gVyhuKSB7XG4gIHJldHVybiBuIC8gMzYwICsgMC41O1xufVxuZnVuY3Rpb24gSyhuKSB7XG4gIGNvbnN0IGUgPSBNYXRoLnNpbihuICogTWF0aC5QSSAvIDE4MCksIHQgPSAwLjUgLSAwLjI1ICogTWF0aC5sb2coKDEgKyBlKSAvICgxIC0gZSkpIC8gTWF0aC5QSTtcbiAgcmV0dXJuIHQgPCAwID8gMCA6IHQgPiAxID8gMSA6IHQ7XG59XG5mdW5jdGlvbiBudChuKSB7XG4gIHJldHVybiAobiAtIDAuNSkgKiAzNjA7XG59XG5mdW5jdGlvbiBvdChuKSB7XG4gIGNvbnN0IGUgPSAoMTgwIC0gbiAqIDM2MCkgKiBNYXRoLlBJIC8gMTgwO1xuICByZXR1cm4gMzYwICogTWF0aC5hdGFuKE1hdGguZXhwKGUpKSAvIE1hdGguUEkgLSA5MDtcbn1cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuZnVuY3Rpb24gY2UobiwgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBzIGluIG4pXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHMpICYmIGUuaW5kZXhPZihzKSA8IDAgJiYgKHRbc10gPSBuW3NdKTtcbiAgaWYgKG4gIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PSBcImZ1bmN0aW9uXCIpXG4gICAgZm9yICh2YXIgciA9IDAsIHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pOyByIDwgcy5sZW5ndGg7IHIrKylcbiAgICAgIGUuaW5kZXhPZihzW3JdKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG4sIHNbcl0pICYmICh0W3Nbcl1dID0gbltzW3JdXSk7XG4gIHJldHVybiB0O1xufVxuY2xhc3MgayB7XG4gIHN0YXRpYyBpc0FkdmFuY2VkTWFya2VyQXZhaWxhYmxlKGUpIHtcbiAgICByZXR1cm4gZ29vZ2xlLm1hcHMubWFya2VyICYmIGUuZ2V0TWFwQ2FwYWJpbGl0aWVzKCkuaXNBZHZhbmNlZE1hcmtlcnNBdmFpbGFibGUgPT09ICEwO1xuICB9XG4gIHN0YXRpYyBpc0FkdmFuY2VkTWFya2VyKGUpIHtcbiAgICByZXR1cm4gZ29vZ2xlLm1hcHMubWFya2VyICYmIGUgaW5zdGFuY2VvZiBnb29nbGUubWFwcy5tYXJrZXIuQWR2YW5jZWRNYXJrZXJFbGVtZW50O1xuICB9XG4gIHN0YXRpYyBzZXRNYXAoZSwgdCkge1xuICAgIHRoaXMuaXNBZHZhbmNlZE1hcmtlcihlKSA/IGUubWFwID0gdCA6IGUuc2V0TWFwKHQpO1xuICB9XG4gIHN0YXRpYyBnZXRQb3NpdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuaXNBZHZhbmNlZE1hcmtlcihlKSkge1xuICAgICAgaWYgKGUucG9zaXRpb24pIHtcbiAgICAgICAgaWYgKGUucG9zaXRpb24gaW5zdGFuY2VvZiBnb29nbGUubWFwcy5MYXRMbmcpXG4gICAgICAgICAgcmV0dXJuIGUucG9zaXRpb247XG4gICAgICAgIGlmIChlLnBvc2l0aW9uLmxhdCAmJiBlLnBvc2l0aW9uLmxuZylcbiAgICAgICAgICByZXR1cm4gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhlLnBvc2l0aW9uLmxhdCwgZS5wb3NpdGlvbi5sbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5MYXRMbmcobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBlLmdldFBvc2l0aW9uKCk7XG4gIH1cbiAgc3RhdGljIGdldFZpc2libGUoZSkge1xuICAgIHJldHVybiB0aGlzLmlzQWR2YW5jZWRNYXJrZXIoZSkgPyAhMCA6IGUuZ2V0VmlzaWJsZSgpO1xuICB9XG59XG5jbGFzcyBIIHtcbiAgY29uc3RydWN0b3IoeyBtYXJrZXJzOiBlLCBwb3NpdGlvbjogdCB9KSB7XG4gICAgdGhpcy5tYXJrZXJzID0gZSwgdCAmJiAodCBpbnN0YW5jZW9mIGdvb2dsZS5tYXBzLkxhdExuZyA/IHRoaXMuX3Bvc2l0aW9uID0gdCA6IHRoaXMuX3Bvc2l0aW9uID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyh0KSk7XG4gIH1cbiAgZ2V0IGJvdW5kcygpIHtcbiAgICBpZiAodGhpcy5tYXJrZXJzLmxlbmd0aCA9PT0gMCAmJiAhdGhpcy5fcG9zaXRpb24pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHModGhpcy5fcG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uKTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5tYXJrZXJzKVxuICAgICAgZS5leHRlbmQoay5nZXRQb3NpdGlvbih0KSk7XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgZ2V0IHBvc2l0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbiB8fCB0aGlzLmJvdW5kcy5nZXRDZW50ZXIoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjb3VudCBvZiAqKnZpc2libGUqKiBtYXJrZXJzLlxuICAgKi9cbiAgZ2V0IGNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLm1hcmtlcnMuZmlsdGVyKChlKSA9PiBrLmdldFZpc2libGUoZSkpLmxlbmd0aDtcbiAgfVxuICAvKipcbiAgICogQWRkIGEgbWFya2VyIHRvIHRoZSBjbHVzdGVyLlxuICAgKi9cbiAgcHVzaChlKSB7XG4gICAgdGhpcy5tYXJrZXJzLnB1c2goZSk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFudXAgcmVmZXJlbmNlcyBhbmQgcmVtb3ZlIG1hcmtlciBmcm9tIG1hcC5cbiAgICovXG4gIGRlbGV0ZSgpIHtcbiAgICB0aGlzLm1hcmtlciAmJiAoay5zZXRNYXAodGhpcy5tYXJrZXIsIG51bGwpLCB0aGlzLm1hcmtlciA9IHZvaWQgMCksIHRoaXMubWFya2Vycy5sZW5ndGggPSAwO1xuICB9XG59XG5jb25zdCBpdCA9IChuLCBlLCB0LCBzKSA9PiB7XG4gIGNvbnN0IHIgPSBSZShuLmdldEJvdW5kcygpLCBlLCBzKTtcbiAgcmV0dXJuIHQuZmlsdGVyKChvKSA9PiByLmNvbnRhaW5zKGsuZ2V0UG9zaXRpb24obykpKTtcbn0sIFJlID0gKG4sIGUsIHQpID0+IHtcbiAgY29uc3QgeyBub3J0aEVhc3Q6IHMsIHNvdXRoV2VzdDogciB9ID0gYXQobiwgZSksIG8gPSBsdCh7IG5vcnRoRWFzdDogcywgc291dGhXZXN0OiByIH0sIHQpO1xuICByZXR1cm4gY3QobywgZSk7XG59LCBDZSA9IChuLCBlLCB0KSA9PiB7XG4gIGNvbnN0IHMgPSBSZShuLCBlLCB0KSwgciA9IHMuZ2V0Tm9ydGhFYXN0KCksIG8gPSBzLmdldFNvdXRoV2VzdCgpO1xuICByZXR1cm4gW28ubG5nKCksIG8ubGF0KCksIHIubG5nKCksIHIubGF0KCldO1xufSwgYXQgPSAobiwgZSkgPT4gKHtcbiAgbm9ydGhFYXN0OiBlLmZyb21MYXRMbmdUb0RpdlBpeGVsKG4uZ2V0Tm9ydGhFYXN0KCkpLFxuICBzb3V0aFdlc3Q6IGUuZnJvbUxhdExuZ1RvRGl2UGl4ZWwobi5nZXRTb3V0aFdlc3QoKSlcbn0pLCBsdCA9ICh7IG5vcnRoRWFzdDogbiwgc291dGhXZXN0OiBlIH0sIHQpID0+IChuLnggKz0gdCwgbi55IC09IHQsIGUueCAtPSB0LCBlLnkgKz0gdCwgeyBub3J0aEVhc3Q6IG4sIHNvdXRoV2VzdDogZSB9KSwgY3QgPSAoeyBub3J0aEVhc3Q6IG4sIHNvdXRoV2VzdDogZSB9LCB0KSA9PiB7XG4gIGNvbnN0IHMgPSB0LmZyb21EaXZQaXhlbFRvTGF0TG5nKGUpLCByID0gdC5mcm9tRGl2UGl4ZWxUb0xhdExuZyhuKTtcbiAgcmV0dXJuIG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMocywgcik7XG59O1xuY2xhc3MgamUge1xuICBjb25zdHJ1Y3Rvcih7IG1heFpvb206IGUgPSAxNiB9KSB7XG4gICAgdGhpcy5tYXhab29tID0gZTtcbiAgfVxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGJ5cGFzcyBjbHVzdGVyaW5nIGJhc2VkIHVwb24gc29tZSBtYXAgc3RhdGUgc3VjaCBhc1xuICAgKiB6b29tLCBudW1iZXIgb2YgbWFya2VycywgZXRjLlxuICAgKlxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqICBjbHVzdGVyKHttYXJrZXJzLCBtYXB9OiBBbGdvcml0aG1JbnB1dCk6IENsdXN0ZXJbXSB7XG4gICAqICAgIGlmIChzaG91bGRCeXBhc3NDbHVzdGVyaW5nKG1hcCkpIHtcbiAgICogICAgICByZXR1cm4gdGhpcy5ub29wKHttYXJrZXJzfSlcbiAgICogICAgfVxuICAgKiB9XG4gICAqIGBgYFxuICAgKi9cbiAgbm9vcCh7IG1hcmtlcnM6IGUgfSkge1xuICAgIHJldHVybiBkdChlKTtcbiAgfVxufVxuY2xhc3MgdXQgZXh0ZW5kcyBqZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB2YXIgeyB2aWV3cG9ydFBhZGRpbmc6IHQgPSA2MCB9ID0gZSwgcyA9IGNlKGUsIFtcInZpZXdwb3J0UGFkZGluZ1wiXSk7XG4gICAgc3VwZXIocyksIHRoaXMudmlld3BvcnRQYWRkaW5nID0gNjAsIHRoaXMudmlld3BvcnRQYWRkaW5nID0gdDtcbiAgfVxuICBjYWxjdWxhdGUoeyBtYXJrZXJzOiBlLCBtYXA6IHQsIG1hcENhbnZhc1Byb2plY3Rpb246IHMgfSkge1xuICAgIHJldHVybiB0LmdldFpvb20oKSA+PSB0aGlzLm1heFpvb20gPyB7XG4gICAgICBjbHVzdGVyczogdGhpcy5ub29wKHtcbiAgICAgICAgbWFya2VyczogZVxuICAgICAgfSksXG4gICAgICBjaGFuZ2VkOiAhMVxuICAgIH0gOiB7XG4gICAgICBjbHVzdGVyczogdGhpcy5jbHVzdGVyKHtcbiAgICAgICAgbWFya2VyczogaXQodCwgcywgZSwgdGhpcy52aWV3cG9ydFBhZGRpbmcpLFxuICAgICAgICBtYXA6IHQsXG4gICAgICAgIG1hcENhbnZhc1Byb2plY3Rpb246IHNcbiAgICAgIH0pXG4gICAgfTtcbiAgfVxufVxuY29uc3QgZHQgPSAobikgPT4gbi5tYXAoKHQpID0+IG5ldyBIKHtcbiAgcG9zaXRpb246IGsuZ2V0UG9zaXRpb24odCksXG4gIG1hcmtlcnM6IFt0XVxufSkpO1xuY2xhc3MgaHQgZXh0ZW5kcyBqZSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB2YXIgeyBtYXhab29tOiB0LCByYWRpdXM6IHMgPSA2MCB9ID0gZSwgciA9IGNlKGUsIFtcIm1heFpvb21cIiwgXCJyYWRpdXNcIl0pO1xuICAgIHN1cGVyKHsgbWF4Wm9vbTogdCB9KSwgdGhpcy5zdGF0ZSA9IHsgem9vbTogLTEgfSwgdGhpcy5zdXBlckNsdXN0ZXIgPSBuZXcgVGUoT2JqZWN0LmFzc2lnbih7IG1heFpvb206IHRoaXMubWF4Wm9vbSwgcmFkaXVzOiBzIH0sIHIpKTtcbiAgfVxuICBjYWxjdWxhdGUoZSkge1xuICAgIGxldCB0ID0gITE7XG4gICAgY29uc3QgcyA9IHsgem9vbTogZS5tYXAuZ2V0Wm9vbSgpIH07XG4gICAgaWYgKCEkKGUubWFya2VycywgdGhpcy5tYXJrZXJzKSkge1xuICAgICAgdCA9ICEwLCB0aGlzLm1hcmtlcnMgPSBbLi4uZS5tYXJrZXJzXTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLm1hcmtlcnMubWFwKChvKSA9PiB7XG4gICAgICAgIGNvbnN0IGEgPSBrLmdldFBvc2l0aW9uKG8pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICAgICAgICBjb29yZGluYXRlczogW2EubG5nKCksIGEubGF0KCldXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7IG1hcmtlcjogbyB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3VwZXJDbHVzdGVyLmxvYWQocik7XG4gICAgfVxuICAgIHJldHVybiB0IHx8ICh0aGlzLnN0YXRlLnpvb20gPD0gdGhpcy5tYXhab29tIHx8IHMuem9vbSA8PSB0aGlzLm1heFpvb20pICYmICh0ID0gISQodGhpcy5zdGF0ZSwgcykpLCB0aGlzLnN0YXRlID0gcywgdCAmJiAodGhpcy5jbHVzdGVycyA9IHRoaXMuY2x1c3RlcihlKSksIHsgY2x1c3RlcnM6IHRoaXMuY2x1c3RlcnMsIGNoYW5nZWQ6IHQgfTtcbiAgfVxuICBjbHVzdGVyKHsgbWFwOiBlIH0pIHtcbiAgICByZXR1cm4gdGhpcy5zdXBlckNsdXN0ZXIuZ2V0Q2x1c3RlcnMoWy0xODAsIC05MCwgMTgwLCA5MF0sIE1hdGgucm91bmQoZS5nZXRab29tKCkpKS5tYXAoKHQpID0+IHRoaXMudHJhbnNmb3JtQ2x1c3Rlcih0KSk7XG4gIH1cbiAgdHJhbnNmb3JtQ2x1c3Rlcih7IGdlb21ldHJ5OiB7IGNvb3JkaW5hdGVzOiBbZSwgdF0gfSwgcHJvcGVydGllczogcyB9KSB7XG4gICAgaWYgKHMuY2x1c3RlcilcbiAgICAgIHJldHVybiBuZXcgSCh7XG4gICAgICAgIG1hcmtlcnM6IHRoaXMuc3VwZXJDbHVzdGVyLmdldExlYXZlcyhzLmNsdXN0ZXJfaWQsIDEgLyAwKS5tYXAoKG8pID0+IG8ucHJvcGVydGllcy5tYXJrZXIpLFxuICAgICAgICBwb3NpdGlvbjogeyBsYXQ6IHQsIGxuZzogZSB9XG4gICAgICB9KTtcbiAgICBjb25zdCByID0gcy5tYXJrZXI7XG4gICAgcmV0dXJuIG5ldyBIKHtcbiAgICAgIG1hcmtlcnM6IFtyXSxcbiAgICAgIHBvc2l0aW9uOiBrLmdldFBvc2l0aW9uKHIpXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIHB0IGV4dGVuZHMgdXQge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdmFyIHsgbWF4Wm9vbTogdCwgcmFkaXVzOiBzID0gNjAsIHZpZXdwb3J0UGFkZGluZzogciA9IDYwIH0gPSBlLCBvID0gY2UoZSwgW1wibWF4Wm9vbVwiLCBcInJhZGl1c1wiLCBcInZpZXdwb3J0UGFkZGluZ1wiXSk7XG4gICAgc3VwZXIoeyBtYXhab29tOiB0LCB2aWV3cG9ydFBhZGRpbmc6IHIgfSksIHRoaXMuc3VwZXJDbHVzdGVyID0gbmV3IFRlKE9iamVjdC5hc3NpZ24oeyBtYXhab29tOiB0aGlzLm1heFpvb20sIHJhZGl1czogcyB9LCBvKSksIHRoaXMuc3RhdGUgPSB7IHpvb206IC0xLCB2aWV3OiBbMCwgMCwgMCwgMF0gfTtcbiAgfVxuICBjYWxjdWxhdGUoZSkge1xuICAgIGNvbnN0IHQgPSB7XG4gICAgICB6b29tOiBNYXRoLnJvdW5kKGUubWFwLmdldFpvb20oKSksXG4gICAgICB2aWV3OiBDZShlLm1hcC5nZXRCb3VuZHMoKSwgZS5tYXBDYW52YXNQcm9qZWN0aW9uLCB0aGlzLnZpZXdwb3J0UGFkZGluZylcbiAgICB9O1xuICAgIGxldCBzID0gISQodGhpcy5zdGF0ZSwgdCk7XG4gICAgaWYgKCEkKGUubWFya2VycywgdGhpcy5tYXJrZXJzKSkge1xuICAgICAgcyA9ICEwLCB0aGlzLm1hcmtlcnMgPSBbLi4uZS5tYXJrZXJzXTtcbiAgICAgIGNvbnN0IHIgPSB0aGlzLm1hcmtlcnMubWFwKChvKSA9PiB7XG4gICAgICAgIGNvbnN0IGEgPSBrLmdldFBvc2l0aW9uKG8pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgICAgICAgIGdlb21ldHJ5OiB7XG4gICAgICAgICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICAgICAgICBjb29yZGluYXRlczogW2EubG5nKCksIGEubGF0KCldXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7IG1hcmtlcjogbyB9XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3VwZXJDbHVzdGVyLmxvYWQocik7XG4gICAgfVxuICAgIHJldHVybiBzICYmICh0aGlzLmNsdXN0ZXJzID0gdGhpcy5jbHVzdGVyKGUpLCB0aGlzLnN0YXRlID0gdCksIHsgY2x1c3RlcnM6IHRoaXMuY2x1c3RlcnMsIGNoYW5nZWQ6IHMgfTtcbiAgfVxuICBjbHVzdGVyKHsgbWFwOiBlLCBtYXBDYW52YXNQcm9qZWN0aW9uOiB0IH0pIHtcbiAgICBjb25zdCBzID0ge1xuICAgICAgem9vbTogTWF0aC5yb3VuZChlLmdldFpvb20oKSksXG4gICAgICB2aWV3OiBDZShlLmdldEJvdW5kcygpLCB0LCB0aGlzLnZpZXdwb3J0UGFkZGluZylcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnN1cGVyQ2x1c3Rlci5nZXRDbHVzdGVycyhzLnZpZXcsIHMuem9vbSkubWFwKChyKSA9PiB0aGlzLnRyYW5zZm9ybUNsdXN0ZXIocikpO1xuICB9XG4gIHRyYW5zZm9ybUNsdXN0ZXIoeyBnZW9tZXRyeTogeyBjb29yZGluYXRlczogW2UsIHRdIH0sIHByb3BlcnRpZXM6IHMgfSkge1xuICAgIGlmIChzLmNsdXN0ZXIpXG4gICAgICByZXR1cm4gbmV3IEgoe1xuICAgICAgICBtYXJrZXJzOiB0aGlzLnN1cGVyQ2x1c3Rlci5nZXRMZWF2ZXMocy5jbHVzdGVyX2lkLCAxIC8gMCkubWFwKChvKSA9PiBvLnByb3BlcnRpZXMubWFya2VyKSxcbiAgICAgICAgcG9zaXRpb246IHsgbGF0OiB0LCBsbmc6IGUgfVxuICAgICAgfSk7XG4gICAgY29uc3QgciA9IHMubWFya2VyO1xuICAgIHJldHVybiBuZXcgSCh7XG4gICAgICBtYXJrZXJzOiBbcl0sXG4gICAgICBwb3NpdGlvbjogay5nZXRQb3NpdGlvbihyKVxuICAgIH0pO1xuICB9XG59XG5jbGFzcyBmdCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICB0aGlzLm1hcmtlcnMgPSB7IHN1bTogZS5sZW5ndGggfTtcbiAgICBjb25zdCBzID0gdC5tYXAoKG8pID0+IG8uY291bnQpLCByID0gcy5yZWR1Y2UoKG8sIGEpID0+IG8gKyBhLCAwKTtcbiAgICB0aGlzLmNsdXN0ZXJzID0ge1xuICAgICAgY291bnQ6IHQubGVuZ3RoLFxuICAgICAgbWFya2Vyczoge1xuICAgICAgICBtZWFuOiByIC8gdC5sZW5ndGgsXG4gICAgICAgIHN1bTogcixcbiAgICAgICAgbWluOiBNYXRoLm1pbiguLi5zKSxcbiAgICAgICAgbWF4OiBNYXRoLm1heCguLi5zKVxuICAgICAgfVxuICAgIH07XG4gIH1cbn1cbmNsYXNzIG10IHtcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHJlbmRlciBmdW5jdGlvbiBmb3IgdGhlIGxpYnJhcnkgdXNlZCBieSB7QGxpbmsgTWFya2VyQ2x1c3RlcmVyfS5cbiAgICpcbiAgICogQ3VycmVudGx5IHNldCB0byB1c2UgdGhlIGZvbGxvd2luZzpcbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiAvLyBjaGFuZ2UgY29sb3IgaWYgdGhpcyBjbHVzdGVyIGhhcyBtb3JlIG1hcmtlcnMgdGhhbiB0aGUgbWVhbiBjbHVzdGVyXG4gICAqIGNvbnN0IGNvbG9yID1cbiAgICogICBjb3VudCA+IE1hdGgubWF4KDEwLCBzdGF0cy5jbHVzdGVycy5tYXJrZXJzLm1lYW4pXG4gICAqICAgICA/IFwiI2ZmMDAwMFwiXG4gICAqICAgICA6IFwiIzAwMDBmZlwiO1xuICAgKlxuICAgKiAvLyBjcmVhdGUgc3ZnIHVybCB3aXRoIGZpbGwgY29sb3JcbiAgICogY29uc3Qgc3ZnID0gd2luZG93LmJ0b2EoYFxuICAgKiA8c3ZnIGZpbGw9XCIke2NvbG9yfVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0MCAyNDBcIj5cbiAgICogICA8Y2lyY2xlIGN4PVwiMTIwXCIgY3k9XCIxMjBcIiBvcGFjaXR5PVwiLjZcIiByPVwiNzBcIiAvPlxuICAgKiAgIDxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuM1wiIHI9XCI5MFwiIC8+XG4gICAqICAgPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi4yXCIgcj1cIjExMFwiIC8+XG4gICAqICAgPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi4xXCIgcj1cIjEzMFwiIC8+XG4gICAqIDwvc3ZnPmApO1xuICAgKlxuICAgKiAvLyBjcmVhdGUgbWFya2VyIHVzaW5nIHN2ZyBpY29uXG4gICAqIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICogICBwb3NpdGlvbixcbiAgICogICBpY29uOiB7XG4gICAqICAgICB1cmw6IGBkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7c3ZnfWAsXG4gICAqICAgICBzY2FsZWRTaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSg0NSwgNDUpLFxuICAgKiAgIH0sXG4gICAqICAgbGFiZWw6IHtcbiAgICogICAgIHRleHQ6IFN0cmluZyhjb3VudCksXG4gICAqICAgICBjb2xvcjogXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIixcbiAgICogICAgIGZvbnRTaXplOiBcIjEycHhcIixcbiAgICogICB9LFxuICAgKiAgIC8vIGFkanVzdCB6SW5kZXggdG8gYmUgYWJvdmUgb3RoZXIgbWFya2Vyc1xuICAgKiAgIHpJbmRleDogMTAwMCArIGNvdW50LFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICByZW5kZXIoeyBjb3VudDogZSwgcG9zaXRpb246IHQgfSwgcywgcikge1xuICAgIGNvbnN0IGEgPSBgPHN2ZyBmaWxsPVwiJHtlID4gTWF0aC5tYXgoMTAsIHMuY2x1c3RlcnMubWFya2Vycy5tZWFuKSA/IFwiI2ZmMDAwMFwiIDogXCIjMDAwMGZmXCJ9XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQwIDI0MFwiIHdpZHRoPVwiNTBcIiBoZWlnaHQ9XCI1MFwiPlxuPGNpcmNsZSBjeD1cIjEyMFwiIGN5PVwiMTIwXCIgb3BhY2l0eT1cIi42XCIgcj1cIjcwXCIgLz5cbjxjaXJjbGUgY3g9XCIxMjBcIiBjeT1cIjEyMFwiIG9wYWNpdHk9XCIuM1wiIHI9XCI5MFwiIC8+XG48Y2lyY2xlIGN4PVwiMTIwXCIgY3k9XCIxMjBcIiBvcGFjaXR5PVwiLjJcIiByPVwiMTEwXCIgLz5cbjx0ZXh0IHg9XCI1MCVcIiB5PVwiNTAlXCIgc3R5bGU9XCJmaWxsOiNmZmZcIiB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIGZvbnQtc2l6ZT1cIjUwXCIgZG9taW5hbnQtYmFzZWxpbmU9XCJtaWRkbGVcIiBmb250LWZhbWlseT1cInJvYm90byxhcmlhbCxzYW5zLXNlcmlmXCI+JHtlfTwvdGV4dD5cbjwvc3ZnPmAsIGwgPSBgQ2x1c3RlciBvZiAke2V9IG1hcmtlcnNgLCBpID0gTnVtYmVyKGdvb2dsZS5tYXBzLk1hcmtlci5NQVhfWklOREVYKSArIGU7XG4gICAgaWYgKGsuaXNBZHZhbmNlZE1hcmtlckF2YWlsYWJsZShyKSkge1xuICAgICAgY29uc3QgdSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB1LmlubmVySFRNTCA9IGE7XG4gICAgICBjb25zdCBjID0gdS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIGMuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAgMjUpXCIpO1xuICAgICAgY29uc3QgaCA9IHtcbiAgICAgICAgbWFwOiByLFxuICAgICAgICBwb3NpdGlvbjogdCxcbiAgICAgICAgekluZGV4OiBpLFxuICAgICAgICB0aXRsZTogbCxcbiAgICAgICAgY29udGVudDogY1xuICAgICAgfTtcbiAgICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMubWFya2VyLkFkdmFuY2VkTWFya2VyRWxlbWVudChoKTtcbiAgICB9XG4gICAgY29uc3QgZCA9IHtcbiAgICAgIHBvc2l0aW9uOiB0LFxuICAgICAgekluZGV4OiBpLFxuICAgICAgdGl0bGU6IGwsXG4gICAgICBpY29uOiB7XG4gICAgICAgIHVybDogYGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJHtidG9hKGEpfWAsXG4gICAgICAgIGFuY2hvcjogbmV3IGdvb2dsZS5tYXBzLlBvaW50KDI1LCAyNSlcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKGQpO1xuICB9XG59XG5mdW5jdGlvbiBndChuLCBlKSB7XG4gIGZvciAobGV0IHQgaW4gZS5wcm90b3R5cGUpXG4gICAgbi5wcm90b3R5cGVbdF0gPSBlLnByb3RvdHlwZVt0XTtcbn1cbmNsYXNzIHVlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgZ3QodWUsIGdvb2dsZS5tYXBzLk92ZXJsYXlWaWV3KTtcbiAgfVxufVxudmFyIGo7XG4oZnVuY3Rpb24obikge1xuICBuLkNMVVNURVJJTkdfQkVHSU4gPSBcImNsdXN0ZXJpbmdiZWdpblwiLCBuLkNMVVNURVJJTkdfRU5EID0gXCJjbHVzdGVyaW5nZW5kXCIsIG4uQ0xVU1RFUl9DTElDSyA9IFwiY2xpY2tcIjtcbn0pKGogfHwgKGogPSB7fSkpO1xuY29uc3QgdnQgPSAobiwgZSwgdCkgPT4ge1xuICB0LmZpdEJvdW5kcyhlLmJvdW5kcyk7XG59O1xuY2xhc3MgeXQgZXh0ZW5kcyB1ZSB7XG4gIGNvbnN0cnVjdG9yKHsgbWFwOiBlLCBtYXJrZXJzOiB0ID0gW10sIGFsZ29yaXRobU9wdGlvbnM6IHMgPSB7fSwgYWxnb3JpdGhtOiByID0gbmV3IGh0KHMpLCByZW5kZXJlcjogbyA9IG5ldyBtdCgpLCBvbkNsdXN0ZXJDbGljazogYSA9IHZ0IH0pIHtcbiAgICBzdXBlcigpLCB0aGlzLm1hcmtlcnMgPSBbLi4udF0sIHRoaXMuY2x1c3RlcnMgPSBbXSwgdGhpcy5hbGdvcml0aG0gPSByLCB0aGlzLnJlbmRlcmVyID0gbywgdGhpcy5vbkNsdXN0ZXJDbGljayA9IGEsIGUgJiYgdGhpcy5zZXRNYXAoZSk7XG4gIH1cbiAgYWRkTWFya2VyKGUsIHQpIHtcbiAgICB0aGlzLm1hcmtlcnMuaW5jbHVkZXMoZSkgfHwgKHRoaXMubWFya2Vycy5wdXNoKGUpLCB0IHx8IHRoaXMucmVuZGVyKCkpO1xuICB9XG4gIGFkZE1hcmtlcnMoZSwgdCkge1xuICAgIGUuZm9yRWFjaCgocykgPT4ge1xuICAgICAgdGhpcy5hZGRNYXJrZXIocywgITApO1xuICAgIH0pLCB0IHx8IHRoaXMucmVuZGVyKCk7XG4gIH1cbiAgcmVtb3ZlTWFya2VyKGUsIHQpIHtcbiAgICBjb25zdCBzID0gdGhpcy5tYXJrZXJzLmluZGV4T2YoZSk7XG4gICAgcmV0dXJuIHMgPT09IC0xID8gITEgOiAoay5zZXRNYXAoZSwgbnVsbCksIHRoaXMubWFya2Vycy5zcGxpY2UocywgMSksIHQgfHwgdGhpcy5yZW5kZXIoKSwgITApO1xuICB9XG4gIHJlbW92ZU1hcmtlcnMoZSwgdCkge1xuICAgIGxldCBzID0gITE7XG4gICAgcmV0dXJuIGUuZm9yRWFjaCgocikgPT4ge1xuICAgICAgcyA9IHRoaXMucmVtb3ZlTWFya2VyKHIsICEwKSB8fCBzO1xuICAgIH0pLCBzICYmICF0ICYmIHRoaXMucmVuZGVyKCksIHM7XG4gIH1cbiAgY2xlYXJNYXJrZXJzKGUpIHtcbiAgICB0aGlzLm1hcmtlcnMubGVuZ3RoID0gMCwgZSB8fCB0aGlzLnJlbmRlcigpO1xuICB9XG4gIC8qKlxuICAgKiBSZWNhbGN1bGF0ZXMgYW5kIGRyYXdzIGFsbCB0aGUgbWFya2VyIGNsdXN0ZXJzLlxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGUgPSB0aGlzLmdldE1hcCgpO1xuICAgIGlmIChlIGluc3RhbmNlb2YgZ29vZ2xlLm1hcHMuTWFwICYmIGUuZ2V0UHJvamVjdGlvbigpKSB7XG4gICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsIGouQ0xVU1RFUklOR19CRUdJTiwgdGhpcyk7XG4gICAgICBjb25zdCB7IGNsdXN0ZXJzOiB0LCBjaGFuZ2VkOiBzIH0gPSB0aGlzLmFsZ29yaXRobS5jYWxjdWxhdGUoe1xuICAgICAgICBtYXJrZXJzOiB0aGlzLm1hcmtlcnMsXG4gICAgICAgIG1hcDogZSxcbiAgICAgICAgbWFwQ2FudmFzUHJvamVjdGlvbjogdGhpcy5nZXRQcm9qZWN0aW9uKClcbiAgICAgIH0pO1xuICAgICAgaWYgKHMgfHwgcyA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgdClcbiAgICAgICAgICBhLm1hcmtlcnMubGVuZ3RoID09IDEgJiYgci5hZGQoYS5tYXJrZXJzWzBdKTtcbiAgICAgICAgY29uc3QgbyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgdGhpcy5jbHVzdGVycylcbiAgICAgICAgICBhLm1hcmtlciAhPSBudWxsICYmIChhLm1hcmtlcnMubGVuZ3RoID09IDEgPyByLmhhcyhhLm1hcmtlcikgfHwgay5zZXRNYXAoYS5tYXJrZXIsIG51bGwpIDogby5wdXNoKGEubWFya2VyKSk7XG4gICAgICAgIHRoaXMuY2x1c3RlcnMgPSB0LCB0aGlzLnJlbmRlckNsdXN0ZXJzKCksIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBvLmZvckVhY2goKGEpID0+IGsuc2V0TWFwKGEsIG51bGwpKSk7XG4gICAgICB9XG4gICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsIGouQ0xVU1RFUklOR19FTkQsIHRoaXMpO1xuICAgIH1cbiAgfVxuICBvbkFkZCgpIHtcbiAgICB0aGlzLmlkbGVMaXN0ZW5lciA9IHRoaXMuZ2V0TWFwKCkuYWRkTGlzdGVuZXIoXCJpZGxlXCIsIHRoaXMucmVuZGVyLmJpbmQodGhpcykpLCB0aGlzLnJlbmRlcigpO1xuICB9XG4gIG9uUmVtb3ZlKCkge1xuICAgIGdvb2dsZS5tYXBzLmV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMuaWRsZUxpc3RlbmVyKSwgdGhpcy5yZXNldCgpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMubWFya2Vycy5mb3JFYWNoKChlKSA9PiBrLnNldE1hcChlLCBudWxsKSksIHRoaXMuY2x1c3RlcnMuZm9yRWFjaCgoZSkgPT4gZS5kZWxldGUoKSksIHRoaXMuY2x1c3RlcnMgPSBbXTtcbiAgfVxuICByZW5kZXJDbHVzdGVycygpIHtcbiAgICBjb25zdCBlID0gbmV3IGZ0KHRoaXMubWFya2VycywgdGhpcy5jbHVzdGVycyksIHQgPSB0aGlzLmdldE1hcCgpO1xuICAgIHRoaXMuY2x1c3RlcnMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgcy5tYXJrZXJzLmxlbmd0aCA9PT0gMSA/IHMubWFya2VyID0gcy5tYXJrZXJzWzBdIDogKHMubWFya2VyID0gdGhpcy5yZW5kZXJlci5yZW5kZXIocywgZSwgdCksIHMubWFya2Vycy5mb3JFYWNoKChyKSA9PiBrLnNldE1hcChyLCBudWxsKSksIHRoaXMub25DbHVzdGVyQ2xpY2sgJiYgcy5tYXJrZXIuYWRkTGlzdGVuZXIoXG4gICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgKHIpID0+IHtcbiAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC50cmlnZ2VyKHRoaXMsIGouQ0xVU1RFUl9DTElDSywgcyksIHRoaXMub25DbHVzdGVyQ2xpY2sociwgcywgdCk7XG4gICAgICAgIH1cbiAgICAgICkpLCBrLnNldE1hcChzLm1hcmtlciwgdCk7XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IGJlID0gT2JqZWN0LnZhbHVlcyhqKSwgVHQgPSBQKHtcbiAgbmFtZTogXCJNYXJrZXJDbHVzdGVyXCIsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KVxuICAgIH1cbiAgfSxcbiAgZW1pdHM6IGJlLFxuICBzZXR1cChuLCB7IGVtaXQ6IGUsIGV4cG9zZTogdCwgc2xvdHM6IHMgfSkge1xuICAgIGNvbnN0IHIgPSB5KCksIG8gPSBDKE4sIHkoKSksIGEgPSBDKFUsIHkoKSk7XG4gICAgcmV0dXJuIEcoTGUsIHIpLCBPKFxuICAgICAgbyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgby52YWx1ZSAmJiAoci52YWx1ZSA9IEkoXG4gICAgICAgICAgbmV3IHl0KHtcbiAgICAgICAgICAgIG1hcDogby52YWx1ZSxcbiAgICAgICAgICAgIC8vIEJldHRlciBwZXJmIHRoYW4gdGhlIGRlZmF1bHQgYFN1cGVyQ2x1c3RlckFsZ29yaXRobWAuIFNlZTpcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVtYXBzL2pzLW1hcmtlcmNsdXN0ZXJlci9wdWxsLzY0MFxuICAgICAgICAgICAgYWxnb3JpdGhtOiBuZXcgcHQobi5vcHRpb25zLmFsZ29yaXRobU9wdGlvbnMgPz8ge30pLFxuICAgICAgICAgICAgLi4ubi5vcHRpb25zXG4gICAgICAgICAgfSlcbiAgICAgICAgKSwgYmUuZm9yRWFjaCgobCkgPT4ge1xuICAgICAgICAgIHZhciBpO1xuICAgICAgICAgIChpID0gci52YWx1ZSkgPT0gbnVsbCB8fCBpLmFkZExpc3RlbmVyKGwsIChkKSA9PiBlKGwsIGQpKTtcbiAgICAgICAgfSkpO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaW1tZWRpYXRlOiAhMFxuICAgICAgfVxuICAgICksIEIoKCkgPT4ge1xuICAgICAgdmFyIGw7XG4gICAgICByLnZhbHVlICYmICgobCA9IGEudmFsdWUpID09IG51bGwgfHwgbC5ldmVudC5jbGVhckluc3RhbmNlTGlzdGVuZXJzKHIudmFsdWUpLCByLnZhbHVlLmNsZWFyTWFya2VycygpLCByLnZhbHVlLnNldE1hcChudWxsKSk7XG4gICAgfSksIHQoeyBtYXJrZXJDbHVzdGVyOiByIH0pLCAoKSA9PiB7XG4gICAgICB2YXIgbDtcbiAgICAgIHJldHVybiAobCA9IHMuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGwuY2FsbChzKTtcbiAgICB9O1xuICB9XG59KSwgd3QgPSBQKHtcbiAgaW5oZXJpdEF0dHJzOiAhMSxcbiAgcHJvcHM6IHtcbiAgICBvcHRpb25zOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICByZXF1aXJlZDogITBcbiAgICB9XG4gIH0sXG4gIHNldHVwKG4sIHsgc2xvdHM6IGUsIGVtaXQ6IHQsIGV4cG9zZTogcyB9KSB7XG4gICAgY29uc3QgciA9IHkoKSwgbyA9IEooKCkgPT4ge1xuICAgICAgdmFyIGk7XG4gICAgICByZXR1cm4gKGkgPSBlLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBpLmNhbGwoZSkuc29tZSgoZCkgPT4gZC50eXBlICE9PSBFZSk7XG4gICAgfSksIGEgPSBKKCgpID0+ICh7XG4gICAgICAuLi5uLm9wdGlvbnMsXG4gICAgICBlbGVtZW50OiByLnZhbHVlXG4gICAgfSkpLCBsID0gRChlZSwgW10sIGEsIHQpO1xuICAgIHJldHVybiBzKHtcbiAgICAgIGN1c3RvbU1hcmtlcjogbFxuICAgIH0pLCB7IGN1c3RvbU1hcmtlclJlZjogciwgY3VzdG9tTWFya2VyOiBsLCBoYXNTbG90Q29udGVudDogbyB9O1xuICB9XG59KTtcbmNvbnN0IF90ID0ge1xuICBrZXk6IDAsXG4gIGNsYXNzOiBcImN1c3RvbS1tYXJrZXItd3JhcHBlclwiXG59O1xuZnVuY3Rpb24ga3QobiwgZSwgdCwgcywgciwgbykge1xuICByZXR1cm4gbi5oYXNTbG90Q29udGVudCA/IChZKCksIFgoXCJkaXZcIiwgX3QsIFtcbiAgICBhZShcImRpdlwiLCBQZSh7XG4gICAgICByZWY6IFwiY3VzdG9tTWFya2VyUmVmXCIsXG4gICAgICBzdHlsZTogeyBjdXJzb3I6IG4uJGF0dHJzLm9uQ2xpY2sgPyBcInBvaW50ZXJcIiA6IHZvaWQgMCB9XG4gICAgfSwgbi4kYXR0cnMpLCBbXG4gICAgICBRKG4uJHNsb3RzLCBcImRlZmF1bHRcIiwge30sIHZvaWQgMCwgITApXG4gICAgXSwgMTYpXG4gIF0pKSA6IE9lKFwiXCIsICEwKTtcbn1cbmNvbnN0ICR0ID0gLyogQF9fUFVSRV9fICovIHRlKHd0LCBbW1wicmVuZGVyXCIsIGt0XSwgW1wiX19zY29wZUlkXCIsIFwiZGF0YS12LTJkMmQzNDNhXCJdXSksIFJ0ID0gUCh7XG4gIG5hbWU6IFwiSGVhdG1hcExheWVyXCIsXG4gIHByb3BzOiB7XG4gICAgb3B0aW9uczoge1xuICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KVxuICAgIH1cbiAgfSxcbiAgc2V0dXAobikge1xuICAgIGNvbnN0IGUgPSB5KCksIHQgPSBDKE4sIHkoKSksIHMgPSBDKFUsIHkoKSk7XG4gICAgcmV0dXJuIE8oXG4gICAgICBbdCwgKCkgPT4gbi5vcHRpb25zXSxcbiAgICAgIChbciwgb10sIFthLCBsXSkgPT4ge1xuICAgICAgICB2YXIgZDtcbiAgICAgICAgY29uc3QgaSA9ICEkKG8sIGwpIHx8IHQudmFsdWUgIT09IGE7XG4gICAgICAgIGlmICh0LnZhbHVlICYmIHMudmFsdWUgJiYgaSkge1xuICAgICAgICAgIGNvbnN0IHUgPSBzdHJ1Y3R1cmVkQ2xvbmUobyk7XG4gICAgICAgICAgaWYgKHUuZGF0YSAmJiAhKHUuZGF0YSBpbnN0YW5jZW9mIHMudmFsdWUuTVZDQXJyYXkpKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gcy52YWx1ZS5MYXRMbmc7XG4gICAgICAgICAgICB1LmRhdGEgPSAoZCA9IHUuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IGQubWFwKChoKSA9PiBoIGluc3RhbmNlb2YgYyB8fCBcImxvY2F0aW9uXCIgaW4gaCAmJiAoaC5sb2NhdGlvbiBpbnN0YW5jZW9mIGMgfHwgaC5sb2NhdGlvbiA9PT0gbnVsbCkgPyBoIDogXCJsb2NhdGlvblwiIGluIGggPyB7IC4uLmgsIGxvY2F0aW9uOiBuZXcgYyhoLmxvY2F0aW9uKSB9IDogbmV3IGMoaCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlLnZhbHVlID8gZS52YWx1ZS5zZXRPcHRpb25zKHUpIDogZS52YWx1ZSA9IEkoXG4gICAgICAgICAgICBuZXcgcy52YWx1ZS52aXN1YWxpemF0aW9uLkhlYXRtYXBMYXllcih7XG4gICAgICAgICAgICAgIC4uLnUsXG4gICAgICAgICAgICAgIG1hcDogdC52YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgeyBpbW1lZGlhdGU6ICEwIH1cbiAgICApLCBCKCgpID0+IHtcbiAgICAgIGUudmFsdWUgJiYgZS52YWx1ZS5zZXRNYXAobnVsbCk7XG4gICAgfSksIHsgaGVhdG1hcExheWVyOiBlIH07XG4gIH0sXG4gIHJlbmRlcjogKCkgPT4gbnVsbFxufSk7XG5leHBvcnQge1xuICBTdCBhcyBDaXJjbGUsXG4gIEl0IGFzIEN1c3RvbUNvbnRyb2wsXG4gICR0IGFzIEN1c3RvbU1hcmtlcixcbiAgRXQgYXMgR29vZ2xlTWFwLFxuICBSdCBhcyBIZWF0bWFwTGF5ZXIsXG4gIEF0IGFzIEluZm9XaW5kb3csXG4gIFB0IGFzIE1hcmtlcixcbiAgVHQgYXMgTWFya2VyQ2x1c3RlcixcbiAgeHQgYXMgUG9seWdvbixcbiAgT3QgYXMgUG9seWxpbmUsXG4gIEx0IGFzIFJlY3RhbmdsZVxufTtcbiIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgdi1pZj1cInZpc2libGVcIj5cclxuICAgICAgICA8IS0tIE1vZGFsIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaXhlZCBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotMjBcIj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJiZy1vZmYtYmxhY2sgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHAtNiB3LTgwIHNtOnctOTYgbWF4LXctZnVsbCBzaGFkb3ctbGcgdHJhbnNmb3JtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiPlxyXG4gICAgICAgICAgICAgICAgPCEtLSBNb2RhbCBIZWFkZXIgLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGJvcmRlci1iLTIgcGItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInRleHQtMnhsIGZvbnQtc2VtaWJvbGRcIj5NYXAgc2V0dGluZ3M8L2gyPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gQGNsaWNrPVwidG9nZ2xlTW9kYWxcIiBjbGFzcz1cInRleHQtd2hpdGUgZm9jdXM6b3V0bGluZS1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmVhdGhlciBmZWF0aGVyLXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaW5lIHgxPVwiMThcIiB5MT1cIjZcIiB4Mj1cIjZcIiB5Mj1cIjE4XCI+PC9saW5lPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIj48L2xpbmU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPCEtLSBNb2RhbCBDb250ZW50IC0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTYgc3BhY2UteS00IGZsZXggZmxleC1jb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHYtbW9kZWw9XCJvd25Mb2NhdGlvblwiIGlkPVwiY2hlY2tib3gtb3duLWxvY2F0aW9uXCIgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjaGVja2JveC1vd24tbG9jYXRpb25cIiBjbGFzcz1cInctNCBoLTQgcm91bmRlZCBhY2NlbnQtb3JhbmdlLTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2hlY2tib3gtb3duLWxvY2F0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIG1zLTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlNob3cgb3duIGxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbiBtYXA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMT5DYXRlZ29yaWVzPC9oMT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgZmxleC13cmFwIG1heC1oLTIwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHYtZm9yPVwiKGNhdGVnb3J5LCBpbmRleCkgaW4gY2F0ZWdvcmllc1wiIDprZXk9XCJpbmRleFwiIGNsYXNzPVwiZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB2LW1vZGVsPVwic2VsZWN0ZWRDYXRlZ29yaWVzW2NhdGVnb3J5XVwiIDppZD1cImNhdGVnb3J5XCIgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm5hbWU9XCJjYXRlZ29yeVwiIGNsYXNzPVwidy00IGgtNCByb3VuZGVkIGFjY2VudC1vcmFuZ2UtNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIDpmb3I9XCJjYXRlZ29yeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidy1mdWxsIG1zLTIgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPnt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeSB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2xcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGgxPlNldCB0aW1lZnJhbWU8L2gxPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBzcGFjZS14LTQgaXRlbXMtY2VudGVyIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1zbSB0ZXh0LWJsYWNrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJmcm9tLWRhdGVcIiBuYW1lPVwiZnJvbS1kYXRlXCIgY2xhc3M9XCJyb3VuZGVkLXNtICB0ZXh0LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJkYXRlRnJvbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj50bzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy1zbSB0ZXh0LWJsYWNrIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cInRvLWRhdGVcIiBuYW1lPVwidG8tZGF0ZVwiIGNsYXNzPVwicm91bmRlZC1zbSB0ZXh0LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJkYXRlVG9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiZGVmYXVsdC1yYW5nZVwiIGNsYXNzPVwiXCI+U2VhcmNoIFJhZGl1czwvbGFiZWw+IDxzcGFuPi0ge3sgc2VhcmNoUmFkaXVzS20gfX1rbTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVwiZGVmYXVsdC1yYW5nZVwiIHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxMlwiIHZhbHVlPVwiNlwiIHYtbW9kZWw9XCJzZWFyY2hSYWRpdXNLbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbCBoLTIgYmctZ3JheS0yMDAgcm91bmRlZC1sZyBhcHBlYXJhbmNlLW5vbmUgY3Vyc29yLXBvaW50ZXIgZGFyazpiZy1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1vcmFuZ2UtNTAwIGhvdmVyOmJnLW9yYW5nZS02MDAgdGV4dC13aGl0ZSBmb250LWJvbGQgcHktMSBweC02IHJvdW5kZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwic2F2ZVNldHRpbmdzXCI+U2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgZW1pdHM6IFsndG9nZ2xlTW9kYWxWaXNpYmlsaXR5JywgJ3NhdmVTZXR0aW5ncyddLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICB2aXNpYmxlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IE9iamVjdFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjYXRlZ29yaWVzOlxyXG4gICAgICAgICAgICAgICAgW1wiSW5mcmFzdHJ1Y3R1cmVcIiwgXCJNZWRpY2FsXCIsIFwiU2VjdXJpdHlcIiwgXCJMb2dpc3RpY3NcIiwgXCJFbnZpcm9ubWVudFwiLCBcIkhlYWx0aFwiLCBcIkNvbW11bmljYXRpb25zXCJdLFxyXG4gICAgICAgICAgICBvd25Mb2NhdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcmllczoge30sXHJcbiAgICAgICAgICAgIGRhdGVGcm9tOiBudWxsLFxyXG4gICAgICAgICAgICBkYXRlVG86IG51bGwsXHJcbiAgICAgICAgICAgIHNlYXJjaFJhZGl1c0ttOiA2LFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlZCgpIHtcclxuICAgICAgICAvLyBJbml0aWFsaXplIGRhdGVGcm9tIHRvIGEgd2VlayBhZ28gYW5kIGRhdGVUbyB0byB0b2RheSdzIGRhdGVcclxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgY29uc3Qgd2Vla0FnbyA9IG5ldyBEYXRlKHRvZGF5KTtcclxuICAgICAgICB3ZWVrQWdvLnNldERhdGUodG9kYXkuZ2V0RGF0ZSgpIC0gNyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGF0ZUZyb20gPSB0aGlzLmZvcm1hdERhdGUod2Vla0Fnbyk7XHJcbiAgICAgICAgdGhpcy5kYXRlVG8gPSB0aGlzLmZvcm1hdERhdGUodG9kYXkpO1xyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICB0b2dnbGVNb2RhbCgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZW1pdCgndG9nZ2xlTW9kYWxWaXNpYmlsaXR5JylcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNhdmVTZXR0aW5ncygpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9XHJcbiAgICAgICAgICAgIGRhdGFbXCJvd25Mb2NhdGlvblwiXSA9IHRoaXMub3duTG9jYXRpb25cclxuICAgICAgICAgICAgZGF0YVtcImNhdGVnb3JpZXNcIl0gPSB0aGlzLnNlbGVjdGVkQ2F0ZWdvcmllc1xyXG4gICAgICAgICAgICBkYXRhW1wiZGF0ZUZyb21cIl0gPSB0aGlzLmRhdGVGcm9tXHJcbiAgICAgICAgICAgIGRhdGFbXCJkYXRlVG9cIl0gPSB0aGlzLmRhdGVUb1xyXG4gICAgICAgICAgICBkYXRhW1wic2VhcmNoUmFkaXVzS21cIl0gPSBwYXJzZUludCh0aGlzLnNlYXJjaFJhZGl1c0ttKVxyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdzYXZlU2V0dGluZ3MnLCBkYXRhKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybWF0RGF0ZShkYXRlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIGxldCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgIGxldCBkYXkgPSBkYXRlLmdldERhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEVuc3VyZSBtb250aCBhbmQgZGF5IGFyZSB0d28gZGlnaXRzXHJcbiAgICAgICAgICAgIG1vbnRoID0gbW9udGggPCAxMCA/ICcwJyArIG1vbnRoIDogbW9udGg7XHJcbiAgICAgICAgICAgIGRheSA9IGRheSA8IDEwID8gJzAnICsgZGF5IDogZGF5O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGh9LSR7ZGF5fWA7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcbi8qIEFkZCB5b3VyIHN0eWxlcyBoZXJlICovXHJcbjwvc3R5bGU+XHJcbiIsIjxzY3JpcHQgc2V0dXA+XHJcbmltcG9ydCB7IEdvb2dsZU1hcCwgQ3VzdG9tTWFya2VyLCBDaXJjbGUsIEluZm9XaW5kb3cgfSBmcm9tICd2dWUzLWdvb2dsZS1tYXAnXHJcblxyXG48L3NjcmlwdD5cclxuXHJcbjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgdi1pZj1cIiFvbkxpbmVcIiBjbGFzcz1cIm10LTEyIHB4LTMgcHktMyBibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LW1kIGZvbnQtYm9sZCBiZy1zbGF0ZS00MDAgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICBObyBhY2Nlc3NzIGluIG9mZmxpbmUgbW9kZVxyXG4gICAgPC9kaXY+XHJcbiAgICA8IS0tIFNldHMgYSBkYXJrIG92ZXJsYXkgd2hlbiBtb2RhbCBpcyB2aXNpYmxlIC0tPlxyXG4gICAgPGRpdiB2LWlmPVwic2V0dGluZ3NNb2RhbFZpc2liaWxpdHlcIiBjbGFzcz1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgb3BhY2l0eS01MCB6LTIwXCI+PC9kaXY+XHJcbiAgICA8c2VjdGlvbiB2LWlmPVwib25MaW5lXCIgY2xhc3M9XCJtdC0xMSBwdC0zIHJlbGF0aXZlXCI+XHJcbiAgICAgICAgPFNldHRpbmdzTW9kYWwgOnZpc2libGU9XCJzZXR0aW5nc01vZGFsVmlzaWJpbGl0eVwiIEB0b2dnbGVNb2RhbFZpc2liaWxpdHk9XCJ0b2dnbGVTZXR0aW5nc01vZGFsVmlzaWJpbGl0eVwiXHJcbiAgICAgICAgICAgIEBzYXZlU2V0dGluZ3M9XCJzYXZlU2V0dGluZ3NcIj5cclxuICAgICAgICA8L1NldHRpbmdzTW9kYWw+XHJcblxyXG4gICAgICAgIDwhLS0gR0VUIE9XTiBMT0NBVElPTiBCVVRUT04gLS0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImFic29sdXRlIHRvcC02IHJpZ2h0LTMyIHotMTBcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLW9yYW5nZS01MDAgaG92ZXI6Ymctb3JhbmdlLTYwMCAgZm9udC1ib2xkIHB5LTIgcHgtNCByb3VuZGVkIGFic29sdXRlXCJcclxuICAgICAgICAgICAgICAgIEBjbGljaz1cImdldE15TG9jYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJzaXplLTUgZmlsbC1jdXJyZW50IHRleHQtd2hpdGVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIlxyXG4gICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBzdHJva2U9XCIjMDAwMDAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTE5IDEyQzE5IDE1Ljg2NiAxNS44NjYgMTkgMTIgMTlNMTkgMTJDMTkgOC4xMzQwMSAxNS44NjYgNSAxMiA1TTE5IDEySDIxTTEyIDE5QzguMTM0MDEgMTkgNSAxNS44NjYgNSAxMk0xMiAxOVYyMU01IDEyQzUgOC4xMzQwMSA4LjEzNDAxIDUgMTIgNU01IDEySDNNMTIgNVYzTTE1IDEyQzE1IDEzLjY1NjkgMTMuNjU2OSAxNSAxMiAxNUMxMC4zNDMxIDE1IDkgMTMuNjU2OSA5IDEyQzkgMTAuMzQzMSAxMC4zNDMxIDkgMTIgOUMxMy42NTY5IDkgMTUgMTAuMzQzMSAxNSAxMlpcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI2ZmZmZmZlwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwhLS0gU0VUVElOR1MgTU9EQUwgQlVUVE9OIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZSB0b3AtNiByaWdodC0xNiB6LTEwXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiZy1vcmFuZ2UtNTAwIGhvdmVyOmJnLW9yYW5nZS02MDAgIGZvbnQtYm9sZCBweS0yIHB4LTQgcm91bmRlZCBhYnNvbHV0ZVwiXHJcbiAgICAgICAgICAgICAgICBAY2xpY2s9XCJ0b2dnbGVTZXR0aW5nc01vZGFsVmlzaWJpbGl0eVwiPjxzdmcgY2xhc3M9XCJoLTUgdy01IGZpbGwtY3VycmVudCB0ZXh0LXdoaXRlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTIuNzg0OCAwLjQ0OTk4MkMxMy44MjM5IDAuNDQ5OTgyIDE0LjcxNjcgMS4xNjU0NiAxNC45MTIyIDIuMTU0OTVMMTQuOTk5MSAyLjU5NDk1QzE1LjM0MDggNC4zMjQ0MiAxNy4xODU5IDUuMzU3MjIgMTguOTAxNiA0Ljc3OTRMMTkuMzM4MyA0LjYzMjMzQzIwLjMxOTkgNC4zMDE3NSAyMS40MDU0IDQuNjkzNTggMjEuOTI0OSA1LjU2NjA1TDIyLjcwOTcgNi44ODM4NkMyMy4yMjkzIDcuNzU2MzYgMjMuMDM2NSA4Ljg2MzY2IDIyLjI1MDQgOS41MjI1M0wyMS45MDA4IDkuODE1NTVDMjAuNTI2NyAxMC45NjcyIDIwLjUyNjcgMTMuMDMyOCAyMS45MDA4IDE0LjE4NDRMMjIuMjUwNCAxNC40Nzc0QzIzLjAzNjUgMTUuMTM2MyAyMy4yMjkzIDE2LjI0MzYgMjIuNzA5NyAxNy4xMTYxTDIxLjkyNSAxOC40MzM5QzIxLjQwNTQgMTkuMzA2NCAyMC4zMTk5IDE5LjY5ODIgMTkuMzM4MiAxOS4zNjc2TDE4LjkwMTcgMTkuMjIwNUMxNy4xODU5IDE4LjY0MjYgMTUuMzQwOCAxOS42NzU0IDE0Ljk5OTEgMjEuNDA1TDE0LjkxMjIgMjEuODQ1QzE0LjcxNjcgMjIuODM0NSAxMy44MjM5IDIzLjU1IDEyLjc4NDggMjMuNTVIMTEuMjE1MkMxMC4xNzYxIDIzLjU1IDkuMjgzMzEgMjIuODM0NSA5LjA4NzgxIDIxLjg0NTFMOS4wMDA4MiAyMS40MDQ4QzguNjU5MDkgMTkuNjc1NCA2LjgxMzk1IDE4LjY0MjYgNS4wOTgyMiAxOS4yMjA1TDQuNjYxNzkgMTkuMzY3NUMzLjY4MDE2IDE5LjY5ODIgMi41OTQ2NSAxOS4zMDYzIDIuMDc1MDUgMTguNDMzOEwxLjI5MDMgMTcuMTE2MUMwLjc3MDcxOSAxNi4yNDM2IDAuOTYzNDQ2IDE1LjEzNjMgMS43NDk1NiAxNC40Nzc0TDIuMDk5MjIgMTQuMTg0NEMzLjQ3MzI0IDEzLjAzMjcgMy40NzMyNCAxMC45NjcyIDIuMDk5MjIgOS44MTU2TDEuNzQ5NTYgOS41MjI1NEMwLjk2MzQ0NiA4Ljg2MzY2IDAuNzcwNzIgNy43NTYzOCAxLjI5MDMgNi44ODM5TDIuMDc1MDggNS41NjYwOEMyLjU5NDY2IDQuNjkzNTkgMy42ODAxNCA0LjMwMTc2IDQuNjYxNzYgNC42MzIzNkw1LjA5ODMxIDQuNzc5MzlDNi44MTQwMSA1LjM1NzIyIDguNjU5MDkgNC4zMjQ0OSA5LjAwMDgyIDIuNTk1MDZMOS4wODc4IDIuMTU0ODdDOS4yODMzMSAxLjE2NTQyIDEwLjE3NiAwLjQ0OTk4MiAxMS4yMTUyIDAuNDQ5OTgySDEyLjc4NDhaTTEyIDE1LjNDMTMuODIyNSAxNS4zIDE1LjMgMTMuODIyNSAxNS4zIDEyQzE1LjMgMTAuMTc3NCAxMy44MjI1IDguNjk5OTggMTIgOC42OTk5OEMxMC4xNzc0IDguNjk5OTggOC42OTk5NyAxMC4xNzc0IDguNjk5OTcgMTJDOC42OTk5NyAxMy44MjI1IDEwLjE3NzQgMTUuMyAxMiAxNS4zWlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwhLS0gU0VBUkNIIEFSRUEgQlVUVE9OIC0tPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZSBib3R0b20tNCBsZWZ0LTAgcmlnaHQtMCB6LTEwIGZsZXgganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLW9yYW5nZS01MDAgaG92ZXI6Ymctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0yIHB4LTQgcm91bmRlZFwiXHJcbiAgICAgICAgICAgICAgICBAY2xpY2s9XCJzZWFyY2hBcmVhXCI+U2VhcmNoIGFyZWFcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPCEtLSBTVEFSVCBHT09HTEUgTUFQUyBDT01QT05FTlQgLS0+XHJcbiAgICAgICAgPEdvb2dsZU1hcCBjbGFzcz1cImgtW2NhbGMoMTAwdmgtMTI4cHgpXVwiIDphcGkta2V5PVwiZ29vZ2xlTWFwc0FwaUtleVwiIHN0eWxlPVwid2lkdGg6IDEwMCVcIiA6Y2VudGVyPVwibWFwQ2VudGVyXCJcclxuICAgICAgICAgICAgOnpvb209XCJtYXBab29tXCIgOmZ1bGxzY3JlZW5Db250cm9sPVwiZmFsc2VcIiBAY2xpY2s9XCJoYW5kbGVNYXBDbGlja1wiPlxyXG4gICAgICAgICAgICA8IS0tIFNFQVJDSCBBUkVBIFJBRElVUyBDSVJDTEUgLS0+XHJcbiAgICAgICAgICAgIDxDaXJjbGUgOm9wdGlvbnM9XCJjaXJjbGVPcHRpb25zXCIgLz5cclxuICAgICAgICAgICAgPCEtLSBPV04gTE9DQVRJT04gTUFSS0VSIC0tPlxyXG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCJvd25Mb2NhdGlvblJlcXVlc3RlZFwiPlxyXG4gICAgICAgICAgICAgICAgPEN1c3RvbU1hcmtlciA6b3B0aW9ucz1cIm93bkxvY2F0aW9uTWFya2VyT3B0aW9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIiBjbGFzcz1cImhvdmVyOmN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJoLTggdy04IGZpbGwtY3VycmVudCB0ZXh0LXJlZC01MDBcIiB2ZXJzaW9uPVwiMS4wXCIgaWQ9XCJMYXllcl8xXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCA2NCA2NFwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCA2NCA2NFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb190cmFjZXJDYXJyaWVyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0zMiwwQzE4Ljc0NiwwLDgsMTAuNzQ2LDgsMjRjMCw1LjIxOSwxLjcxMSwxMC4wMDgsNC41NTUsMTMuOTNjMC4wNTEsMC4wOTQsMC4wNTksMC4xOTksMC4xMTcsMC4yODlsMTYsMjQgQzI5LjQxNCw2My4zMzIsMzAuNjY0LDY0LDMyLDY0czIuNTg2LTAuNjY4LDMuMzI4LTEuNzgxbDE2LTI0YzAuMDU5LTAuMDksMC4wNjYtMC4xOTUsMC4xMTctMC4yODlDNTQuMjg5LDM0LjAwOCw1NiwyOS4yMTksNTYsMjQgQzU2LDEwLjc0Niw0NS4yNTQsMCwzMiwweiBNMzIsMzJjLTQuNDE4LDAtOC0zLjU4Mi04LThzMy41ODItOCw4LThzOCwzLjU4Miw4LDhTMzYuNDE4LDMyLDMyLDMyelwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L0N1c3RvbU1hcmtlcj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwhLS0gU0VBUkNIIFJFU1VMVFMgQ1VTVE9NIE1BUktFUlMgLS0+XHJcbiAgICAgICAgICAgIDxkaXYgdi1pZj1cInF1ZXJ5UmVzdWx0cy5sZW5ndGggPiAwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHYtZm9yPVwiKGRhdGEsIGluZGV4KSBpbiBxdWVyeVJlc3VsdHNcIiA6a2V5PVwiaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Q3VzdG9tTWFya2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpvcHRpb25zPVwieyBwb3NpdGlvbjogeyBsYXQ6IGRhdGEubGF0aXR1ZGUsIGxuZzogZGF0YS5sb25naXR1ZGUgfSwgYW5jaG9yUG9pbnQ6ICdCT1RUT01fQ0VOVEVSJyB9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPVwiaW5mb1dpbmRvd1tpbmRleF0gPSB0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXJcIiBjbGFzcz1cImhvdmVyOmN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIDpzcmM9XCJyZXR1cm5TdmcoZGF0YS5jYXRlZ29yeSlcIiBjbGFzcz1cImgtMTAgdy0xMFwiIGFsdD1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPC9DdXN0b21NYXJrZXI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWlmPVwiaW5mb1dpbmRvd1tpbmRleF1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEluZm9XaW5kb3cgOm9wdGlvbnM9XCJ7IHBvc2l0aW9uOiB7IGxhdDogZGF0YS5sYXRpdHVkZSwgbG5nOiBkYXRhLmxvbmdpdHVkZSB9IH1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1tb2RlbD1cImluZm9XaW5kb3dbaW5kZXhdXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI2RlZmF1bHQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+VXNlcm5hbWU6IHt7IGRhdGEudXNlcm5hbWUgfX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlRpbWVzdGFtcDoge3sgZGF0YS50aW1lc3RhbXAgfX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgdi1mb3I9XCIodmFsdWUsIGluZGV4KSBpbiBPYmplY3QuZW50cmllcyhkYXRhLmZvcm1fZGF0YSlcIiA6a2V5PVwiaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnt7IHZhbHVlWzBdIH19OiB7eyB2YWx1ZVsxXSA/IHZhbHVlWzFdIDogJ04vQScgfX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JbmZvV2luZG93PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvR29vZ2xlTWFwPlxyXG4gICAgPC9zZWN0aW9uPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IHsgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24gfSBmcm9tICdAL3N0b3Jlcy9nZW9Mb2NhdGlvbic7XHJcbmltcG9ydCBTZXR0aW5nc01vZGFsIGZyb20gJy4uL2NvbXBvbmVudHMvU2V0dGluZ3NNb2RhbC52dWUnXHJcbmltcG9ydCB7IGluZnJhc3RydWN0dXJlU1ZHLCBjb21tdW5pY2F0aW9uc1NWRywgc2VjdXJpdHlTVkcgfSBmcm9tICdAL2Fzc2V0cy9zdmcnO1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgdHlwZTogT2JqZWN0LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbWFwczoge1xyXG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxpbmU6IHtcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICBTZXR0aW5nc01vZGFsLFxyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ29vZ2xlTWFwc0FwaUtleTogaW1wb3J0Lm1ldGEuZW52LlZJVEVfR09PR0xFX01BUFNfQVBJX0tFWSxcclxuICAgICAgICAgICAgbWFwWm9vbTogMiwgLy8gem9vbSBvZiBtYXAgb24gaW5zdGFudGlhdGlvblxyXG4gICAgICAgICAgICBtYXBDZW50ZXI6IHsgbGF0OiAzMywgbG5nOiA0NCB9LCAvLyBpbml0aWFsIGNvb3JkcyB0byBjZW50ZXIgb25cclxuICAgICAgICAgICAgdXNlclNlbGVjdGVkTGF0OiAnJyxcclxuICAgICAgICAgICAgdXNlclNlbGVjdGVkTG9uZzogJycsXHJcbiAgICAgICAgICAgIHVzZXJQb3NpdGlvbjoge30sXHJcbiAgICAgICAgICAgIG93bkxvY2F0aW9uTWFya2VyT3B0aW9uczoge30sXHJcbiAgICAgICAgICAgIG93bkxvY2F0aW9uUmVxdWVzdGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRMb2NhdGlvbk1hcmtlck9wdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICBzZWxlY3RlZExvY2F0aW9uQ2VudGVyOiB7IGxhdDogMCwgbG5nOiAwIH0sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkTG9jYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBzZXR0aW5nc01vZGFsVmlzaWJpbGl0eTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBheWxvYWQ6ICcnLCAvLyBwYXlsb2FkIGNvbnRhaW5zIHNldHRpbmdzIGZyb20gbW9kYWxcclxuICAgICAgICAgICAgcXVlcnlSZXN1bHRzOiBbXSwgLy8gQXJyYXkgdG8gaG9sZCByZXN1bHRzIGZyb20gc2VhcmNoIHF1ZXJ5XHJcbiAgICAgICAgICAgIGluZnJhc3RydWN0dXJlU1ZHOiBpbmZyYXN0cnVjdHVyZVNWRyxcclxuICAgICAgICAgICAgc2VjdXJpdHlTVkc6IHNlY3VyaXR5U1ZHLFxyXG4gICAgICAgICAgICBjb21tdW5pY2F0aW9uc1NWRzogY29tbXVuaWNhdGlvbnNTVkcsXHJcbiAgICAgICAgICAgIGNpcmNsZU9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGNlbnRlcjogeyBsYXQ6IDAsIGxuZzogMCB9LFxyXG4gICAgICAgICAgICAgICAgcmFkaXVzOiA2MDAwLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjRkYwMDAwJyxcclxuICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNCxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMixcclxuICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyNGRjAwMDAnLFxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMTUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluZm9XaW5kb3c6IHt9LCAvLyBzdG9yZXMgYm9vbGVhbiB2YWx1ZXMgZm9yIEluZm9XaW5kb3cgcG9wdXAgdmlzaWJpbGl0eSBzbyB0aGV5IGNhbiBiZSBoaWRkZW4gaW5pdGlhbGx5XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBhc3luYyBnZXRNeUxvY2F0aW9uKCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlclBvc2l0aW9uID0gYXdhaXQgY2hlY2tMb2NhdGlvblBlcm1pc3Npb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXNlclBvc2l0aW9uID0geyBsYXQ6IHVzZXJQb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIGxuZzogdXNlclBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25Mb2NhdGlvbk1hcmtlck9wdGlvbnMgPSB7IHBvc2l0aW9uOiB0aGlzLnVzZXJQb3NpdGlvbiB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcENlbnRlciA9IHRoaXMudXNlclBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hcFpvb20gPSAxMlxyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25Mb2NhdGlvblJlcXVlc3RlZCA9IHRydWVcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbG9jYXRpb246JywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhbmRsZU1hcENsaWNrKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBvZiB0aGUgY2xpY2tlZCBwb2ludFxyXG4gICAgICAgICAgICBjb25zdCBjbGlja2VkTGF0TG5nID0gZXZlbnQubGF0TG5nO1xyXG4gICAgICAgICAgICBjb25zdCBsYXQgPSBjbGlja2VkTGF0TG5nLmxhdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBsbmcgPSBjbGlja2VkTGF0TG5nLmxuZygpO1xyXG4gICAgICAgICAgICAvLyBVcGRhdGUgc2VhcmNoIHJhZGl1cyBjaXJjbGUuIENyZWF0ZSBhIG5ldyBjaXJjbGUgdG8gdHJpZ2dlciB2dWUgcmVhY3Rpdml0eVxyXG4gICAgICAgICAgICB0aGlzLmNpcmNsZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNpcmNsZU9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHsgbGF0OiBsYXQsIGxuZzogbG5nIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uQ2VudGVyID0geyBsYXQ6IGxhdCwgbG5nOiBsbmcgfVxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbk1hcmtlck9wdGlvbnMgPSB7IHBvc2l0aW9uOiB0aGlzLnNlbGVjdGVkTG9jYXRpb25DZW50ZXIgfVxyXG4gICAgICAgICAgICB0aGlzLm1hcENlbnRlciA9IHRoaXMuc2VsZWN0ZWRMb2NhdGlvbkNlbnRlclxyXG4gICAgICAgICAgICB0aGlzLnVzZXJTZWxlY3RlZExhdCA9IGxhdFxyXG4gICAgICAgICAgICB0aGlzLnVzZXJTZWxlY3RlZExvbmcgPSBsbmdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRvZ2dsZVNldHRpbmdzTW9kYWxWaXNpYmlsaXR5KCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzTW9kYWxWaXNpYmlsaXR5ID0gIXRoaXMuc2V0dGluZ3NNb2RhbFZpc2liaWxpdHlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNhdmVTZXR0aW5ncyhwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF5bG9hZCA9IHBheWxvYWRcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuY2lyY2xlT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHJhZGl1czogcGF5bG9hZC5zZWFyY2hSYWRpdXNLbSAqIDEwMDBcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwYXlsb2FkLm93bkxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldE15TG9jYXRpb24oKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25Mb2NhdGlvblJlcXVlc3RlZCA9IGZhbHNlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50b2dnbGVTZXR0aW5nc01vZGFsVmlzaWJpbGl0eSgpXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXR1cm5TdmcoY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInNlY3VyaXR5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlY3VyaXR5U1ZHXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tbXVuaWNhdGlvbnNcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbXVuaWNhdGlvbnNTVkdcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmZyYXN0cnVjdHVyZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmZyYXN0cnVjdHVyZVNWR1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIHNlYXJjaEFyZWEoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBheWxvYWQgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmVycm9yKFwiUGxlYXNlIHVwZGF0ZSBtYXAgc2V0dGluZ3MgZmlyc3RcIilcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVzZXJTZWxlY3RlZExhdCA9PSAnJyB8fCB0aGlzLnVzZXJTZWxlY3RlZExvbmcgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LmVycm9yKFwiUGxlYXNlIGNsaWNrIG9uIHRoZSBtYXAgdG8gc2V0IHNlYXJjaCBsb2NhdGlvblwiKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGF5bG9hZC5kYXRlVG8gPT0gJycgfHwgdGhpcy5wYXlsb2FkLmRhdGVGcm9tID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcihcIlBsZWFzZSBzZWxlY3QgYSBkYXRlIHJhbmdlXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVlcnlSZXN1bHRzID0gJydcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBheWxvYWRbXCJsYXRpdHVkZVwiXSA9IHRoaXMudXNlclNlbGVjdGVkTGF0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXlsb2FkW1wibG9uZ2l0dWRlXCJdID0gdGhpcy51c2VyU2VsZWN0ZWRMb25nXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMubWFwcy5hcGlHZXRNYXBzU2VhcmNoUmVxdWVzdCh0aGlzLnBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0cylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5UmVzdWx0cyA9IHJlc3VsdHNcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCdSZXN1bHRzIHN1Y2Nlc3NmdWwnKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpc2UgaW5mbyB3aW5kb3dzIHRvIGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmZvV2luZG93ID0gW11cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZW5fcXVlcnlfcmVzdWx0cyA9IHRoaXMucXVlcnlSZXN1bHRzLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuX3F1ZXJ5X3Jlc3VsdHM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9XaW5kb3dbaV0gPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Iuc3RhdHVzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwOSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnRlciBlcnJvciBjb2Rlc1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBvdGhlciBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPdGhlciBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG59XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPjwvc3R5bGU+IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiB2LWlmPVwiIW9uTGluZVwiIGNsYXNzPVwibXQtMTIgcHgtMyBweS0zIGJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtbWQgZm9udC1ib2xkIGJnLXNsYXRlLTQwMCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgIE5vIGFjY2Vzc3MgaW4gb2ZmbGluZSBtb2RlXHJcbiAgICA8L2Rpdj5cclxuICAgIDwhLS0gU1RBUlQgVVNFUiBMT0dJTiBBTkQgUkVHSVNURVItLT5cclxuICAgIDxzZWN0aW9uIHYtaWY9XCIhdXNlci5sb2dnZWRJbiAmJiBvbkxpbmVcIiBjbGFzcz1cIm10LTEyIHB0LTYgXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LXhzIG14LWF1dG8gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNzAwIGJnLVsjMTYxYjIyXSBmbGV4IGZsZXgtY29sIHRleHQtd2hpdGUgcHgtNCBweS0zXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc20gbWItMlwiIGZvcj1cInVzZXJuYW1lXCI+VXNlcm5hbWU8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwic2hhZG93IGJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZSBtYi0zXCJcclxuICAgICAgICAgICAgICAgIGlkPVwidXNlcm5hbWVcIiB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJ1c2VybmFtZVwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtIG1iLTJcIiBmb3I9XCJwYXNzd29yZFwiPlBhc3N3b3JkPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInNoYWRvdyBiZy1ibGFjayBhcHBlYXJhbmNlLW5vbmUgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCByb3VuZGVkIHctZnVsbCBweS0xIHB4LTMgbGVhZGluZy10aWdodCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6c2hhZG93LW91dGxpbmVcIlxyXG4gICAgICAgICAgICAgICAgOmNsYXNzPVwieyAnbWItMyc6ICFpbmNvcnJlY3RDcmVkZW50aWFscyB9XCIgaWQ9XCJwYXNzd29yZFwiIHR5cGU9XCJwYXNzd29yZFwiIHYtbW9kZWw9XCJwYXNzd29yZFwiPlxyXG4gICAgICAgICAgICA8c3BhbiB2LWlmPVwiaW5jb3JyZWN0Q3JlZGVudGlhbHNcIiBjbGFzcz1cInRleHQtcmVkLTUwMCB0ZXh0LXNtIG1iLTNcIj5be3sgZXJyb3JNZXNzYWdlIH19XTwvc3Bhbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLW9yYW5nZS01MDAgaG92ZXI6Ymctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0xIHB4LTQgcm91bmRlZFwiIEBjbGljaz1cImxvZ2luXCI+U2lnblxyXG4gICAgICAgICAgICAgICAgaW48L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIGNsYXNzPVwiIG10LTUgbWF4LXcteHMgbXgtYXV0byByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS03MDAgYmctWyMxNjFiMjJdIGZsZXggZmxleC1jb2wgdGV4dC13aGl0ZSBweC00IHB5LTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgdGV4dC1zbSBtYi0yXCIgZm9yPVwidXNlcm5hbWVcIj5Ob3QgcmVnaXN0ZXJlZD88L2xhYmVsPlxyXG4gICAgICAgICAgICA8Um91dGVyTGluayB0bz1cIi9yZWdpc3RlclwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJnLW9yYW5nZS01MDAgaG92ZXI6Ymctb3JhbmdlLTYwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0xIHB4LTQgcm91bmRlZCB3LWZ1bGxcIj5DcmVhdGVcclxuICAgICAgICAgICAgICAgICAgICBhbiBhY2NvdW50PC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvUm91dGVyTGluaz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvc2VjdGlvbj5cclxuICAgIDwhLS0gRElTUExBWSBVU0VSIERFVEFJTFMgT04gTE9HSU4gLS0+XHJcbiAgICA8c2VjdGlvbiB2LWlmPVwidXNlci5sb2dnZWRJbiAmJiBvbkxpbmVcIiBjbGFzcz1cIm10LTEyIHB0LTYgcGItNFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtYXgtdy14cyBteC1hdXRvIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCBiZy1bIzE2MWIyMl0gZmxleCBmbGV4LWNvbCB0ZXh0LXdoaXRlIHB4LTQgcHktM1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtXCIgZm9yPVwidXNlcm5hbWVcIj5Vc2VybmFtZTo8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHgtNCB0ZXh0LXNtXCI+e3sgdXNlci51c2VybmFtZSB9fTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHN2ZyB2LWlmPVwiIWVkaXRpbmdOYW1lXCIgY2xhc3M9XCJob3ZlcjpjdXJzb3ItcG9pbnRlciBzaXplLTVcIiBAY2xpY2s9XCJlZGl0TmFtZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0cm9rZT1cIiMwMDAwMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fYmdDYXJyaWVyXCIgc3Ryb2tlLXdpZHRoPVwiMFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjwvZz5cclxuICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cIlNWR1JlcG9faWNvbkNhcnJpZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMjEuMjc5OSA2LjQwMDA1TDExLjczOTkgMTUuOTRDMTAuNzg5OSAxNi44OSA3Ljk2OTg3IDE3LjMzIDcuMzM5ODcgMTYuN0M2LjcwOTg3IDE2LjA3IDcuMTM5ODcgMTMuMjUgOC4wODk4NyAxMi4zTDE3LjYzOTkgMi43NTAwMkMxNy44NzU0IDIuNDkzMDggMTguMTYwNSAyLjI4NjU0IDE4LjQ3ODEgMi4xNDI4NEMxOC43OTU2IDEuOTk5MTQgMTkuMTM5IDEuOTIxMjQgMTkuNDg3NSAxLjkxMzlDMTkuODM1OSAxLjkwNjU3IDIwLjE4MjMgMS45Njk5MSAyMC41MDU2IDIuMTAwMTJDMjAuODI4OSAyLjIzMDMzIDIxLjEyMjUgMi40MjQ3MyAyMS4zNjg2IDIuNjcxNTNDMjEuNjE0NyAyLjkxODMzIDIxLjgwODMgMy4yMTI0MyAyMS45Mzc2IDMuNTM2MDlDMjIuMDY2OSAzLjg1OTc2IDIyLjEyOTQgNC4yMDYyNiAyMi4xMjExIDQuNTU0NzFDMjIuMTEyOCA0LjkwMzE2IDIyLjAzMzkgNS4yNDYzNSAyMS44ODk0IDUuNTYzNUMyMS43NDQ4IDUuODgwNjUgMjEuNTM3NSA2LjE2NTI0IDIxLjI3OTkgNi40MDAwNVY2LjQwMDA1WlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjZmZmZmZmXCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk0xMSA0SDZDNC45MzkxMyA0IDMuOTIxNzggNC40MjE0MiAzLjE3MTYzIDUuMTcxNTdDMi40MjE0OSA1LjkyMTcyIDIgNi45MzkxMyAyIDhWMThDMiAxOS4wNjA5IDIuNDIxNDkgMjAuMDc4MyAzLjE3MTYzIDIwLjgyODRDMy45MjE3OCAyMS41Nzg2IDQuOTM5MTMgMjIgNiAyMkgxN0MxOS4yMSAyMiAyMCAyMC4yIDIwIDE4VjEzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZT1cIiNmZmZmZmZcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIHYtZWxzZSBjbGFzcz1cImhvdmVyOmN1cnNvci1wb2ludGVyIHNpemUtNSBmaWxsLWN1cnJlbnQgdGV4dC13aGl0ZVwiIEBjbGljaz1cInNhdmVOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgc3Ryb2tlPVwiIzAwMDAwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxnIGlkPVwiU1ZHUmVwb19iZ0NhcnJpZXJcIiBzdHJva2Utd2lkdGg9XCIxLjVcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX3RyYWNlckNhcnJpZXJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48L2c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJNMTguMTcxNiAxQzE4LjcwMiAxIDE5LjIxMDcgMS4yMTA3MSAxOS41ODU4IDEuNTg1NzlMMjIuNDE0MiA0LjQxNDIxQzIyLjc4OTMgNC43ODkyOSAyMyA1LjI5Nzk5IDIzIDUuODI4NDNWMjBDMjMgMjEuNjU2OSAyMS42NTY5IDIzIDIwIDIzSDRDMi4zNDMxNSAyMyAxIDIxLjY1NjkgMSAyMFY0QzEgMi4zNDMxNSAyLjM0MzE1IDEgNCAxSDE4LjE3MTZaTTQgM0MzLjQ0NzcyIDMgMyAzLjQ0NzcyIDMgNFYyMEMzIDIwLjU1MjMgMy40NDc3MiAyMSA0IDIxTDUgMjFMNSAxNUM1IDEzLjM0MzEgNi4zNDMxNSAxMiA4IDEyTDE2IDEyQzE3LjY1NjkgMTIgMTkgMTMuMzQzMSAxOSAxNVYyMUgyMEMyMC41NTIzIDIxIDIxIDIwLjU1MjMgMjEgMjBWNi44Mjg0M0MyMSA2LjI5Nzk5IDIwLjc4OTMgNS43ODkyOSAyMC40MTQyIDUuNDE0MjFMMTguNTg1OCAzLjU4NTc5QzE4LjIxMDcgMy4yMTA3MSAxNy43MDIgMyAxNy4xNzE2IDNIMTdWNUMxNyA2LjY1Njg1IDE1LjY1NjkgOCAxNCA4SDEwQzguMzQzMTUgOCA3IDYuNjU2ODUgNyA1VjNINFpNMTcgMjFWMTVDMTcgMTQuNDQ3NyAxNi41NTIzIDE0IDE2IDE0TDggMTRDNy40NDc3MiAxNCA3IDE0LjQ0NzcgNyAxNUw3IDIxTDE3IDIxWk05IDNIMTVWNUMxNSA1LjU1MjI4IDE0LjU1MjMgNiAxNCA2SDEwQzkuNDQ3NzIgNiA5IDUuNTUyMjggOSA1VjNaXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICA8L2c+XHJcbiAgICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IG1iLTJcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc21cIiBmb3I9XCJwYXNzd29yZFwiPk5hbWU6PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxwIHYtaWY9XCIhZWRpdGluZ05hbWVcIiBjbGFzcz1cInB4LTQgdGV4dC1zbVwiPnt7IHVzZXIubmFtZSB9fTwvcD5cclxuICAgICAgICAgICAgICAgIDxkaXYgdi1lbHNlIGNsYXNzPVwicHgtNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJnLWJsYWNrIGFwcGVhcmFuY2Utbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQgdy1mdWxsIHB5LTEgcHgtMyBsZWFkaW5nLXRpZ2h0IGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpzaGFkb3ctb3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJlZGl0ZWROYW1lXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgICA8IS0tIERJU1BMQVkgVVNFUiBQUkVWSU9VUyBVUERBVEVTIC0tPlxyXG4gICAgPHNlY3Rpb24gdi1pZj1cInVzZXIubG9nZ2VkSW4gJiYgb25MaW5lXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1heC13LXhzIG14LWF1dG8gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktNzAwIGJnLVsjMTYxYjIyXSBmbGV4IGZsZXgtY29sIHRleHQtd2hpdGUgcHgtNCBweS0zXCI+XHJcbiAgICAgICAgICAgIFByZXZpb3VzIHVwZGF0ZXNcclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvc2VjdGlvbj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbmltcG9ydCB7IGFkZEl0ZW0sIGdldEFsbEl0ZW1zLCBjbGVhclN0b3JlIH0gZnJvbSAnQC9zdG9yZXMvb2ZmbGluZVdvcmtlcic7XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYXBzOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IE9iamVjdCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uTGluZToge1xyXG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgIH0sXHJcbiAgICBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiAnJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgICAgICAgICBpbmNvcnJlY3RDcmVkZW50aWFsczogZmFsc2UsXHJcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgIGVkaXRpbmdOYW1lOiBmYWxzZSxcclxuICAgICAgICAgICAgZWRpdGVkTmFtZTogdGhpcy51c2VyLm5hbWVcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGFzeW5jIGxvZ2luKCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51c2VyLmFwaUxvZ2luKHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmluY29ycmVjdENyZWRlbnRpYWxzID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ0xvZ2luIHN1Y2Nlc3NmdWwnKVxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIHNlc3Npb24gSldUIHRvIGluZGV4ZWREQiwgdG8gYmUgdXNlZCB3aGVuIHBvc3RpbmcgZm9ybXMgZnJvbSBvZmZsaW5lXHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBzZXNzaW9uSld0IGV4aXN0cywgcmVmcmVzaCBpdCBpZiBzb1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnkgPSBnZXRBbGxJdGVtcyhcInNlc3Npb25Kd3RcIilcclxuICAgICAgICAgICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU3RvcmUoXCJzZXNzaW9uSnd0XCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uSnd0ID0geyBzZXNzaW9uSnd0OiB0aGlzLnVzZXIuc2Vzc2lvbkp3dCB9XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhZGRJdGVtKHNlc3Npb25Kd3QsIFwic2Vzc2lvbkp3dFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJylcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnN0YXR1cylcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5jb3JyZWN0Q3JlZGVudGlhbHMgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSBcIkluY29ycmVjdCB1c2VybmFtZSBvciBwYXNzd29yZFwiXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmNvcnJlY3RDcmVkZW50aWFscyA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IFwiVXNlciBub3QgZm91bmRcIlxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgb3RoZXIgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJPdGhlciBlcnJvcjpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlZGl0TmFtZSgpIHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0aW5nTmFtZSA9IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jIHNhdmVOYW1lKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5lZGl0ZWROYW1lICE9IHRoaXMudXNlci5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXNlci5hcGlFZGl0VXNlcih0aGlzLmVkaXRlZE5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdG9hc3Quc3VjY2VzcygnUHJvZmlsZSB1cGRhdGVkJylcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3Iuc3RhdHVzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5zdGF0dXMgPT09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHJvZmlsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIG90aGVyIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk90aGVyIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ05hbWUgPSBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+PC9zdHlsZT4iLCI8dGVtcGxhdGU+XHJcbiAgICA8c2VjdGlvbiBjbGFzcz1cInB0LTNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibWF4LXcteHMgbXgtYXV0byByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS03MDAgYmctWyMxNjFiMjJdIGZsZXggZmxleC1jb2wgdGV4dC13aGl0ZSBweC00IHB5LTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiYmxvY2sgdXBwZXJjYXNlIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICBSZWdpc3RlclxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc20gbWItMlwiIGZvcj1cIm5hbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICBOYW1lXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzaGFkb3cgYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lIG1iLTNcIlxyXG4gICAgICAgICAgICAgICAgICAgIGlkPVwibmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cIm5hbWVcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc20gbWItMlwiIGZvcj1cInVzZXJuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgVXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInNzaGFkb3cgYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lIG1iLTNcIlxyXG4gICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsgJ21iLTMnOiAhdXNlcm5hbWVJblVzZSB9XCIgaWQ9XCJ1c2VybmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cInVzZXJuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwidXNlcm5hbWVJblVzZVwiIGNsYXNzPVwidGV4dC1yZWQtNTAwIG1iLTNcIj5bVXNlcm5hbWUgYWxyZWFkeSB0YWtlbl08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJibG9jayB1cHBlcmNhc2UgdGV4dC13aGl0ZSB0ZXh0LXNtIG1iLTJcIiBmb3I9XCJwYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzaGFkb3cgYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lIG1iLTNcIlxyXG4gICAgICAgICAgICAgICAgICAgIGlkPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiB2LW1vZGVsPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtc20gbWItMlwiIGZvcj1cInBhc3N3b3JkMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFJlLWVudGVyIFBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzaGFkb3cgYmctYmxhY2sgYXBwZWFyYW5jZS1ub25lIGJvcmRlciBib3JkZXItZ3JheS03MDAgcm91bmRlZCB3LWZ1bGwgcHktMSBweC0zIGxlYWRpbmctdGlnaHQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnNoYWRvdy1vdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICBpZD1cInBhc3N3b3JkMlwiIHR5cGU9XCJwYXNzd29yZFwiIHYtbW9kZWw9XCJwYXNzd29yZDJcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJjaGVja1Bhc3N3b3JkKClcIiBjbGFzcz1cInRleHQtcmVkLTUwMCB0ZXh0LXNtXCI+W1Bhc3N3b3JkcyBtdXN0IG1hdGNoXTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmctb3JhbmdlLTUwMCB0ZXh0LXdoaXRlIGZvbnQtYm9sZCBweS0xIHB4LTQgcm91bmRlZFwiXHJcbiAgICAgICAgICAgICAgICA6Y2xhc3M9XCIhY2hlY2tEaXNhYmxlZEJ1dHRvbigpID8gJ2hvdmVyOmJnLW9yYW5nZS02MDAgaG92ZXI6Y3Vyc29yLXBvaW50ZXInIDogJ29wYWNpdHktNTAnXCJcclxuICAgICAgICAgICAgICAgIEBjbGljaz1cInN1Ym1pdEZvcm1cIiA6ZGlzYWJsZWQ9XCJjaGVja0Rpc2FibGVkQnV0dG9uKClcIj5TaWduIFVwXHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgIDwvc2VjdGlvbj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzY3JpcHQ+XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGVtaXRzOiBbJ3N1Ym1pdFJlZ2lzdHJhdGlvbiddLFxyXG4gICAgcHJvcHM6IHtcclxuICAgICAgICB1c2VybmFtZUluVXNlOiB7XHJcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBkYXRhKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6ICcnLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogJycsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICAgICAgcGFzc3dvcmQyOiAnJyxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIHN1Ym1pdEZvcm0oKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWJtaXQgZm9ybVwiKVxyXG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWJtaXRSZWdpc3RyYXRpb24nLCBwYXlsb2FkKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tEaXNhYmxlZEJ1dHRvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLm5hbWUgfHwgIXRoaXMudXNlcm5hbWUgfHwgIXRoaXMucGFzc3dvcmQgfHwgIXRoaXMucGFzc3dvcmQyIHx8IHRoaXMuY2hlY2tQYXNzd29yZCgpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGVja1Bhc3N3b3JkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXNzd29yZDIgJiYgdGhpcy5wYXNzd29yZCAhPSB0aGlzLnBhc3N3b3JkMlxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG59XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPjwvc3R5bGU+IiwiPHRlbXBsYXRlPlxyXG4gICAgPGRpdiB2LWlmPVwiIW9uTGluZVwiIGNsYXNzPVwibXQtMTIgcHgtMyBweS0zIGJsb2NrIHVwcGVyY2FzZSB0ZXh0LXdoaXRlIHRleHQtbWQgZm9udC1ib2xkIGJnLXNsYXRlLTQwMCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgIE5vIGFjY2Vzc3MgaW4gb2ZmbGluZSBtb2RlXHJcbiAgICA8L2Rpdj5cclxuICAgIDxzZWN0aW9uIGNsYXNzPVwibXQtMTIgbWItMTYgcHQtMyBiZy1ibGFja1wiPlxyXG4gICAgICAgIDxSZWdpc3RlclVzZXIgdi1pZj1cIiF1c2VyLmxvZ2dlZF9pbiB8fCAhb25MaW5lXCIgQHN1Ym1pdFJlZ2lzdHJhdGlvbj1cInN1Ym1pdFJlZ2lzdHJhdGlvblwiXHJcbiAgICAgICAgICAgIDp1c2VybmFtZUluVXNlPVwidXNlcm5hbWVJblVzZVwiPlxyXG4gICAgICAgIDwvUmVnaXN0ZXJVc2VyPlxyXG4gICAgPC9zZWN0aW9uPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IFJlZ2lzdGVyVXNlciBmcm9tICdAL2NvbXBvbmVudHMvUmVnaXN0ZXJVc2VyLnZ1ZSc7XHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHByb3BzOiB7XHJcbiAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkxpbmU6IHtcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhblxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnRzOiB7XHJcbiAgICAgICAgUmVnaXN0ZXJVc2VyLFxyXG4gICAgfSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXNlcm5hbWVJblVzZTogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGFzeW5jIHN1Ym1pdFJlZ2lzdHJhdGlvbihwYXlsb2FkKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lSW5Vc2UgPSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy51c2VyLmFwaVJlZ2lzdGVyKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCdSZWdpc3RyYXRpb24gc3VjY2Vzc2Z1bC4gUGxlYXNlIGxvZ2luJylcclxuICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlLnB1c2goJy9sb2dpbicpXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5zdGF0dXMpXHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lSW5Vc2UgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBvdGhlciBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk90aGVyIGVycm9yOlwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPjwvc3R5bGU+IiwiaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcidcclxuaW1wb3J0IFNlbmRVcGRhdGUgZnJvbSAnQC92aWV3cy9TZW5kVXBkYXRlLnZ1ZSdcclxuaW1wb3J0IE1hcFZpZXcgZnJvbSAnQC92aWV3cy9NYXBWaWV3LnZ1ZSdcclxuaW1wb3J0IFVzZXJQcm9maWxlIGZyb20gJ0Avdmlld3MvVXNlclByb2ZpbGUudnVlJ1xyXG5pbXBvcnQgUmVnaXN0ZXJWaWV3IGZyb20gJ0Avdmlld3MvUmVnaXN0ZXJWaWV3LnZ1ZSdcclxuXHJcbmNvbnN0IHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7XHJcbiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeShpbXBvcnQubWV0YS5lbnYuQkFTRV9VUkwpLFxyXG4gIHJvdXRlczogW1xyXG4gICAge1xyXG4gICAgICBwYXRoOiAnLycsXHJcbiAgICAgIG5hbWU6ICdob21lJyxcclxuICAgICAgY29tcG9uZW50OiBTZW5kVXBkYXRlXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBwYXRoOiAnL21hcCcsXHJcbiAgICAgIG5hbWU6ICdtYXAnLFxyXG4gICAgICBjb21wb25lbnQ6IE1hcFZpZXdcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHBhdGg6ICcvcHJvZmlsZScsXHJcbiAgICAgIG5hbWU6ICdwcm9maWxlJyxcclxuICAgICAgY29tcG9uZW50OiBVc2VyUHJvZmlsZVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgcGF0aDogJy9yZWdpc3RlcicsXHJcbiAgICAgIG5hbWU6ICdyZWdpc3RlcicsXHJcbiAgICAgIGNvbXBvbmVudDogUmVnaXN0ZXJWaWV3XHJcbiAgICB9XHJcbiAgXVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXHJcbiIsImltcG9ydCB7IGNyZWF0ZUFwcCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IHsgY3JlYXRlUGluaWEgfSBmcm9tICdwaW5pYSdcclxuaW1wb3J0IFRvYXN0UGx1Z2luIGZyb20gJ3Z1ZS10b2FzdC1ub3RpZmljYXRpb24nXHJcblxyXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwLnZ1ZSdcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcidcclxuaW1wb3J0ICcuL2luZGV4LmNzcydcclxuaW1wb3J0ICd2dWUtdG9hc3Qtbm90aWZpY2F0aW9uL2Rpc3QvdGhlbWUtZGVmYXVsdC5jc3MnXHJcblxyXG5jb25zdCBhcHAgPSBjcmVhdGVBcHAoQXBwKVxyXG5cclxuYXBwLnVzZShjcmVhdGVQaW5pYSgpKVxyXG5hcHAudXNlKHJvdXRlcilcclxuYXBwLnVzZShUb2FzdFBsdWdpbiwge1xyXG4gIC8vIE9uZSBvZiB0aGUgb3B0aW9uc1xyXG4gIHBvc2l0aW9uOiAndG9wLXJpZ2h0JyxcclxuICBkdXJhdGlvbjogMzAwMFxyXG59KVxyXG5cclxuYXBwLm1vdW50KCcjYXBwJylcclxuIl0sIm5hbWVzIjpbIm1ha2VNYXAiLCJzdHIiLCJleHBlY3RzTG93ZXJDYXNlIiwic2V0IiwidmFsIiwiRU1QVFlfT0JKIiwiRU1QVFlfQVJSIiwiTk9PUCIsIk5PIiwiaXNPbiIsImtleSIsImlzTW9kZWxMaXN0ZW5lciIsImV4dGVuZCIsInJlbW92ZSIsImFyciIsImVsIiwiaSIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwiaXNBcnJheSIsImlzTWFwIiwidG9UeXBlU3RyaW5nIiwiaXNTZXQiLCJpc0RhdGUiLCJpc1JlZ0V4cCIsImlzRnVuY3Rpb24iLCJpc1N0cmluZyIsImlzU3ltYm9sIiwiaXNPYmplY3QiLCJpc1Byb21pc2UiLCJvYmplY3RUb1N0cmluZyIsInZhbHVlIiwidG9SYXdUeXBlIiwiaXNQbGFpbk9iamVjdCIsImlzSW50ZWdlcktleSIsImlzUmVzZXJ2ZWRQcm9wIiwiY2FjaGVTdHJpbmdGdW5jdGlvbiIsImZuIiwiY2FjaGUiLCJjYW1lbGl6ZVJFIiwiY2FtZWxpemUiLCJfIiwiYyIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiY2FwaXRhbGl6ZSIsInRvSGFuZGxlcktleSIsImhhc0NoYW5nZWQiLCJvbGRWYWx1ZSIsImludm9rZUFycmF5Rm5zIiwiZm5zIiwiYXJnIiwiZGVmIiwib2JqIiwibG9vc2VUb051bWJlciIsIm4iLCJ0b051bWJlciIsIl9nbG9iYWxUaGlzIiwiZ2V0R2xvYmFsVGhpcyIsIkdMT0JBTFNfQUxMT1dFRCIsImlzR2xvYmFsbHlBbGxvd2VkIiwibm9ybWFsaXplU3R5bGUiLCJyZXMiLCJpdGVtIiwibm9ybWFsaXplZCIsInBhcnNlU3RyaW5nU3R5bGUiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwidG1wIiwibm9ybWFsaXplQ2xhc3MiLCJuYW1lIiwibm9ybWFsaXplUHJvcHMiLCJwcm9wcyIsImtsYXNzIiwic3R5bGUiLCJzcGVjaWFsQm9vbGVhbkF0dHJzIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJpbmNsdWRlQm9vbGVhbkF0dHIiLCJsb29zZUNvbXBhcmVBcnJheXMiLCJhIiwiYiIsImVxdWFsIiwibG9vc2VFcXVhbCIsImFWYWxpZFR5cGUiLCJiVmFsaWRUeXBlIiwiYUtleXNDb3VudCIsImJLZXlzQ291bnQiLCJhSGFzS2V5IiwiYkhhc0tleSIsImxvb3NlSW5kZXhPZiIsInRvRGlzcGxheVN0cmluZyIsInJlcGxhY2VyIiwiX2tleSIsImVudHJpZXMiLCJ2YWwyIiwic3RyaW5naWZ5U3ltYm9sIiwidiIsIl9hIiwiYWN0aXZlRWZmZWN0U2NvcGUiLCJFZmZlY3RTY29wZSIsImRldGFjaGVkIiwiY3VycmVudEVmZmVjdFNjb3BlIiwiZnJvbVBhcmVudCIsImwiLCJsYXN0IiwiZWZmZWN0U2NvcGUiLCJyZWNvcmRFZmZlY3RTY29wZSIsImVmZmVjdCIsInNjb3BlIiwiZ2V0Q3VycmVudFNjb3BlIiwib25TY29wZURpc3Bvc2UiLCJhY3RpdmVFZmZlY3QiLCJSZWFjdGl2ZUVmZmVjdCIsInRyaWdnZXIiLCJzY2hlZHVsZXIiLCJwYXVzZVRyYWNraW5nIiwiZGVwIiwidHJpZ2dlckNvbXB1dGVkIiwicmVzZXRUcmFja2luZyIsImxhc3RTaG91bGRUcmFjayIsInNob3VsZFRyYWNrIiwibGFzdEVmZmVjdCIsInByZUNsZWFudXBFZmZlY3QiLCJwb3N0Q2xlYW51cEVmZmVjdCIsImNvbXB1dGVkIiwiZWZmZWN0MiIsImNsZWFudXBEZXBFZmZlY3QiLCJ0cmFja0lkIiwib3B0aW9ucyIsIl9lZmZlY3QiLCJydW5uZXIiLCJzdG9wIiwicGF1c2VTY2hlZHVsZVN0YWNrIiwidHJhY2tTdGFjayIsInBhdXNlU2NoZWR1bGluZyIsInJlc2V0U2NoZWR1bGluZyIsInF1ZXVlRWZmZWN0U2NoZWR1bGVycyIsInRyYWNrRWZmZWN0IiwiZGVidWdnZXJFdmVudEV4dHJhSW5mbyIsIm9sZERlcCIsInRyaWdnZXJFZmZlY3RzIiwiZGlydHlMZXZlbCIsInRyYWNraW5nIiwiY3JlYXRlRGVwIiwiY2xlYW51cCIsInRhcmdldE1hcCIsIklURVJBVEVfS0VZIiwiTUFQX0tFWV9JVEVSQVRFX0tFWSIsInRyYWNrIiwidGFyZ2V0IiwidHlwZSIsImRlcHNNYXAiLCJuZXdWYWx1ZSIsIm9sZFRhcmdldCIsImRlcHMiLCJuZXdMZW5ndGgiLCJrZXkyIiwiZ2V0RGVwRnJvbVJlYWN0aXZlIiwib2JqZWN0IiwiaXNOb25UcmFja2FibGVLZXlzIiwiYnVpbHRJblN5bWJvbHMiLCJhcnJheUluc3RydW1lbnRhdGlvbnMiLCJjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMiLCJpbnN0cnVtZW50YXRpb25zIiwiYXJncyIsInRvUmF3IiwiQmFzZVJlYWN0aXZlSGFuZGxlciIsIl9pc1JlYWRvbmx5IiwiX2lzU2hhbGxvdyIsInJlY2VpdmVyIiwiaXNSZWFkb25seTIiLCJpc1NoYWxsb3cyIiwic2hhbGxvd1JlYWRvbmx5TWFwIiwicmVhZG9ubHlNYXAiLCJzaGFsbG93UmVhY3RpdmVNYXAiLCJyZWFjdGl2ZU1hcCIsInRhcmdldElzQXJyYXkiLCJpc1JlZiIsInJlYWRvbmx5IiwicmVhY3RpdmUiLCJNdXRhYmxlUmVhY3RpdmVIYW5kbGVyIiwiaXNPbGRWYWx1ZVJlYWRvbmx5IiwiaXNSZWFkb25seSIsImlzU2hhbGxvdyIsImhhZEtleSIsInJlc3VsdCIsIlJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyIiwibXV0YWJsZUhhbmRsZXJzIiwicmVhZG9ubHlIYW5kbGVycyIsInNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzIiwic2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMiLCJ0b1NoYWxsb3ciLCJnZXRQcm90byIsImdldCIsInJhd1RhcmdldCIsInJhd0tleSIsImhhczIiLCJ3cmFwIiwidG9SZWFkb25seSIsInRvUmVhY3RpdmUiLCJoYXMiLCJzaXplIiwiYWRkIiwiZ2V0MiIsImRlbGV0ZUVudHJ5IiwiY2xlYXIiLCJoYWRJdGVtcyIsImNyZWF0ZUZvckVhY2giLCJjYWxsYmFjayIsInRoaXNBcmciLCJvYnNlcnZlZCIsImNyZWF0ZUl0ZXJhYmxlTWV0aG9kIiwibWV0aG9kIiwidGFyZ2V0SXNNYXAiLCJpc1BhaXIiLCJpc0tleU9ubHkiLCJpbm5lckl0ZXJhdG9yIiwiZG9uZSIsImNyZWF0ZVJlYWRvbmx5TWV0aG9kIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyIsIm11dGFibGVJbnN0cnVtZW50YXRpb25zMiIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zMiIsInJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIiLCJzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiIsIm11dGFibGVJbnN0cnVtZW50YXRpb25zIiwicmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvd0luc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyIiwic2hhbGxvdyIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzIiwicmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJ0YXJnZXRUeXBlTWFwIiwicmF3VHlwZSIsImdldFRhcmdldFR5cGUiLCJjcmVhdGVSZWFjdGl2ZU9iamVjdCIsInNoYWxsb3dSZWFjdGl2ZSIsInNoYWxsb3dSZWFkb25seSIsImJhc2VIYW5kbGVycyIsImNvbGxlY3Rpb25IYW5kbGVycyIsInByb3h5TWFwIiwiZXhpc3RpbmdQcm94eSIsInRhcmdldFR5cGUiLCJwcm94eSIsImlzUmVhY3RpdmUiLCJpc1Byb3h5IiwicmF3IiwibWFya1JhdyIsIkNvbXB1dGVkUmVmSW1wbCIsImdldHRlciIsIl9zZXR0ZXIiLCJpc1NTUiIsInRyaWdnZXJSZWZWYWx1ZSIsInNlbGYiLCJ0cmFja1JlZlZhbHVlIiwiZ2V0dGVyT3JPcHRpb25zIiwiZGVidWdPcHRpb25zIiwic2V0dGVyIiwib25seUdldHRlciIsInJlZjIiLCJuZXdWYWwiLCJyIiwicmVmIiwiY3JlYXRlUmVmIiwic2hhbGxvd1JlZiIsInJhd1ZhbHVlIiwiUmVmSW1wbCIsIl9fdl9pc1NoYWxsb3ciLCJ1c2VEaXJlY3RWYWx1ZSIsInRyaWdnZXJSZWYiLCJ1bnJlZiIsInRvVmFsdWUiLCJzb3VyY2UiLCJzaGFsbG93VW53cmFwSGFuZGxlcnMiLCJwcm94eVJlZnMiLCJvYmplY3RXaXRoUmVmcyIsIkN1c3RvbVJlZkltcGwiLCJmYWN0b3J5IiwiY3VzdG9tUmVmIiwidG9SZWZzIiwicHJvcGVydHlUb1JlZiIsIk9iamVjdFJlZkltcGwiLCJfb2JqZWN0IiwiX2RlZmF1bHRWYWx1ZSIsIkdldHRlclJlZkltcGwiLCJfZ2V0dGVyIiwidG9SZWYiLCJkZWZhdWx0VmFsdWUiLCJUcmFja09wVHlwZXMiLCJUcmlnZ2VyT3BUeXBlcyIsImFzc2VydE51bWJlciIsIkVycm9yQ29kZXMiLCJFcnJvclR5cGVTdHJpbmdzJDEiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJpbnN0YW5jZSIsImVyciIsImhhbmRsZUVycm9yIiwiY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmciLCJ2YWx1ZXMiLCJ0aHJvd0luRGV2IiwiY29udGV4dFZOb2RlIiwiY3VyIiwiZXhwb3NlZEluc3RhbmNlIiwiZXJyb3JJbmZvIiwiZXJyb3JDYXB0dXJlZEhvb2tzIiwiYXBwRXJyb3JIYW5kbGVyIiwibG9nRXJyb3IiLCJpc0ZsdXNoaW5nIiwiaXNGbHVzaFBlbmRpbmciLCJxdWV1ZSIsImZsdXNoSW5kZXgiLCJwZW5kaW5nUG9zdEZsdXNoQ2JzIiwiYWN0aXZlUG9zdEZsdXNoQ2JzIiwicG9zdEZsdXNoSW5kZXgiLCJyZXNvbHZlZFByb21pc2UiLCJjdXJyZW50Rmx1c2hQcm9taXNlIiwibmV4dFRpY2siLCJwIiwiZmluZEluc2VydGlvbkluZGV4IiwiaWQiLCJzdGFydCIsImVuZCIsIm1pZGRsZSIsIm1pZGRsZUpvYiIsIm1pZGRsZUpvYklkIiwiZ2V0SWQiLCJxdWV1ZUpvYiIsImpvYiIsInF1ZXVlRmx1c2giLCJmbHVzaEpvYnMiLCJpbnZhbGlkYXRlSm9iIiwicXVldWVQb3N0Rmx1c2hDYiIsImNiIiwiZmx1c2hQcmVGbHVzaENicyIsInNlZW4iLCJmbHVzaFBvc3RGbHVzaENicyIsImRlZHVwZWQiLCJjb21wYXJhdG9yIiwiZGlmZiIsImRldnRvb2xzJDEiLCJidWZmZXIiLCJzZXREZXZ0b29sc0hvb2skMSIsImhvb2siLCJfYiIsImV2ZW50IiwibmV3SG9vayIsImVtaXQiLCJyYXdBcmdzIiwibW9kZWxBcmciLCJtb2RpZmllcnNLZXkiLCJudW1iZXIiLCJ0cmltIiwiaGFuZGxlck5hbWUiLCJoYW5kbGVyIiwib25jZUhhbmRsZXIiLCJub3JtYWxpemVFbWl0c09wdGlvbnMiLCJjb21wIiwiYXBwQ29udGV4dCIsImFzTWl4aW4iLCJjYWNoZWQiLCJoYXNFeHRlbmRzIiwiZXh0ZW5kRW1pdHMiLCJyYXcyIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJpc0VtaXRMaXN0ZW5lciIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsImN1cnJlbnRTY29wZUlkIiwic2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwicHJldiIsInB1c2hTY29wZUlkIiwicG9wU2NvcGVJZCIsIndpdGhTY29wZUlkIiwiX2lkIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsInJlbmRlckZuV2l0aENvbnRleHQiLCJzZXRCbG9ja1RyYWNraW5nIiwicHJldkluc3RhbmNlIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsIkNvbXBvbmVudCIsInZub2RlIiwid2l0aFByb3h5IiwicHJvcHNPcHRpb25zIiwic2xvdHMiLCJhdHRycyIsInJlbmRlciIsInJlbmRlckNhY2hlIiwiZGF0YSIsInNldHVwU3RhdGUiLCJpbmhlcml0QXR0cnMiLCJmYWxsdGhyb3VnaEF0dHJzIiwicHJveHlUb1VzZSIsInRoaXNQcm94eSIsIm5vcm1hbGl6ZVZOb2RlIiwicmVuZGVyMiIsImdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCIsImJsb2NrU3RhY2siLCJjcmVhdGVWTm9kZSIsIkNvbW1lbnQiLCJyb290Iiwia2V5cyIsInNoYXBlRmxhZyIsImZpbHRlck1vZGVsTGlzdGVuZXJzIiwiY2xvbmVWTm9kZSIsImZpbHRlclNpbmdsZVJvb3QiLCJjaGlsZHJlbiIsInJlY3Vyc2UiLCJzaW5nbGVSb290IiwiY2hpbGQiLCJpc1ZOb2RlIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwicHJldlZOb2RlIiwibmV4dFZOb2RlIiwib3B0aW1pemVkIiwicHJldlByb3BzIiwicHJldkNoaWxkcmVuIiwiY29tcG9uZW50IiwibmV4dFByb3BzIiwibmV4dENoaWxkcmVuIiwicGF0Y2hGbGFnIiwiZW1pdHMiLCJoYXNQcm9wc0NoYW5nZWQiLCJkeW5hbWljUHJvcHMiLCJlbWl0c09wdGlvbnMiLCJuZXh0S2V5cyIsInVwZGF0ZUhPQ0hvc3RFbCIsInBhcmVudCIsIkNPTVBPTkVOVFMiLCJESVJFQ1RJVkVTIiwicmVzb2x2ZUNvbXBvbmVudCIsIm1heWJlU2VsZlJlZmVyZW5jZSIsInJlc29sdmVBc3NldCIsIk5VTExfRFlOQU1JQ19DT01QT05FTlQiLCJyZXNvbHZlRHluYW1pY0NvbXBvbmVudCIsInJlc29sdmVEaXJlY3RpdmUiLCJ3YXJuTWlzc2luZyIsImN1cnJlbnRJbnN0YW5jZSIsInNlbGZOYW1lIiwiZ2V0Q29tcG9uZW50TmFtZSIsInJlc29sdmUiLCJyZWdpc3RyeSIsImlzU3VzcGVuc2UiLCJzdXNwZW5zZUlkIiwiU3VzcGVuc2VJbXBsIiwibjEiLCJuMiIsImNvbnRhaW5lciIsImFuY2hvciIsInBhcmVudENvbXBvbmVudCIsInBhcmVudFN1c3BlbnNlIiwibmFtZXNwYWNlIiwic2xvdFNjb3BlSWRzIiwicmVuZGVyZXJJbnRlcm5hbHMiLCJtb3VudFN1c3BlbnNlIiwicGF0Y2hTdXNwZW5zZSIsImh5ZHJhdGVTdXNwZW5zZSIsImNyZWF0ZVN1c3BlbnNlQm91bmRhcnkiLCJub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuIiwiU3VzcGVuc2UiLCJ0cmlnZ2VyRXZlbnQiLCJldmVudExpc3RlbmVyIiwicGF0Y2giLCJjcmVhdGVFbGVtZW50IiwiaGlkZGVuQ29udGFpbmVyIiwic3VzcGVuc2UiLCJzZXRBY3RpdmVCcmFuY2giLCJ1bm1vdW50IiwibmV3QnJhbmNoIiwibmV3RmFsbGJhY2siLCJhY3RpdmVCcmFuY2giLCJwZW5kaW5nQnJhbmNoIiwiaXNJbkZhbGxiYWNrIiwiaXNIeWRyYXRpbmciLCJpc1NhbWVWTm9kZVR5cGUiLCJ0aW1lb3V0IiwicGVuZGluZ0lkIiwibW92ZSIsIm5leHQiLCJwYXJlbnROb2RlIiwicGFyZW50U3VzcGVuc2VJZCIsImlzU3VzcGVuc2libGUiLCJpc1ZOb2RlU3VzcGVuc2libGUiLCJpbml0aWFsQW5jaG9yIiwicmVzdW1lIiwic3luYyIsInZub2RlMiIsImVmZmVjdHMiLCJwYXJlbnRDb21wb25lbnQyIiwiY29udGFpbmVyMiIsImRlbGF5RW50ZXIiLCJoYXNVbnJlc29sdmVkQW5jZXN0b3IiLCJmYWxsYmFja1ZOb2RlIiwibmFtZXNwYWNlMiIsImFuY2hvcjIiLCJtb3VudEZhbGxiYWNrIiwic2V0dXBSZW5kZXJFZmZlY3QiLCJpc0luUGVuZGluZ1N1c3BlbnNlIiwiaHlkcmF0ZWRFbCIsImFzeW5jU2V0dXBSZXN1bHQiLCJoYW5kbGVTZXR1cFJlc3VsdCIsInBsYWNlaG9sZGVyIiwicGFyZW50U3VzcGVuc2UyIiwiZG9SZW1vdmUiLCJub2RlIiwiaHlkcmF0ZU5vZGUiLCJpc1Nsb3RDaGlsZHJlbiIsIm5vcm1hbGl6ZVN1c3BlbnNlU2xvdCIsInMiLCJibG9jayIsInRyYWNrQmxvY2siLCJpc0Jsb2NrVHJlZUVuYWJsZWQiLCJvcGVuQmxvY2siLCJjdXJyZW50QmxvY2siLCJjbG9zZUJsb2NrIiwicXVldWVFZmZlY3RXaXRoU3VzcGVuc2UiLCJicmFuY2giLCJzc3JDb250ZXh0S2V5IiwidXNlU1NSQ29udGV4dCIsImluamVjdCIsIndhdGNoRWZmZWN0IiwiZG9XYXRjaCIsIndhdGNoUG9zdEVmZmVjdCIsIndhdGNoU3luY0VmZmVjdCIsIklOSVRJQUxfV0FUQ0hFUl9WQUxVRSIsIndhdGNoIiwiaW1tZWRpYXRlIiwiZGVlcCIsImZsdXNoIiwib25jZSIsIm9uVHJhY2siLCJvblRyaWdnZXIiLCJfY2IiLCJ1bndhdGNoIiwicmVhY3RpdmVHZXR0ZXIiLCJzb3VyY2UyIiwidHJhdmVyc2UiLCJmb3JjZVRyaWdnZXIiLCJpc011bHRpU291cmNlIiwib25DbGVhbnVwIiwiYmFzZUdldHRlciIsInNzckNsZWFudXAiLCJpc0luU1NSQ29tcG9uZW50U2V0dXAiLCJxdWV1ZVBvc3RSZW5kZXJFZmZlY3QiLCJpbnN0YW5jZVdhdGNoIiwicHVibGljVGhpcyIsImNyZWF0ZVBhdGhHZXR0ZXIiLCJyZXNldCIsInNldEN1cnJlbnRJbnN0YW5jZSIsInBhdGgiLCJzZWdtZW50cyIsImRlcHRoIiwiY3VycmVudERlcHRoIiwid2l0aERpcmVjdGl2ZXMiLCJkaXJlY3RpdmVzIiwiZ2V0RXhwb3NlUHJveHkiLCJiaW5kaW5ncyIsImRpciIsIm1vZGlmaWVycyIsImludm9rZURpcmVjdGl2ZUhvb2siLCJvbGRCaW5kaW5ncyIsImJpbmRpbmciLCJsZWF2ZUNiS2V5IiwiZW50ZXJDYktleSIsInVzZVRyYW5zaXRpb25TdGF0ZSIsInN0YXRlIiwib25Nb3VudGVkIiwib25CZWZvcmVVbm1vdW50IiwiVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IiLCJCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsIkJhc2VUcmFuc2l0aW9uSW1wbCIsImdldEN1cnJlbnRJbnN0YW5jZSIsImdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiIsInJhd1Byb3BzIiwibW9kZSIsImVtcHR5UGxhY2Vob2xkZXIiLCJpbm5lckNoaWxkIiwiZ2V0S2VlcEFsaXZlQ2hpbGQiLCJlbnRlckhvb2tzIiwicmVzb2x2ZVRyYW5zaXRpb25Ib29rcyIsInNldFRyYW5zaXRpb25Ib29rcyIsIm9sZENoaWxkIiwib2xkSW5uZXJDaGlsZCIsImxlYXZpbmdIb29rcyIsImVhcmx5UmVtb3ZlIiwiZGVsYXllZExlYXZlIiwibGVhdmluZ1ZOb2Rlc0NhY2hlIiwiZ2V0TGVhdmluZ05vZGVzRm9yVHlwZSIsIkJhc2VUcmFuc2l0aW9uIiwibGVhdmluZ1ZOb2RlcyIsImFwcGVhciIsInBlcnNpc3RlZCIsIm9uQmVmb3JlRW50ZXIiLCJvbkVudGVyIiwib25BZnRlckVudGVyIiwib25FbnRlckNhbmNlbGxlZCIsIm9uQmVmb3JlTGVhdmUiLCJvbkxlYXZlIiwib25BZnRlckxlYXZlIiwib25MZWF2ZUNhbmNlbGxlZCIsIm9uQmVmb3JlQXBwZWFyIiwib25BcHBlYXIiLCJvbkFmdGVyQXBwZWFyIiwib25BcHBlYXJDYW5jZWxsZWQiLCJjYWxsSG9vayIsImNhbGxBc3luY0hvb2siLCJob29rMiIsImhvb2tzIiwibGVhdmluZ1ZOb2RlIiwiYWZ0ZXJIb29rIiwiY2FuY2VsSG9vayIsImNhbGxlZCIsImNhbmNlbGxlZCIsImlzS2VlcEFsaXZlIiwia2VlcENvbW1lbnQiLCJwYXJlbnRLZXkiLCJrZXllZEZyYWdtZW50Q291bnQiLCJGcmFnbWVudCIsImRlZmluZUNvbXBvbmVudCIsImV4dHJhT3B0aW9ucyIsImlzQXN5bmNXcmFwcGVyIiwiZGVmaW5lQXN5bmNDb21wb25lbnQiLCJsb2FkZXIiLCJsb2FkaW5nQ29tcG9uZW50IiwiZXJyb3JDb21wb25lbnQiLCJkZWxheSIsInN1c3BlbnNpYmxlIiwidXNlck9uRXJyb3IiLCJwZW5kaW5nUmVxdWVzdCIsInJlc29sdmVkQ29tcCIsInJldHJpZXMiLCJyZXRyeSIsImxvYWQiLCJ0aGlzUmVxdWVzdCIsInJlamVjdCIsImNyZWF0ZUlubmVyQ29tcCIsIm9uRXJyb3IiLCJsb2FkZWQiLCJlcnJvciIsImRlbGF5ZWQiLCJjZSIsIktlZXBBbGl2ZUltcGwiLCJzaGFyZWRDb250ZXh0IiwiY3VycmVudCIsIl91bm1vdW50Iiwic3RvcmFnZUNvbnRhaW5lciIsImluc3RhbmNlMiIsInZub2RlSG9vayIsImludm9rZVZOb2RlSG9vayIsInJlc2V0U2hhcGVGbGFnIiwicHJ1bmVDYWNoZSIsImZpbHRlciIsInBydW5lQ2FjaGVFbnRyeSIsImluY2x1ZGUiLCJleGNsdWRlIiwibWF0Y2hlcyIsInBlbmRpbmdDYWNoZUtleSIsImNhY2hlU3VidHJlZSIsImdldElubmVyQ2hpbGQiLCJvblVwZGF0ZWQiLCJzdWJUcmVlIiwiZGEiLCJyYXdWTm9kZSIsIm1heCIsImNhY2hlZFZOb2RlIiwiS2VlcEFsaXZlIiwicGF0dGVybiIsIm9uQWN0aXZhdGVkIiwicmVnaXN0ZXJLZWVwQWxpdmVIb29rIiwib25EZWFjdGl2YXRlZCIsIndyYXBwZWRIb29rIiwiaW5qZWN0SG9vayIsImluamVjdFRvS2VlcEFsaXZlUm9vdCIsImtlZXBBbGl2ZVJvb3QiLCJpbmplY3RlZCIsIm9uVW5tb3VudGVkIiwicHJlcGVuZCIsImNyZWF0ZUhvb2siLCJsaWZlY3ljbGUiLCJvbkJlZm9yZU1vdW50Iiwib25CZWZvcmVVcGRhdGUiLCJvblNlcnZlclByZWZldGNoIiwib25SZW5kZXJUcmlnZ2VyZWQiLCJvblJlbmRlclRyYWNrZWQiLCJvbkVycm9yQ2FwdHVyZWQiLCJyZW5kZXJMaXN0IiwicmVuZGVySXRlbSIsImluZGV4IiwiY3JlYXRlU2xvdHMiLCJkeW5hbWljU2xvdHMiLCJzbG90IiwiaiIsInJlbmRlclNsb3QiLCJmYWxsYmFjayIsIm5vU2xvdHRlZCIsInZhbGlkU2xvdENvbnRlbnQiLCJlbnN1cmVWYWxpZFZOb2RlIiwicmVuZGVyZWQiLCJjcmVhdGVCbG9jayIsInZub2RlcyIsInRvSGFuZGxlcnMiLCJwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSIsImdldFB1YmxpY0luc3RhbmNlIiwiaXNTdGF0ZWZ1bENvbXBvbmVudCIsInB1YmxpY1Byb3BlcnRpZXNNYXAiLCJyZXNvbHZlTWVyZ2VkT3B0aW9ucyIsImhhc1NldHVwQmluZGluZyIsIlB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsImFjY2Vzc0NhY2hlIiwibm9ybWFsaXplZFByb3BzIiwic2hvdWxkQ2FjaGVBY2Nlc3MiLCJwdWJsaWNHZXR0ZXIiLCJjc3NNb2R1bGUiLCJnbG9iYWxQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsIlJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyIsImRlZmluZVByb3BzIiwiZGVmaW5lRW1pdHMiLCJkZWZpbmVFeHBvc2UiLCJleHBvc2VkIiwiZGVmaW5lT3B0aW9ucyIsImRlZmluZVNsb3RzIiwiZGVmaW5lTW9kZWwiLCJ3aXRoRGVmYXVsdHMiLCJkZWZhdWx0cyIsInVzZVNsb3RzIiwiZ2V0Q29udGV4dCIsInVzZUF0dHJzIiwiY3JlYXRlU2V0dXBDb250ZXh0Iiwibm9ybWFsaXplUHJvcHNPckVtaXRzIiwibWVyZ2VEZWZhdWx0cyIsIm9wdCIsIm1lcmdlTW9kZWxzIiwiY3JlYXRlUHJvcHNSZXN0UHJveHkiLCJleGNsdWRlZEtleXMiLCJ3aXRoQXN5bmNDb250ZXh0IiwiZ2V0QXdhaXRhYmxlIiwiYXdhaXRhYmxlIiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJlIiwiYXBwbHlPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJtZXRob2RzIiwid2F0Y2hPcHRpb25zIiwicHJvdmlkZU9wdGlvbnMiLCJpbmplY3RPcHRpb25zIiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJhY3RpdmF0ZWQiLCJkZWFjdGl2YXRlZCIsImJlZm9yZURlc3Ryb3kiLCJiZWZvcmVVbm1vdW50IiwiZGVzdHJveWVkIiwidW5tb3VudGVkIiwicmVuZGVyVHJhY2tlZCIsInJlbmRlclRyaWdnZXJlZCIsImVycm9yQ2FwdHVyZWQiLCJzZXJ2ZXJQcmVmZXRjaCIsImV4cG9zZSIsImNvbXBvbmVudHMiLCJmaWx0ZXJzIiwicmVzb2x2ZUluamVjdGlvbnMiLCJtZXRob2RIYW5kbGVyIiwiY3JlYXRlV2F0Y2hlciIsInByb3ZpZGVzIiwicHJvdmlkZSIsInJlZ2lzdGVyTGlmZWN5Y2xlSG9vayIsInJlZ2lzdGVyIiwiX2hvb2siLCJjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMiLCJub3JtYWxpemVJbmplY3QiLCJoIiwiYmFzZSIsIm1peGlucyIsImV4dGVuZHNPcHRpb25zIiwiZ2xvYmFsTWl4aW5zIiwib3B0aW9uTWVyZ2VTdHJhdGVnaWVzIiwicmVzb2x2ZWQiLCJtIiwibWVyZ2VPcHRpb25zIiwidG8iLCJmcm9tIiwic3RyYXRzIiwic3RyYXQiLCJpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzIiwibWVyZ2VEYXRhRm4iLCJtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMiLCJtZXJnZU9iamVjdE9wdGlvbnMiLCJtZXJnZUFzQXJyYXkiLCJtZXJnZVdhdGNoT3B0aW9ucyIsIm1lcmdlSW5qZWN0IiwibWVyZ2VkIiwiY3JlYXRlQXBwQ29udGV4dCIsInVpZCQxIiwiY3JlYXRlQXBwQVBJIiwiaHlkcmF0ZSIsInJvb3RDb21wb25lbnQiLCJyb290UHJvcHMiLCJjb250ZXh0IiwiaW5zdGFsbGVkUGx1Z2lucyIsImlzTW91bnRlZCIsImFwcCIsInZlcnNpb24iLCJwbHVnaW4iLCJtaXhpbiIsImRpcmVjdGl2ZSIsInJvb3RDb250YWluZXIiLCJpc0h5ZHJhdGUiLCJsYXN0QXBwIiwiY3VycmVudEFwcCIsInBhcmVudFByb3ZpZGVzIiwidHJlYXREZWZhdWx0QXNGYWN0b3J5IiwiaGFzSW5qZWN0aW9uQ29udGV4dCIsImluaXRQcm9wcyIsImlzU3RhdGVmdWwiLCJJbnRlcm5hbE9iamVjdEtleSIsInNldEZ1bGxQcm9wcyIsInVwZGF0ZVByb3BzIiwicmF3UHJldlByb3BzIiwicmF3Q3VycmVudFByb3BzIiwiaGFzQXR0cnNDaGFuZ2VkIiwicHJvcHNUb1VwZGF0ZSIsImNhbWVsaXplZEtleSIsInJlc29sdmVQcm9wVmFsdWUiLCJrZWJhYktleSIsIm5lZWRDYXN0S2V5cyIsInJhd0Nhc3RWYWx1ZXMiLCJjYW1lbEtleSIsImNhc3RWYWx1ZXMiLCJpc0Fic2VudCIsImhhc0RlZmF1bHQiLCJwcm9wc0RlZmF1bHRzIiwibm9ybWFsaXplUHJvcHNPcHRpb25zIiwiZXh0ZW5kUHJvcHMiLCJub3JtYWxpemVkS2V5IiwidmFsaWRhdGVQcm9wTmFtZSIsInByb3AiLCJib29sZWFuSW5kZXgiLCJnZXRUeXBlSW5kZXgiLCJzdHJpbmdJbmRleCIsImdldFR5cGUiLCJjdG9yIiwiaXNTYW1lVHlwZSIsImV4cGVjdGVkVHlwZXMiLCJ0IiwiaXNJbnRlcm5hbEtleSIsIm5vcm1hbGl6ZVNsb3RWYWx1ZSIsIm5vcm1hbGl6ZVNsb3QiLCJyYXdTbG90Iiwibm9ybWFsaXplT2JqZWN0U2xvdHMiLCJyYXdTbG90cyIsIm5vcm1hbGl6ZVZOb2RlU2xvdHMiLCJpbml0U2xvdHMiLCJ1cGRhdGVTbG90cyIsIm5lZWREZWxldGlvbkNoZWNrIiwiZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0Iiwic2V0UmVmIiwicmF3UmVmIiwib2xkUmF3UmVmIiwiaXNVbm1vdW50IiwicmVmVmFsdWUiLCJvd25lciIsIm9sZFJlZiIsInJlZnMiLCJfaXNTdHJpbmciLCJfaXNSZWYiLCJkb1NldCIsImV4aXN0aW5nIiwiaGFzTWlzbWF0Y2giLCJpc1NWR0NvbnRhaW5lciIsImlzTWF0aE1MQ29udGFpbmVyIiwiZ2V0Q29udGFpbmVyVHlwZSIsImlzQ29tbWVudCIsImNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyIsIm1vdW50Q29tcG9uZW50IiwicGF0Y2hQcm9wIiwiY3JlYXRlVGV4dCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0IiwiY3JlYXRlQ29tbWVudCIsImlzRnJhZ21lbnRTdGFydCIsIm9uTWlzbWF0Y2giLCJoYW5kbGVNaXNtYXRjaCIsImRvbVR5cGUiLCJuZXh0Tm9kZSIsIlRleHQiLCJpc1RlbXBsYXRlTm9kZSIsInJlcGxhY2VOb2RlIiwiU3RhdGljIiwibmVlZFRvQWRvcHRDb250ZW50IiwiaHlkcmF0ZUZyYWdtZW50IiwiaHlkcmF0ZUVsZW1lbnQiLCJsb2NhdGVDbG9zaW5nQW5jaG9yIiwiY3JlYXRlVGV4dFZOb2RlIiwiaHlkcmF0ZUNoaWxkcmVuIiwiZGlycyIsInRyYW5zaXRpb24iLCJmb3JjZVBhdGNoIiwibmVlZENhbGxUcmFuc2l0aW9uSG9va3MiLCJuZWVkVHJhbnNpdGlvbiIsImNvbnRlbnQiLCJ2bm9kZUhvb2tzIiwicGFyZW50Vk5vZGUiLCJmcmFnbWVudFNsb3RTY29wZUlkcyIsImlzRnJhZ21lbnQiLCJuZXh0MiIsIm9wZW4iLCJjbG9zZSIsIm1hdGNoIiwibmV3Tm9kZSIsIm9sZE5vZGUiLCJwYXJlbnROb2RlMiIsImNyZWF0ZVJlbmRlcmVyIiwiYmFzZUNyZWF0ZVJlbmRlcmVyIiwiY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25GbnMiLCJob3N0SW5zZXJ0IiwiaG9zdFJlbW92ZSIsImhvc3RQYXRjaFByb3AiLCJob3N0Q3JlYXRlRWxlbWVudCIsImhvc3RDcmVhdGVUZXh0IiwiaG9zdENyZWF0ZUNvbW1lbnQiLCJob3N0U2V0VGV4dCIsImhvc3RTZXRFbGVtZW50VGV4dCIsImhvc3RQYXJlbnROb2RlIiwiaG9zdE5leHRTaWJsaW5nIiwiaG9zdFNldFNjb3BlSWQiLCJob3N0SW5zZXJ0U3RhdGljQ29udGVudCIsImdldE5leHRIb3N0Tm9kZSIsInByb2Nlc3NUZXh0IiwicHJvY2Vzc0NvbW1lbnROb2RlIiwibW91bnRTdGF0aWNOb2RlIiwicHJvY2Vzc0ZyYWdtZW50IiwicHJvY2Vzc0VsZW1lbnQiLCJwcm9jZXNzQ29tcG9uZW50IiwiaW50ZXJuYWxzIiwibW92ZVN0YXRpY05vZGUiLCJyZW1vdmVTdGF0aWNOb2RlIiwibW91bnRFbGVtZW50IiwicGF0Y2hFbGVtZW50IiwibW91bnRDaGlsZHJlbiIsInJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSIsInNldFNjb3BlSWQiLCJ1bm1vdW50Q2hpbGRyZW4iLCJzY29wZUlkIiwiY2xvbmVJZk1vdW50ZWQiLCJkeW5hbWljQ2hpbGRyZW4iLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwidG9nZ2xlUmVjdXJzZSIsInBhdGNoQmxvY2tDaGlsZHJlbiIsInBhdGNoQ2hpbGRyZW4iLCJwYXRjaFByb3BzIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsInRyYXZlcnNlU3RhdGljQ2hpbGRyZW4iLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZSIsInNldHVwQ29tcG9uZW50IiwidXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyIiwiY29tcG9uZW50VXBkYXRlRm4iLCJidSIsInUiLCJub25IeWRyYXRlZEFzeW5jUm9vdCIsImxvY2F0ZU5vbkh5ZHJhdGVkQXN5bmNSb290Iiwib3JpZ2luTmV4dCIsIm5leHRUcmVlIiwicHJldlRyZWUiLCJibSIsImlzQXN5bmNXcmFwcGVyVk5vZGUiLCJoeWRyYXRlU3ViVHJlZSIsInNjb3BlZEluaXRpYWxWTm9kZSIsInVwZGF0ZSIsImMxIiwicHJldlNoYXBlRmxhZyIsImMyIiwicGF0Y2hLZXllZENoaWxkcmVuIiwicGF0Y2hVbmtleWVkQ2hpbGRyZW4iLCJvbGRMZW5ndGgiLCJjb21tb25MZW5ndGgiLCJuZXh0Q2hpbGQiLCJwYXJlbnRBbmNob3IiLCJsMiIsImUxIiwiZTIiLCJuZXh0UG9zIiwiczEiLCJzMiIsImtleVRvTmV3SW5kZXhNYXAiLCJwYXRjaGVkIiwidG9CZVBhdGNoZWQiLCJtb3ZlZCIsIm1heE5ld0luZGV4U29GYXIiLCJuZXdJbmRleFRvT2xkSW5kZXhNYXAiLCJwcmV2Q2hpbGQiLCJuZXdJbmRleCIsImluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlIiwiZ2V0U2VxdWVuY2UiLCJuZXh0SW5kZXgiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJyZW1vdmUyIiwicGVyZm9ybUxlYXZlIiwic2hvdWxkSW52b2tlRGlycyIsInNob3VsZEludm9rZVZub2RlSG9vayIsInVubW91bnRDb21wb25lbnQiLCJyZW1vdmVGcmFnbWVudCIsInBlcmZvcm1SZW1vdmUiLCJidW0iLCJ1bSIsImN1cnJlbnROYW1lc3BhY2UiLCJhbGxvd2VkIiwiY2gxIiwiY2gyIiwibGVuIiwiYXJySSIsInN1YkNvbXBvbmVudCIsImlzVGVsZXBvcnQiLCJpc1RlbGVwb3J0RGlzYWJsZWQiLCJpc1RhcmdldFNWRyIsImlzVGFyZ2V0TWF0aE1MIiwicmVzb2x2ZVRhcmdldCIsInNlbGVjdCIsInRhcmdldFNlbGVjdG9yIiwiVGVsZXBvcnRJbXBsIiwicXVlcnlTZWxlY3RvciIsImRpc2FibGVkIiwibWFpbkFuY2hvciIsInRhcmdldEFuY2hvciIsIm1vdW50Iiwid2FzRGlzYWJsZWQiLCJjdXJyZW50Q29udGFpbmVyIiwiY3VycmVudEFuY2hvciIsIm1vdmVUZWxlcG9ydCIsIm5leHRUYXJnZXQiLCJ1cGRhdGVDc3NWYXJzIiwic2hvdWxkUmVtb3ZlIiwiaHlkcmF0ZVRlbGVwb3J0IiwiaXNSZW9yZGVyIiwidGFyZ2V0Tm9kZSIsIlRlbGVwb3J0IiwiZGlzYWJsZVRyYWNraW5nIiwic2V0dXBCbG9jayIsImNyZWF0ZUVsZW1lbnRCbG9jayIsImNyZWF0ZUJhc2VWTm9kZSIsInRyYW5zZm9ybVZOb2RlQXJncyIsInRyYW5zZm9ybWVyIiwibm9ybWFsaXplS2V5Iiwibm9ybWFsaXplUmVmIiwicmVmX2tleSIsInJlZl9mb3IiLCJpc0Jsb2NrTm9kZSIsIm5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJfY3JlYXRlVk5vZGUiLCJjbG9uZWQiLCJpc0NsYXNzQ29tcG9uZW50IiwiZ3VhcmRSZWFjdGl2ZVByb3BzIiwiZXh0cmFQcm9wcyIsIm1lcmdlUmVmIiwibWVyZ2VkUHJvcHMiLCJtZXJnZVByb3BzIiwidGV4dCIsImZsYWciLCJjcmVhdGVTdGF0aWNWTm9kZSIsIm51bWJlck9mTm9kZXMiLCJjcmVhdGVDb21tZW50Vk5vZGUiLCJhc0Jsb2NrIiwic2xvdEZsYWciLCJ0b01lcmdlIiwiaW5jb21pbmciLCJlbXB0eUFwcENvbnRleHQiLCJ1aWQiLCJpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSIsInNldEluU1NSU2V0dXBTdGF0ZSIsImciLCJyZWdpc3Rlckdsb2JhbFNldHRlciIsInNldHRlcnMiLCJzZXR1cFJlc3VsdCIsInNldHVwU3RhdGVmdWxDb21wb25lbnQiLCJzZXR1cCIsInNldHVwQ29udGV4dCIsInJlc29sdmVkUmVzdWx0IiwiZmluaXNoQ29tcG9uZW50U2V0dXAiLCJjb21waWxlIiwiaW5zdGFsbFdpdGhQcm94eSIsInJlZ2lzdGVyUnVudGltZUNvbXBpbGVyIiwiX2NvbXBpbGUiLCJpc1J1bnRpbWVPbmx5Iiwic2tpcE9wdGlvbnMiLCJ0ZW1wbGF0ZSIsImlzQ3VzdG9tRWxlbWVudCIsImNvbXBpbGVyT3B0aW9ucyIsImRlbGltaXRlcnMiLCJjb21wb25lbnRDb21waWxlck9wdGlvbnMiLCJmaW5hbENvbXBpbGVyT3B0aW9ucyIsImdldEF0dHJzUHJveHkiLCJpbmNsdWRlSW5mZXJyZWQiLCJjb21wdXRlZCQxIiwidXNlTW9kZWwiLCJjYW1lbGl6ZWROYW1lIiwiaHlwaGVuYXRlZE5hbWUiLCJsb2NhbFZhbHVlIiwicHJvcFZhbHVlIiwibW9kaWZpZXJLZXkiLCJpMiIsInByb3BzT3JDaGlsZHJlbiIsImluaXRDdXN0b21Gb3JtYXR0ZXIiLCJ3aXRoTWVtbyIsIm1lbW8iLCJpc01lbW9TYW1lIiwid2FybiIsIkVycm9yVHlwZVN0cmluZ3MiLCJkZXZ0b29scyIsInNldERldnRvb2xzSG9vayIsIl9zc3JVdGlscyIsInNzclV0aWxzIiwicmVzb2x2ZUZpbHRlciIsImNvbXBhdFV0aWxzIiwiRGVwcmVjYXRpb25UeXBlcyIsInN2Z05TIiwibWF0aG1sTlMiLCJkb2MiLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsIm5vZGVPcHMiLCJ0YWciLCJpcyIsInNlbGVjdG9yIiwiYmVmb3JlIiwid3JhcHBlciIsIlRSQU5TSVRJT04iLCJBTklNQVRJT04iLCJ2dGNLZXkiLCJUcmFuc2l0aW9uIiwicmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyIsIkRPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMiLCJUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzIiwiaDIiLCJoYXNFeHBsaWNpdENhbGxiYWNrIiwiYmFzZVByb3BzIiwiZHVyYXRpb24iLCJlbnRlckZyb21DbGFzcyIsImVudGVyQWN0aXZlQ2xhc3MiLCJlbnRlclRvQ2xhc3MiLCJhcHBlYXJGcm9tQ2xhc3MiLCJhcHBlYXJBY3RpdmVDbGFzcyIsImFwcGVhclRvQ2xhc3MiLCJsZWF2ZUZyb21DbGFzcyIsImxlYXZlQWN0aXZlQ2xhc3MiLCJsZWF2ZVRvQ2xhc3MiLCJkdXJhdGlvbnMiLCJub3JtYWxpemVEdXJhdGlvbiIsImVudGVyRHVyYXRpb24iLCJsZWF2ZUR1cmF0aW9uIiwiZmluaXNoRW50ZXIiLCJpc0FwcGVhciIsInJlbW92ZVRyYW5zaXRpb25DbGFzcyIsImZpbmlzaExlYXZlIiwibWFrZUVudGVySG9vayIsIm5leHRGcmFtZSIsImFkZFRyYW5zaXRpb25DbGFzcyIsIndoZW5UcmFuc2l0aW9uRW5kcyIsImZvcmNlUmVmbG93IiwiTnVtYmVyT2YiLCJjbHMiLCJfdnRjIiwiZW5kSWQiLCJleHBlY3RlZFR5cGUiLCJleHBsaWNpdFRpbWVvdXQiLCJyZXNvbHZlSWZOb3RTdGFsZSIsInByb3BDb3VudCIsImdldFRyYW5zaXRpb25JbmZvIiwiZW5kRXZlbnQiLCJlbmRlZCIsIm9uRW5kIiwic3R5bGVzIiwiZ2V0U3R5bGVQcm9wZXJ0aWVzIiwidHJhbnNpdGlvbkRlbGF5cyIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25EdXJhdGlvbnMiLCJhbmltYXRpb25UaW1lb3V0IiwiaGFzVHJhbnNmb3JtIiwiZGVsYXlzIiwiZCIsInRvTXMiLCJwYXRjaENsYXNzIiwiaXNTVkciLCJ0cmFuc2l0aW9uQ2xhc3NlcyIsInZTaG93T3JpZ2luYWxEaXNwbGF5IiwidlNob3dIaWRkZW4iLCJ2U2hvdyIsInNldERpc3BsYXkiLCJpbml0VlNob3dGb3JTU1IiLCJDU1NfVkFSX1RFWFQiLCJ1c2VDc3NWYXJzIiwidXBkYXRlVGVsZXBvcnRzIiwidmFycyIsInNldFZhcnNPbk5vZGUiLCJzZXRWYXJzIiwic2V0VmFyc09uVk5vZGUiLCJvYiIsImRpc3BsYXlSRSIsInBhdGNoU3R5bGUiLCJpc0Nzc1N0cmluZyIsImhhc0NvbnRyb2xsZWREaXNwbGF5IiwicHJldlN0eWxlIiwic2V0U3R5bGUiLCJjc3NWYXJUZXh0IiwiaW1wb3J0YW50UkUiLCJwcmVmaXhlZCIsImF1dG9QcmVmaXgiLCJwcmVmaXhlcyIsInByZWZpeENhY2hlIiwicmF3TmFtZSIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJpc0Jvb2xlYW4iLCJwYXRjaERPTVByb3AiLCJuZWVkUmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ2ZWlLZXkiLCJwYXRjaEV2ZW50IiwicHJldlZhbHVlIiwibmV4dFZhbHVlIiwiaW52b2tlcnMiLCJleGlzdGluZ0ludm9rZXIiLCJwYXJzZU5hbWUiLCJpbnZva2VyIiwiY3JlYXRlSW52b2tlciIsIm9wdGlvbnNNb2RpZmllclJFIiwiY2FjaGVkTm93IiwiZ2V0Tm93IiwiaW5pdGlhbFZhbHVlIiwicGF0Y2hTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvcmlnaW5hbFN0b3AiLCJpc05hdGl2ZU9uIiwic2hvdWxkU2V0QXNQcm9wIiwiZGVmaW5lQ3VzdG9tRWxlbWVudCIsImh5ZHJhdGUyIiwiQ29tcCIsIlZ1ZUN1c3RvbUVsZW1lbnQiLCJWdWVFbGVtZW50IiwiaW5pdGlhbFByb3BzIiwiZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCIsIkJhc2VDbGFzcyIsIl9kZWYiLCJfcHJvcHMiLCJtdXRhdGlvbnMiLCJpc0FzeW5jIiwibnVtYmVyUHJvcHMiLCJjYW1lbGl6ZSQxIiwiYXN5bmNEZWYiLCJkZWNsYXJlZFByb3BLZXlzIiwic2hvdWxkUmVmbGVjdCIsInNob3VsZFVwZGF0ZSIsImRpc3BhdGNoIiwiY3NzIiwidXNlQ3NzTW9kdWxlIiwibW9kdWxlcyIsIm1vZCIsInBvc2l0aW9uTWFwIiwibmV3UG9zaXRpb25NYXAiLCJtb3ZlQ2JLZXkiLCJUcmFuc2l0aW9uR3JvdXBJbXBsIiwibW92ZUNsYXNzIiwiaGFzQ1NTVHJhbnNmb3JtIiwiY2FsbFBlbmRpbmdDYnMiLCJyZWNvcmRQb3NpdGlvbiIsIm1vdmVkQ2hpbGRyZW4iLCJhcHBseVRyYW5zbGF0aW9uIiwiY3NzVHJhbnNpdGlvblByb3BzIiwicmVtb3ZlTW9kZSIsIlRyYW5zaXRpb25Hcm91cCIsIm9sZFBvcyIsIm5ld1BvcyIsImR4IiwiZHkiLCJjbG9uZSIsImdldE1vZGVsQXNzaWduZXIiLCJvbkNvbXBvc2l0aW9uU3RhcnQiLCJvbkNvbXBvc2l0aW9uRW5kIiwiYXNzaWduS2V5Iiwidk1vZGVsVGV4dCIsImxhenkiLCJjYXN0VG9OdW1iZXIiLCJkb21WYWx1ZSIsImVsVmFsdWUiLCJ2TW9kZWxDaGVja2JveCIsIm1vZGVsVmFsdWUiLCJlbGVtZW50VmFsdWUiLCJnZXRWYWx1ZSIsImNoZWNrZWQiLCJhc3NpZ24iLCJmb3VuZCIsImZpbHRlcmVkIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsInNldENoZWNrZWQiLCJ2TW9kZWxSYWRpbyIsInZNb2RlbFNlbGVjdCIsImlzU2V0TW9kZWwiLCJzZWxlY3RlZFZhbCIsIm8iLCJzZXRTZWxlY3RlZCIsIl9iaW5kaW5nIiwiaXNNdWx0aXBsZSIsImlzQXJyYXlWYWx1ZSIsIm9wdGlvbiIsIm9wdGlvblZhbHVlIiwib3B0aW9uVHlwZSIsInZNb2RlbER5bmFtaWMiLCJjYWxsTW9kZWxIb29rIiwicmVzb2x2ZUR5bmFtaWNNb2RlbCIsInRhZ05hbWUiLCJpbml0Vk1vZGVsRm9yU1NSIiwibW9kZWxUb1VzZSIsInN5c3RlbU1vZGlmaWVycyIsIm1vZGlmaWVyR3VhcmRzIiwid2l0aE1vZGlmaWVycyIsImNhY2hlS2V5IiwiZ3VhcmQiLCJrZXlOYW1lcyIsIndpdGhLZXlzIiwiZXZlbnRLZXkiLCJrIiwicmVuZGVyZXJPcHRpb25zIiwicmVuZGVyZXIiLCJlbmFibGVkSHlkcmF0aW9uIiwiZW5zdXJlUmVuZGVyZXIiLCJlbnN1cmVIeWRyYXRpb25SZW5kZXJlciIsImNyZWF0ZUFwcCIsImNvbnRhaW5lck9yU2VsZWN0b3IiLCJub3JtYWxpemVDb250YWluZXIiLCJyZXNvbHZlUm9vdE5hbWVzcGFjZSIsImNyZWF0ZVNTUkFwcCIsInNzckRpcmVjdGl2ZUluaXRpYWxpemVkIiwiaW5pdERpcmVjdGl2ZXNGb3JTU1IiLCJpc1Z1ZTIiLCJwaW5pYVN5bWJvbCIsIk11dGF0aW9uVHlwZSIsImNyZWF0ZVBpbmlhIiwiX3AiLCJ0b0JlSW5zdGFsbGVkIiwicGluaWEiLCJtb2R1bGUiLCJyZXF1aXJlJCQwIiwidGhpcyIsIl9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzk3Nl9fIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIl9fdW51c2VkX3dlYnBhY2tfbW9kdWxlIiwiZXhwb3J0cyIsInNmYyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImRlZmluaXRpb24iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiVG9hc3RQbHVnaW4iLCJwb3NpdGlvbnMiLCJzcmMiLCJ1c2VUb2FzdCIsImV4dGVybmFsX2NvbW1vbmpzX3Z1ZV9jb21tb25qczJfdnVlX2FtZF92dWVfcm9vdF9WdWVfIiwiX2hvaXN0ZWRfMSIsIl9ob2lzdGVkXzIiLCJfY3R4IiwiX2NhY2hlIiwiJHByb3BzIiwiJHNldHVwIiwiJGRhdGEiLCIkb3B0aW9ucyIsIiRldmVudCIsInJlbW92ZUVsZW1lbnQiLCJjcmVhdGVDb21wb25lbnQiLCJwYXJlbnRDb250YWluZXIiLCJ2Tm9kZSIsIlRpbWVyIiwibWl0dCIsImJ1cyIsIkNvbXBvbmVudHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzIiwiZXhwb3J0SGVscGVyIiwiZ2xvYmFsUHJvcHMiLCJtZXNzYWdlIiwicHJvcHNEYXRhIiwiaXNCcm93c2VyIiwiaXNFU01vZHVsZSIsImFwcGx5VG9QYXJhbXMiLCJwYXJhbXMiLCJuZXdQYXJhbXMiLCJub29wIiwiSEFTSF9SRSIsIkFNUEVSU0FORF9SRSIsIlNMQVNIX1JFIiwiRVFVQUxfUkUiLCJJTV9SRSIsIlBMVVNfUkUiLCJFTkNfQlJBQ0tFVF9PUEVOX1JFIiwiRU5DX0JSQUNLRVRfQ0xPU0VfUkUiLCJFTkNfQ0FSRVRfUkUiLCJFTkNfQkFDS1RJQ0tfUkUiLCJFTkNfQ1VSTFlfT1BFTl9SRSIsIkVOQ19QSVBFX1JFIiwiRU5DX0NVUkxZX0NMT1NFX1JFIiwiRU5DX1NQQUNFX1JFIiwiY29tbW9uRW5jb2RlIiwiZW5jb2RlSGFzaCIsImVuY29kZVF1ZXJ5VmFsdWUiLCJlbmNvZGVRdWVyeUtleSIsImVuY29kZVBhdGgiLCJlbmNvZGVQYXJhbSIsImRlY29kZSIsIlRSQUlMSU5HX1NMQVNIX1JFIiwicmVtb3ZlVHJhaWxpbmdTbGFzaCIsInBhcnNlVVJMIiwicGFyc2VRdWVyeSIsImxvY2F0aW9uIiwiY3VycmVudExvY2F0aW9uIiwicXVlcnkiLCJzZWFyY2hTdHJpbmciLCJoYXNoIiwiaGFzaFBvcyIsInNlYXJjaFBvcyIsInJlc29sdmVSZWxhdGl2ZVBhdGgiLCJzdHJpbmdpZnlVUkwiLCJzdHJpbmdpZnlRdWVyeSIsInN0cmlwQmFzZSIsInBhdGhuYW1lIiwiaXNTYW1lUm91dGVMb2NhdGlvbiIsImFMYXN0SW5kZXgiLCJiTGFzdEluZGV4IiwiaXNTYW1lUm91dGVSZWNvcmQiLCJpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zIiwiaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlIiwiaXNFcXVpdmFsZW50QXJyYXkiLCJmcm9tU2VnbWVudHMiLCJ0b1NlZ21lbnRzIiwibGFzdFRvU2VnbWVudCIsInBvc2l0aW9uIiwidG9Qb3NpdGlvbiIsInNlZ21lbnQiLCJOYXZpZ2F0aW9uVHlwZSIsIk5hdmlnYXRpb25EaXJlY3Rpb24iLCJub3JtYWxpemVCYXNlIiwiYmFzZUVsIiwiQkVGT1JFX0hBU0hfUkUiLCJjcmVhdGVIcmVmIiwiZ2V0RWxlbWVudFBvc2l0aW9uIiwib2Zmc2V0IiwiZG9jUmVjdCIsImVsUmVjdCIsImNvbXB1dGVTY3JvbGxQb3NpdGlvbiIsInNjcm9sbFRvUG9zaXRpb24iLCJzY3JvbGxUb09wdGlvbnMiLCJwb3NpdGlvbkVsIiwiaXNJZFNlbGVjdG9yIiwiZ2V0U2Nyb2xsS2V5IiwiZGVsdGEiLCJzY3JvbGxQb3NpdGlvbnMiLCJzYXZlU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGxQb3NpdGlvbiIsImdldFNhdmVkU2Nyb2xsUG9zaXRpb24iLCJzY3JvbGwiLCJjcmVhdGVCYXNlTG9jYXRpb24iLCJjcmVhdGVDdXJyZW50TG9jYXRpb24iLCJzZWFyY2giLCJzbGljZVBvcyIsInBhdGhGcm9tSGFzaCIsInVzZUhpc3RvcnlMaXN0ZW5lcnMiLCJoaXN0b3J5U3RhdGUiLCJyZXBsYWNlIiwibGlzdGVuZXJzIiwidGVhcmRvd25zIiwicGF1c2VTdGF0ZSIsInBvcFN0YXRlSGFuZGxlciIsImZyb21TdGF0ZSIsImxpc3RlbmVyIiwicGF1c2VMaXN0ZW5lcnMiLCJsaXN0ZW4iLCJ0ZWFyZG93biIsImJlZm9yZVVubG9hZExpc3RlbmVyIiwiaGlzdG9yeSIsImRlc3Ryb3kiLCJidWlsZFN0YXRlIiwiYmFjayIsImZvcndhcmQiLCJyZXBsYWNlZCIsImNvbXB1dGVTY3JvbGwiLCJ1c2VIaXN0b3J5U3RhdGVOYXZpZ2F0aW9uIiwiY2hhbmdlTG9jYXRpb24iLCJoYXNoSW5kZXgiLCJ1cmwiLCJwdXNoIiwiY3VycmVudFN0YXRlIiwiY3JlYXRlV2ViSGlzdG9yeSIsImhpc3RvcnlOYXZpZ2F0aW9uIiwiaGlzdG9yeUxpc3RlbmVycyIsImdvIiwidHJpZ2dlckxpc3RlbmVycyIsInJvdXRlckhpc3RvcnkiLCJpc1JvdXRlTG9jYXRpb24iLCJyb3V0ZSIsImlzUm91dGVOYW1lIiwiU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCIsIk5hdmlnYXRpb25GYWlsdXJlU3ltYm9sIiwiTmF2aWdhdGlvbkZhaWx1cmVUeXBlIiwiY3JlYXRlUm91dGVyRXJyb3IiLCJpc05hdmlnYXRpb25GYWlsdXJlIiwiQkFTRV9QQVJBTV9QQVRURVJOIiwiQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TIiwiUkVHRVhfQ0hBUlNfUkUiLCJ0b2tlbnNUb1BhcnNlciIsInNjb3JlIiwic2VnbWVudFNjb3JlcyIsInRva2VuSW5kZXgiLCJ0b2tlbiIsInN1YlNlZ21lbnRTY29yZSIsInJlcGVhdGFibGUiLCJvcHRpb25hbCIsInJlZ2V4cCIsInJlIiwic3ViUGF0dGVybiIsInBhcnNlIiwic3RyaW5naWZ5IiwiYXZvaWREdXBsaWNhdGVkU2xhc2giLCJwYXJhbSIsImNvbXBhcmVTY29yZUFycmF5IiwiY29tcGFyZVBhdGhQYXJzZXJTY29yZSIsImFTY29yZSIsImJTY29yZSIsImlzTGFzdFNjb3JlTmVnYXRpdmUiLCJST09UX1RPS0VOIiwiVkFMSURfUEFSQU1fUkUiLCJ0b2tlbml6ZVBhdGgiLCJjcmFzaCIsInByZXZpb3VzU3RhdGUiLCJ0b2tlbnMiLCJmaW5hbGl6ZVNlZ21lbnQiLCJjaGFyIiwiY3VzdG9tUmUiLCJjb25zdW1lQnVmZmVyIiwiYWRkQ2hhclRvQnVmZmVyIiwiY3JlYXRlUm91dGVSZWNvcmRNYXRjaGVyIiwicmVjb3JkIiwicGFyc2VyIiwibWF0Y2hlciIsImNyZWF0ZVJvdXRlck1hdGNoZXIiLCJyb3V0ZXMiLCJnbG9iYWxPcHRpb25zIiwibWF0Y2hlcnMiLCJtYXRjaGVyTWFwIiwiZ2V0UmVjb3JkTWF0Y2hlciIsImFkZFJvdXRlIiwib3JpZ2luYWxSZWNvcmQiLCJpc1Jvb3RBZGQiLCJtYWluTm9ybWFsaXplZFJlY29yZCIsIm5vcm1hbGl6ZVJvdXRlUmVjb3JkIiwibm9ybWFsaXplZFJlY29yZHMiLCJhbGlhc2VzIiwiYWxpYXMiLCJvcmlnaW5hbE1hdGNoZXIiLCJub3JtYWxpemVkUmVjb3JkIiwicGFyZW50UGF0aCIsImNvbm5lY3RpbmdTbGFzaCIsImlzQWxpYXNSZWNvcmQiLCJyZW1vdmVSb3V0ZSIsImluc2VydE1hdGNoZXIiLCJtYXRjaGVyUmVmIiwiZ2V0Um91dGVzIiwiaXNSZWNvcmRDaGlsZE9mIiwicGFyYW1zRnJvbUxvY2F0aW9uIiwibWF0Y2hlZCIsInBhcmVudE1hdGNoZXIiLCJtZXJnZU1ldGFGaWVsZHMiLCJub3JtYWxpemVSZWNvcmRQcm9wcyIsInByb3BzT2JqZWN0IiwibWV0YSIsInBhcnRpYWxPcHRpb25zIiwic2VhcmNoUGFyYW1zIiwic2VhcmNoUGFyYW0iLCJlcVBvcyIsImN1cnJlbnRWYWx1ZSIsIm5vcm1hbGl6ZVF1ZXJ5Iiwibm9ybWFsaXplZFF1ZXJ5IiwibWF0Y2hlZFJvdXRlS2V5Iiwidmlld0RlcHRoS2V5Iiwicm91dGVyS2V5Iiwicm91dGVMb2NhdGlvbktleSIsInJvdXRlclZpZXdMb2NhdGlvbktleSIsInVzZUNhbGxiYWNrcyIsImhhbmRsZXJzIiwiZ3VhcmRUb1Byb21pc2VGbiIsInJ1bldpdGhDb250ZXh0IiwiZW50ZXJDYWxsYmFja0FycmF5IiwidmFsaWQiLCJndWFyZFJldHVybiIsImd1YXJkQ2FsbCIsImV4dHJhY3RDb21wb25lbnRzR3VhcmRzIiwiZ3VhcmRUeXBlIiwiZ3VhcmRzIiwicmF3Q29tcG9uZW50IiwiaXNSb3V0ZUNvbXBvbmVudCIsImNvbXBvbmVudFByb21pc2UiLCJyZXNvbHZlZENvbXBvbmVudCIsInVzZUxpbmsiLCJyb3V0ZXIiLCJjdXJyZW50Um91dGUiLCJhY3RpdmVSZWNvcmRJbmRleCIsImxlbmd0aCIsInJvdXRlTWF0Y2hlZCIsImN1cnJlbnRNYXRjaGVkIiwicGFyZW50UmVjb3JkUGF0aCIsImdldE9yaWdpbmFsUGF0aCIsImlzQWN0aXZlIiwiaW5jbHVkZXNQYXJhbXMiLCJpc0V4YWN0QWN0aXZlIiwibmF2aWdhdGUiLCJndWFyZEV2ZW50IiwiUm91dGVyTGlua0ltcGwiLCJsaW5rIiwiZWxDbGFzcyIsImdldExpbmtDbGFzcyIsIlJvdXRlckxpbmsiLCJvdXRlciIsImlubmVyIiwiaW5uZXJWYWx1ZSIsIm91dGVyVmFsdWUiLCJwcm9wQ2xhc3MiLCJnbG9iYWxDbGFzcyIsImRlZmF1bHRDbGFzcyIsIlJvdXRlclZpZXdJbXBsIiwiaW5qZWN0ZWRSb3V0ZSIsInJvdXRlVG9EaXNwbGF5IiwiaW5qZWN0ZWREZXB0aCIsImluaXRpYWxEZXB0aCIsIm1hdGNoZWRSb3V0ZSIsIm1hdGNoZWRSb3V0ZVJlZiIsInZpZXdSZWYiLCJvbGRJbnN0YW5jZSIsIm9sZE5hbWUiLCJjdXJyZW50TmFtZSIsIlZpZXdDb21wb25lbnQiLCJyb3V0ZVByb3BzT3B0aW9uIiwicm91dGVQcm9wcyIsInNsb3RDb250ZW50IiwiUm91dGVyVmlldyIsImNyZWF0ZVJvdXRlciIsInBhcnNlUXVlcnkkMSIsInN0cmluZ2lmeVF1ZXJ5JDEiLCJiZWZvcmVHdWFyZHMiLCJiZWZvcmVSZXNvbHZlR3VhcmRzIiwiYWZ0ZXJHdWFyZHMiLCJwZW5kaW5nTG9jYXRpb24iLCJub3JtYWxpemVQYXJhbXMiLCJwYXJhbVZhbHVlIiwiZW5jb2RlUGFyYW1zIiwiZGVjb2RlUGFyYW1zIiwicGFyZW50T3JSb3V0ZSIsInJlY29yZE1hdGNoZXIiLCJyb3V0ZU1hdGNoZXIiLCJoYXNSb3V0ZSIsInJhd0xvY2F0aW9uIiwibG9jYXRpb25Ob3JtYWxpemVkIiwiaHJlZiIsIm1hdGNoZXJMb2NhdGlvbiIsInRhcmdldFBhcmFtcyIsImZ1bGxQYXRoIiwibG9jYXRpb25Bc09iamVjdCIsImNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uIiwicHVzaFdpdGhSZWRpcmVjdCIsImhhbmRsZVJlZGlyZWN0UmVjb3JkIiwibGFzdE1hdGNoZWQiLCJyZWRpcmVjdCIsIm5ld1RhcmdldExvY2F0aW9uIiwicmVkaXJlY3RlZEZyb20iLCJ0YXJnZXRMb2NhdGlvbiIsImZvcmNlIiwic2hvdWxkUmVkaXJlY3QiLCJ0b0xvY2F0aW9uIiwiZmFpbHVyZSIsImhhbmRsZVNjcm9sbCIsIm1hcmtBc1JlYWR5IiwidHJpZ2dlckVycm9yIiwiZmluYWxpemVOYXZpZ2F0aW9uIiwidHJpZ2dlckFmdGVyRWFjaCIsImNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uQW5kUmVqZWN0IiwiaW5zdGFsbGVkQXBwcyIsImxlYXZpbmdSZWNvcmRzIiwidXBkYXRpbmdSZWNvcmRzIiwiZW50ZXJpbmdSZWNvcmRzIiwiZXh0cmFjdENoYW5naW5nUmVjb3JkcyIsImNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrIiwicnVuR3VhcmRRdWV1ZSIsImJlZm9yZUVudGVyIiwiaXNQdXNoIiwiaXNGaXJzdE5hdmlnYXRpb24iLCJyZW1vdmVIaXN0b3J5TGlzdGVuZXIiLCJzZXR1cExpc3RlbmVycyIsIl9mcm9tIiwiaW5mbyIsInJlYWR5SGFuZGxlcnMiLCJlcnJvckxpc3RlbmVycyIsInJlYWR5IiwibGlzdCIsImlzUmVhZHkiLCJzY3JvbGxCZWhhdmlvciIsInN0YXJ0ZWQiLCJyZWFjdGl2ZVJvdXRlIiwidW5tb3VudEFwcCIsInByb21pc2UiLCJyZWNvcmRGcm9tIiwicmVjb3JkVG8iLCJVc2VyIiwiZG9tYWluT3JpZ2luIiwicGF5bG9hZCIsIm5ld191c2VyX2NyZWRlbnRpYWxzIiwicmVxdWVzdF9vcHRpb25zIiwicmVzcG9uc2UiLCJlcnJvckRhdGEiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYXBpT2JqZWN0IiwiZWRpdGVkTmFtZSIsImNhdGVnb3J5IiwiTWFwcyIsInVzZXIiLCJzZWxlY3RlZENhdGVnb3JpZXMiLCJmb3JtU1ZHIiwic2VjdXJpdHlTVkciLCJjb21tdW5pY2F0aW9uc1NWRyIsImluZnJhc3RydWN0dXJlU1ZHIiwiX3NmY19tYWluIiwiX2hvaXN0ZWRfMyIsIl9jcmVhdGVFbGVtZW50Vk5vZGUiLCJfaG9pc3RlZF81IiwiX2hvaXN0ZWRfNCIsIl9ob2lzdGVkXzgiLCJfaG9pc3RlZF83IiwiX2hvaXN0ZWRfMTEiLCJfb3BlbkJsb2NrIiwiX2NyZWF0ZUVsZW1lbnRCbG9jayIsIl9jb21wb25lbnRfUm91dGVyTGluayIsIl93aXRoQ3R4IiwiX25vcm1hbGl6ZUNsYXNzIiwiX2hvaXN0ZWRfNiIsIl9ob2lzdGVkXzkiLCJfaG9pc3RlZF8xMCIsIl90b0Rpc3BsYXlTdHJpbmciLCJfY3JlYXRlU3RhdGljVk5vZGUiLCJkYk5hbWUiLCJkYlZlcnNpb24iLCJkYiIsIm9wZW5EQiIsInJlcXVlc3QiLCJhZGRJdGVtIiwic3RvcmVOYW1lIiwidHJhbnNhY3Rpb24iLCJzdG9yZSIsImdldEFsbEl0ZW1zIiwiY2xlYXJTdG9yZSIsIl9fZGVmYXVsdF9fIiwiTW9iaWxlTmF2QmFyIiwiTW9iaWxlSGVhZGVyIiwibmV3U3RhdHVzIiwiZm9ybUVudHJpZXMiLCJzZXNzaW9uSnd0IiwiZm9ybXNUb1JldHVybiIsIm1hcHMiLCJuZXdDYXRlZ29yeSIsIm9sZENhdGVnb3J5IiwiX2hvaXN0ZWRfMTIiLCJfRnJhZ21lbnQiLCJfcmVuZGVyTGlzdCIsInNlY3Rpb24iLCJlbnRyeSIsIm9wdGlvbkluZGV4IiwiX2NyZWF0ZUNvbW1lbnRWTm9kZSIsInNlY3VyaXR5Rm9ybSIsImluZnJhc3RydWN0dXJlRm9ybSIsImNvbW11bmljYXRpb25zRm9ybSIsImNoZWNrTG9jYXRpb25QZXJtaXNzaW9uIiwicGVybWlzc2lvblN0YXR1cyIsImdldExvY2F0aW9uIiwiQm9pbGVycGxhdGVGb3JtIiwidXNlclBvc2l0aW9uIiwibmV3SXRlbSIsIml0ZW1JZCIsIl93aXRoTW9kaWZpZXJzIiwiX2hvaXN0ZWRfMTMiLCJfY29tcG9uZW50X0JvaWxlcnBsYXRlRm9ybSIsInFlIiwiQmUiLCJzZSIsIk4iLCJVIiwieGUiLCJMZSIsImVlIiwiU2UiLCJxIiwiVWUiLCJEZSIsImRlIiwiUiIsIlQiLCJmIiwiRSIsIkZlIiwiaGUiLCJwZSIsIlZlIiwiUCIsInkiLCJHIiwiTyIsIkkiLCJaIiwieCIsIk0iLCJGIiwidyIsIk1lIiwiQiIsInRlIiwiemUiLCJHZSIsIlkiLCJYIiwiYWUiLCJRIiwiWmUiLCJOZSIsIkV0IiwiSGUiLCJXZSIsIiQiLCJLZSIsIkplIiwiRCIsIkMiLCJKIiwiZ2UiLCJTdCIsInZlIiwiZXQiLCJFZSIsInR0Iiwic3QiLCJQZSIsIk9lIiwiQXQiLCJ3dCIsIl90Iiwia3QiLCIkdCIsInRvZGF5Iiwid2Vla0FnbyIsImRhdGUiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJfaG9pc3RlZF8xNCIsIl9ob2lzdGVkXzE1IiwiX2hvaXN0ZWRfMTYiLCJfaG9pc3RlZF8xNyIsIl9ob2lzdGVkXzE4IiwiX2hvaXN0ZWRfMTkiLCJfaG9pc3RlZF8yMCIsIl9ob2lzdGVkXzIxIiwiX2hvaXN0ZWRfMjMiLCJfdk1vZGVsQ2hlY2tib3giLCJfaG9pc3RlZF8yMiIsIl9jcmVhdGVUZXh0Vk5vZGUiLCJTZXR0aW5nc01vZGFsIiwiY2xpY2tlZExhdExuZyIsImxhdCIsImxuZyIsInJlc3VsdHMiLCJsZW5fcXVlcnlfcmVzdWx0cyIsIl9ob2lzdGVkXzI0IiwiX2hvaXN0ZWRfMjkiLCJfaG9pc3RlZF8yNSIsIl9ob2lzdGVkXzI3IiwiX2hvaXN0ZWRfMjYiLCJfaG9pc3RlZF8yOCIsIl9ob2lzdGVkXzMwIiwiUmVnaXN0ZXJVc2VyIiwiX2NyZWF0ZUJsb2NrIiwiX2NvbXBvbmVudF9SZWdpc3RlclVzZXIiLCJTZW5kVXBkYXRlIiwiTWFwVmlldyIsIlVzZXJQcm9maWxlIiwiUmVnaXN0ZXJWaWV3IiwiQXBwIl0sIm1hcHBpbmdzIjoic3NCQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FLQSxTQUFTQSxHQUFRQyxFQUFLQyxFQUFrQixDQUN0QyxNQUFNQyxFQUFNLElBQUksSUFBSUYsRUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUNsQyxPQUFPQyxFQUFvQkUsR0FBUUQsRUFBSSxJQUFJQyxFQUFJLFlBQWEsQ0FBQSxFQUFLQSxHQUFRRCxFQUFJLElBQUlDLENBQUcsQ0FDdEYsQ0FFQSxNQUFNQyxHQUE0RSxDQUFBLEVBQzVFQyxHQUE0RSxDQUFBLEVBQzVFQyxHQUFPLElBQU0sQ0FDbkIsRUFDTUMsR0FBSyxJ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
